{"ast":null,"code":"var _jsxFileName = \"/Users/julianrogowski/Desktop/patientenverwaltung-app/src/components/AddTestFlowModal.js\";\nimport React from 'react';\n\n// --- NEUE IMPORTE ---\nimport { Bdi2EntryForm } from '../psychodiagnostic/BDI2.js';\nimport { FEP2EntryForm } from '../psychodiagnostic/FEP2.js';\nimport { HSCL11EntryForm } from './HSCL11.js';\nimport { SCL90REntryForm } from '../psychodiagnostic/SCL90R.js';\n// --- ENDE NEUE IMPORTE ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst XCircle = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 226\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"15\",\n    y1: \"9\",\n    x2: \"9\",\n    y2: \"15\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 266\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"9\",\n    y1: \"9\",\n    x2: \"15\",\n    y2: \"15\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 309\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 11,\n  columnNumber: 49\n}, this);\n_c = XCircle;\nconst Modal = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  size = \"lg\"\n}) => {\n  if (!isOpen) return null;\n  const sizeClasses = {\n    sm: 'max-w-sm',\n    md: 'max-w-md',\n    lg: 'max-w-lg',\n    xl: 'max-w-xl',\n    '2xl': 'max-w-2xl',\n    '5xl': 'max-w-5xl'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex justify-center items-center z-[99] p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bg-white p-6 rounded-lg shadow-xl w-full ${sizeClasses[size]} max-h-[90vh] overflow-y-auto`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-gray-800\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-500 hover:text-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(XCircle, {\n            className: \"w-7 h-7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 17\n      }, this), children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 9\n  }, this);\n};\n_c2 = Modal;\nconst AddTestFlowModal = ({\n  isOpen,\n  onClose,\n  onSave,\n  testInfo,\n  patient\n}) => {\n  if (!isOpen || !testInfo) return null;\n  const handleResultsSave = testResults => {\n    onSave({\n      testId: testInfo.id,\n      results: testResults\n    });\n    onClose();\n  };\n  const renderTestEntryForm = () => {\n    // --- GEÄNDERTE SWITCH-ANWEISUNG ---\n    switch (testInfo.id) {\n      case 'bdi2':\n        return /*#__PURE__*/_jsxDEV(Bdi2EntryForm, {\n          onSave: handleResultsSave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 24\n        }, this);\n      case 'fep2':\n        return /*#__PURE__*/_jsxDEV(FEP2EntryForm, {\n          onSave: handleResultsSave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 24\n        }, this);\n      case 'hscl11':\n        return /*#__PURE__*/_jsxDEV(HSCL11EntryForm, {\n          onSave: handleResultsSave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 24\n        }, this);\n      case 'scl90r':\n        const patientAge = patient !== null && patient !== void 0 && patient.geburtsdatum ? new Date().getFullYear() - new Date(patient.geburtsdatum).getFullYear() : '';\n        // Annahme: Geschlecht ist im Patientenobjekt als '1' (m) oder '2' (w) gespeichert.\n        const patientGender = (patient === null || patient === void 0 ? void 0 : patient.gender) || '1';\n        return /*#__PURE__*/_jsxDEV(SCL90REntryForm, {\n          onSave: handleResultsSave,\n          patientAge: patientAge,\n          patientGender: patientGender\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 24\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Kein Eingabeformular f\\xFCr diesen Testtyp gefunden: \", testInfo.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end mt-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleResultsSave({\n                placeholder: true,\n                score: 0\n              }),\n              className: \"px-4 py-2 text-sm text-white bg-indigo-600 rounded-md hover:bg-indigo-700\",\n              children: \"Als durchgef\\xFChrt markieren (ohne Ergebnis)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 30\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onClose: onClose,\n    title: `Test eingeben: ${testInfo.name}`,\n    size: testInfo.id === 'scl90r' ? '5xl' : '2xl',\n    children: renderTestEntryForm()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n};\n_c3 = AddTestFlowModal;\nexport default AddTestFlowModal;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"XCircle\");\n$RefreshReg$(_c2, \"Modal\");\n$RefreshReg$(_c3, \"AddTestFlowModal\");","map":{"version":3,"names":["React","Bdi2EntryForm","FEP2EntryForm","HSCL11EntryForm","SCL90REntryForm","jsxDEV","_jsxDEV","XCircle","className","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","cx","cy","r","fileName","_jsxFileName","lineNumber","columnNumber","x1","y1","x2","y2","_c","Modal","isOpen","onClose","title","size","sizeClasses","sm","md","lg","xl","onClick","_c2","AddTestFlowModal","onSave","testInfo","patient","handleResultsSave","testResults","testId","id","results","renderTestEntryForm","patientAge","geburtsdatum","Date","getFullYear","patientGender","gender","placeholder","score","name","_c3","$RefreshReg$"],"sources":["/Users/julianrogowski/Desktop/patientenverwaltung-app/src/components/AddTestFlowModal.js"],"sourcesContent":["import React from 'react';\n\n// --- NEUE IMPORTE ---\nimport { Bdi2EntryForm } from '../psychodiagnostic/BDI2.js';\nimport { FEP2EntryForm } from '../psychodiagnostic/FEP2.js';\nimport { HSCL11EntryForm } from './HSCL11.js';\nimport { SCL90REntryForm } from '../psychodiagnostic/SCL90R.js';\n// --- ENDE NEUE IMPORTE ---\n\n\nconst XCircle = ({ className = \"w-6 h-6\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line><line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line></svg>);\n\nconst Modal = ({ isOpen, onClose, title, children, size = \"lg\" }) => {\n    if (!isOpen) return null;\n    const sizeClasses = { sm: 'max-w-sm', md: 'max-w-md', lg: 'max-w-lg', xl: 'max-w-xl', '2xl': 'max-w-2xl', '5xl': 'max-w-5xl' };\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex justify-center items-center z-[99] p-4\">\n            <div className={`bg-white p-6 rounded-lg shadow-xl w-full ${sizeClasses[size]} max-h-[90vh] overflow-y-auto`}>\n                <div className=\"flex justify-between items-center mb-4\">\n                    <h2 className=\"text-2xl font-semibold text-gray-800\">{title}</h2>\n                    <button onClick={onClose} className=\"text-gray-500 hover:text-gray-700\">\n                        <XCircle className=\"w-7 h-7\" />\n                    </button>\n                </div>\n                {children}\n            </div>\n        </div>\n    );\n};\n\n\nconst AddTestFlowModal = ({ isOpen, onClose, onSave, testInfo, patient }) => {\n\n    if (!isOpen || !testInfo) return null;\n\n    const handleResultsSave = (testResults) => {\n        onSave({\n            testId: testInfo.id,\n            results: testResults,\n        });\n        onClose();\n    };\n\n    const renderTestEntryForm = () => {\n        // --- GEÄNDERTE SWITCH-ANWEISUNG ---\n        switch (testInfo.id) {\n            case 'bdi2':\n                return <Bdi2EntryForm onSave={handleResultsSave} />;\n            case 'fep2': \n                return <FEP2EntryForm onSave={handleResultsSave} />;\n            case 'hscl11': \n                return <HSCL11EntryForm onSave={handleResultsSave} />;\n            case 'scl90r': \n                const patientAge = patient?.geburtsdatum ? (new Date().getFullYear() - new Date(patient.geburtsdatum).getFullYear()) : '';\n                // Annahme: Geschlecht ist im Patientenobjekt als '1' (m) oder '2' (w) gespeichert.\n                const patientGender = patient?.gender || '1'; \n                return <SCL90REntryForm onSave={handleResultsSave} patientAge={patientAge} patientGender={patientGender} />;\n            default:\n                return (\n                    <div>\n                        <p>Kein Eingabeformular für diesen Testtyp gefunden: {testInfo.id}</p>\n                        <div className=\"flex justify-end mt-4\">\n                             <button onClick={() => handleResultsSave({ placeholder: true, score: 0 })} className=\"px-4 py-2 text-sm text-white bg-indigo-600 rounded-md hover:bg-indigo-700\">\n                                Als durchgeführt markieren (ohne Ergebnis)\n                            </button>\n                        </div>\n                    </div>\n                );\n        }\n    };\n\n    return (\n        <Modal isOpen={isOpen} onClose={onClose} title={`Test eingeben: ${testInfo.name}`} size={testInfo.id === 'scl90r' ? '5xl' : '2xl'}>\n            {renderTestEntryForm()}\n        </Modal>\n    );\n};\n\nexport default AddTestFlowModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}