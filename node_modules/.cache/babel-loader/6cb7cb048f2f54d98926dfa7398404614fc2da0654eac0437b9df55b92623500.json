{"ast":null,"code":"var _jsxFileName = \"/Users/julianrogowski/Desktop/patientenverwaltung-app/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\n/* global __GEMINI_API_KEY__ */\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from 'firebase/auth';\nimport { getFirestore, collection, doc, addDoc, getDocs, setDoc, deleteDoc, onSnapshot, query, writeBatch } from 'firebase/firestore';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, ReferenceArea } from 'recharts';\n\n// SCL-90-R Component (ehemals separate Datei, jetzt integriert)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SCL90RComponent = ({\n  patient,\n  onSaveResult,\n  onDeleteResult\n}) => {\n  _s();\n  const [age, setAge] = useState('');\n  const [gender, setGender] = useState('1'); // '1' für männlich, '2' für weiblich\n  const [itemScores, setItemScores] = useState(Array(90).fill(''));\n  const [results, setResults] = useState(null);\n  const handleItemChange = (index, value) => {\n    const newScores = [...itemScores];\n    const numValue = parseInt(value, 10);\n    if (value === '' || numValue >= 0 && numValue <= 4) {\n      newScores[index] = value;\n      setItemScores(newScores);\n    }\n  };\n  const resetForm = () => {\n    setAge('');\n    setGender('1');\n    setItemScores(Array(90).fill(''));\n    setResults(null);\n  };\n  const calculateResults = () => {\n    // Implementierung der Logik aus dem bereitgestellten HTML/JS\n    const parsedAge = parseInt(age, 10);\n    if (isNaN(parsedAge) || parsedAge <= 0) {\n      alert('Bitte geben Sie ein gültiges Alter an.');\n      return;\n    }\n    const parsedGender = parseInt(gender, 10);\n    const parsedItemScores = itemScores.map((score, index) => {\n      const val = parseInt(score, 10);\n      if (isNaN(val) || val < 0 || val > 4) {\n        // Hier könnte man eine bessere Fehlermeldung implementieren\n        throw new Error(`Ungültiger Wert für Item ${index + 1}. Bitte geben Sie eine Zahl zwischen 0 und 4 ein.`);\n      }\n      return val;\n    });\n\n    // ... hier kommt die komplexe Berechnungslogik für SCL-90-R ...\n    // Dies ist eine vereinfachte Darstellung der Logik\n    const calculatedResults = {\n      rawScores: {\n        'Somatisierung': 10,\n        'Zwanghaftigkeit': 5\n      },\n      // Beispiel\n      tScores: {\n        'Somatisierung': 65,\n        'Zwanghaftigkeit': 55\n      },\n      // Beispiel\n      globalScores: {\n        gsi: 1.2,\n        pst: 45,\n        psdi: 1.8\n      },\n      // Beispiel\n      interpretation: \"Basierend auf den Werten ist eine erhöhte Somatisierungsneigung zu erkennen.\" // Beispiel\n    };\n    setResults(calculatedResults);\n  };\n  const handleSave = () => {\n    if (results) {\n      onSaveResult(results);\n      alert(\"Ergebnis gespeichert!\");\n    } else {\n      alert(\"Bitte berechnen Sie zuerst die Auswertung.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"text-xl font-semibold text-gray-700 mb-4\",\n      children: \"SCL-90-R Erfassung & Auswertung\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-2xl shadow-lg mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-semibold mb-4 text-gray-800 border-b pb-2\",\n        children: \"Patientendaten & Items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"scl-age\",\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Alter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"scl-age\",\n            value: age,\n            onChange: e => setAge(e.target.value),\n            className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm h-10 px-3\",\n            placeholder: \"z.B. 35\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"scl-gender\",\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Geschlecht\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"scl-gender\",\n            value: gender,\n            onChange: e => setGender(e.target.value),\n            className: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm h-10 px-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"1\",\n              children: \"M\\xE4nnlich\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"2\",\n              children: \"Weiblich\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-5 md:grid-cols-10 gap-4\",\n        children: itemScores.map((score, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: `item-${index}`,\n            className: \"mb-1 text-sm font-medium text-gray-600\",\n            children: [\"Item \", index + 1]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: `item-${index}`,\n            value: score,\n            onChange: e => handleItemChange(index, e.target.value),\n            min: \"0\",\n            max: \"4\",\n            className: \"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm h-10 px-2 text-center\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 29\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row justify-center items-center gap-4 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: calculateResults,\n        className: \"w-full sm:w-auto bg-indigo-600 text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-transform transform hover:scale-105\",\n        children: \"Auswertung berechnen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: resetForm,\n        className: \"w-full sm:w-auto bg-gray-200 text-gray-700 font-semibold py-3 px-8 rounded-lg shadow-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 transition-transform transform hover:scale-105\",\n        children: \"Zur\\xFCcksetzen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this), results && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSave,\n        className: \"w-full sm:w-auto bg-green-600 text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-transform transform hover:scale-105\",\n        children: \"Ergebnis Speichern\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), results && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-semibold mb-6 text-gray-800 border-b pb-3\",\n        children: \"Ergebnisse der Auswertung\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold mb-4 text-gray-700\",\n          children: \"Kurz-Interpretation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4 text-gray-700 whitespace-pre-wrap\",\n          children: results.interpretation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 18\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold mb-4 text-gray-700\",\n        children: \"Protokollierte SCL-90-R Ergebnisse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this), (patient.scl90rResults || []).length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500\",\n        children: \"Keine SCL-90-R Ergebnisse f\\xFCr diesen Patienten erfasst.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-2\",\n        children: (patient.scl90rResults || []).map((result, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"bg-white p-3 rounded-md shadow-sm border flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium text-indigo-600\",\n              children: [\"Datum: \", new Date(result.date).toLocaleDateString('de-DE')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-4 text-sm text-gray-600\",\n              children: [\"GSI T-Wert: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold\",\n                children: result.tScores.GSI\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 94\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onDeleteResult(result.date),\n            className: \"text-red-500 hover:text-red-700 transition duration-150 p-1 rounded hover:bg-red-100\",\n            title: \"Dieses Ergebnis l\\xF6schen\",\n            children: /*#__PURE__*/_jsxDEV(Trash2, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 33\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n};\n\n// Ihre Firebase Konfiguration:\n_s(SCL90RComponent, \"WKSkikCM4uMRqPdE8WcHywCLejE=\");\n_c = SCL90RComponent;\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDZ_qqqKW7WDCZ9botek2VBwXNMQO3JYwU\",\n  authDomain: \"psychotherapie0512.firebaseapp.com\",\n  projectId: \"psychotherapie0512\",\n  storageBucket: \"psychotherapie0512.firebasestorage.app\",\n  messagingSenderId: \"131279046361\",\n  appId: \"1:131279046361:web:e5dd2d18b206fb820b60c8\"\n};\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst firestoreAppId = 'default-patient-app-v5';\nconst initialPatientsData = [{\n  name: \"Kern\",\n  chiffre: \"K040498\",\n  therapyType: \"LZT\",\n  approvedHours: 60,\n  conductedHours: 24,\n  diagnoses: [\"[G] F00.0*: Demenz bei Alzheimer-Krankheit, mit frühem Beginn (Typ 2)\", \"[V] F01.1: Multiinfarkt-Demenz\"],\n  sessions: [{\n    date: \"2025-05-20\",\n    notes: \"Erste Sitzung, Exploration der Hauptbeschwerden.\"\n  }, {\n    date: \"2025-05-27\",\n    notes: \"Vertiefung der Anamnese, erste Verhaltensanalysen.\"\n  }],\n  hscl11Results: [],\n  bdi2Results: [],\n  fep2Results: [],\n  scl90rResults: [],\n  krankheitsanamnese: \"Patient berichtet über seit ca. 2 Jahren zunehmende Vergesslichkeit und Orientierungsprobleme.\",\n  lebensgeschichte: \"Geboren 1955, verheiratet, 2 Kinder, früher als Buchhalter tätig.\",\n  problemanalyseMakro: \"Kognitive Defizite im Vordergrund, affektive Belastung durch erlebten Kontrollverlust.\",\n  therapieplan: \"Supportive Gespräche, kognitives Training, Psychoedukation für Angehörige.\"\n}];\nconst Modal = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  size = \"lg\"\n}) => {\n  if (!isOpen) return null;\n  const sizeClasses = {\n    sm: 'max-w-sm',\n    md: 'max-w-md',\n    lg: 'max-w-lg',\n    xl: 'max-w-xl',\n    '2xl': 'max-w-2xl',\n    '3xl': 'max-w-3xl',\n    '4xl': 'max-w-4xl',\n    '5xl': 'max-w-5xl'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex justify-center items-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bg-white p-6 rounded-lg shadow-xl w-full ${sizeClasses[size]} max-h-[90vh] overflow-y-auto`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-gray-800\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 551\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-500 hover:text-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(XCircle, {\n            className: \"w-7 h-7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 688\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 616\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 495\n      }, this), children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 385\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 272\n  }, this);\n};\n_c2 = Modal;\nconst ConfirmationModal = ({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  message\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onClose: onClose,\n    title: title,\n    size: \"sm\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n        className: \"mx-auto mb-4 w-12 h-12 text-red-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 209\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-700 mb-6\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 274\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none\",\n          children: \"Abbrechen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 368\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onConfirm,\n          className: \"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none\",\n          children: \"Best\\xE4tigen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 528\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 321\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 180\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 115\n  }, this);\n};\n_c3 = ConfirmationModal;\nconst PatientForm = ({\n  patient,\n  onSave,\n  onCancel\n}) => {\n  _s2();\n  const [formData, setFormData] = useState(patient || {\n    name: '',\n    chiffre: '',\n    therapyType: 'LZT',\n    approvedHours: 0,\n    conductedHours: 0,\n    diagnoses: [],\n    sessions: [],\n    hscl11Results: [],\n    bdi2Results: [],\n    fep2Results: [],\n    scl90rResults: [],\n    krankheitsanamnese: \"\",\n    lebensgeschichte: \"\",\n    problemanalyseMakro: \"\",\n    therapieplan: \"\"\n  });\n  useEffect(() => {\n    if (patient) {\n      setFormData({\n        ...patient,\n        hscl11Results: patient.hscl11Results || [],\n        bdi2Results: patient.bdi2Results || [],\n        fep2Results: patient.fep2Results || [],\n        scl90rResults: patient.scl90rResults || [],\n        krankheitsanamnese: patient.krankheitsanamnese || \"\",\n        lebensgeschichte: patient.lebensgeschichte || \"\",\n        problemanalyseMakro: patient.problemanalyseMakro || \"\",\n        therapieplan: patient.therapieplan || \"\"\n      });\n    } else {\n      setFormData({\n        name: '',\n        chiffre: '',\n        therapyType: 'LZT',\n        approvedHours: 0,\n        conductedHours: 0,\n        diagnoses: [],\n        sessions: [],\n        hscl11Results: [],\n        bdi2Results: [],\n        fep2Results: [],\n        scl90rResults: [],\n        krankheitsanamnese: \"\",\n        lebensgeschichte: \"\",\n        problemanalyseMakro: \"\",\n        therapieplan: \"\"\n      });\n    }\n  }, [patient]);\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'number' ? parseInt(value, 10) || 0 : value\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSave(formData);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 69\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        id: \"name\",\n        value: formData.name,\n        onChange: handleChange,\n        required: true,\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 155\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 64\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"chiffre\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Chiffre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 424\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"chiffre\",\n        id: \"chiffre\",\n        value: formData.chiffre,\n        onChange: handleChange,\n        required: true,\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 516\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 419\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"therapyType\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Therapieform\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 794\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"therapyType\",\n        id: \"therapyType\",\n        value: formData.therapyType,\n        onChange: handleChange,\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"LZT\",\n          children: \"Langzeittherapie (LZT)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 1152\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"KZT\",\n          children: \"Kurzzeittherapie (KZT)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 1203\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 895\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 789\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"approvedHours\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Genehmigte Stunden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 1274\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"approvedHours\",\n        id: \"approvedHours\",\n        value: formData.approvedHours,\n        onChange: handleChange,\n        min: \"0\",\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 1383\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 1269\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"conductedHours\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Durchgef\\xFChrte Stunden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 1680\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"conductedHours\",\n        id: \"conductedHours\",\n        value: formData.conductedHours,\n        onChange: handleChange,\n        min: \"0\",\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 1793\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 1675\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end space-x-3 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onCancel,\n        className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\",\n        children: \"Abbrechen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 2137\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Save, {\n          className: \"w-4 h-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 2577\n        }, this), \" Speichern\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 2365\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 2088\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 220,\n    columnNumber: 12\n  }, this);\n};\n_s2(PatientForm, \"IIpmEmJnZpo8OnF0Yp68Q2fWC8o=\");\n_c4 = PatientForm;\nconst FEP2_ITEMS_TO_REVERSE = [1, 2, 5, 9, 14, 15, 19, 21, 22, 27, 29, 30, 39];\nconst FEP2_SKALEN_DEFINITION = {\n  WOHLBEFINDEN: {\n    items: [1, 5, 9, 14, 22, 30, 39],\n    minItemsRequired: 7\n  },\n  BESCHWERDEN: {\n    items: [4, 6, 7, 8, 10, 12, 23, 24, 31, 34, 38],\n    minItemsRequired: 10\n  },\n  BESCHWERDEN_ANGST: {\n    items: [4, 8, 12, 23],\n    minItemsRequired: 4\n  },\n  BESCHWERDEN_DEPRESSIVITAET: {\n    items: [7, 10, 24, 31, 34, 38],\n    minItemsRequired: 5\n  },\n  INTERPERSONALE_BEZIEHUNG: {\n    items: [11, 13, 16, 18, 20, 25, 26, 28, 32, 33, 36, 40],\n    minItemsRequired: 11\n  },\n  INTERPERSONALE_INTROVERTIERT_SCHEU: {\n    items: [28, 36, 40],\n    minItemsRequired: 3\n  },\n  INTERPERSONALE_AUSNUTZBAR_NACHGIEBIG: {\n    items: [13, 20, 26],\n    minItemsRequired: 3\n  },\n  INTERPERSONALE_KONKURRIEREND_UNTERSTUETZEND: {\n    items: [11, 16, 33],\n    minItemsRequired: 3\n  },\n  INTERPERSONALE_SELBSTUNSICHER_ZURUECKHALTEND: {\n    items: [18, 25, 32],\n    minItemsRequired: 3\n  },\n  KONGRUENZ: {\n    items: [2, 3, 15, 17, 19, 21, 27, 29, 35, 37],\n    minItemsRequired: 8\n  }\n};\nconst calculateFep2Scores = itemScoresRaw => {\n  const itemScores = itemScoresRaw.map((score, index) => {\n    const itemNum = index + 1;\n    if (FEP2_ITEMS_TO_REVERSE.includes(itemNum) && score > 0 && score <= 5) {\n      return 6 - score;\n    }\n    return score;\n  });\n  const answeredItemsCount = itemScores.filter(score => score > 0 && score <= 5).length;\n  const calculatedScales = {};\n  if (answeredItemsCount >= 32) {\n    const sum = itemScores.reduce((acc, score) => acc + (score > 0 && score <= 5 ? score : 0), 0);\n    calculatedScales.gesamtbelastung = answeredItemsCount > 0 ? parseFloat((sum / answeredItemsCount).toFixed(2)) : null;\n  } else {\n    calculatedScales.gesamtbelastung = null;\n  }\n  for (const skalaName in FEP2_SKALEN_DEFINITION) {\n    const def = FEP2_SKALEN_DEFINITION[skalaName];\n    let sum = 0;\n    let count = 0;\n    def.items.forEach(itemNum => {\n      const score = itemScores[itemNum - 1];\n      if (score > 0 && score <= 5) {\n        sum += score;\n        count++;\n      }\n    });\n    if (count >= def.minItemsRequired) {\n      calculatedScales[skalaName.toLowerCase()] = parseFloat((sum / count).toFixed(2));\n    } else {\n      calculatedScales[skalaName.toLowerCase()] = null;\n    }\n  }\n  return calculatedScales;\n};\nasync function generateGeminiText(prompt) {\n  let chatHistory = [{\n    role: \"user\",\n    parts: [{\n      text: prompt\n    }]\n  }];\n  const payload = {\n    contents: chatHistory\n  };\n  const GEMINI_API_KEY = typeof __GEMINI_API_KEY__ !== 'undefined' ? __GEMINI_API_KEY__ : \"YOUR_LOCAL_GEMINI_API_KEY\"; // Tragen Sie hier Ihren lokalen Schlüssel ein\n  const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`;\n  try {\n    const response = await fetch(apiUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    });\n    if (!response.ok) {\n      var _errorData$error;\n      const errorData = await response.json();\n      console.error(\"Gemini API error details:\", errorData);\n      const errorMessage = ((_errorData$error = errorData.error) === null || _errorData$error === void 0 ? void 0 : _errorData$error.message) || `API request failed with status ${response.status}`;\n      throw new Error(errorMessage);\n    }\n    const result = await response.json();\n    if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\n      return result.candidates[0].content.parts[0].text;\n    } else if (result.candidates && result.candidates.length > 0 && result.candidates[0].finishReason === \"SAFETY\") {\n      console.warn(\"Gemini API response blocked due to safety reasons.\");\n      return \"Die Antwort wurde aufgrund von Sicherheitsrichtlinien blockiert.\";\n    } else {\n      console.error(\"Unexpected Gemini API response structure:\", result);\n      throw new Error(\"Unerwartete Antwortstruktur von der API.\");\n    }\n  } catch (error) {\n    console.error(\"Error calling Gemini API:\", error);\n    throw error;\n  }\n}\nfunction App() {\n  _s3();\n  const [patients, setPatients] = useState([]);\n  const [selectedPatient, setSelectedPatient] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [authError, setAuthError] = useState(null);\n  const [appError, setAppError] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoginView, setIsLoginView] = useState(true);\n  const [isAuthLoading, setIsAuthLoading] = useState(false);\n  const [isPatientModalOpen, setIsPatientModalOpen] = useState(false);\n  const [editingPatient, setEditingPatient] = useState(null);\n  const [isConfirmDeleteModalOpen, setIsConfirmDeleteModalOpen] = useState(false);\n  const [patientToDeleteId, setPatientToDeleteId] = useState(null);\n  const [newDiagnosis, setNewDiagnosis] = useState('');\n  const [newDiagnosisCode, setNewDiagnosisCode] = useState('');\n  const [newDiagnosisSicherheit, setNewDiagnosisSicherheit] = useState('G');\n  const [lookedUpDiagnosisName, setLookedUpDiagnosisName] = useState('');\n  const [newSessionDate, setNewSessionDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newSessionNotes, setNewSessionNotes] = useState('');\n  const [activeDetailTab, setActiveDetailTab] = useState('details');\n  const [activeDiagnostikSubTab, setActiveDiagnostikSubTab] = useState('scl90r');\n  const [newHsclDate, setNewHsclDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newHsclAngst, setNewHsclAngst] = useState('');\n  const [newHsclDepression, setNewHsclDepression] = useState('');\n  const [newBdiDate, setNewBdiDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newBdiScore, setNewBdiScore] = useState('');\n  const [newFepDate, setNewFepDate] = useState(new Date().toISOString().split('T')[0]);\n  const [fepItemScores, setFepItemScores] = useState(Array(40).fill(0));\n  const [sessionSummaries, setSessionSummaries] = useState({});\n  const [diagnosisInfo, setDiagnosisInfo] = useState({\n    code: '',\n    name: '',\n    beschreibung: '',\n    inkl: [],\n    exkl: [],\n    hinweise: [],\n    zusatz_info_code: '',\n    sicherheit: '',\n    isLoading: false,\n    error: null,\n    isOpen: false,\n    source: ''\n  });\n  const [localIcd10Data, setLocalIcd10Data] = useState({});\n  const [editableConductedHours, setEditableConductedHours] = useState(\"\");\n  const [editableKrankheitsanamnese, setEditableKrankheitsanamnese] = useState(\"\");\n  const [editableLebensgeschichte, setEditableLebensgeschichte] = useState(\"\");\n  const [editableProblemanalyseMakro, setEditableProblemanalyseMakro] = useState(\"\");\n  const [editableTherapieplan, setEditableTherapieplan] = useState(\"\");\n  const [therapeutischeAssistenzOutput, setTherapeutischeAssistenzOutput] = useState(\"\");\n  const [isLoadingTherapeutischeAssistenz, setIsLoadingTherapeutischeAssistenz] = useState(false);\n  const [assistenzError, setAssistenzError] = useState(null);\n  const detailViewRef = useRef(null);\n  const overviewRef = useRef(null);\n  useEffect(() => {\n    fetch('/icd10f_data.json').then(response => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status} - Stellen Sie sicher, dass 'icd10f_data.json' im 'public' Ordner liegt.`);\n      }\n      return response.json();\n    }).then(data => {\n      const indexedData = {};\n      data.forEach(item => {\n        if (item.code) {\n          indexedData[item.code.toUpperCase()] = item;\n        }\n      });\n      setLocalIcd10Data(indexedData);\n      console.log(\"Lokale ICD-10 Daten geladen und indiziert.\");\n    }).catch(error => {\n      console.error(\"Fehler beim Laden der lokalen ICD-10 Daten:\", error);\n      setAppError(\"Lokale ICD-10 Daten konnten nicht geladen werden. \" + error.message);\n    });\n  }, []);\n  useEffect(() => {\n    if (selectedPatient) {\n      setEditableConductedHours(selectedPatient.conductedHours !== null && selectedPatient.conductedHours !== undefined ? String(selectedPatient.conductedHours) : \"\");\n      setEditableKrankheitsanamnese(selectedPatient.krankheitsanamnese || \"\");\n      setEditableLebensgeschichte(selectedPatient.lebensgeschichte || \"\");\n      setEditableProblemanalyseMakro(selectedPatient.problemanalyseMakro || \"\");\n      setEditableTherapieplan(selectedPatient.therapieplan || \"\");\n      if (detailViewRef.current) {\n        setTimeout(() => {\n          detailViewRef.current.scrollIntoView({\n            behavior: 'smooth',\n            block: 'start'\n          });\n        }, 100);\n      }\n    } else {\n      setEditableConductedHours(\"\");\n      setEditableKrankheitsanamnese(\"\");\n      setEditableLebensgeschichte(\"\");\n      setEditableProblemanalyseMakro(\"\");\n      setEditableTherapieplan(\"\");\n    }\n  }, [selectedPatient]);\n  const findIcd10CodeLocal = useCallback(codeToFind => {\n    const upperCodeToFind = codeToFind.toUpperCase();\n    let found = localIcd10Data[upperCodeToFind];\n    if (found) return found;\n    const baseCode = upperCodeToFind.replace(/(\\.-[*]|\\.\\*|[*]|-)$/, '');\n    found = localIcd10Data[`${baseCode}.-*`] || localIcd10Data[`${baseCode}.*`] || localIcd10Data[baseCode];\n    if (found) return found;\n    const possibleCategoryCode = Object.keys(localIcd10Data).find(key => key.startsWith(upperCodeToFind) && (localIcd10Data[key].code_kategorie || localIcd10Data[key].code));\n    if (possibleCategoryCode) return localIcd10Data[possibleCategoryCode];\n    return null;\n  }, [localIcd10Data]);\n  useEffect(() => {\n    if (newDiagnosisCode.trim() !== '') {\n      const found = findIcd10CodeLocal(newDiagnosisCode.trim().toUpperCase());\n      if (found && found.name) {\n        setLookedUpDiagnosisName(found.name);\n      } else {\n        setLookedUpDiagnosisName('');\n      }\n    } else {\n      setLookedUpDiagnosisName('');\n    }\n  }, [newDiagnosisCode, findIcd10CodeLocal]);\n  const getPatientsCollectionPath = useCallback(() => {\n    if (!userId) return null;\n    return `/artifacts/${firestoreAppId}/users/${userId}/patients`;\n  }, [userId]);\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, user => {\n      if (user) {\n        setUserId(user.uid);\n      } else {\n        setUserId(null);\n      }\n      setIsAuthReady(true);\n      setIsLoading(false);\n    });\n    return () => unsubscribe();\n  }, []);\n  const seedInitialData = useCallback(async () => {\n    if (!userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    try {\n      const patientsCollection = collection(db, collectionPath);\n      const querySnapshot = await getDocs(patientsCollection);\n      if (querySnapshot.empty) {\n        const batch = writeBatch(db);\n        initialPatientsData.forEach(patientData => {\n          const newPatientRef = doc(patientsCollection);\n          batch.set(newPatientRef, {\n            ...patientData,\n            hscl11Results: patientData.hscl11Results || [],\n            bdi2Results: patientData.bdi2Results || [],\n            fep2Results: patientData.fep2Results || [],\n            scl90rResults: patientData.scl90rResults || [],\n            krankheitsanamnese: patientData.krankheitsanamnese || \"\",\n            lebensgeschichte: patientData.lebensgeschichte || \"\",\n            problemanalyseMakro: patientData.problemanalyseMakro || \"\",\n            therapieplan: patientData.therapieplan || \"\"\n          });\n        });\n        await batch.commit();\n        console.log(\"Initiale Daten erfolgreich geschrieben.\");\n      } else {\n        console.log(\"Vorhandene Patientendaten gefunden, Seed wird übersprungen.\");\n      }\n    } catch (err) {\n      console.error(\"Error seeding initial data:\", err);\n      setAppError(\"Fehler beim Laden der initialen Daten.\");\n    }\n  }, [userId, getPatientsCollectionPath]);\n  useEffect(() => {\n    if (!isAuthReady || !userId) {\n      setPatients([]);\n      if (isAuthReady && !userId) console.log(\"Kein Benutzer angemeldet, warte auf Login/Registrierung.\");\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) {\n      console.log(\"Collection path ist nicht verfügbar für Firestore Listener.\");\n      return;\n    }\n    setIsLoading(true);\n    seedInitialData();\n    const patientsQuery = query(collection(db, collectionPath));\n    const unsubscribe = onSnapshot(patientsQuery, snapshot => {\n      let patientsData = snapshot.docs.map(docSnap => ({\n        id: docSnap.id,\n        ...docSnap.data(),\n        hscl11Results: docSnap.data().hscl11Results || [],\n        bdi2Results: docSnap.data().bdi2Results || [],\n        fep2Results: docSnap.data().fep2Results || [],\n        scl90rResults: docSnap.data().scl90rResults || [],\n        krankheitsanamnese: docSnap.data().krankheitsanamnese || \"\",\n        lebensgeschichte: docSnap.data().lebensgeschichte || \"\",\n        problemanalyseMakro: docSnap.data().problemanalyseMakro || \"\",\n        therapieplan: docSnap.data().therapieplan || \"\"\n      }));\n      patientsData.sort((a, b) => a.name.localeCompare(b.name));\n      setPatients(patientsData);\n      setIsLoading(false);\n    }, err => {\n      console.error(\"Error fetching patients:\", err);\n      setAppError(\"Fehler beim Laden der Patientendaten. Stellen Sie sicher, dass Firestore korrekt konfiguriert ist.\");\n      setIsLoading(false);\n    });\n    return () => unsubscribe();\n  }, [isAuthReady, userId, getPatientsCollectionPath, seedInitialData]);\n  useEffect(() => {\n    if (selectedPatient && selectedPatient.id && patients.length > 0) {\n      const currentPatientDataFromList = patients.find(p => p.id === selectedPatient.id);\n      if (currentPatientDataFromList) {\n        if (JSON.stringify(currentPatientDataFromList) !== JSON.stringify(selectedPatient)) {\n          setSelectedPatient(currentPatientDataFromList);\n        }\n      } else {\n        setSelectedPatient(null);\n      }\n    }\n  }, [patients, selectedPatient]);\n  const handleAuthAction = async isRegistering => {\n    setIsAuthLoading(true);\n    setAuthError(null);\n    try {\n      if (isRegistering) {\n        await createUserWithEmailAndPassword(auth, email, password);\n      } else {\n        await signInWithEmailAndPassword(auth, email, password);\n      }\n      setEmail(\"\");\n      setPassword(\"\");\n    } catch (error) {\n      console.error(\"Firebase auth error:\", error);\n      let message = \"Ein Fehler ist aufgetreten.\";\n      if (error.code === 'auth/email-already-in-use') {\n        message = \"Diese E-Mail-Adresse wird bereits verwendet.\";\n      } else if (error.code === 'auth/invalid-email') {\n        message = \"Ungültige E-Mail-Adresse.\";\n      } else if (error.code === 'auth/weak-password') {\n        message = \"Das Passwort ist zu schwach. Es sollte mindestens 6 Zeichen lang sein.\";\n      } else if (error.code === 'auth/user-not-found' || error.code === 'auth/wrong-password' || error.code === 'auth/invalid-credential') {\n        message = \"E-Mail oder Passwort ist ungültig.\";\n      }\n      setAuthError(message);\n    } finally {\n      setIsAuthLoading(false);\n    }\n  };\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n      setSelectedPatient(null);\n      setPatients([]);\n    } catch (error) {\n      console.error(\"Error signing out: \", error);\n      setAppError(\"Fehler beim Abmelden.\");\n    }\n  };\n  const handleSavePatient = async patientData => {\n    if (!userId) {\n      setAppError(\"Benutzer nicht authentifiziert.\");\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const dataToSave = {\n      ...patientData,\n      hscl11Results: patientData.hscl11Results || [],\n      bdi2Results: patientData.bdi2Results || [],\n      fep2Results: patientData.fep2Results || [],\n      scl90rResults: patientData.scl90rResults || [],\n      krankheitsanamnese: patientData.krankheitsanamnese || \"\",\n      lebensgeschichte: patientData.lebensgeschichte || \"\",\n      problemanalyseMakro: patientData.problemanalyseMakro || \"\",\n      therapieplan: patientData.therapieplan || \"\"\n    };\n    try {\n      if (editingPatient && editingPatient.id) {\n        const patientRef = doc(db, collectionPath, editingPatient.id);\n        await setDoc(patientRef, dataToSave, {\n          merge: true\n        });\n      } else {\n        await addDoc(collection(db, collectionPath), dataToSave);\n      }\n      setIsPatientModalOpen(false);\n      setEditingPatient(null);\n    } catch (err) {\n      console.error(\"Error saving patient:\", err);\n      setAppError(\"Fehler beim Speichern des Patienten.\");\n    }\n  };\n  const openDeleteConfirmation = patientId => {\n    setPatientToDeleteId(patientId);\n    setIsConfirmDeleteModalOpen(true);\n  };\n  const confirmDeletePatient = async () => {\n    if (!patientToDeleteId || !userId) {\n      setAppError(\"Löschvorgang fehlgeschlagen.\");\n      setIsConfirmDeleteModalOpen(false);\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    try {\n      const patientRef = doc(db, collectionPath, patientToDeleteId);\n      await deleteDoc(patientRef);\n      if (selectedPatient && selectedPatient.id === patientToDeleteId) {\n        setSelectedPatient(null);\n      }\n      setPatientToDeleteId(null);\n      setIsConfirmDeleteModalOpen(false);\n    } catch (err) {\n      console.error(\"Error deleting patient:\", err);\n      setAppError(\"Fehler beim Löschen des Patienten.\");\n      setIsConfirmDeleteModalOpen(false);\n    }\n  };\n  const handleAddDiagnosis = async () => {\n    const codeToAdd = newDiagnosisCode.trim().toUpperCase();\n    if (!selectedPatient || !codeToAdd || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const sicherheitPrefix = newDiagnosisSicherheit ? `[${newDiagnosisSicherheit}] ` : \"\";\n    const beschreibung = newDiagnosis.trim() ? `: ${newDiagnosis.trim()}` : lookedUpDiagnosisName ? `: ${lookedUpDiagnosisName}` : \"\";\n    const diagnosisString = `${sicherheitPrefix}${codeToAdd}${beschreibung}`;\n    const updatedDiagnoses = [...(selectedPatient.diagnoses || []), diagnosisString];\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        diagnoses: updatedDiagnoses\n      }, {\n        merge: true\n      });\n      setNewDiagnosisCode('');\n      setNewDiagnosis('');\n      setLookedUpDiagnosisName('');\n      setNewDiagnosisSicherheit('G');\n    } catch (err) {\n      console.error(\"Error adding diagnosis:\", err);\n      setAppError(\"Fehler beim Hinzufügen der Diagnose.\");\n    }\n  };\n  const handleRemoveDiagnosis = async diagnosisStringToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedDiagnoses = selectedPatient.diagnoses.filter(d => d !== diagnosisStringToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        diagnoses: updatedDiagnoses\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing diagnosis:\", err);\n      setAppError(\"Fehler beim Entfernen der Diagnose.\");\n    }\n  };\n  const handleAddSession = async () => {\n    if (!selectedPatient || !newSessionNotes.trim() || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const newSession = {\n      date: newSessionDate,\n      notes: newSessionNotes.trim()\n    };\n    const updatedSessions = [...(selectedPatient.sessions || []), newSession];\n    updatedSessions.sort((a, b) => new Date(b.date) - new Date(a.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        sessions: updatedSessions\n      }, {\n        merge: true\n      });\n      setNewSessionNotes('');\n    } catch (err) {\n      console.error(\"Error adding session:\", err);\n      setAppError(\"Fehler beim Hinzufügen der Sitzung.\");\n    }\n  };\n  const handleUpdateConductedHours = async (patientId, hours) => {\n    if (!patientId || !userId) return;\n    if (isNaN(hours) || hours < 0) {\n      console.error(\"Ungültige Stundenzahl für Firestore-Update:\", hours);\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const patientRef = doc(db, collectionPath, patientId);\n    try {\n      await setDoc(patientRef, {\n        conductedHours: hours\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error updating conducted hours:\", err);\n      setAppError(\"Fehler beim Aktualisieren der Stunden.\");\n    }\n  };\n  const handleAddHsclResult = async () => {\n    if (!selectedPatient || !newHsclDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const angst = parseInt(newHsclAngst, 10);\n    const depression = parseInt(newHsclDepression, 10);\n    if (isNaN(angst) || angst < 0 || angst > 20 || isNaN(depression) || depression < 0 || depression > 24) {\n      setAppError(\"Ungültige HSCL-Werte. Angst (0-20), Depression (0-24).\");\n      return;\n    }\n    const newResult = {\n      date: newHsclDate,\n      angst: angst,\n      depression: depression,\n      cumulative: angst + depression\n    };\n    const updatedHsclResults = [...(selectedPatient.hscl11Results || []), newResult];\n    updatedHsclResults.sort((a, b) => new Date(a.date) - new Date(b.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        hscl11Results: updatedHsclResults\n      }, {\n        merge: true\n      });\n      setNewHsclAngst('');\n      setNewHsclDepression('');\n      setAppError(null);\n    } catch (err) {\n      console.error(\"Error adding HSCL result:\", err);\n      setAppError(\"Fehler beim Hinzufügen des HSCL-Ergebnisses.\");\n    }\n  };\n  const handleRemoveHsclResult = async dateToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedHsclResults = selectedPatient.hscl11Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        hscl11Results: updatedHsclResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing HSCL result:\", err);\n      setAppError(\"Fehler beim Entfernen des HSCL-Ergebnisses.\");\n    }\n  };\n  const handleAddBdiResult = async () => {\n    if (!selectedPatient || !newBdiDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const score = parseInt(newBdiScore, 10);\n    if (isNaN(score) || score < 0 || score > 63) {\n      setAppError(\"Ungültiger BDI-II Wert (0-63).\");\n      return;\n    }\n    const newResult = {\n      date: newBdiDate,\n      score: score\n    };\n    const updatedBdiResults = [...(selectedPatient.bdi2Results || []), newResult];\n    updatedBdiResults.sort((a, b) => new Date(a.date) - new Date(b.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        bdi2Results: updatedBdiResults\n      }, {\n        merge: true\n      });\n      setNewBdiScore('');\n      setAppError(null);\n    } catch (err) {\n      console.error(\"Error adding BDI-II result:\", err);\n      setAppError(\"Fehler beim Hinzufügen des BDI-II Ergebnisses.\");\n    }\n  };\n  const handleRemoveBdiResult = async dateToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedBdiResults = selectedPatient.bdi2Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        bdi2Results: updatedBdiResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing BDI-II result:\", err);\n      setAppError(\"Fehler beim Entfernen des BDI-II Ergebnisses.\");\n    }\n  };\n  const handleFepItemChange = (index, value) => {\n    const newScores = [...fepItemScores];\n    newScores[index] = value === '' ? 0 : parseInt(value, 10);\n    if (isNaN(newScores[index]) || newScores[index] < 0 || newScores[index] > 5) newScores[index] = 0;\n    setFepItemScores(newScores);\n  };\n  const handleAddFepResult = async () => {\n    if (!selectedPatient || !newFepDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const answeredCount = fepItemScores.filter(s => s >= 1 && s <= 5).length;\n    if (answeredCount < 32) {\n      setAppError(\"Bitte beantworten Sie mindestens 80% (32) der FEP-2 Items.\");\n      return;\n    }\n    const calculatedScales = calculateFep2Scores(fepItemScores);\n    const newResult = {\n      date: newFepDate,\n      itemScores: [...fepItemScores],\n      calculatedScales\n    };\n    const updatedFepResults = [...(selectedPatient.fep2Results || []), newResult];\n    updatedFepResults.sort((a, b) => new Date(a.date) - new Date(b.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        fep2Results: updatedFepResults\n      }, {\n        merge: true\n      });\n      setFepItemScores(Array(40).fill(0));\n      setAppError(null);\n    } catch (err) {\n      console.error(\"Error adding FEP-2 result:\", err);\n      setAppError(\"Fehler beim Hinzufügen des FEP-2 Ergebnisses.\");\n    }\n  };\n  const handleRemoveFepResult = async dateToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedFepResults = selectedPatient.fep2Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        fep2Results: updatedFepResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing FEP-2 result:\", err);\n      setAppError(\"Fehler beim Entfernen des FEP-2 Ergebnisses.\");\n    }\n  };\n  const fetchSessionSummary = async (sessionNotes, sessionIndex) => {\n    setSessionSummaries(prev => ({\n      ...prev,\n      [sessionIndex]: {\n        ...prev[sessionIndex],\n        isLoading: true,\n        error: null\n      }\n    }));\n    const prompt = `Fasse die folgenden Therapiesitzungsnotizen prägnant zusammen. Konzentriere dich auf die wichtigsten Themen, Interventionen und den Fortschritt des Patienten:\\n\\n\"${sessionNotes}\"`;\n    try {\n      const summary = await generateGeminiText(prompt);\n      setSessionSummaries(prev => ({\n        ...prev,\n        [sessionIndex]: {\n          summary: summary,\n          isLoading: false,\n          error: null\n        }\n      }));\n    } catch (e) {\n      setSessionSummaries(prev => ({\n        ...prev,\n        [sessionIndex]: {\n          ...prev[sessionIndex],\n          isLoading: false,\n          error: e.message\n        }\n      }));\n      setAppError(`Fehler bei der Zusammenfassung: ${e.message}`);\n    }\n  };\n  const showDiagnosisInfo = diagnosisString => {\n    const sicherheitMatch = diagnosisString.match(/^\\[([AVGZN]+)\\]\\s*/i);\n    const sicherheit = sicherheitMatch ? sicherheitMatch[1].toUpperCase() : '';\n    const codeAndName = sicherheitMatch ? diagnosisString.substring(sicherheitMatch[0].length) : diagnosisString;\n    const codeMatch = codeAndName.match(/^([A-Z][0-9]{1,2}(\\.[0-9A-Z]{1,2})?[\\*\\-\\!]?)/i);\n    const code = codeMatch ? codeMatch[0].toUpperCase() : codeAndName.split(':')[0].trim().toUpperCase();\n    const localData = findIcd10CodeLocal(code);\n    if (localData) {\n      setDiagnosisInfo({\n        code: localData.code || code,\n        name: localData.name || '',\n        beschreibung: localData.beschreibung || localData.beschreibung_kategorie || '',\n        inkl: localData.inkl || [],\n        exkl: localData.exkl || [],\n        hinweise: localData.hinweise || localData.hinweise_kategorie || [],\n        zusatz_info_code: localData.zusatz_info_code || '',\n        sicherheit: sicherheit,\n        isLoading: false,\n        error: null,\n        isOpen: true,\n        source: 'local'\n      });\n    } else {\n      fetchDiagnosisInfoGemini(code, sicherheit);\n    }\n  };\n  const fetchDiagnosisInfoGemini = async (diagnosisCode, sicherheit = '') => {\n    setDiagnosisInfo({\n      code: diagnosisCode,\n      info: '',\n      isLoading: true,\n      error: null,\n      isOpen: true,\n      source: 'gemini',\n      sicherheit: sicherheit\n    });\n    const prompt = `Erkläre die ICD-10 Diagnose '${diagnosisCode}'${sicherheit ? ` (Diagnosesicherheit: ${sicherheit})` : ''} kurz und verständlich für einen Laien. Nenne auch typische Symptome und ggf. wichtige Differentialdiagnosen oder Komorbiditäten, falls relevant. Antworte auf Deutsch.`;\n    try {\n      const info = await generateGeminiText(prompt);\n      setDiagnosisInfo(prev => ({\n        ...prev,\n        info: info,\n        isLoading: false\n      }));\n    } catch (e) {\n      setDiagnosisInfo(prev => ({\n        ...prev,\n        isLoading: false,\n        error: e.message\n      }));\n      setAppError(`Fehler beim Abrufen der Diagnose-Info via Gemini: ${e.message}`);\n    }\n  };\n  const handleKrankheitsmodellChange = async (fieldName, value) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        [fieldName]: value\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(`Error updating ${fieldName}:`, err);\n      setAppError(`Fehler beim Speichern von ${fieldName}.`);\n    }\n  };\n  const handleTherapeutischeAssistenzAnfordern = async () => {\n    if (!selectedPatient) {\n      setAssistenzError(\"Bitte wählen Sie zuerst einen Patienten aus.\");\n      return;\n    }\n    setIsLoadingTherapeutischeAssistenz(true);\n    setTherapeutischeAssistenzOutput(\"\");\n    setAssistenzError(null);\n    const patientenDatenText = `\nHier sind die relevanten Patientendaten:\n\n**Krankheitsanamnese:**\n${selectedPatient.krankheitsanamnese || \"Keine Angaben.\"}\n\n**Lebensgeschichte/Biografie:**\n${selectedPatient.lebensgeschichte || \"Keine Angaben.\"}\n\n**Problemanalyse auf Makroebene:**\n${selectedPatient.problemanalyseMakro || \"Keine Angaben.\"}\n\n**Therapieplanung (bisherig):**\n${selectedPatient.therapieplan || \"Keine Angaben.\"}\n\n**Verlaufsdokumentation (Sitzungsnotizen):**\n${(selectedPatient.sessions || []).map((s, i) => `Sitzung ${i + 1} (${new Date(s.date).toLocaleDateString('de-DE')}): ${s.notes}`).join(\"\\n\\n\") || \"Keine Sitzungsnotizen vorhanden.\"}\n\n**Diagnosen:**\n${(selectedPatient.diagnoses || []).join(\", \") || \"Keine Diagnosen erfasst.\"}\n\n**Genehmigte Stunden:** ${selectedPatient.approvedHours}\n**Durchgeführte Stunden:** ${selectedPatient.conductedHours}\n    `;\n    const systemPrompt = `Du bist ein interdisziplinäres Expertenteam, bestehend aus erfahrenen Verhaltenstherapeuten wie Jürgen Margraf, Dr. Stavemann, Aaron T. Beck, Judith Beck und Jonathan S. Abramowitz sowie aus leitenden Chefärzten und Psychiatern wie Prof. Dr. Mathias Berger. Das Team verfügt über exzellente Fachkompetenz in der evidenzbasierten psychotherapeutischen Praxis und legt besonderen Wert auf präzise medizinische Dokumentation sowie therapeutische Qualität. Darüber hinaus gehören auch international anerkannte Experten wie David H. Barlow, Stefan G. Hofmann und Steven Hayes zum Team. Du verfügst über tiefgehendes Wissen in Ansätzen der sogenannten „dritten Welle“ der Verhaltenstherapie, insbesondere in ACT, Schematherapie und DBT.\n\nDeine Aufgabe ist es, auf Grundlage folgender Elemente, welche du aus den bereitgestellten Patientendaten entnimmst:\n- Krankheitsanamnese\n- Lebensgeschichte/Biografie\n- Problemanalyse auf Makroebene\n- Therapieplanung (bisherig)\n- Verlaufsdokumentation (Sitzungsnotizen)\n\neine strukturierte Rückmeldung zu geben mit dem Ziel:\n1. Wesentliche Schwerpunkte in der weiteren Therapieplanung zu identifizieren.\n2. Konkrete Interventionsideen zu formulieren, orientiert an den zugelassenen Stunden.\n3. Hinweise zu geben, worauf in der Strukturierung der Sitzungen geachtet werden sollte (z.B. Themenfokus, Symptomschwere, Therapiezielorientierung).\n\nBerücksichtige dabei:\n• Die begrenzte Anzahl genehmigter Stunden.\n• Dass Themen nicht zu häufig gewechselt werden sollen.\n• Die Konsistenz und Nachvollziehbarkeit im Verlauf.\n\nBitte plane deine Analyse gründlich und reflektiert. Handle in Etappen:\n1. Diagnostische Schwerpunkte benennen\n2. Therapieziele definieren\n3. Interventionsvorschläge machen\n4. Hinweise zur Dokumentation geben\n\nAtme einmal tief ein und aus und nehme dir Zeit für die Aufgabe. Mache bitte weiter, bis das Problem vollständig gelöst ist. Planen bitte ausführlich vor jeder Aktion.\n\nHier sind die Daten des aktuellen Falls:\n${patientenDatenText}\n\nBitte gib deine strukturierte Rückmeldung.`;\n    try {\n      const assistenz = await generateGeminiText(systemPrompt);\n      setTherapeutischeAssistenzOutput(assistenz);\n    } catch (e) {\n      setAssistenzError(`Fehler bei der Anforderung der therapeutischen Assistenz: ${e.message}`);\n    } finally {\n      setIsLoadingTherapeutischeAssistenz(false);\n    }\n  };\n  const handleAddScl90rResult = async result => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const newResultWithDate = {\n      ...result,\n      date: new Date().toISOString()\n    };\n    const updatedScl90rResults = [...(selectedPatient.scl90rResults || []), newResultWithDate];\n    updatedScl90rResults.sort((a, b) => new Date(b.date) - new Date(a.date)); // Neueste zuerst\n\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        scl90rResults: updatedScl90rResults\n      }, {\n        merge: true\n      });\n      // Optional: Feedback für den Benutzer, dass die Speicherung erfolgreich war\n    } catch (err) {\n      console.error(\"Error adding SCL-90-R result:\", err);\n      setAppError(\"Fehler beim Speichern des SCL-90-R Ergebnisses.\");\n    }\n  };\n  const handleRemoveScl90rResult = async dateToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedScl90rResults = selectedPatient.scl90rResults.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        scl90rResults: updatedScl90rResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing SCL-90-R result:\", err);\n      setAppError(\"Fehler beim Entfernen des SCL-90-R Ergebnisses.\");\n    }\n  };\n  const totalApprovedHours = patients.reduce((sum, p) => sum + (p.approvedHours || 0), 0);\n  const totalConductedHours = patients.reduce((sum, p) => sum + (p.conductedHours || 0), 0);\n  const overallProgressTarget = 600;\n  const overallProgress = overallProgressTarget > 0 ? totalConductedHours / overallProgressTarget * 100 : 0;\n  if (!isAuthReady) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center h-screen text-xl font-semibold text-gray-700\",\n    children: \"Authentifizierung wird initialisiert...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 871,\n    columnNumber: 28\n  }, this);\n  const bdiCutoffs = [{\n    y1: 0,\n    y2: 8,\n    label: \"Keine Depression\",\n    color: \"rgba(75, 192, 192, 0.2)\"\n  }, {\n    y1: 9,\n    y2: 13,\n    label: \"Minimale Depression\",\n    color: \"rgba(54, 162, 235, 0.2)\"\n  }, {\n    y1: 14,\n    y2: 19,\n    label: \"Leichte Depression\",\n    color: \"rgba(255, 206, 86, 0.2)\"\n  }, {\n    y1: 20,\n    y2: 28,\n    label: \"Mittelschwere Depression\",\n    color: \"rgba(255, 159, 64, 0.2)\"\n  }, {\n    y1: 29,\n    y2: 63,\n    label: \"Schwere Depression\",\n    color: \"rgba(255, 99, 132, 0.2)\"\n  }];\n  const bdiAxisTicks = [0, 8, 13, 19, 28, 63];\n  const inputStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\";\n  const btnPrimary = \"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm flex items-center justify-center\";\n  const btnDanger = \"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md flex items-center\";\n  const btnInfo = \"bg-sky-500 hover:bg-sky-600 text-white font-semibold py-1 px-2 text-xs rounded-md flex items-center\";\n  const textareaStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm min-h-[150px]\";\n\n  // Login / Registrierungs UI, wenn kein Benutzer angemeldet ist\n  if (!userId) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 flex flex-col justify-center items-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-xl shadow-2xl w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-center text-indigo-600 mb-8\",\n          children: isLoginView ? \"Login Patientenverwaltung\" : \"Registrierung\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 887,\n          columnNumber: 17\n        }, this), authError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-sm\",\n          children: authError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 890,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => {\n            e.preventDefault();\n            handleAuthAction(!isLoginView);\n          },\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"E-Mail Adresse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 893,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              id: \"email\",\n              required: true,\n              value: email,\n              onChange: e => setEmail(e.target.value),\n              className: inputStd\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 894,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 892,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"Passwort\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 899,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              id: \"password\",\n              required: true,\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              className: inputStd\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 900,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 898,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: isAuthLoading,\n            className: `${btnPrimary} w-full py-3 text-base ${isAuthLoading ? 'opacity-50 cursor-not-allowed' : ''}`,\n            children: isAuthLoading ? isLoginView ? \"Anmelden...\" : \"Registrieren...\" : isLoginView ? \"Anmelden\" : \"Registrieren\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 904,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 891,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setIsLoginView(!isLoginView);\n            setAuthError(null);\n          },\n          className: \"mt-6 text-sm text-indigo-600 hover:text-indigo-500 text-center w-full\",\n          children: isLoginView ? \"Noch kein Konto? Jetzt registrieren.\" : \"Bereits registriert? Zum Login.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 909,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 886,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 885,\n      columnNumber: 9\n    }, this);\n  }\n\n  // Hauptanwendung, wenn Benutzer angemeldet ist\n  if (isLoading && userId) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center h-screen text-xl font-semibold text-gray-700\",\n    children: \"Lade Patientendaten...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 919,\n    columnNumber: 35\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-indigo-700 text-white shadow-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold tracking-tight\",\n          children: \"Patientenverwaltung\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 925,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [userId && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs opacity-75 hidden sm:block\",\n            children: [\"UserID: \", userId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 927,\n            columnNumber: 28\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md text-sm flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(LogOut, {\n              className: \"mr-2 h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 929,\n              columnNumber: 21\n            }, this), \" Logout\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 928,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 926,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 924,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 923,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"container mx-auto p-4 sm:p-6 lg:p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        ref: overviewRef,\n        className: \"mb-6 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-gray-800\",\n          children: \"Patienten\\xFCbersicht\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 935,\n          columnNumber: 83\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setEditingPatient(null);\n            setIsPatientModalOpen(true);\n          },\n          className: `${btnPrimary} py-2 px-4`,\n          children: [/*#__PURE__*/_jsxDEV(UserPlus, {\n            className: \"w-5 h-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 935,\n            columnNumber: 279\n          }, this), \" Patient hinzuf\\xFCgen\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 935,\n          columnNumber: 159\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 935,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow-xl rounded-lg overflow-hidden mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full min-w-max table-auto text-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-100 border-b border-gray-300\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: ['Name', 'Chiffre', 'Diagnosen', 'Therapie', 'Stunden', 'Fortschritt', 'Aktionen'].map(header => /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-3 px-4 text-sm font-semibold text-gray-600 uppercase tracking-wider\",\n                  children: header\n                }, header, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 938,\n                  columnNumber: 172\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 938,\n                columnNumber: 69\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 938,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"divide-y divide-gray-200\",\n              children: [patients.length === 0 && !isLoading && /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"7\",\n                  className: \"text-center py-10 text-gray-500\",\n                  children: \"Keine Patienten gefunden. F\\xFCgen Sie einen neuen Patienten hinzu.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 940,\n                  columnNumber: 62\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 940,\n                columnNumber: 58\n              }, this), patients.map(patient => {\n                const progress = patient.approvedHours > 0 ? patient.conductedHours / patient.approvedHours * 100 : 0;\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: `hover:bg-indigo-50 cursor-pointer ${(selectedPatient === null || selectedPatient === void 0 ? void 0 : selectedPatient.id) === patient.id ? 'bg-indigo-100' : ''}`,\n                  onClick: () => {\n                    setSelectedPatient(patient);\n                    setActiveDetailTab('details');\n                    setSessionSummaries({});\n                    setTherapeutischeAssistenzOutput('');\n                    setAssistenzError(null);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm font-medium text-gray-800\",\n                    children: patient.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 945,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm text-gray-600\",\n                    children: patient.chiffre\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 946,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 text-sm text-gray-600 max-w-xs\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex flex-col space-y-1\",\n                      children: [(patient.diagnoses || []).slice(0, 4).map((diag, idx) => {\n                        const sicherheitMatch = diag.match(/^\\[([AVGZN]+)\\]/i);\n                        const sicherheit = sicherheitMatch ? sicherheitMatch[1].toUpperCase() : '';\n                        const colorClasses = {\n                          'G': 'bg-green-100 text-green-800 hover:bg-green-200',\n                          'V': 'bg-yellow-100 text-yellow-800 hover:bg-yellow-200',\n                          'A': 'bg-red-100 text-red-800 hover:bg-red-200',\n                          'ZN': 'bg-blue-100 text-blue-800 hover:bg-blue-200'\n                        }[sicherheit] || 'bg-gray-100 text-gray-800 hover:bg-gray-200';\n                        return /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `px-2 py-0.5 text-xs rounded-full truncate inline-block cursor-pointer ${colorClasses}`,\n                          onClick: e => {\n                            e.stopPropagation();\n                            showDiagnosisInfo(diag);\n                          },\n                          title: `Info zu ${diag} anzeigen`,\n                          children: diag\n                        }, idx, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 960,\n                          columnNumber: 41\n                        }, this);\n                      }), (patient.diagnoses || []).length > 4 && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs text-gray-500 mt-1\",\n                        children: \"...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 969,\n                        columnNumber: 41\n                      }, this), (patient.diagnoses || []).length === 0 && \"-\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 948,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 947,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm text-gray-600\",\n                    children: patient.therapyType\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 974,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm text-gray-600 text-center\",\n                    children: `${patient.conductedHours} / ${patient.approvedHours}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 975,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-full bg-gray-200 rounded-full h-2.5\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `h-2.5 rounded-full ${progress > 80 ? 'bg-red-500' : progress > 50 ? 'bg-yellow-400' : 'bg-green-500'}`,\n                        style: {\n                          width: `${Math.min(progress, 100)}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 978,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 977,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-500 block text-center mt-1\",\n                      children: [Math.round(progress), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 980,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 976,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: e => {\n                        e.stopPropagation();\n                        setEditingPatient(patient);\n                        setIsPatientModalOpen(true);\n                      },\n                      className: \"text-indigo-600 hover:text-indigo-800 transition duration-150 p-1 rounded hover:bg-indigo-100\",\n                      title: \"Bearbeiten\",\n                      children: /*#__PURE__*/_jsxDEV(Edit3, {\n                        className: \"w-5 h-5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 983,\n                        columnNumber: 265\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 983,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: e => {\n                        e.stopPropagation();\n                        openDeleteConfirmation(patient.id);\n                      },\n                      className: \"text-red-500 hover:text-red-700 transition duration-150 p-1 rounded hover:bg-red-100\",\n                      title: \"L\\xF6schen\",\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        className: \"w-5 h-5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 984,\n                        columnNumber: 232\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 984,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 982,\n                    columnNumber: 29\n                  }, this)]\n                }, patient.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 944,\n                  columnNumber: 25\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 939,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n              className: \"bg-gray-50 border-t-2 border-gray-300\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"4\",\n                  className: \"py-3 px-4 text-sm font-semibold text-gray-700 text-right\",\n                  children: \"Gesamt:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 992,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-3 px-4 text-sm font-semibold text-gray-700 text-center\",\n                  children: `${totalConductedHours} / ${totalApprovedHours}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 993,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-3 px-4 whitespace-nowrap\",\n                  colSpan: \"2\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-600 mr-3 w-auto\",\n                      children: \"Fortschritt (600 Std.):\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 996,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-full bg-gray-200 rounded-full h-2.5 flex-grow\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-blue-500 h-2.5 rounded-full\",\n                        style: {\n                          width: `${Math.min(overallProgress, 100)}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 998,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 997,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-600 ml-2\",\n                      children: [Math.round(overallProgress), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1000,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 995,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 994,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 991,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 990,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 937,\n            columnNumber: 110\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 937,\n          columnNumber: 77\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 937,\n        columnNumber: 9\n      }, this), selectedPatient && /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: detailViewRef,\n        className: \"bg-white shadow-xl rounded-lg p-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-semibold text-indigo-700\",\n            children: selectedPatient.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1010,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              if (overviewRef.current) {\n                overviewRef.current.scrollIntoView({\n                  behavior: 'smooth'\n                });\n              }\n              setTimeout(() => {\n                setSelectedPatient(null);\n                setSessionSummaries({});\n                setTherapeutischeAssistenzOutput('');\n                setAssistenzError(null);\n              }, 300);\n            },\n            className: \"text-gray-500 hover:text-gray-700\",\n            children: /*#__PURE__*/_jsxDEV(XCircle, {\n              className: \"w-7 h-7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1024,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1011,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1009,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b border-gray-200 mb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"nav\", {\n            className: \"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto\",\n            \"aria-label\": \"Tabs\",\n            children: ['details', 'krankheitsmodell', 'diagnostik', 'assistenz'].map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveDetailTab(tab),\n              className: `whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${activeDetailTab === tab ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n              children: [tab === 'details' && 'Stammdaten & Sitzungen', tab === 'krankheitsmodell' && 'Krankheitsmodell', tab === 'diagnostik' && 'Diagnostik', tab === 'assistenz' && 'Therap. Assistenz']\n            }, tab, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1031,\n              columnNumber: 25\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1029,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1028,\n          columnNumber: 13\n        }, this), activeDetailTab === 'details' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Chiffre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1045,\n                columnNumber: 26\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg text-gray-800\",\n                children: selectedPatient.chiffre\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1045,\n                columnNumber: 74\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1045,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Therapieform\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1046,\n                columnNumber: 26\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg text-gray-800\",\n                children: selectedPatient.therapyType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1046,\n                columnNumber: 79\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1046,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Genehmigte Stunden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1047,\n                columnNumber: 26\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg text-gray-800\",\n                children: selectedPatient.approvedHours\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1047,\n                columnNumber: 85\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1047,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"conductedHoursDetail\",\n                className: \"block text-sm font-medium text-gray-500\",\n                children: \"Durchgef\\xFChrte Stunden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1049,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  id: \"conductedHoursDetail\",\n                  value: editableConductedHours,\n                  onChange: e => setEditableConductedHours(e.target.value),\n                  onBlur: e => {\n                    let finalHours = parseInt(e.target.value, 10);\n                    if (isNaN(finalHours) || finalHours < 0) {\n                      finalHours = 0;\n                    } else if (selectedPatient && finalHours > selectedPatient.approvedHours) {\n                      finalHours = selectedPatient.approvedHours;\n                    }\n                    setEditableConductedHours(String(finalHours));\n                    if (selectedPatient) {\n                      handleUpdateConductedHours(selectedPatient.id, finalHours);\n                    }\n                  },\n                  min: \"0\",\n                  max: selectedPatient ? selectedPatient.approvedHours : undefined,\n                  className: inputStd + \" w-24\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1051,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 text-sm text-gray-600\",\n                  children: [\"/ \", selectedPatient.approvedHours]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1069,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1050,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1048,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1044,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-xl font-semibold text-gray-700 mb-3\",\n              children: \"ICD-10 F-Diagnosen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1074,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 p-4 bg-gray-50 rounded-md\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"newDiagnosisCode\",\n                    className: \"block text-xs font-medium text-gray-700\",\n                    children: \"Code (z.B. F32.2)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1078,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"newDiagnosisCode\",\n                    value: newDiagnosisCode,\n                    onChange: e => setNewDiagnosisCode(e.target.value.toUpperCase()),\n                    placeholder: \"F-Code\",\n                    className: `${inputStd} mt-1`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1079,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1077,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"newDiagnosisSicherheit\",\n                    className: \"block text-xs font-medium text-gray-700\",\n                    children: \"Sicherheit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1082,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    id: \"newDiagnosisSicherheit\",\n                    value: newDiagnosisSicherheit,\n                    onChange: e => setNewDiagnosisSicherheit(e.target.value),\n                    className: `${inputStd} mt-1`,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"G\",\n                      children: \"G (Gesichert)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1084,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"V\",\n                      children: \"V (Verdacht auf)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1085,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"A\",\n                      children: \"A (Ausschluss)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1086,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"ZN\",\n                      children: \"ZN (Zustand nach)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1087,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1083,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1081,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"md:col-span-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"newDiagnosisName\",\n                    className: \"block text-xs font-medium text-gray-700\",\n                    children: \"Manuelle Beschreibung (optional)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1091,\n                    columnNumber: 28\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"newDiagnosisName\",\n                    value: newDiagnosis,\n                    onChange: e => setNewDiagnosis(e.target.value),\n                    placeholder: \"Eigene Beschreibung\",\n                    className: `${inputStd} mt-1`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1092,\n                    columnNumber: 28\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1090,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleAddDiagnosis,\n                  className: `${btnPrimary} bg-green-500 hover:bg-green-600 py-2 px-3 h-10 md:self-end`,\n                  children: [/*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n                    className: \"w-5 h-5 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1094,\n                    columnNumber: 150\n                  }, this), \" Hinzuf\\xFCgen\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1094,\n                  columnNumber: 26\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1076,\n                columnNumber: 21\n              }, this), lookedUpDiagnosisName && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-indigo-600 mt-1\",\n                children: [\"Gefunden: \", lookedUpDiagnosisName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1096,\n                columnNumber: 47\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1075,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-1 mb-3\",\n              children: [(selectedPatient.diagnoses || []).map((diagString, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex justify-between items-center bg-gray-50 p-2 rounded-md\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-700\",\n                  children: diagString\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1101,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => showDiagnosisInfo(diagString),\n                    className: `${btnInfo} p-1`,\n                    title: \"Info zu dieser Diagnose abrufen\",\n                    children: [/*#__PURE__*/_jsxDEV(FileJson2, {\n                      className: \"w-4 h-4 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1104,\n                      columnNumber: 37\n                    }, this), \" Info\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1103,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleRemoveDiagnosis(diagString),\n                    className: `${btnDanger} p-1 text-xs`,\n                    children: /*#__PURE__*/_jsxDEV(Trash2, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1106,\n                      columnNumber: 130\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1106,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1102,\n                  columnNumber: 29\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1100,\n                columnNumber: 25\n              }, this)), (selectedPatient.diagnoses || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Keine Diagnosen erfasst.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1110,\n                columnNumber: 72\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1098,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1073,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-xl font-semibold text-gray-700 mb-3\",\n              children: \"Sitzungsdokumentation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1114,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 p-4 rounded-lg mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"sessionDate\",\n                    className: \"block text-sm font-medium text-gray-700\",\n                    children: \"Datum\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1115,\n                    columnNumber: 132\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"sessionDate\",\n                    value: newSessionDate,\n                    onChange: e => setNewSessionDate(e.target.value),\n                    className: inputStd\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1115,\n                    columnNumber: 226\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1115,\n                  columnNumber: 127\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"md:col-span-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"sessionNotes\",\n                    className: \"block text-sm font-medium text-gray-700\",\n                    children: \"Notizen\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1115,\n                    columnNumber: 396\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    id: \"sessionNotes\",\n                    value: newSessionNotes,\n                    onChange: e => setNewSessionNotes(e.target.value),\n                    rows: \"3\",\n                    placeholder: \"Sitzungsnotizen...\",\n                    className: inputStd\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1115,\n                    columnNumber: 493\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1115,\n                  columnNumber: 365\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1115,\n                columnNumber: 67\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleAddSession,\n                className: `${btnPrimary} bg-blue-500 hover:bg-blue-600`,\n                children: [/*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n                  className: \"w-5 h-5 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1115,\n                  columnNumber: 777\n                }, this), \" Sitzung hinzuf\\xFCgen\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1115,\n                columnNumber: 684\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1115,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-md font-semibold text-gray-600 mb-2\",\n              children: \"Protokollierte Sitzungen:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1116,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3 max-h-96 overflow-y-auto pr-2\",\n              children: [(selectedPatient.sessions || []).map((session, index) => {\n                var _sessionSummaries$ind, _sessionSummaries$ind2, _sessionSummaries$ind3, _sessionSummaries$ind4, _sessionSummaries$ind5;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white border border-gray-200 p-3 rounded-md shadow-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-start\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm font-semibold text-gray-700\",\n                      children: [\"Datum: \", new Date(session.date).toLocaleDateString('de-DE')]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1121,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => fetchSessionSummary(session.notes, index),\n                      disabled: (_sessionSummaries$ind = sessionSummaries[index]) === null || _sessionSummaries$ind === void 0 ? void 0 : _sessionSummaries$ind.isLoading,\n                      className: `${btnInfo} text-xs`,\n                      title: \"Sitzungsnotizen zusammenfassen\",\n                      children: (_sessionSummaries$ind2 = sessionSummaries[index]) !== null && _sessionSummaries$ind2 !== void 0 && _sessionSummaries$ind2.isLoading ? 'Lädt...' : '✨ Zusammenf.'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1122,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1120,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 whitespace-pre-wrap mt-1\",\n                    children: session.notes\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1128,\n                    columnNumber: 29\n                  }, this), ((_sessionSummaries$ind3 = sessionSummaries[index]) === null || _sessionSummaries$ind3 === void 0 ? void 0 : _sessionSummaries$ind3.summary) && !((_sessionSummaries$ind4 = sessionSummaries[index]) !== null && _sessionSummaries$ind4 !== void 0 && _sessionSummaries$ind4.isLoading) && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-2 p-2 bg-sky-50 border border-sky-200 rounded-md text-sm text-sky-700\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold\",\n                      children: \"Zusammenfassung:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1131,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"whitespace-pre-wrap\",\n                      children: sessionSummaries[index].summary\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1132,\n                      columnNumber: 37\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1130,\n                    columnNumber: 33\n                  }, this), ((_sessionSummaries$ind5 = sessionSummaries[index]) === null || _sessionSummaries$ind5 === void 0 ? void 0 : _sessionSummaries$ind5.error) && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-xs text-red-500\",\n                    children: [\"Fehler bei Zusammenfassung: \", sessionSummaries[index].error]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1136,\n                    columnNumber: 33\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1119,\n                  columnNumber: 25\n                }, this);\n              }), (selectedPatient.sessions || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Keine Sitzungen dokumentiert.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1140,\n                columnNumber: 71\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1117,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1113,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1043,\n          columnNumber: 15\n        }, this), activeDetailTab === 'krankheitsmodell' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"krankheitsanamnese\",\n              className: \"block text-lg font-semibold text-gray-700 mb-1\",\n              children: \"Krankheitsanamnese\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1149,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"krankheitsanamnese\",\n              name: \"krankheitsanamnese\",\n              rows: \"6\",\n              className: textareaStd,\n              value: editableKrankheitsanamnese,\n              onChange: e => setEditableKrankheitsanamnese(e.target.value),\n              onBlur: e => handleKrankheitsmodellChange('krankheitsanamnese', e.target.value),\n              placeholder: \"Hier die Krankheitsanamnese eintragen...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1150,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1148,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"lebensgeschichte\",\n              className: \"block text-lg font-semibold text-gray-700 mb-1\",\n              children: \"Lebensgeschichte / Biographie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1159,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"lebensgeschichte\",\n              name: \"lebensgeschichte\",\n              rows: \"6\",\n              className: textareaStd,\n              value: editableLebensgeschichte,\n              onChange: e => setEditableLebensgeschichte(e.target.value),\n              onBlur: e => handleKrankheitsmodellChange('lebensgeschichte', e.target.value),\n              placeholder: \"Wichtige Aspekte der Lebensgeschichte...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1160,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1158,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"problemanalyseMakro\",\n              className: \"block text-lg font-semibold text-gray-700 mb-1\",\n              children: \"Problemanalyse auf Makroebene\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1169,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"problemanalyseMakro\",\n              name: \"problemanalyseMakro\",\n              rows: \"6\",\n              className: textareaStd,\n              value: editableProblemanalyseMakro,\n              onChange: e => setEditableProblemanalyseMakro(e.target.value),\n              onBlur: e => handleKrankheitsmodellChange('problemanalyseMakro', e.target.value),\n              placeholder: \"Analyse der \\xFCbergeordneten Problembereiche...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1170,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1168,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"therapieplan\",\n              className: \"block text-lg font-semibold text-gray-700 mb-1\",\n              children: \"Therapieplan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1179,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"therapieplan\",\n              name: \"therapieplan\",\n              rows: \"6\",\n              className: textareaStd,\n              value: editableTherapieplan,\n              onChange: e => setEditableTherapieplan(e.target.value),\n              onBlur: e => handleKrankheitsmodellChange('therapieplan', e.target.value),\n              placeholder: \"Therapieziele und -ma\\xDFnahmen...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1180,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1178,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1147,\n          columnNumber: 17\n        }, this), activeDetailTab === 'diagnostik' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-b border-gray-200 mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"nav\", {\n              className: \"-mb-px flex space-x-6\",\n              \"aria-label\": \"Diagnostik Sub-Tabs\",\n              children: ['scl90r', 'hscl11', 'bdi2', 'fep2'].map(subTab => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveDiagnostikSubTab(subTab),\n                className: `whitespace-nowrap pb-2 px-1 border-b-2 font-medium text-sm ${activeDiagnostikSubTab === subTab ? 'border-purple-500 text-purple-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n                children: subTab.toUpperCase()\n              }, subTab, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1196,\n                columnNumber: 29\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1194,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1193,\n            columnNumber: 17\n          }, this), activeDiagnostikSubTab === 'scl90r' && /*#__PURE__*/_jsxDEV(SCL90RComponent, {\n            patient: selectedPatient,\n            onSaveResult: handleAddScl90rResult,\n            onDeleteResult: handleRemoveScl90rResult\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1205,\n            columnNumber: 19\n          }, this), activeDiagnostikSubTab === 'hscl11' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-xl font-semibold text-gray-700 mb-4\",\n              children: \"HSCL-11 Ergebnisse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1213,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 p-4 rounded-lg mb-6 shadow\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-md font-semibold text-gray-600 mb-3\",\n                children: \"Neues HSCL-11 Ergebnis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1215,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-3 items-end\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"hsclDate\",\n                    className: \"block text-sm font-medium text-gray-700\",\n                    children: \"Datum\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1217,\n                    columnNumber: 34\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"hsclDate\",\n                    value: newHsclDate,\n                    onChange: e => setNewHsclDate(e.target.value),\n                    className: inputStd\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1217,\n                    columnNumber: 125\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1217,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"hsclAngst\",\n                    className: \"block text-sm font-medium text-gray-700\",\n                    children: \"Angst (0-20)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1218,\n                    columnNumber: 34\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    id: \"hsclAngst\",\n                    value: newHsclAngst,\n                    onChange: e => setNewHsclAngst(e.target.value),\n                    min: \"0\",\n                    max: \"20\",\n                    className: inputStd\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1218,\n                    columnNumber: 133\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1218,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"hsclDepression\",\n                    className: \"block text-sm font-medium text-gray-700\",\n                    children: \"Depression (0-24)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1219,\n                    columnNumber: 34\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    id: \"hsclDepression\",\n                    value: newHsclDepression,\n                    onChange: e => setNewHsclDepression(e.target.value),\n                    min: \"0\",\n                    max: \"24\",\n                    className: inputStd\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1219,\n                    columnNumber: 143\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1219,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleAddHsclResult,\n                  className: `${btnPrimary} bg-teal-500 hover:bg-teal-600 h-10`,\n                  children: [/*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n                    className: \"w-5 h-5 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1220,\n                    columnNumber: 130\n                  }, this), \" Speichern\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1220,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1216,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1214,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-md font-semibold text-gray-600 mb-2\",\n                children: \"Protokollierte HSCL-11 Ergebnisse:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1224,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"space-y-2\",\n                children: [(selectedPatient.hscl11Results || []).map((result, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex justify-between items-center bg-white border p-3 rounded-md shadow-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: new Date(result.date).toLocaleDateString('de-DE')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1226,\n                      columnNumber: 201\n                    }, this), \": \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-gray-600 ml-2\",\n                      children: [\"Angst: \", result.angst]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1226,\n                      columnNumber: 291\n                    }, this), \", \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-gray-600 ml-2\",\n                      children: [\"Depression: \", result.depression]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1226,\n                      columnNumber: 366\n                    }, this), \", \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-gray-600 ml-2\",\n                      children: [\"Gesamt: \", result.cumulative]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1226,\n                      columnNumber: 451\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1226,\n                    columnNumber: 196\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleRemoveHsclResult(result.date),\n                    className: `${btnDanger} p-1 text-xs`,\n                    children: /*#__PURE__*/_jsxDEV(Trash2, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1226,\n                      columnNumber: 635\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1226,\n                    columnNumber: 536\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1226,\n                  columnNumber: 93\n                }, this)), (selectedPatient.hscl11Results || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: \"Keine HSCL-11 Ergebnisse erfasst.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1227,\n                  columnNumber: 84\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1225,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1223,\n              columnNumber: 21\n            }, this), (selectedPatient.hscl11Results || []).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-md font-semibold text-gray-600 mb-3\",\n                children: \"Verlaufsgraph HSCL-11\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1231,\n                columnNumber: 30\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white p-4 rounded-lg shadow\",\n                style: {\n                  height: '400px'\n                },\n                children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                  width: \"100%\",\n                  height: \"100%\",\n                  children: /*#__PURE__*/_jsxDEV(LineChart, {\n                    data: (selectedPatient.hscl11Results || []).map(r => ({\n                      ...r,\n                      date: new Date(r.date).toLocaleDateString('de-DE')\n                    })),\n                    margin: {\n                      top: 5,\n                      right: 30,\n                      left: 0,\n                      bottom: 5\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                      strokeDasharray: \"3 3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1233,\n                      columnNumber: 255\n                    }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                      dataKey: \"date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1233,\n                      columnNumber: 294\n                    }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                      domain: [0, 44]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1233,\n                      columnNumber: 318\n                    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1233,\n                      columnNumber: 344\n                    }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1233,\n                      columnNumber: 355\n                    }, this), /*#__PURE__*/_jsxDEV(Line, {\n                      type: \"monotone\",\n                      dataKey: \"angst\",\n                      name: \"Angst\",\n                      stroke: \"#8884d8\",\n                      activeDot: {\n                        r: 8\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1233,\n                      columnNumber: 365\n                    }, this), /*#__PURE__*/_jsxDEV(Line, {\n                      type: \"monotone\",\n                      dataKey: \"depression\",\n                      name: \"Depression\",\n                      stroke: \"#82ca9d\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1233,\n                      columnNumber: 456\n                    }, this), /*#__PURE__*/_jsxDEV(Line, {\n                      type: \"monotone\",\n                      dataKey: \"cumulative\",\n                      name: \"Gesamt\",\n                      stroke: \"#ffc658\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1233,\n                      columnNumber: 536\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1233,\n                    columnNumber: 77\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1233,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1232,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1231,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1212,\n            columnNumber: 19\n          }, this), activeDiagnostikSubTab === 'bdi2' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-xl font-semibold text-gray-700 mb-4\",\n              children: \"BDI-II Ergebnisse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1240,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 p-4 rounded-lg mb-6 shadow\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-md font-semibold text-gray-600 mb-3\",\n                children: \"Neues BDI-II Ergebnis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1242,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3 items-end\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"bdiDate\",\n                    className: \"block text-sm font-medium text-gray-700\",\n                    children: \"Datum\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1244,\n                    columnNumber: 34\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"bdiDate\",\n                    value: newBdiDate,\n                    onChange: e => setNewBdiDate(e.target.value),\n                    className: inputStd\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1244,\n                    columnNumber: 124\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1244,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"bdiScore\",\n                    className: \"block text-sm font-medium text-gray-700\",\n                    children: \"BDI-II Wert (0-63)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1245,\n                    columnNumber: 34\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    id: \"bdiScore\",\n                    value: newBdiScore,\n                    onChange: e => setNewBdiScore(e.target.value),\n                    min: \"0\",\n                    max: \"63\",\n                    className: inputStd\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1245,\n                    columnNumber: 138\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1245,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleAddBdiResult,\n                  className: `${btnPrimary} h-10`,\n                  children: [/*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n                    className: \"w-5 h-5 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1246,\n                    columnNumber: 99\n                  }, this), \" Speichern\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1246,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1243,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1241,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-md font-semibold text-gray-600 mb-2\",\n                children: \"Protokollierte BDI-II Ergebnisse:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1250,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"space-y-2\",\n                children: [(selectedPatient.bdi2Results || []).map((result, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex justify-between items-center bg-white border p-3 rounded-md shadow-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: new Date(result.date).toLocaleDateString('de-DE')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1252,\n                      columnNumber: 199\n                    }, this), \": \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-700\",\n                      children: [\"Score \", result.score]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1252,\n                      columnNumber: 289\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1252,\n                    columnNumber: 194\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleRemoveBdiResult(result.date),\n                    className: `${btnDanger} p-1 text-xs`,\n                    children: /*#__PURE__*/_jsxDEV(Trash2, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1252,\n                      columnNumber: 452\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1252,\n                    columnNumber: 354\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1252,\n                  columnNumber: 91\n                }, this)), (selectedPatient.bdi2Results || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: \"Keine BDI-II Ergebnisse erfasst.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1253,\n                  columnNumber: 82\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1251,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1249,\n              columnNumber: 21\n            }, this), (selectedPatient.bdi2Results || []).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-md font-semibold text-gray-600 mb-3\",\n                children: \"Verlaufsgraph BDI-II\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1257,\n                columnNumber: 30\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white p-4 rounded-lg shadow\",\n                style: {\n                  height: '400px'\n                },\n                children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                  width: \"100%\",\n                  height: \"100%\",\n                  children: /*#__PURE__*/_jsxDEV(LineChart, {\n                    data: (selectedPatient.bdi2Results || []).map(r => ({\n                      ...r,\n                      date: new Date(r.date).toLocaleDateString('de-DE')\n                    })),\n                    margin: {\n                      top: 5,\n                      right: 30,\n                      left: 0,\n                      bottom: 20\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                      strokeDasharray: \"3 3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1261,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                      dataKey: \"date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1262,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                      domain: [0, 63],\n                      ticks: bdiAxisTicks,\n                      allowDataOverflow: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1263,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1264,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(Legend, {\n                      verticalAlign: \"top\",\n                      height: 36\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1265,\n                      columnNumber: 37\n                    }, this), bdiCutoffs.map(cutoff => /*#__PURE__*/_jsxDEV(ReferenceArea, {\n                      y1: cutoff.y1,\n                      y2: cutoff.y2,\n                      fill: cutoff.color,\n                      strokeOpacity: 0.3,\n                      label: /*#__PURE__*/_jsxDEV(CustomBdiLabel, {\n                        text: cutoff.label,\n                        y: cutoff.y2 - (cutoff.y2 - cutoff.y1) / 2\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1266,\n                        columnNumber: 176\n                      }, this)\n                    }, cutoff.label, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1266,\n                      columnNumber: 65\n                    }, this)), /*#__PURE__*/_jsxDEV(Line, {\n                      type: \"monotone\",\n                      dataKey: \"score\",\n                      name: \"BDI-II Score\",\n                      stroke: \"#3b82f6\",\n                      strokeWidth: 2,\n                      activeDot: {\n                        r: 8\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1267,\n                      columnNumber: 37\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1260,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1259,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1258,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1257,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1239,\n            columnNumber: 19\n          }, this), activeDiagnostikSubTab === 'fep2' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-xl font-semibold text-gray-700 mb-4\",\n              children: \"FEP-2 Erfassung & Auswertung\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1276,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 p-4 rounded-lg mb-6 shadow\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-md font-semibold text-gray-600 mb-3\",\n                children: \"Neues FEP-2 Ergebnis hinzuf\\xFCgen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1278,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"fepDate\",\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Datum der Erhebung\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1279,\n                  columnNumber: 47\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  id: \"fepDate\",\n                  value: newFepDate,\n                  onChange: e => setNewFepDate(e.target.value),\n                  className: `${inputStd} w-full md:w-1/3`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1279,\n                  columnNumber: 150\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1279,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-x-4 gap-y-3 mb-4\",\n                children: fepItemScores.map((score, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: `fepItem${index + 1}`,\n                    className: \"block text-xs font-medium text-gray-600\",\n                    children: [\"Item \", index + 1]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1281,\n                    columnNumber: 85\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    id: `fepItem${index + 1}`,\n                    value: score === 0 ? '' : score,\n                    onChange: e => handleFepItemChange(index, e.target.value),\n                    min: \"1\",\n                    max: \"5\",\n                    placeholder: \"1-5\",\n                    className: `${inputStd} px-2 py-1`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1281,\n                    columnNumber: 196\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1281,\n                  columnNumber: 68\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1280,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleAddFepResult,\n                className: btnPrimary,\n                children: [/*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n                  className: \"w-5 h-5 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1283,\n                  columnNumber: 85\n                }, this), \" FEP-2 Ergebnis speichern\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1283,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1277,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-md font-semibold text-gray-600 mb-2\",\n                children: \"Protokollierte FEP-2 Ergebnisse:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1286,\n                columnNumber: 25\n              }, this), (selectedPatient.fep2Results || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Keine FEP-2 Ergebnisse erfasst.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1287,\n                columnNumber: 78\n              }, this), (selectedPatient.fep2Results || []).map((result, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white border p-4 rounded-md shadow-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium text-indigo-600\",\n                    children: [\"Datum: \", new Date(result.date).toLocaleDateString('de-DE')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1290,\n                    columnNumber: 89\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleRemoveFepResult(result.date),\n                    className: `${btnDanger} p-1 text-xs`,\n                    children: /*#__PURE__*/_jsxDEV(Trash2, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1290,\n                      columnNumber: 292\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1290,\n                    columnNumber: 194\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1290,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-1 text-sm\",\n                  children: Object.entries(result.calculatedScales).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600 capitalize\",\n                      children: [key.replace(/_/g, ' '), \":\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1292,\n                      columnNumber: 150\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-gray-800\",\n                      children: [value === null ? 'N/A (zu wenige Items)' : value, \" \", key === 'gesamtbelastung' && value !== null && (value > 2.49 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"ml-1 text-red-500\",\n                        children: \"(Belastet)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1292,\n                        columnNumber: 384\n                      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"ml-1 text-green-500\",\n                        children: \"(Nicht Belastet)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1292,\n                        columnNumber: 440\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1292,\n                      columnNumber: 225\n                    }, this)]\n                  }, key, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1292,\n                    columnNumber: 102\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1291,\n                  columnNumber: 33\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1289,\n                columnNumber: 29\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1285,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1275,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1192,\n          columnNumber: 15\n        }, this), activeDetailTab === 'assistenz' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-gray-700 mb-4\",\n            children: \"Therapeutische Assistenz\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1303,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleTherapeutischeAssistenzAnfordern,\n            disabled: isLoadingTherapeutischeAssistenz,\n            className: `${btnPrimary} bg-purple-600 hover:bg-purple-700 mb-4 flex items-center`,\n            children: [/*#__PURE__*/_jsxDEV(WandSparkles, {\n              className: \"mr-2 h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1309,\n              columnNumber: 25\n            }, this), isLoadingTherapeutischeAssistenz ? \"Analysiere Daten...\" : \"Expertenfeedback anfordern\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1304,\n            columnNumber: 21\n          }, this), isLoadingTherapeutischeAssistenz && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-10\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-700 mx-auto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1315,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-3 text-gray-600\",\n              children: \"Bitte warten, die KI analysiert die Patientendaten...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1316,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1314,\n            columnNumber: 25\n          }, this), assistenzError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n            role: \"alert\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold\",\n              children: \"Fehler bei der Assistenz\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1322,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: assistenzError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1323,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1321,\n            columnNumber: 25\n          }, this), therapeutischeAssistenzOutput && !isLoadingTherapeutischeAssistenz && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 p-4 bg-gray-50 rounded-md border\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-lg font-semibold text-gray-800 mb-2\",\n              children: \"Vorschl\\xE4ge des Expertenteams:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1329,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed\",\n              children: therapeutischeAssistenzOutput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1330,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1328,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1302,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1008,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: isPatientModalOpen,\n        onClose: () => {\n          setIsPatientModalOpen(false);\n          setEditingPatient(null);\n        },\n        title: editingPatient ? 'Patient bearbeiten' : 'Neuen Patienten anlegen',\n        children: /*#__PURE__*/_jsxDEV(PatientForm, {\n          patient: editingPatient,\n          onSave: handleSavePatient,\n          onCancel: () => {\n            setIsPatientModalOpen(false);\n            setEditingPatient(null);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1340,\n          columnNumber: 193\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1340,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ConfirmationModal, {\n        isOpen: isConfirmDeleteModalOpen,\n        onClose: () => setIsConfirmDeleteModalOpen(false),\n        onConfirm: confirmDeletePatient,\n        title: \"Patient l\\xF6schen\",\n        message: `Möchten Sie den Patienten wirklich endgültig löschen?`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1341,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: diagnosisInfo.isOpen,\n        onClose: () => setDiagnosisInfo(prev => ({\n          ...prev,\n          isOpen: false\n        })),\n        title: `${diagnosisInfo.source === 'local' ? 'Lokale ICD-10 Info' : 'Gemini ICD-10 Info'}: ${diagnosisInfo.code || ''}`,\n        size: \"3xl\",\n        children: [diagnosisInfo.isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center py-4\",\n          children: \"Informationen werden geladen...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1344,\n          columnNumber: 41\n        }, this), diagnosisInfo.error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-600 bg-red-100 p-3 rounded-md\",\n          children: [\"Fehler: \", diagnosisInfo.error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1345,\n          columnNumber: 37\n        }, this), !diagnosisInfo.isLoading && diagnosisInfo.source === 'gemini' && diagnosisInfo.info && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed p-2\",\n          children: diagnosisInfo.info\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1347,\n          columnNumber: 17\n        }, this), !diagnosisInfo.isLoading && diagnosisInfo.source === 'local' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-700 leading-relaxed p-2 space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-indigo-700\",\n            children: [diagnosisInfo.name, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500 text-base\",\n              children: [\"(\", diagnosisInfo.code, \") \", diagnosisInfo.sicherheit && `[${diagnosisInfo.sicherheit}]`]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1351,\n              columnNumber: 96\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1351,\n            columnNumber: 21\n          }, this), diagnosisInfo.zusatz_info_code && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500\",\n            children: [\"Zusatz: \", diagnosisInfo.zusatz_info_code]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1352,\n            columnNumber: 56\n          }, this), diagnosisInfo.beschreibung && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"font-medium text-gray-800\",\n              children: \"Beschreibung:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1353,\n              columnNumber: 55\n            }, this), \" \", diagnosisInfo.beschreibung]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1353,\n            columnNumber: 52\n          }, this), diagnosisInfo.inkl && diagnosisInfo.inkl.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"font-medium text-gray-800\",\n              children: \"Inklusionen:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1355,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc list-inside ml-4\",\n              children: diagnosisInfo.inkl.map((item, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: item\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1355,\n                columnNumber: 177\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1355,\n              columnNumber: 97\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1355,\n            columnNumber: 25\n          }, this), diagnosisInfo.exkl && diagnosisInfo.exkl.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"font-medium text-gray-800\",\n              children: \"Exklusionen:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1358,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc list-inside ml-4\",\n              children: diagnosisInfo.exkl.map((item, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: item\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1358,\n                columnNumber: 177\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1358,\n              columnNumber: 97\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1358,\n            columnNumber: 25\n          }, this), diagnosisInfo.hinweise && diagnosisInfo.hinweise.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"font-medium text-gray-800\",\n              children: \"Hinweise:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1361,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc list-inside ml-4\",\n              children: diagnosisInfo.hinweise.map((item, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: item\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1361,\n                columnNumber: 178\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1361,\n              columnNumber: 94\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1361,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1350,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1343,\n        columnNumber: 9\n      }, this), appError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed bottom-4 right-4 p-4 max-w-sm text-sm text-red-700 bg-red-100 border border-red-400 rounded-md shadow-lg z-[100]\",\n        children: [appError, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setAppError(null),\n          className: \"ml-4 mt-2 sm:mt-0 sm:ml-2 px-2 py-1 text-red-900 underline rounded-md hover:bg-red-200 text-xs\",\n          children: \"Ok\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1367,\n          columnNumber: 169\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1367,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 934,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"text-center py-6 text-sm text-gray-500 border-t border-gray-200 mt-10\",\n      children: [\"Patientenverwaltung \\xA9 \", new Date().getFullYear()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1369,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 922,\n    columnNumber: 5\n  }, this);\n}\n_s3(App, \"SrQCkp/Vr1SG0WivFC27XmJNhqk=\");\n_c5 = App;\nconst CustomBdiLabel = props => {\n  const {\n    x,\n    y,\n    width,\n    text\n  } = props;\n  if (typeof x !== 'number' || isNaN(x) || typeof y !== 'number' || isNaN(y) || typeof width !== 'number' || isNaN(width) || width <= 0) {\n    return null;\n  }\n  const labelX = x + width / 2;\n  return /*#__PURE__*/_jsxDEV(\"text\", {\n    x: labelX,\n    y: y,\n    fill: \"#666\",\n    textAnchor: \"middle\",\n    dy: -4,\n    fontSize: \"10\",\n    children: text\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1382,\n    columnNumber: 14\n  }, this);\n};\n_c6 = CustomBdiLabel;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"SCL90RComponent\");\n$RefreshReg$(_c2, \"Modal\");\n$RefreshReg$(_c3, \"ConfirmationModal\");\n$RefreshReg$(_c4, \"PatientForm\");\n$RefreshReg$(_c5, \"App\");\n$RefreshReg$(_c6, \"CustomBdiLabel\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","initializeApp","getAuth","onAuthStateChanged","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","getFirestore","collection","doc","addDoc","getDocs","setDoc","deleteDoc","onSnapshot","query","writeBatch","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","ReferenceArea","jsxDEV","_jsxDEV","SCL90RComponent","patient","onSaveResult","onDeleteResult","_s","age","setAge","gender","setGender","itemScores","setItemScores","Array","fill","results","setResults","handleItemChange","index","value","newScores","numValue","parseInt","resetForm","calculateResults","parsedAge","isNaN","alert","parsedGender","parsedItemScores","map","score","val","Error","calculatedResults","rawScores","tScores","globalScores","gsi","pst","psdi","interpretation","handleSave","children","className","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","id","onChange","e","target","placeholder","min","max","onClick","scl90rResults","length","result","Date","date","toLocaleDateString","GSI","title","Trash2","_c","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","auth","db","firestoreAppId","initialPatientsData","name","chiffre","therapyType","approvedHours","conductedHours","diagnoses","sessions","notes","hscl11Results","bdi2Results","fep2Results","krankheitsanamnese","lebensgeschichte","problemanalyseMakro","therapieplan","Modal","isOpen","onClose","size","sizeClasses","sm","md","lg","xl","XCircle","_c2","ConfirmationModal","onConfirm","message","AlertTriangle","_c3","PatientForm","onSave","onCancel","_s2","formData","setFormData","handleChange","prev","handleSubmit","preventDefault","onSubmit","required","Save","_c4","FEP2_ITEMS_TO_REVERSE","FEP2_SKALEN_DEFINITION","WOHLBEFINDEN","items","minItemsRequired","BESCHWERDEN","BESCHWERDEN_ANGST","BESCHWERDEN_DEPRESSIVITAET","INTERPERSONALE_BEZIEHUNG","INTERPERSONALE_INTROVERTIERT_SCHEU","INTERPERSONALE_AUSNUTZBAR_NACHGIEBIG","INTERPERSONALE_KONKURRIEREND_UNTERSTUETZEND","INTERPERSONALE_SELBSTUNSICHER_ZURUECKHALTEND","KONGRUENZ","calculateFep2Scores","itemScoresRaw","itemNum","includes","answeredItemsCount","filter","calculatedScales","sum","reduce","acc","gesamtbelastung","parseFloat","toFixed","skalaName","def","count","forEach","toLowerCase","generateGeminiText","prompt","chatHistory","role","parts","text","payload","contents","GEMINI_API_KEY","__GEMINI_API_KEY__","apiUrl","response","fetch","method","headers","body","JSON","stringify","ok","_errorData$error","errorData","json","console","error","errorMessage","status","candidates","content","finishReason","warn","App","_s3","patients","setPatients","selectedPatient","setSelectedPatient","isLoading","setIsLoading","authError","setAuthError","appError","setAppError","userId","setUserId","isAuthReady","setIsAuthReady","email","setEmail","password","setPassword","isLoginView","setIsLoginView","isAuthLoading","setIsAuthLoading","isPatientModalOpen","setIsPatientModalOpen","editingPatient","setEditingPatient","isConfirmDeleteModalOpen","setIsConfirmDeleteModalOpen","patientToDeleteId","setPatientToDeleteId","newDiagnosis","setNewDiagnosis","newDiagnosisCode","setNewDiagnosisCode","newDiagnosisSicherheit","setNewDiagnosisSicherheit","lookedUpDiagnosisName","setLookedUpDiagnosisName","newSessionDate","setNewSessionDate","toISOString","split","newSessionNotes","setNewSessionNotes","activeDetailTab","setActiveDetailTab","activeDiagnostikSubTab","setActiveDiagnostikSubTab","newHsclDate","setNewHsclDate","newHsclAngst","setNewHsclAngst","newHsclDepression","setNewHsclDepression","newBdiDate","setNewBdiDate","newBdiScore","setNewBdiScore","newFepDate","setNewFepDate","fepItemScores","setFepItemScores","sessionSummaries","setSessionSummaries","diagnosisInfo","setDiagnosisInfo","code","beschreibung","inkl","exkl","hinweise","zusatz_info_code","sicherheit","source","localIcd10Data","setLocalIcd10Data","editableConductedHours","setEditableConductedHours","editableKrankheitsanamnese","setEditableKrankheitsanamnese","editableLebensgeschichte","setEditableLebensgeschichte","editableProblemanalyseMakro","setEditableProblemanalyseMakro","editableTherapieplan","setEditableTherapieplan","therapeutischeAssistenzOutput","setTherapeutischeAssistenzOutput","isLoadingTherapeutischeAssistenz","setIsLoadingTherapeutischeAssistenz","assistenzError","setAssistenzError","detailViewRef","overviewRef","then","data","indexedData","item","toUpperCase","log","catch","undefined","String","current","setTimeout","scrollIntoView","behavior","block","findIcd10CodeLocal","codeToFind","upperCodeToFind","found","baseCode","replace","possibleCategoryCode","Object","keys","find","key","startsWith","code_kategorie","trim","getPatientsCollectionPath","unsubscribe","user","uid","seedInitialData","collectionPath","patientsCollection","querySnapshot","empty","batch","patientData","newPatientRef","set","commit","err","patientsQuery","snapshot","patientsData","docs","docSnap","sort","a","b","localeCompare","currentPatientDataFromList","p","handleAuthAction","isRegistering","handleLogout","handleSavePatient","dataToSave","patientRef","merge","openDeleteConfirmation","patientId","confirmDeletePatient","handleAddDiagnosis","codeToAdd","sicherheitPrefix","diagnosisString","updatedDiagnoses","handleRemoveDiagnosis","diagnosisStringToRemove","d","handleAddSession","newSession","updatedSessions","handleUpdateConductedHours","hours","handleAddHsclResult","angst","depression","newResult","cumulative","updatedHsclResults","handleRemoveHsclResult","dateToRemove","r","handleAddBdiResult","updatedBdiResults","handleRemoveBdiResult","handleFepItemChange","handleAddFepResult","answeredCount","s","updatedFepResults","handleRemoveFepResult","fetchSessionSummary","sessionNotes","sessionIndex","summary","showDiagnosisInfo","sicherheitMatch","match","codeAndName","substring","codeMatch","localData","beschreibung_kategorie","hinweise_kategorie","fetchDiagnosisInfoGemini","diagnosisCode","info","handleKrankheitsmodellChange","fieldName","handleTherapeutischeAssistenzAnfordern","patientenDatenText","i","join","systemPrompt","assistenz","handleAddScl90rResult","newResultWithDate","updatedScl90rResults","handleRemoveScl90rResult","totalApprovedHours","totalConductedHours","overallProgressTarget","overallProgress","bdiCutoffs","y1","y2","label","color","bdiAxisTicks","inputStd","btnPrimary","btnDanger","btnInfo","textareaStd","disabled","LogOut","ref","UserPlus","header","colSpan","progress","slice","diag","idx","colorClasses","stopPropagation","style","width","Math","round","Edit3","tab","onBlur","finalHours","PlusCircleIcon","diagString","FileJson2","rows","session","_sessionSummaries$ind","_sessionSummaries$ind2","_sessionSummaries$ind3","_sessionSummaries$ind4","_sessionSummaries$ind5","subTab","height","margin","top","right","left","bottom","strokeDasharray","dataKey","domain","stroke","activeDot","ticks","allowDataOverflow","verticalAlign","cutoff","strokeOpacity","CustomBdiLabel","y","strokeWidth","entries","WandSparkles","getFullYear","_c5","props","x","labelX","textAnchor","dy","fontSize","_c6","$RefreshReg$"],"sources":["/Users/julianrogowski/Desktop/patientenverwaltung-app/src/App.js"],"sourcesContent":["/* global __GEMINI_API_KEY__ */\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { \n    getAuth, \n    onAuthStateChanged, \n    createUserWithEmailAndPassword, \n    signInWithEmailAndPassword,\n    signOut \n} from 'firebase/auth'; \nimport { getFirestore, collection, doc, addDoc, getDocs, setDoc, deleteDoc, onSnapshot, query, writeBatch } from 'firebase/firestore';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, ReferenceArea } from 'recharts';\n\n// SCL-90-R Component (ehemals separate Datei, jetzt integriert)\nconst SCL90RComponent = ({ patient, onSaveResult, onDeleteResult }) => {\n    const [age, setAge] = useState('');\n    const [gender, setGender] = useState('1'); // '1' für männlich, '2' für weiblich\n    const [itemScores, setItemScores] = useState(Array(90).fill(''));\n    const [results, setResults] = useState(null);\n\n    const handleItemChange = (index, value) => {\n        const newScores = [...itemScores];\n        const numValue = parseInt(value, 10);\n        if (value === '' || (numValue >= 0 && numValue <= 4)) {\n            newScores[index] = value;\n            setItemScores(newScores);\n        }\n    };\n\n    const resetForm = () => {\n        setAge('');\n        setGender('1');\n        setItemScores(Array(90).fill(''));\n        setResults(null);\n    };\n\n    const calculateResults = () => {\n        // Implementierung der Logik aus dem bereitgestellten HTML/JS\n        const parsedAge = parseInt(age, 10);\n        if (isNaN(parsedAge) || parsedAge <= 0) {\n            alert('Bitte geben Sie ein gültiges Alter an.');\n            return;\n        }\n\n        const parsedGender = parseInt(gender, 10);\n        const parsedItemScores = itemScores.map((score, index) => {\n            const val = parseInt(score, 10);\n            if (isNaN(val) || val < 0 || val > 4) {\n                // Hier könnte man eine bessere Fehlermeldung implementieren\n                throw new Error(`Ungültiger Wert für Item ${index + 1}. Bitte geben Sie eine Zahl zwischen 0 und 4 ein.`);\n            }\n            return val;\n        });\n\n        // ... hier kommt die komplexe Berechnungslogik für SCL-90-R ...\n        // Dies ist eine vereinfachte Darstellung der Logik\n        const calculatedResults = {\n            rawScores: { 'Somatisierung': 10, 'Zwanghaftigkeit': 5 }, // Beispiel\n            tScores: { 'Somatisierung': 65, 'Zwanghaftigkeit': 55 }, // Beispiel\n            globalScores: { gsi: 1.2, pst: 45, psdi: 1.8 }, // Beispiel\n            interpretation: \"Basierend auf den Werten ist eine erhöhte Somatisierungsneigung zu erkennen.\" // Beispiel\n        };\n        \n        setResults(calculatedResults);\n    };\n    \n    const handleSave = () => {\n        if(results) {\n            onSaveResult(results);\n            alert(\"Ergebnis gespeichert!\");\n        } else {\n            alert(\"Bitte berechnen Sie zuerst die Auswertung.\");\n        }\n    };\n    \n    return (\n        <div>\n            <h4 className=\"text-xl font-semibold text-gray-700 mb-4\">SCL-90-R Erfassung & Auswertung</h4>\n            \n            {/* Eingabebereich */}\n            <div className=\"bg-white p-6 rounded-2xl shadow-lg mb-8\">\n                <h2 className=\"text-2xl font-semibold mb-4 text-gray-800 border-b pb-2\">Patientendaten & Items</h2>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\n                    <div>\n                        <label htmlFor=\"scl-age\" className=\"block text-sm font-medium text-gray-700 mb-1\">Alter</label>\n                        <input type=\"number\" id=\"scl-age\" value={age} onChange={(e) => setAge(e.target.value)} className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm h-10 px-3\" placeholder=\"z.B. 35\" />\n                    </div>\n                    <div>\n                        <label htmlFor=\"scl-gender\" className=\"block text-sm font-medium text-gray-700 mb-1\">Geschlecht</label>\n                        <select id=\"scl-gender\" value={gender} onChange={(e) => setGender(e.target.value)} className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm h-10 px-2\">\n                            <option value=\"1\">Männlich</option>\n                            <option value=\"2\">Weiblich</option>\n                        </select>\n                    </div>\n                </div>\n\n                <div className=\"grid grid-cols-5 md:grid-cols-10 gap-4\">\n                    {itemScores.map((score, index) => (\n                        <div key={index} className=\"flex flex-col\">\n                            <label htmlFor={`item-${index}`} className=\"mb-1 text-sm font-medium text-gray-600\">Item {index + 1}</label>\n                            <input type=\"number\" id={`item-${index}`} value={score} onChange={(e) => handleItemChange(index, e.target.value)} min=\"0\" max=\"4\" className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm h-10 px-2 text-center\"/>\n                        </div>\n                    ))}\n                </div>\n            </div>\n\n            {/* Aktionen */}\n            <div className=\"flex flex-col sm:flex-row justify-center items-center gap-4 mb-8\">\n                <button onClick={calculateResults} className=\"w-full sm:w-auto bg-indigo-600 text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-transform transform hover:scale-105\">\n                    Auswertung berechnen\n                </button>\n                <button onClick={resetForm} className=\"w-full sm:w-auto bg-gray-200 text-gray-700 font-semibold py-3 px-8 rounded-lg shadow-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 transition-transform transform hover:scale-105\">\n                    Zurücksetzen\n                </button>\n                {results && (\n                     <button onClick={handleSave} className=\"w-full sm:w-auto bg-green-600 text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-transform transform hover:scale-105\">\n                        Ergebnis Speichern\n                    </button>\n                )}\n            </div>\n\n            {/* Ergebnisbereich */}\n            {results && (\n                 <div className=\"bg-white p-6 rounded-2xl shadow-lg\">\n                    <h2 className=\"text-2xl font-semibold mb-6 text-gray-800 border-b pb-3\">Ergebnisse der Auswertung</h2>\n                     {/* Hier könnten Chart und Tabelle der Ergebnisse angezeigt werden, basierend auf dem `results`-State */}\n                     <div className=\"mt-8\">\n                        <h3 className=\"text-xl font-semibold mb-4 text-gray-700\">Kurz-Interpretation</h3>\n                        <div className=\"space-y-4 text-gray-700 whitespace-pre-wrap\">{results.interpretation}</div>\n                    </div>\n                 </div>\n            )}\n            \n            {/* Bestehende SCL-90-R Ergebnisse anzeigen */}\n            <div className=\"mt-8\">\n                <h3 className=\"text-xl font-semibold mb-4 text-gray-700\">Protokollierte SCL-90-R Ergebnisse</h3>\n                 {(patient.scl90rResults || []).length === 0 ? (\n                    <p className=\"text-sm text-gray-500\">Keine SCL-90-R Ergebnisse für diesen Patienten erfasst.</p>\n                ) : (\n                    <ul className=\"space-y-2\">\n                        {(patient.scl90rResults || []).map((result, index) => (\n                            <li key={index} className=\"bg-white p-3 rounded-md shadow-sm border flex justify-between items-center\">\n                                <div>\n                                    <span className=\"font-medium text-indigo-600\">Datum: {new Date(result.date).toLocaleDateString('de-DE')}</span>\n                                    <span className=\"ml-4 text-sm text-gray-600\">GSI T-Wert: <span className=\"font-bold\">{result.tScores.GSI}</span></span>\n                                </div>\n                                <button onClick={() => onDeleteResult(result.date)} className=\"text-red-500 hover:text-red-700 transition duration-150 p-1 rounded hover:bg-red-100\" title=\"Dieses Ergebnis löschen\">\n                                    <Trash2 className=\"w-5 h-5\" />\n                                </button>\n                            </li>\n                        ))}\n                    </ul>\n                )}\n            </div>\n        </div>\n    );\n};\n\n\n// Ihre Firebase Konfiguration:\nconst firebaseConfig = { \n  apiKey: \"AIzaSyDZ_qqqKW7WDCZ9botek2VBwXNMQO3JYwU\",\n  authDomain: \"psychotherapie0512.firebaseapp.com\",\n  projectId: \"psychotherapie0512\",\n  storageBucket: \"psychotherapie0512.firebasestorage.app\", \n  messagingSenderId: \"131279046361\",\n  appId: \"1:131279046361:web:e5dd2d18b206fb820b60c8\"\n};\n\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst firestoreAppId = 'default-patient-app-v5'; \n\nconst initialPatientsData = [\n  { \n    name: \"Kern\", \n    chiffre: \"K040498\", \n    therapyType: \"LZT\", \n    approvedHours: 60, \n    conductedHours: 24, \n    diagnoses: [\"[G] F00.0*: Demenz bei Alzheimer-Krankheit, mit frühem Beginn (Typ 2)\", \"[V] F01.1: Multiinfarkt-Demenz\"], \n    sessions: [{date: \"2025-05-20\", notes: \"Erste Sitzung, Exploration der Hauptbeschwerden.\"}, {date: \"2025-05-27\", notes: \"Vertiefung der Anamnese, erste Verhaltensanalysen.\"}], \n    hscl11Results: [], \n    bdi2Results: [], \n    fep2Results: [],\n    scl90rResults: [], \n    krankheitsanamnese: \"Patient berichtet über seit ca. 2 Jahren zunehmende Vergesslichkeit und Orientierungsprobleme.\", \n    lebensgeschichte: \"Geboren 1955, verheiratet, 2 Kinder, früher als Buchhalter tätig.\",   \n    problemanalyseMakro: \"Kognitive Defizite im Vordergrund, affektive Belastung durch erlebten Kontrollverlust.\",\n    therapieplan: \"Supportive Gespräche, kognitives Training, Psychoedukation für Angehörige.\" \n  },\n];\n\nconst Modal = ({ isOpen, onClose, title, children, size = \"lg\" }) => { if (!isOpen) return null; const sizeClasses = {sm: 'max-w-sm', md: 'max-w-md', lg: 'max-w-lg', xl: 'max-w-xl', '2xl': 'max-w-2xl', '3xl': 'max-w-3xl', '4xl': 'max-w-4xl', '5xl': 'max-w-5xl'}; return (<div className=\"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex justify-center items-center z-50 p-4\"><div className={`bg-white p-6 rounded-lg shadow-xl w-full ${sizeClasses[size]} max-h-[90vh] overflow-y-auto`}><div className=\"flex justify-between items-center mb-4\"><h2 className=\"text-2xl font-semibold text-gray-800\">{title}</h2><button onClick={onClose} className=\"text-gray-500 hover:text-gray-700\"><XCircle className=\"w-7 h-7\" /></button></div>{children}</div></div>);};\nconst ConfirmationModal = ({ isOpen, onClose, onConfirm, title, message }) => { if (!isOpen) return null; return (<Modal isOpen={isOpen} onClose={onClose} title={title} size=\"sm\"><div className=\"text-center\"><AlertTriangle className=\"mx-auto mb-4 w-12 h-12 text-red-500\" /><p className=\"text-gray-700 mb-6\">{message}</p><div className=\"flex justify-center space-x-4\"><button onClick={onClose} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none\">Abbrechen</button><button onClick={onConfirm} className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none\">Bestätigen</button></div></div></Modal>);};\nconst PatientForm = ({ patient, onSave, onCancel }) => {\n  const [formData, setFormData] = useState(\n    patient || { name: '', chiffre: '', therapyType: 'LZT', approvedHours: 0, conductedHours: 0, diagnoses: [], sessions: [], hscl11Results: [], bdi2Results: [], fep2Results: [], scl90rResults: [], krankheitsanamnese: \"\", lebensgeschichte: \"\", problemanalyseMakro: \"\", therapieplan: \"\" }\n  );\n  useEffect(() => {\n    if (patient) {\n      setFormData({ \n        ...patient, \n        hscl11Results: patient.hscl11Results || [], \n        bdi2Results: patient.bdi2Results || [], \n        fep2Results: patient.fep2Results || [],\n        scl90rResults: patient.scl90rResults || [],\n        krankheitsanamnese: patient.krankheitsanamnese || \"\",\n        lebensgeschichte: patient.lebensgeschichte || \"\",\n        problemanalyseMakro: patient.problemanalyseMakro || \"\",\n        therapieplan: patient.therapieplan || \"\"\n      });\n    } else {\n      setFormData({ name: '', chiffre: '', therapyType: 'LZT', approvedHours: 0, conductedHours: 0, diagnoses: [], sessions: [], hscl11Results: [], bdi2Results: [], fep2Results: [], scl90rResults: [], krankheitsanamnese: \"\", lebensgeschichte: \"\", problemanalyseMakro: \"\", therapieplan: \"\" });\n    }\n  }, [patient]);\n  const handleChange = (e) => { const { name, value, type } = e.target; setFormData((prev) => ({ ...prev, [name]: type === 'number' ? parseInt(value, 10) || 0 : value })); };\n  const handleSubmit = (e) => { e.preventDefault(); onSave(formData); };\n  return ( <form onSubmit={handleSubmit} className=\"space-y-4\"><div><label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\">Name</label><input type=\"text\" name=\"name\" id=\"name\" value={formData.name} onChange={handleChange} required className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" /></div><div><label htmlFor=\"chiffre\" className=\"block text-sm font-medium text-gray-700\">Chiffre</label><input type=\"text\" name=\"chiffre\" id=\"chiffre\" value={formData.chiffre} onChange={handleChange} required className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" /></div><div><label htmlFor=\"therapyType\" className=\"block text-sm font-medium text-gray-700\">Therapieform</label><select name=\"therapyType\" id=\"therapyType\" value={formData.therapyType} onChange={handleChange} className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"><option value=\"LZT\">Langzeittherapie (LZT)</option><option value=\"KZT\">Kurzzeittherapie (KZT)</option></select></div><div><label htmlFor=\"approvedHours\" className=\"block text-sm font-medium text-gray-700\">Genehmigte Stunden</label><input type=\"number\" name=\"approvedHours\" id=\"approvedHours\" value={formData.approvedHours} onChange={handleChange} min=\"0\" className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" /></div><div><label htmlFor=\"conductedHours\" className=\"block text-sm font-medium text-gray-700\">Durchgeführte Stunden</label><input type=\"number\" name=\"conductedHours\" id=\"conductedHours\" value={formData.conductedHours} onChange={handleChange} min=\"0\" className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" /></div><div className=\"flex justify-end space-x-3 pt-4\"><button type=\"button\" onClick={onCancel} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\">Abbrechen</button><button type=\"submit\" className=\"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 flex items-center\"><Save className=\"w-4 h-4 mr-2\" /> Speichern</button></div></form>);\n};\n\nconst FEP2_ITEMS_TO_REVERSE = [1, 2, 5, 9, 14, 15, 19, 21, 22, 27, 29, 30, 39]; \nconst FEP2_SKALEN_DEFINITION = { WOHLBEFINDEN: { items: [1, 5, 9, 14, 22, 30, 39], minItemsRequired: 7 }, BESCHWERDEN: { items: [4, 6, 7, 8, 10, 12, 23, 24, 31, 34, 38], minItemsRequired: 10 }, BESCHWERDEN_ANGST: { items: [4, 8, 12, 23], minItemsRequired: 4 }, BESCHWERDEN_DEPRESSIVITAET: { items: [7, 10, 24, 31, 34, 38], minItemsRequired: 5 }, INTERPERSONALE_BEZIEHUNG: { items: [11, 13, 16, 18, 20, 25, 26, 28, 32, 33, 36, 40], minItemsRequired: 11 }, INTERPERSONALE_INTROVERTIERT_SCHEU: { items: [28, 36, 40], minItemsRequired: 3 }, INTERPERSONALE_AUSNUTZBAR_NACHGIEBIG: { items: [13, 20, 26], minItemsRequired: 3 }, INTERPERSONALE_KONKURRIEREND_UNTERSTUETZEND: { items: [11, 16, 33], minItemsRequired: 3 }, INTERPERSONALE_SELBSTUNSICHER_ZURUECKHALTEND: { items: [18, 25, 32], minItemsRequired: 3 }, KONGRUENZ: { items: [2, 3, 15, 17, 19, 21, 27, 29, 35, 37], minItemsRequired: 8 }, };\nconst calculateFep2Scores = (itemScoresRaw) => { const itemScores = itemScoresRaw.map((score, index) => { const itemNum = index + 1; if (FEP2_ITEMS_TO_REVERSE.includes(itemNum) && score > 0 && score <=5) { return 6 - score; } return score; }); const answeredItemsCount = itemScores.filter(score => score > 0 && score <= 5).length; const calculatedScales = {}; if (answeredItemsCount >= 32) { const sum = itemScores.reduce((acc, score) => acc + (score > 0 && score <=5 ? score : 0), 0); calculatedScales.gesamtbelastung = answeredItemsCount > 0 ? parseFloat((sum / answeredItemsCount).toFixed(2)) : null; } else { calculatedScales.gesamtbelastung = null; } for (const skalaName in FEP2_SKALEN_DEFINITION) { const def = FEP2_SKALEN_DEFINITION[skalaName]; let sum = 0; let count = 0; def.items.forEach(itemNum => { const score = itemScores[itemNum - 1]; if (score > 0 && score <= 5) { sum += score; count++; } }); if (count >= def.minItemsRequired) { calculatedScales[skalaName.toLowerCase()] = parseFloat((sum / count).toFixed(2)); } else { calculatedScales[skalaName.toLowerCase()] = null; } } return calculatedScales; };\n\nasync function generateGeminiText(prompt) { \n    let chatHistory = [{ role: \"user\", parts: [{ text: prompt }] }]; \n    const payload = { contents: chatHistory }; \n    const GEMINI_API_KEY = typeof __GEMINI_API_KEY__ !== 'undefined' ? __GEMINI_API_KEY__ : \"YOUR_LOCAL_GEMINI_API_KEY\"; // Tragen Sie hier Ihren lokalen Schlüssel ein\n    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`; \n    try { \n        const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) }); \n        if (!response.ok) { const errorData = await response.json(); console.error(\"Gemini API error details:\", errorData); const errorMessage = errorData.error?.message || `API request failed with status ${response.status}`; throw new Error(errorMessage); } \n        const result = await response.json(); \n        if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) { return result.candidates[0].content.parts[0].text; } \n        else if (result.candidates && result.candidates.length > 0 && result.candidates[0].finishReason === \"SAFETY\") { console.warn(\"Gemini API response blocked due to safety reasons.\"); return \"Die Antwort wurde aufgrund von Sicherheitsrichtlinien blockiert.\"; } \n        else { console.error(\"Unexpected Gemini API response structure:\", result); throw new Error(\"Unerwartete Antwortstruktur von der API.\"); } \n    } catch (error) { console.error(\"Error calling Gemini API:\", error); throw error; } \n}\n\nfunction App() {\n  const [patients, setPatients] = useState([]);\n  const [selectedPatient, setSelectedPatient] = useState(null);\n  const [isLoading, setIsLoading] = useState(true); \n  const [authError, setAuthError] = useState(null); \n  const [appError, setAppError] = useState(null); \n  const [userId, setUserId] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false); \n  \n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoginView, setIsLoginView] = useState(true); \n  const [isAuthLoading, setIsAuthLoading] = useState(false); \n\n  const [isPatientModalOpen, setIsPatientModalOpen] = useState(false);\n  const [editingPatient, setEditingPatient] = useState(null);\n  const [isConfirmDeleteModalOpen, setIsConfirmDeleteModalOpen] = useState(false);\n  const [patientToDeleteId, setPatientToDeleteId] = useState(null);\n  \n  const [newDiagnosis, setNewDiagnosis] = useState('');\n  const [newDiagnosisCode, setNewDiagnosisCode] = useState(''); \n  const [newDiagnosisSicherheit, setNewDiagnosisSicherheit] = useState('G'); \n  const [lookedUpDiagnosisName, setLookedUpDiagnosisName] = useState(''); \n\n  const [newSessionDate, setNewSessionDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newSessionNotes, setNewSessionNotes] = useState('');\n  const [activeDetailTab, setActiveDetailTab] = useState('details');\n  const [activeDiagnostikSubTab, setActiveDiagnostikSubTab] = useState('scl90r'); \n\n  const [newHsclDate, setNewHsclDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newHsclAngst, setNewHsclAngst] = useState(''); \n  const [newHsclDepression, setNewHsclDepression] = useState(''); \n\n  const [newBdiDate, setNewBdiDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newBdiScore, setNewBdiScore] = useState(''); \n\n  const [newFepDate, setNewFepDate] = useState(new Date().toISOString().split('T')[0]);\n  const [fepItemScores, setFepItemScores] = useState(Array(40).fill(0)); \n\n  const [sessionSummaries, setSessionSummaries] = useState({}); \n  const [diagnosisInfo, setDiagnosisInfo] = useState({ code: '', name: '', beschreibung: '', inkl: [], exkl: [], hinweise: [], zusatz_info_code: '', sicherheit: '', isLoading: false, error: null, isOpen: false, source: '' });\n  \n  const [localIcd10Data, setLocalIcd10Data] = useState({}); \n  const [editableConductedHours, setEditableConductedHours] = useState(\"\"); \n  \n  const [editableKrankheitsanamnese, setEditableKrankheitsanamnese] = useState(\"\");\n  const [editableLebensgeschichte, setEditableLebensgeschichte] = useState(\"\");\n  const [editableProblemanalyseMakro, setEditableProblemanalyseMakro] = useState(\"\");\n  const [editableTherapieplan, setEditableTherapieplan] = useState(\"\");\n\n  const [therapeutischeAssistenzOutput, setTherapeutischeAssistenzOutput] = useState(\"\");\n  const [isLoadingTherapeutischeAssistenz, setIsLoadingTherapeutischeAssistenz] = useState(false);\n  const [assistenzError, setAssistenzError] = useState(null);\n\n  const detailViewRef = useRef(null);\n  const overviewRef = useRef(null);\n\n\n  useEffect(() => {\n    fetch('/icd10f_data.json') \n      .then(response => {\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status} - Stellen Sie sicher, dass 'icd10f_data.json' im 'public' Ordner liegt.`);\n        }\n        return response.json();\n      })\n      .then(data => {\n        const indexedData = {};\n        data.forEach(item => {\n          if (item.code) { \n            indexedData[item.code.toUpperCase()] = item; \n          }\n        });\n        setLocalIcd10Data(indexedData);\n        console.log(\"Lokale ICD-10 Daten geladen und indiziert.\");\n      })\n      .catch(error => {\n        console.error(\"Fehler beim Laden der lokalen ICD-10 Daten:\", error);\n        setAppError(\"Lokale ICD-10 Daten konnten nicht geladen werden. \" + error.message);\n      });\n  }, []); \n\n  useEffect(() => {\n    if (selectedPatient) {\n        setEditableConductedHours(selectedPatient.conductedHours !== null && selectedPatient.conductedHours !== undefined ? String(selectedPatient.conductedHours) : \"\");\n        setEditableKrankheitsanamnese(selectedPatient.krankheitsanamnese || \"\");\n        setEditableLebensgeschichte(selectedPatient.lebensgeschichte || \"\");\n        setEditableProblemanalyseMakro(selectedPatient.problemanalyseMakro || \"\");\n        setEditableTherapieplan(selectedPatient.therapieplan || \"\");\n        if (detailViewRef.current) {\n            setTimeout(() => {\n                detailViewRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' });\n            }, 100);\n        }\n    } else {\n        setEditableConductedHours(\"\"); \n        setEditableKrankheitsanamnese(\"\");\n        setEditableLebensgeschichte(\"\");\n        setEditableProblemanalyseMakro(\"\");\n        setEditableTherapieplan(\"\");\n    }\n  }, [selectedPatient]);\n\n\n  const findIcd10CodeLocal = useCallback((codeToFind) => {\n    const upperCodeToFind = codeToFind.toUpperCase();\n    let found = localIcd10Data[upperCodeToFind];\n    if (found) return found;\n    const baseCode = upperCodeToFind.replace(/(\\.-[*]|\\.\\*|[*]|-)$/, '');\n    found = localIcd10Data[`${baseCode}.-*`] || localIcd10Data[`${baseCode}.*`] || localIcd10Data[baseCode];\n    if (found) return found;\n    const possibleCategoryCode = Object.keys(localIcd10Data).find(\n        key => key.startsWith(upperCodeToFind) && (localIcd10Data[key].code_kategorie || localIcd10Data[key].code)\n    );\n    if (possibleCategoryCode) return localIcd10Data[possibleCategoryCode];\n    return null;\n  }, [localIcd10Data]);\n\n  useEffect(() => {\n    if (newDiagnosisCode.trim() !== '') {\n        const found = findIcd10CodeLocal(newDiagnosisCode.trim().toUpperCase());\n        if (found && found.name) {\n            setLookedUpDiagnosisName(found.name);\n        } else {\n            setLookedUpDiagnosisName('');\n        }\n    } else {\n        setLookedUpDiagnosisName('');\n    }\n  }, [newDiagnosisCode, findIcd10CodeLocal]);\n\n\n  const getPatientsCollectionPath = useCallback(() => { \n    if (!userId) return null; \n    return `/artifacts/${firestoreAppId}/users/${userId}/patients`; \n  }, [userId]);\n\n  useEffect(() => { \n    const unsubscribe = onAuthStateChanged(auth, (user) => { \n      if (user) { \n        setUserId(user.uid); \n      } else { \n        setUserId(null); \n      } \n      setIsAuthReady(true); \n      setIsLoading(false); \n    }); \n    return () => unsubscribe(); \n  }, []);\n\n  const seedInitialData = useCallback(async () => { \n    if (!userId) return; \n    const collectionPath = getPatientsCollectionPath(); \n    if (!collectionPath) return; \n    try { \n      const patientsCollection = collection(db, collectionPath); \n      const querySnapshot = await getDocs(patientsCollection); \n      if (querySnapshot.empty) { \n        const batch = writeBatch(db); \n        initialPatientsData.forEach(patientData => { \n          const newPatientRef = doc(patientsCollection); \n          batch.set(newPatientRef, { \n            ...patientData, \n            hscl11Results: patientData.hscl11Results || [], \n            bdi2Results: patientData.bdi2Results || [], \n            fep2Results: patientData.fep2Results || [],\n            scl90rResults: patientData.scl90rResults || [],\n            krankheitsanamnese: patientData.krankheitsanamnese || \"\",\n            lebensgeschichte: patientData.lebensgeschichte || \"\",\n            problemanalyseMakro: patientData.problemanalyseMakro || \"\",\n            therapieplan: patientData.therapieplan || \"\"\n          }); \n        }); \n        await batch.commit(); \n        console.log(\"Initiale Daten erfolgreich geschrieben.\");\n      } else {\n        console.log(\"Vorhandene Patientendaten gefunden, Seed wird übersprungen.\");\n      }\n    } catch (err) { \n      console.error(\"Error seeding initial data:\", err); \n      setAppError(\"Fehler beim Laden der initialen Daten.\"); \n    } \n  }, [userId, getPatientsCollectionPath]);\n  \n  useEffect(() => {\n    if (!isAuthReady || !userId) { \n      setPatients([]); \n      if(isAuthReady && !userId) console.log(\"Kein Benutzer angemeldet, warte auf Login/Registrierung.\");\n      return; \n    }\n    const collectionPath = getPatientsCollectionPath(); \n    if (!collectionPath) {\n        console.log(\"Collection path ist nicht verfügbar für Firestore Listener.\");\n        return;\n    }\n    \n    setIsLoading(true); \n    seedInitialData(); \n\n    const patientsQuery = query(collection(db, collectionPath));\n    const unsubscribe = onSnapshot(patientsQuery, (snapshot) => {\n      let patientsData = snapshot.docs.map(docSnap => ({ \n        id: docSnap.id, \n        ...docSnap.data(), \n        hscl11Results: docSnap.data().hscl11Results || [], \n        bdi2Results: docSnap.data().bdi2Results || [], \n        fep2Results: docSnap.data().fep2Results || [],\n        scl90rResults: docSnap.data().scl90rResults || [],\n        krankheitsanamnese: docSnap.data().krankheitsanamnese || \"\",\n        lebensgeschichte: docSnap.data().lebensgeschichte || \"\",\n        problemanalyseMakro: docSnap.data().problemanalyseMakro || \"\",\n        therapieplan: docSnap.data().therapieplan || \"\"\n      }));\n      patientsData.sort((a, b) => a.name.localeCompare(b.name)); \n      setPatients(patientsData); \n      setIsLoading(false); \n    }, (err) => {\n      console.error(\"Error fetching patients:\", err);\n      setAppError(\"Fehler beim Laden der Patientendaten. Stellen Sie sicher, dass Firestore korrekt konfiguriert ist.\");\n      setIsLoading(false);\n    });\n\n    return () => unsubscribe(); \n  }, [isAuthReady, userId, getPatientsCollectionPath, seedInitialData]); \n\n  useEffect(() => {\n    if (selectedPatient && selectedPatient.id && patients.length > 0) {\n        const currentPatientDataFromList = patients.find(p => p.id === selectedPatient.id);\n        if (currentPatientDataFromList) {\n            if (JSON.stringify(currentPatientDataFromList) !== JSON.stringify(selectedPatient)) {\n                 setSelectedPatient(currentPatientDataFromList);\n            }\n        } else {\n            setSelectedPatient(null);\n        }\n    }\n  }, [patients, selectedPatient]); \n\n\n  const handleAuthAction = async (isRegistering) => {\n    setIsAuthLoading(true);\n    setAuthError(null);\n    try {\n        if (isRegistering) {\n            await createUserWithEmailAndPassword(auth, email, password);\n        } else {\n            await signInWithEmailAndPassword(auth, email, password);\n        }\n        setEmail(\"\");\n        setPassword(\"\");\n    } catch (error) {\n        console.error(\"Firebase auth error:\", error);\n        let message = \"Ein Fehler ist aufgetreten.\";\n        if (error.code === 'auth/email-already-in-use') {\n            message = \"Diese E-Mail-Adresse wird bereits verwendet.\";\n        } else if (error.code === 'auth/invalid-email') {\n            message = \"Ungültige E-Mail-Adresse.\";\n        } else if (error.code === 'auth/weak-password') {\n            message = \"Das Passwort ist zu schwach. Es sollte mindestens 6 Zeichen lang sein.\";\n        } else if (error.code === 'auth/user-not-found' || error.code === 'auth/wrong-password' || error.code === 'auth/invalid-credential') {\n            message = \"E-Mail oder Passwort ist ungültig.\";\n        }\n        setAuthError(message);\n    } finally {\n        setIsAuthLoading(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n        await signOut(auth);\n        setSelectedPatient(null); \n        setPatients([]); \n    } catch (error) {\n        console.error(\"Error signing out: \", error);\n        setAppError(\"Fehler beim Abmelden.\");\n    }\n  };\n  \n  const handleSavePatient = async (patientData) => { \n    if (!userId) { setAppError(\"Benutzer nicht authentifiziert.\"); return; } \n    const collectionPath = getPatientsCollectionPath(); \n    if (!collectionPath) return; \n    const dataToSave = { \n        ...patientData, \n        hscl11Results: patientData.hscl11Results || [], \n        bdi2Results: patientData.bdi2Results || [], \n        fep2Results: patientData.fep2Results || [],\n        scl90rResults: patientData.scl90rResults || [],\n        krankheitsanamnese: patientData.krankheitsanamnese || \"\",\n        lebensgeschichte: patientData.lebensgeschichte || \"\",\n        problemanalyseMakro: patientData.problemanalyseMakro || \"\",\n        therapieplan: patientData.therapieplan || \"\"\n    }; \n    try { \n      if (editingPatient && editingPatient.id) { \n        const patientRef = doc(db, collectionPath, editingPatient.id); \n        await setDoc(patientRef, dataToSave, { merge: true }); \n      } else { \n        await addDoc(collection(db, collectionPath), dataToSave); \n      } \n      setIsPatientModalOpen(false); \n      setEditingPatient(null); \n    } catch (err) { \n      console.error(\"Error saving patient:\", err); \n      setAppError(\"Fehler beim Speichern des Patienten.\"); \n    } \n  };\n  const openDeleteConfirmation = (patientId) => { setPatientToDeleteId(patientId); setIsConfirmDeleteModalOpen(true); };\n  const confirmDeletePatient = async () => { \n    if (!patientToDeleteId || !userId) { setAppError(\"Löschvorgang fehlgeschlagen.\"); setIsConfirmDeleteModalOpen(false); return; } \n    const collectionPath = getPatientsCollectionPath(); \n    if (!collectionPath) return; \n    try { \n      const patientRef = doc(db, collectionPath, patientToDeleteId); \n      await deleteDoc(patientRef); \n      if (selectedPatient && selectedPatient.id === patientToDeleteId) { \n        setSelectedPatient(null); \n      } \n      setPatientToDeleteId(null); \n      setIsConfirmDeleteModalOpen(false); \n    } catch (err) { \n      console.error(\"Error deleting patient:\", err); \n      setAppError(\"Fehler beim Löschen des Patienten.\"); \n      setIsConfirmDeleteModalOpen(false); \n    } \n  };\n  \n  const handleAddDiagnosis = async () => {\n    const codeToAdd = newDiagnosisCode.trim().toUpperCase();\n    if (!selectedPatient || !codeToAdd || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    \n    const sicherheitPrefix = newDiagnosisSicherheit ? `[${newDiagnosisSicherheit}] ` : \"\";\n    const beschreibung = newDiagnosis.trim() ? `: ${newDiagnosis.trim()}` : (lookedUpDiagnosisName ? `: ${lookedUpDiagnosisName}` : \"\");\n    const diagnosisString = `${sicherheitPrefix}${codeToAdd}${beschreibung}`;\n\n    const updatedDiagnoses = [...(selectedPatient.diagnoses || []), diagnosisString];\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { \n        await setDoc(patientRef, { diagnoses: updatedDiagnoses }, { merge: true }); \n        setNewDiagnosisCode(''); \n        setNewDiagnosis('');      \n        setLookedUpDiagnosisName(''); \n        setNewDiagnosisSicherheit('G'); \n    } \n    catch (err) { console.error(\"Error adding diagnosis:\", err); setAppError(\"Fehler beim Hinzufügen der Diagnose.\");}\n  };\n  const handleRemoveDiagnosis = async (diagnosisStringToRemove) => { \n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const updatedDiagnoses = selectedPatient.diagnoses.filter(d => d !== diagnosisStringToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { diagnoses: updatedDiagnoses }, { merge: true }); }\n    catch (err) { console.error(\"Error removing diagnosis:\", err); setAppError(\"Fehler beim Entfernen der Diagnose.\");}\n  };\n\n  const handleAddSession = async () => { \n    if (!selectedPatient || !newSessionNotes.trim() || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const newSession = { date: newSessionDate, notes: newSessionNotes.trim() };\n    const updatedSessions = [...(selectedPatient.sessions || []), newSession];\n    updatedSessions.sort((a, b) => new Date(b.date) - new Date(a.date)); \n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { sessions: updatedSessions }, { merge: true }); setNewSessionNotes(''); }\n    catch (err) { console.error(\"Error adding session:\", err); setAppError(\"Fehler beim Hinzufügen der Sitzung.\");}\n   };\n  \n  const handleUpdateConductedHours = async (patientId, hours) => {\n    if (!patientId || !userId) return;\n    if (isNaN(hours) || hours < 0) {\n        console.error(\"Ungültige Stundenzahl für Firestore-Update:\", hours);\n        return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const patientRef = doc(db, collectionPath, patientId);\n    try {\n        await setDoc(patientRef, { conductedHours: hours }, { merge: true });\n    } catch (err) {\n        console.error(\"Error updating conducted hours:\", err);\n        setAppError(\"Fehler beim Aktualisieren der Stunden.\");\n    }\n  };\n\n  const handleAddHsclResult = async () => { \n    if (!selectedPatient || !newHsclDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const angst = parseInt(newHsclAngst, 10);\n    const depression = parseInt(newHsclDepression, 10);\n    if (isNaN(angst) || angst < 0 || angst > 20 || isNaN(depression) || depression < 0 || depression > 24) {\n        setAppError(\"Ungültige HSCL-Werte. Angst (0-20), Depression (0-24).\"); return;\n    }\n    const newResult = { date: newHsclDate, angst: angst, depression: depression, cumulative: angst + depression };\n    const updatedHsclResults = [...(selectedPatient.hscl11Results || []), newResult];\n    updatedHsclResults.sort((a, b) => new Date(a.date) - new Date(b.date)); \n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { hscl11Results: updatedHsclResults }, { merge: true });\n      setNewHsclAngst(''); setNewHsclDepression(''); setAppError(null); \n    } catch (err) { console.error(\"Error adding HSCL result:\", err); setAppError(\"Fehler beim Hinzufügen des HSCL-Ergebnisses.\"); }\n  };\n  const handleRemoveHsclResult = async (dateToRemove) => { \n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const updatedHsclResults = selectedPatient.hscl11Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { hscl11Results: updatedHsclResults }, { merge: true }); }\n    catch (err) { console.error(\"Error removing HSCL result:\", err); setAppError(\"Fehler beim Entfernen des HSCL-Ergebnisses.\"); }\n  };\n  const handleAddBdiResult = async () => { \n    if (!selectedPatient || !newBdiDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const score = parseInt(newBdiScore, 10);\n    if (isNaN(score) || score < 0 || score > 63) { setAppError(\"Ungültiger BDI-II Wert (0-63).\"); return; }\n    const newResult = { date: newBdiDate, score: score };\n    const updatedBdiResults = [...(selectedPatient.bdi2Results || []), newResult];\n    updatedBdiResults.sort((a, b) => new Date(a.date) - new Date(b.date)); \n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { bdi2Results: updatedBdiResults }, { merge: true });\n      setNewBdiScore(''); setAppError(null); \n    } catch (err) { console.error(\"Error adding BDI-II result:\", err); setAppError(\"Fehler beim Hinzufügen des BDI-II Ergebnisses.\"); }\n  };\n  const handleRemoveBdiResult = async (dateToRemove) => { \n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const updatedBdiResults = selectedPatient.bdi2Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { bdi2Results: updatedBdiResults }, { merge: true }); }\n    catch (err) { console.error(\"Error removing BDI-II result:\", err); setAppError(\"Fehler beim Entfernen des BDI-II Ergebnisses.\"); }\n  };\n  const handleFepItemChange = (index, value) => { \n    const newScores = [...fepItemScores];\n    newScores[index] = value === '' ? 0 : parseInt(value, 10); \n    if (isNaN(newScores[index]) || newScores[index] < 0 || newScores[index] > 5) newScores[index] = 0; \n    setFepItemScores(newScores);\n  };\n  const handleAddFepResult = async () => { \n    if (!selectedPatient || !newFepDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const answeredCount = fepItemScores.filter(s => s >= 1 && s <= 5).length;\n    if (answeredCount < 32) { setAppError(\"Bitte beantworten Sie mindestens 80% (32) der FEP-2 Items.\"); return; }\n    const calculatedScales = calculateFep2Scores(fepItemScores);\n    const newResult = { date: newFepDate, itemScores: [...fepItemScores], calculatedScales };\n    const updatedFepResults = [...(selectedPatient.fep2Results || []), newResult];\n    updatedFepResults.sort((a, b) => new Date(a.date) - new Date(b.date)); \n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { fep2Results: updatedFepResults }, { merge: true });\n      setFepItemScores(Array(40).fill(0)); setAppError(null); \n    } catch (err) { console.error(\"Error adding FEP-2 result:\", err); setAppError(\"Fehler beim Hinzufügen des FEP-2 Ergebnisses.\"); }\n  };\n  const handleRemoveFepResult = async (dateToRemove) => { \n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const updatedFepResults = selectedPatient.fep2Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { fep2Results: updatedFepResults }, { merge: true }); }\n    catch (err) { console.error(\"Error removing FEP-2 result:\", err); setAppError(\"Fehler beim Entfernen des FEP-2 Ergebnisses.\"); }\n  };\n  const fetchSessionSummary = async (sessionNotes, sessionIndex) => { \n    setSessionSummaries(prev => ({ ...prev, [sessionIndex]: { ...prev[sessionIndex], isLoading: true, error: null } }));\n    const prompt = `Fasse die folgenden Therapiesitzungsnotizen prägnant zusammen. Konzentriere dich auf die wichtigsten Themen, Interventionen und den Fortschritt des Patienten:\\n\\n\"${sessionNotes}\"`;\n    try { const summary = await generateGeminiText(prompt); setSessionSummaries(prev => ({ ...prev, [sessionIndex]: { summary: summary, isLoading: false, error: null } })); } \n    catch (e) { setSessionSummaries(prev => ({ ...prev, [sessionIndex]: { ...prev[sessionIndex], isLoading: false, error: e.message } })); setAppError(`Fehler bei der Zusammenfassung: ${e.message}`); }\n  };\n  \n  const showDiagnosisInfo = (diagnosisString) => {\n    const sicherheitMatch = diagnosisString.match(/^\\[([AVGZN]+)\\]\\s*/i); \n    const sicherheit = sicherheitMatch ? sicherheitMatch[1].toUpperCase() : '';\n    const codeAndName = sicherheitMatch ? diagnosisString.substring(sicherheitMatch[0].length) : diagnosisString;\n    const codeMatch = codeAndName.match(/^([A-Z][0-9]{1,2}(\\.[0-9A-Z]{1,2})?[\\*\\-\\!]?)/i); \n    const code = codeMatch ? codeMatch[0].toUpperCase() : codeAndName.split(':')[0].trim().toUpperCase();\n\n    const localData = findIcd10CodeLocal(code);\n    if (localData) {\n        setDiagnosisInfo({ \n            code: localData.code || code, \n            name: localData.name || '', \n            beschreibung: localData.beschreibung || localData.beschreibung_kategorie || '', \n            inkl: localData.inkl || [], \n            exkl: localData.exkl || [], \n            hinweise: localData.hinweise || localData.hinweise_kategorie || [], \n            zusatz_info_code: localData.zusatz_info_code || '', \n            sicherheit: sicherheit, \n            isLoading: false, \n            error: null, \n            isOpen: true, \n            source: 'local' \n        });\n    } else {\n        fetchDiagnosisInfoGemini(code, sicherheit); \n    }\n  };\n\n  const fetchDiagnosisInfoGemini = async (diagnosisCode, sicherheit = '') => { \n    setDiagnosisInfo({ code: diagnosisCode, info: '', isLoading: true, error: null, isOpen: true, source: 'gemini', sicherheit: sicherheit });\n    const prompt = `Erkläre die ICD-10 Diagnose '${diagnosisCode}'${sicherheit ? ` (Diagnosesicherheit: ${sicherheit})` : ''} kurz und verständlich für einen Laien. Nenne auch typische Symptome und ggf. wichtige Differentialdiagnosen oder Komorbiditäten, falls relevant. Antworte auf Deutsch.`;\n    try { const info = await generateGeminiText(prompt); setDiagnosisInfo(prev => ({ ...prev, info: info, isLoading: false })); } \n    catch (e) { setDiagnosisInfo(prev => ({ ...prev, isLoading: false, error: e.message })); setAppError(`Fehler beim Abrufen der Diagnose-Info via Gemini: ${e.message}`);}\n  };\n  const handleKrankheitsmodellChange = async (fieldName, value) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n        await setDoc(patientRef, { [fieldName]: value }, { merge: true });\n    } catch (err) {\n        console.error(`Error updating ${fieldName}:`, err);\n        setAppError(`Fehler beim Speichern von ${fieldName}.`);\n    }\n  };\n\n  const handleTherapeutischeAssistenzAnfordern = async () => {\n    if (!selectedPatient) {\n        setAssistenzError(\"Bitte wählen Sie zuerst einen Patienten aus.\");\n        return;\n    }\n    setIsLoadingTherapeutischeAssistenz(true);\n    setTherapeutischeAssistenzOutput(\"\");\n    setAssistenzError(null);\n\n    const patientenDatenText = `\nHier sind die relevanten Patientendaten:\n\n**Krankheitsanamnese:**\n${selectedPatient.krankheitsanamnese || \"Keine Angaben.\"}\n\n**Lebensgeschichte/Biografie:**\n${selectedPatient.lebensgeschichte || \"Keine Angaben.\"}\n\n**Problemanalyse auf Makroebene:**\n${selectedPatient.problemanalyseMakro || \"Keine Angaben.\"}\n\n**Therapieplanung (bisherig):**\n${selectedPatient.therapieplan || \"Keine Angaben.\"}\n\n**Verlaufsdokumentation (Sitzungsnotizen):**\n${(selectedPatient.sessions || []).map((s, i) => `Sitzung ${i+1} (${new Date(s.date).toLocaleDateString('de-DE')}): ${s.notes}`).join(\"\\n\\n\") || \"Keine Sitzungsnotizen vorhanden.\"}\n\n**Diagnosen:**\n${(selectedPatient.diagnoses || []).join(\", \") || \"Keine Diagnosen erfasst.\"}\n\n**Genehmigte Stunden:** ${selectedPatient.approvedHours}\n**Durchgeführte Stunden:** ${selectedPatient.conductedHours}\n    `;\n\n    const systemPrompt = `Du bist ein interdisziplinäres Expertenteam, bestehend aus erfahrenen Verhaltenstherapeuten wie Jürgen Margraf, Dr. Stavemann, Aaron T. Beck, Judith Beck und Jonathan S. Abramowitz sowie aus leitenden Chefärzten und Psychiatern wie Prof. Dr. Mathias Berger. Das Team verfügt über exzellente Fachkompetenz in der evidenzbasierten psychotherapeutischen Praxis und legt besonderen Wert auf präzise medizinische Dokumentation sowie therapeutische Qualität. Darüber hinaus gehören auch international anerkannte Experten wie David H. Barlow, Stefan G. Hofmann und Steven Hayes zum Team. Du verfügst über tiefgehendes Wissen in Ansätzen der sogenannten „dritten Welle“ der Verhaltenstherapie, insbesondere in ACT, Schematherapie und DBT.\n\nDeine Aufgabe ist es, auf Grundlage folgender Elemente, welche du aus den bereitgestellten Patientendaten entnimmst:\n- Krankheitsanamnese\n- Lebensgeschichte/Biografie\n- Problemanalyse auf Makroebene\n- Therapieplanung (bisherig)\n- Verlaufsdokumentation (Sitzungsnotizen)\n\neine strukturierte Rückmeldung zu geben mit dem Ziel:\n1. Wesentliche Schwerpunkte in der weiteren Therapieplanung zu identifizieren.\n2. Konkrete Interventionsideen zu formulieren, orientiert an den zugelassenen Stunden.\n3. Hinweise zu geben, worauf in der Strukturierung der Sitzungen geachtet werden sollte (z.B. Themenfokus, Symptomschwere, Therapiezielorientierung).\n\nBerücksichtige dabei:\n• Die begrenzte Anzahl genehmigter Stunden.\n• Dass Themen nicht zu häufig gewechselt werden sollen.\n• Die Konsistenz und Nachvollziehbarkeit im Verlauf.\n\nBitte plane deine Analyse gründlich und reflektiert. Handle in Etappen:\n1. Diagnostische Schwerpunkte benennen\n2. Therapieziele definieren\n3. Interventionsvorschläge machen\n4. Hinweise zur Dokumentation geben\n\nAtme einmal tief ein und aus und nehme dir Zeit für die Aufgabe. Mache bitte weiter, bis das Problem vollständig gelöst ist. Planen bitte ausführlich vor jeder Aktion.\n\nHier sind die Daten des aktuellen Falls:\n${patientenDatenText}\n\nBitte gib deine strukturierte Rückmeldung.`;\n\n    try {\n        const assistenz = await generateGeminiText(systemPrompt);\n        setTherapeutischeAssistenzOutput(assistenz);\n    } catch (e) {\n        setAssistenzError(`Fehler bei der Anforderung der therapeutischen Assistenz: ${e.message}`);\n    } finally {\n        setIsLoadingTherapeutischeAssistenz(false);\n    }\n  };\n  \n  const handleAddScl90rResult = async (result) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n\n    const newResultWithDate = { ...result, date: new Date().toISOString() };\n    const updatedScl90rResults = [...(selectedPatient.scl90rResults || []), newResultWithDate];\n    updatedScl90rResults.sort((a, b) => new Date(b.date) - new Date(a.date)); // Neueste zuerst\n\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n        await setDoc(patientRef, { scl90rResults: updatedScl90rResults }, { merge: true });\n        // Optional: Feedback für den Benutzer, dass die Speicherung erfolgreich war\n    } catch (err) {\n        console.error(\"Error adding SCL-90-R result:\", err);\n        setAppError(\"Fehler beim Speichern des SCL-90-R Ergebnisses.\");\n    }\n  };\n\n  const handleRemoveScl90rResult = async (dateToRemove) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n\n    const updatedScl90rResults = selectedPatient.scl90rResults.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n        await setDoc(patientRef, { scl90rResults: updatedScl90rResults }, { merge: true });\n    } catch (err) {\n        console.error(\"Error removing SCL-90-R result:\", err);\n        setAppError(\"Fehler beim Entfernen des SCL-90-R Ergebnisses.\");\n    }\n  };\n\n\n\n  const totalApprovedHours = patients.reduce((sum, p) => sum + (p.approvedHours || 0), 0);\n  const totalConductedHours = patients.reduce((sum, p) => sum + (p.conductedHours || 0), 0);\n  const overallProgressTarget = 600;\n  const overallProgress = overallProgressTarget > 0 ? (totalConductedHours / overallProgressTarget) * 100 : 0;\n\n  if (!isAuthReady) return <div className=\"flex justify-center items-center h-screen text-xl font-semibold text-gray-700\">Authentifizierung wird initialisiert...</div>;\n  \n  const bdiCutoffs = [ { y1: 0, y2: 8, label: \"Keine Depression\", color: \"rgba(75, 192, 192, 0.2)\" }, { y1: 9, y2: 13, label: \"Minimale Depression\", color: \"rgba(54, 162, 235, 0.2)\" }, { y1: 14, y2: 19, label: \"Leichte Depression\", color: \"rgba(255, 206, 86, 0.2)\" }, { y1: 20, y2: 28, label: \"Mittelschwere Depression\", color: \"rgba(255, 159, 64, 0.2)\" }, { y1: 29, y2: 63, label: \"Schwere Depression\", color: \"rgba(255, 99, 132, 0.2)\" }, ];\n  const bdiAxisTicks = [0, 8, 13, 19, 28, 63]; \n  \n  const inputStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\";\n  const btnPrimary = \"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm flex items-center justify-center\";\n  const btnDanger = \"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md flex items-center\";\n  const btnInfo = \"bg-sky-500 hover:bg-sky-600 text-white font-semibold py-1 px-2 text-xs rounded-md flex items-center\";\n  const textareaStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm min-h-[150px]\";\n\n  // Login / Registrierungs UI, wenn kein Benutzer angemeldet ist\n  if (!userId) {\n    return (\n        <div className=\"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 flex flex-col justify-center items-center p-4\">\n            <div className=\"bg-white p-8 rounded-xl shadow-2xl w-full max-w-md\">\n                <h1 className=\"text-3xl font-bold text-center text-indigo-600 mb-8\">\n                    {isLoginView ? \"Login Patientenverwaltung\" : \"Registrierung\"}\n                </h1>\n                {authError && <p className=\"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-sm\">{authError}</p>}\n                <form onSubmit={(e) => { e.preventDefault(); handleAuthAction(!isLoginView); }} className=\"space-y-6\">\n                    <div>\n                        <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">E-Mail Adresse</label>\n                        <input type=\"email\" name=\"email\" id=\"email\" required \n                               value={email} onChange={(e) => setEmail(e.target.value)}\n                               className={inputStd} />\n                    </div>\n                    <div>\n                        <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">Passwort</label>\n                        <input type=\"password\" name=\"password\" id=\"password\" required \n                               value={password} onChange={(e) => setPassword(e.target.value)}\n                               className={inputStd} />\n                    </div>\n                    <button type=\"submit\" disabled={isAuthLoading}\n                            className={`${btnPrimary} w-full py-3 text-base ${isAuthLoading ? 'opacity-50 cursor-not-allowed' : ''}`}>\n                        {isAuthLoading ? (isLoginView ? \"Anmelden...\" : \"Registrieren...\") : (isLoginView ? \"Anmelden\" : \"Registrieren\")}\n                    </button>\n                </form>\n                <button onClick={() => { setIsLoginView(!isLoginView); setAuthError(null); }} \n                        className=\"mt-6 text-sm text-indigo-600 hover:text-indigo-500 text-center w-full\">\n                    {isLoginView ? \"Noch kein Konto? Jetzt registrieren.\" : \"Bereits registriert? Zum Login.\"}\n                </button>\n            </div>\n        </div>\n    );\n  }\n\n  // Hauptanwendung, wenn Benutzer angemeldet ist\n  if (isLoading && userId) return <div className=\"flex justify-center items-center h-screen text-xl font-semibold text-gray-700\">Lade Patientendaten...</div>;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 font-sans\">\n      <header className=\"bg-indigo-700 text-white shadow-lg\">\n        <div className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center\">\n            <h1 className=\"text-3xl font-bold tracking-tight\">Patientenverwaltung</h1>\n            <div className=\"flex items-center space-x-4\">\n                {userId && <p className=\"text-xs opacity-75 hidden sm:block\">UserID: {userId}</p>}\n                <button onClick={handleLogout} className=\"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md text-sm flex items-center\">\n                    <LogOut className=\"mr-2 h-4 w-4\"/> Logout\n                </button>\n            </div>\n        </div>\n      </header>\n      <main className=\"container mx-auto p-4 sm:p-6 lg:p-8\">\n        <div ref={overviewRef} className=\"mb-6 flex justify-between items-center\"><h2 className=\"text-2xl font-semibold text-gray-800\">Patientenübersicht</h2><button onClick={() => { setEditingPatient(null); setIsPatientModalOpen(true); }} className={`${btnPrimary} py-2 px-4`}><UserPlus className=\"w-5 h-5 mr-2\" /> Patient hinzufügen</button></div>\n        \n        <div className=\"bg-white shadow-xl rounded-lg overflow-hidden mb-8\"><div className=\"overflow-x-auto\"><table className=\"w-full min-w-max table-auto text-left\">\n            <thead className=\"bg-gray-100 border-b border-gray-300\"><tr>{['Name', 'Chiffre', 'Diagnosen', 'Therapie', 'Stunden', 'Fortschritt', 'Aktionen'].map(header => (<th key={header} className=\"py-3 px-4 text-sm font-semibold text-gray-600 uppercase tracking-wider\">{header}</th>))}</tr></thead>\n            <tbody className=\"divide-y divide-gray-200\">\n                {patients.length === 0 && !isLoading && (<tr><td colSpan=\"7\" className=\"text-center py-10 text-gray-500\">Keine Patienten gefunden. Fügen Sie einen neuen Patienten hinzu.</td></tr>)}\n                {patients.map((patient) => { \n                    const progress = patient.approvedHours > 0 ? (patient.conductedHours / patient.approvedHours) * 100 : 0;\n                    return ( \n                        <tr key={patient.id} className={`hover:bg-indigo-50 cursor-pointer ${selectedPatient?.id === patient.id ? 'bg-indigo-100' : ''}`} onClick={() => { setSelectedPatient(patient); setActiveDetailTab('details'); setSessionSummaries({}); setTherapeutischeAssistenzOutput(''); setAssistenzError(null); }}>\n                            <td className=\"py-3 px-4 whitespace-nowrap text-sm font-medium text-gray-800\">{patient.name}</td>\n                            <td className=\"py-3 px-4 whitespace-nowrap text-sm text-gray-600\">{patient.chiffre}</td>\n                            <td className=\"py-3 px-4 text-sm text-gray-600 max-w-xs\">\n                                <div className=\"flex flex-col space-y-1\">\n                                    {(patient.diagnoses || []).slice(0, 4).map((diag, idx) => {\n                                      const sicherheitMatch = diag.match(/^\\[([AVGZN]+)\\]/i);\n                                      const sicherheit = sicherheitMatch ? sicherheitMatch[1].toUpperCase() : '';\n                                      const colorClasses = {\n                                          'G': 'bg-green-100 text-green-800 hover:bg-green-200',\n                                          'V': 'bg-yellow-100 text-yellow-800 hover:bg-yellow-200',\n                                          'A': 'bg-red-100 text-red-800 hover:bg-red-200',\n                                          'ZN': 'bg-blue-100 text-blue-800 hover:bg-blue-200',\n                                      }[sicherheit] || 'bg-gray-100 text-gray-800 hover:bg-gray-200';\n\n                                      return (\n                                        <span key={idx} \n                                              className={`px-2 py-0.5 text-xs rounded-full truncate inline-block cursor-pointer ${colorClasses}`}\n                                              onClick={(e) => { e.stopPropagation(); showDiagnosisInfo(diag);}}\n                                              title={`Info zu ${diag} anzeigen`}>\n                                            {diag}\n                                        </span>\n                                      );\n                                    })}\n                                    {(patient.diagnoses || []).length > 4 && (\n                                        <span className=\"text-xs text-gray-500 mt-1\">...</span>\n                                    )}\n                                    {(patient.diagnoses || []).length === 0 && \"-\"}\n                                </div>\n                            </td>\n                            <td className=\"py-3 px-4 whitespace-nowrap text-sm text-gray-600\">{patient.therapyType}</td>\n                            <td className=\"py-3 px-4 whitespace-nowrap text-sm text-gray-600 text-center\">{`${patient.conductedHours} / ${patient.approvedHours}`}</td>\n                            <td className=\"py-3 px-4 whitespace-nowrap\">\n                                <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n                                    <div className={`h-2.5 rounded-full ${progress > 80 ? 'bg-red-500' : progress > 50 ? 'bg-yellow-400' : 'bg-green-500'}`} style={{ width: `${Math.min(progress, 100)}%` }}></div>\n                                </div>\n                                <span className=\"text-xs text-gray-500 block text-center mt-1\">{Math.round(progress)}%</span>\n                            </td>\n                            <td className=\"py-3 px-4 whitespace-nowrap text-sm space-x-2\">\n                                <button onClick={(e) => { e.stopPropagation(); setEditingPatient(patient); setIsPatientModalOpen(true); }} className=\"text-indigo-600 hover:text-indigo-800 transition duration-150 p-1 rounded hover:bg-indigo-100\" title=\"Bearbeiten\"><Edit3 className=\"w-5 h-5\" /></button>\n                                <button onClick={(e) => { e.stopPropagation(); openDeleteConfirmation(patient.id); }} className=\"text-red-500 hover:text-red-700 transition duration-150 p-1 rounded hover:bg-red-100\" title=\"Löschen\"><Trash2 className=\"w-5 h-5\" /></button>\n                            </td>\n                        </tr>\n                    );\n                })}\n            </tbody>\n            <tfoot className=\"bg-gray-50 border-t-2 border-gray-300\">\n                <tr>\n                    <td colSpan=\"4\" className=\"py-3 px-4 text-sm font-semibold text-gray-700 text-right\">Gesamt:</td>\n                    <td className=\"py-3 px-4 text-sm font-semibold text-gray-700 text-center\">{`${totalConductedHours} / ${totalApprovedHours}`}</td>\n                    <td className=\"py-3 px-4 whitespace-nowrap\" colSpan=\"2\">\n                        <div className=\"flex items-center\">\n                            <span className=\"text-xs text-gray-600 mr-3 w-auto\">Fortschritt (600 Std.):</span>\n                            <div className=\"w-full bg-gray-200 rounded-full h-2.5 flex-grow\">\n                                <div className=\"bg-blue-500 h-2.5 rounded-full\" style={{ width: `${Math.min(overallProgress, 100)}%` }}></div>\n                            </div>\n                            <span className=\"text-xs text-gray-600 ml-2\">{Math.round(overallProgress)}%</span>\n                        </div>\n                    </td>\n                </tr>\n            </tfoot>\n        </table></div></div>\n\n        {selectedPatient && (\n          <div ref={detailViewRef} className=\"bg-white shadow-xl rounded-lg p-6 mb-8\">\n            <div className=\"flex justify-between items-center mb-1\">\n              <h3 className=\"text-2xl font-semibold text-indigo-700\">{selectedPatient.name}</h3>\n              <button \n                onClick={() => {\n                  if (overviewRef.current) {\n                      overviewRef.current.scrollIntoView({ behavior: 'smooth' });\n                  }\n                  setTimeout(() => {\n                      setSelectedPatient(null);\n                      setSessionSummaries({});\n                      setTherapeutischeAssistenzOutput('');\n                      setAssistenzError(null);\n                  }, 300);\n                }} \n                className=\"text-gray-500 hover:text-gray-700\">\n                <XCircle className=\"w-7 h-7\" />\n              </button>\n            </div>\n            \n            <div className=\"border-b border-gray-200 mb-6\">\n                <nav className=\"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto\" aria-label=\"Tabs\">\n                    {['details', 'krankheitsmodell', 'diagnostik', 'assistenz'].map(tab => (\n                        <button key={tab} onClick={() => setActiveDetailTab(tab)}\n                            className={`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${activeDetailTab === tab ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`}>\n                            {tab === 'details' && 'Stammdaten & Sitzungen'} \n                            {tab === 'krankheitsmodell' && 'Krankheitsmodell'}\n                            {tab === 'diagnostik' && 'Diagnostik'} \n                            {tab === 'assistenz' && 'Therap. Assistenz'}\n                        </button>\n                    ))}\n                </nav>\n            </div>\n\n            {activeDetailTab === 'details' && (\n              <div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n                    <div><p className=\"text-sm text-gray-500\">Chiffre</p><p className=\"text-lg text-gray-800\">{selectedPatient.chiffre}</p></div>\n                    <div><p className=\"text-sm text-gray-500\">Therapieform</p><p className=\"text-lg text-gray-800\">{selectedPatient.therapyType}</p></div>\n                    <div><p className=\"text-sm text-gray-500\">Genehmigte Stunden</p><p className=\"text-lg text-gray-800\">{selectedPatient.approvedHours}</p></div>\n                    <div>\n                        <label htmlFor=\"conductedHoursDetail\" className=\"block text-sm font-medium text-gray-500\">Durchgeführte Stunden</label>\n                        <div className=\"flex items-center mt-1\">\n                            <input type=\"number\" id=\"conductedHoursDetail\" \n                                   value={editableConductedHours} \n                                   onChange={(e) => setEditableConductedHours(e.target.value)}\n                                   onBlur={(e) => {\n                                       let finalHours = parseInt(e.target.value, 10);\n                                       if (isNaN(finalHours) || finalHours < 0) {\n                                           finalHours = 0; \n                                       } else if (selectedPatient && finalHours > selectedPatient.approvedHours) {\n                                           finalHours = selectedPatient.approvedHours;\n                                       }\n                                       setEditableConductedHours(String(finalHours)); \n                                       if (selectedPatient) {\n                                           handleUpdateConductedHours(selectedPatient.id, finalHours); \n                                       }\n                                   }}\n                                   min=\"0\" \n                                   max={selectedPatient ? selectedPatient.approvedHours : undefined} \n                                   className={inputStd + \" w-24\"}/>\n                            <span className=\"ml-2 text-sm text-gray-600\">/ {selectedPatient.approvedHours}</span>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"mb-6\"> \n                  <h4 className=\"text-xl font-semibold text-gray-700 mb-3\">ICD-10 F-Diagnosen</h4>\n                  <div className=\"mb-3 p-4 bg-gray-50 rounded-md\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\">\n                        <div>\n                            <label htmlFor=\"newDiagnosisCode\" className=\"block text-xs font-medium text-gray-700\">Code (z.B. F32.2)</label>\n                            <input type=\"text\" id=\"newDiagnosisCode\" value={newDiagnosisCode} onChange={(e) => setNewDiagnosisCode(e.target.value.toUpperCase())} placeholder=\"F-Code\" className={`${inputStd} mt-1`}/>\n                        </div>\n                        <div>\n                            <label htmlFor=\"newDiagnosisSicherheit\" className=\"block text-xs font-medium text-gray-700\">Sicherheit</label>\n                            <select id=\"newDiagnosisSicherheit\" value={newDiagnosisSicherheit} onChange={(e) => setNewDiagnosisSicherheit(e.target.value)} className={`${inputStd} mt-1`}>\n                                <option value=\"G\">G (Gesichert)</option>\n                                <option value=\"V\">V (Verdacht auf)</option>\n                                <option value=\"A\">A (Ausschluss)</option>\n                                <option value=\"ZN\">ZN (Zustand nach)</option>\n                            </select>\n                        </div>\n                        <div className=\"md:col-span-1\"> \n                           <label htmlFor=\"newDiagnosisName\" className=\"block text-xs font-medium text-gray-700\">Manuelle Beschreibung (optional)</label>\n                           <input type=\"text\" id=\"newDiagnosisName\" value={newDiagnosis} onChange={(e) => setNewDiagnosis(e.target.value)} placeholder=\"Eigene Beschreibung\" className={`${inputStd} mt-1`}/>\n                        </div>\n                         <button onClick={handleAddDiagnosis} className={`${btnPrimary} bg-green-500 hover:bg-green-600 py-2 px-3 h-10 md:self-end`}><PlusCircleIcon className=\"w-5 h-5 mr-1\" /> Hinzufügen</button>\n                    </div>\n                    {lookedUpDiagnosisName && <p className=\"text-xs text-indigo-600 mt-1\">Gefunden: {lookedUpDiagnosisName}</p>}\n                  </div>\n                  <ul className=\"space-y-1 mb-3\">\n                    {(selectedPatient.diagnoses || []).map((diagString, index) => ( \n                        <li key={index} className=\"flex justify-between items-center bg-gray-50 p-2 rounded-md\">\n                            <span className=\"text-sm text-gray-700\">{diagString}</span>\n                            <div className=\"flex items-center space-x-2\">\n                                <button onClick={() => showDiagnosisInfo(diagString)} className={`${btnInfo} p-1`} title=\"Info zu dieser Diagnose abrufen\">\n                                    <FileJson2 className=\"w-4 h-4 mr-1\"/> Info\n                                </button>\n                                <button onClick={() => handleRemoveDiagnosis(diagString)} className={`${btnDanger} p-1 text-xs`}><Trash2 className=\"w-4 h-4\" /></button>\n                            </div>\n                        </li>\n                    ))}\n                    {(selectedPatient.diagnoses || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine Diagnosen erfasst.</p>}\n                  </ul>\n                </div>\n                <div> \n                  <h4 className=\"text-xl font-semibold text-gray-700 mb-3\">Sitzungsdokumentation</h4>\n                  <div className=\"bg-gray-50 p-4 rounded-lg mb-4\"><div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3\"><div><label htmlFor=\"sessionDate\" className=\"block text-sm font-medium text-gray-700\">Datum</label><input type=\"date\" id=\"sessionDate\" value={newSessionDate} onChange={(e) => setNewSessionDate(e.target.value)} className={inputStd}/></div><div className=\"md:col-span-2\"><label htmlFor=\"sessionNotes\" className=\"block text-sm font-medium text-gray-700\">Notizen</label><textarea id=\"sessionNotes\" value={newSessionNotes} onChange={(e) => setNewSessionNotes(e.target.value)} rows=\"3\" placeholder=\"Sitzungsnotizen...\" className={inputStd}></textarea></div></div><button onClick={handleAddSession} className={`${btnPrimary} bg-blue-500 hover:bg-blue-600`}><PlusCircleIcon className=\"w-5 h-5 mr-2\" /> Sitzung hinzufügen</button></div>\n                  <h5 className=\"text-md font-semibold text-gray-600 mb-2\">Protokollierte Sitzungen:</h5>\n                  <div className=\"space-y-3 max-h-96 overflow-y-auto pr-2\"> \n                    {(selectedPatient.sessions || []).map((session, index) => (\n                        <div key={index} className=\"bg-white border border-gray-200 p-3 rounded-md shadow-sm\">\n                            <div className=\"flex justify-between items-start\">\n                                <p className=\"text-sm font-semibold text-gray-700\">Datum: {new Date(session.date).toLocaleDateString('de-DE')}</p>\n                                <button onClick={() => fetchSessionSummary(session.notes, index)} \n                                        disabled={sessionSummaries[index]?.isLoading}\n                                        className={`${btnInfo} text-xs`} title=\"Sitzungsnotizen zusammenfassen\">\n                                    {sessionSummaries[index]?.isLoading ? 'Lädt...' : '✨ Zusammenf.'}\n                                </button>\n                            </div>\n                            <p className=\"text-sm text-gray-600 whitespace-pre-wrap mt-1\">{session.notes}</p>\n                            {sessionSummaries[index]?.summary && !sessionSummaries[index]?.isLoading && (\n                                <div className=\"mt-2 p-2 bg-sky-50 border border-sky-200 rounded-md text-sm text-sky-700\">\n                                    <p className=\"font-semibold\">Zusammenfassung:</p>\n                                    <p className=\"whitespace-pre-wrap\">{sessionSummaries[index].summary}</p>\n                                </div>\n                            )}\n                            {sessionSummaries[index]?.error && (\n                                <p className=\"mt-2 text-xs text-red-500\">Fehler bei Zusammenfassung: {sessionSummaries[index].error}</p>\n                            )}\n                        </div>\n                    ))} \n                    {(selectedPatient.sessions || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine Sitzungen dokumentiert.</p>}\n                  </div>\n                </div>\n              </div>\n            )}\n            \n            {activeDetailTab === 'krankheitsmodell' && (\n                <div className=\"space-y-6\">\n                    <div>\n                        <label htmlFor=\"krankheitsanamnese\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Krankheitsanamnese</label>\n                        <textarea id=\"krankheitsanamnese\" name=\"krankheitsanamnese\" rows=\"6\"\n                                  className={textareaStd}\n                                  value={editableKrankheitsanamnese}\n                                  onChange={(e) => setEditableKrankheitsanamnese(e.target.value)}\n                                  onBlur={(e) => handleKrankheitsmodellChange('krankheitsanamnese', e.target.value)}\n                                  placeholder=\"Hier die Krankheitsanamnese eintragen...\"\n                        ></textarea>\n                    </div>\n                    <div>\n                        <label htmlFor=\"lebensgeschichte\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Lebensgeschichte / Biographie</label>\n                        <textarea id=\"lebensgeschichte\" name=\"lebensgeschichte\" rows=\"6\"\n                                  className={textareaStd}\n                                  value={editableLebensgeschichte}\n                                  onChange={(e) => setEditableLebensgeschichte(e.target.value)}\n                                  onBlur={(e) => handleKrankheitsmodellChange('lebensgeschichte', e.target.value)}\n                                  placeholder=\"Wichtige Aspekte der Lebensgeschichte...\"\n                        ></textarea>\n                    </div>\n                    <div>\n                        <label htmlFor=\"problemanalyseMakro\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Problemanalyse auf Makroebene</label>\n                        <textarea id=\"problemanalyseMakro\" name=\"problemanalyseMakro\" rows=\"6\"\n                                  className={textareaStd}\n                                  value={editableProblemanalyseMakro}\n                                  onChange={(e) => setEditableProblemanalyseMakro(e.target.value)}\n                                  onBlur={(e) => handleKrankheitsmodellChange('problemanalyseMakro', e.target.value)}\n                                  placeholder=\"Analyse der übergeordneten Problembereiche...\"\n                        ></textarea>\n                    </div>\n                     <div>\n                        <label htmlFor=\"therapieplan\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Therapieplan</label>\n                        <textarea id=\"therapieplan\" name=\"therapieplan\" rows=\"6\"\n                                  className={textareaStd}\n                                  value={editableTherapieplan}\n                                  onChange={(e) => setEditableTherapieplan(e.target.value)}\n                                  onBlur={(e) => handleKrankheitsmodellChange('therapieplan', e.target.value)}\n                                  placeholder=\"Therapieziele und -maßnahmen...\"\n                        ></textarea>\n                    </div>\n                </div>\n            )}\n\n            {activeDetailTab === 'diagnostik' && (\n              <div>\n                <div className=\"border-b border-gray-200 mb-4\">\n                    <nav className=\"-mb-px flex space-x-6\" aria-label=\"Diagnostik Sub-Tabs\">\n                        {['scl90r', 'hscl11', 'bdi2', 'fep2'].map(subTab => (\n                            <button key={subTab} onClick={() => setActiveDiagnostikSubTab(subTab)}\n                                className={`whitespace-nowrap pb-2 px-1 border-b-2 font-medium text-sm ${activeDiagnostikSubTab === subTab ? 'border-purple-500 text-purple-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`}>\n                                {subTab.toUpperCase()}\n                            </button>\n                        ))}\n                    </nav>\n                </div>\n\n                {activeDiagnostikSubTab === 'scl90r' && ( \n                  <SCL90RComponent \n                    patient={selectedPatient} \n                    onSaveResult={handleAddScl90rResult}\n                    onDeleteResult={handleRemoveScl90rResult}\n                  /> \n                )}\n                {activeDiagnostikSubTab === 'hscl11' && ( \n                  <div>\n                    <h4 className=\"text-xl font-semibold text-gray-700 mb-4\">HSCL-11 Ergebnisse</h4>\n                    <div className=\"bg-gray-50 p-4 rounded-lg mb-6 shadow\">\n                        <h5 className=\"text-md font-semibold text-gray-600 mb-3\">Neues HSCL-11 Ergebnis</h5>\n                        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-3 items-end\">\n                            <div><label htmlFor=\"hsclDate\" className=\"block text-sm font-medium text-gray-700\">Datum</label><input type=\"date\" id=\"hsclDate\" value={newHsclDate} onChange={(e) => setNewHsclDate(e.target.value)} className={inputStd} /></div>\n                            <div><label htmlFor=\"hsclAngst\" className=\"block text-sm font-medium text-gray-700\">Angst (0-20)</label><input type=\"number\" id=\"hsclAngst\" value={newHsclAngst} onChange={(e) => setNewHsclAngst(e.target.value)} min=\"0\" max=\"20\" className={inputStd} /></div>\n                            <div><label htmlFor=\"hsclDepression\" className=\"block text-sm font-medium text-gray-700\">Depression (0-24)</label><input type=\"number\" id=\"hsclDepression\" value={newHsclDepression} onChange={(e) => setNewHsclDepression(e.target.value)} min=\"0\" max=\"24\" className={inputStd} /></div>\n                            <button onClick={handleAddHsclResult} className={`${btnPrimary} bg-teal-500 hover:bg-teal-600 h-10`}><PlusCircleIcon className=\"w-5 h-5 mr-2\" /> Speichern</button>\n                        </div>\n                    </div>\n                    <div className=\"mb-6\">\n                        <h5 className=\"text-md font-semibold text-gray-600 mb-2\">Protokollierte HSCL-11 Ergebnisse:</h5>\n                        <ul className=\"space-y-2\">\n                            {(selectedPatient.hscl11Results || []).map((result, index) => ( <li key={index} className=\"flex justify-between items-center bg-white border p-3 rounded-md shadow-sm\"><div><span className=\"font-medium\">{new Date(result.date).toLocaleDateString('de-DE')}</span>: <span className=\"text-sm text-gray-600 ml-2\">Angst: {result.angst}</span>, <span className=\"text-sm text-gray-600 ml-2\">Depression: {result.depression}</span>, <span className=\"text-sm text-gray-600 ml-2\">Gesamt: {result.cumulative}</span></div><button onClick={() => handleRemoveHsclResult(result.date)} className={`${btnDanger} p-1 text-xs`}><Trash2 className=\"w-4 h-4\" /></button></li>))}\n                            {(selectedPatient.hscl11Results || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine HSCL-11 Ergebnisse erfasst.</p>}\n                        </ul>\n                    </div>\n                    {(selectedPatient.hscl11Results || []).length > 0 && (\n                        <div><h5 className=\"text-md font-semibold text-gray-600 mb-3\">Verlaufsgraph HSCL-11</h5>\n                        <div className=\"bg-white p-4 rounded-lg shadow\" style={{ height: '400px' }}>\n                            <ResponsiveContainer width=\"100%\" height=\"100%\"><LineChart data={(selectedPatient.hscl11Results || []).map(r => ({...r, date: new Date(r.date).toLocaleDateString('de-DE')}))} margin={{ top: 5, right: 30, left: 0, bottom: 5 }}><CartesianGrid strokeDasharray=\"3 3\" /><XAxis dataKey=\"date\" /><YAxis domain={[0, 44]} /><Tooltip /><Legend /><Line type=\"monotone\" dataKey=\"angst\" name=\"Angst\" stroke=\"#8884d8\" activeDot={{ r: 8 }} /><Line type=\"monotone\" dataKey=\"depression\" name=\"Depression\" stroke=\"#82ca9d\" /><Line type=\"monotone\" dataKey=\"cumulative\" name=\"Gesamt\" stroke=\"#ffc658\" /></LineChart></ResponsiveContainer>\n                        </div></div>\n                    )}\n                  </div> \n                )}\n                {activeDiagnostikSubTab === 'bdi2' && ( \n                  <div>\n                    <h4 className=\"text-xl font-semibold text-gray-700 mb-4\">BDI-II Ergebnisse</h4>\n                    <div className=\"bg-gray-50 p-4 rounded-lg mb-6 shadow\">\n                        <h5 className=\"text-md font-semibold text-gray-600 mb-3\">Neues BDI-II Ergebnis</h5>\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3 items-end\">\n                            <div><label htmlFor=\"bdiDate\" className=\"block text-sm font-medium text-gray-700\">Datum</label><input type=\"date\" id=\"bdiDate\" value={newBdiDate} onChange={(e) => setNewBdiDate(e.target.value)} className={inputStd} /></div>\n                            <div><label htmlFor=\"bdiScore\" className=\"block text-sm font-medium text-gray-700\">BDI-II Wert (0-63)</label><input type=\"number\" id=\"bdiScore\" value={newBdiScore} onChange={(e) => setNewBdiScore(e.target.value)} min=\"0\" max=\"63\" className={inputStd} /></div>\n                            <button onClick={handleAddBdiResult} className={`${btnPrimary} h-10`}><PlusCircleIcon className=\"w-5 h-5 mr-2\" /> Speichern</button>\n                        </div>\n                    </div>\n                    <div className=\"mb-6\">\n                        <h5 className=\"text-md font-semibold text-gray-600 mb-2\">Protokollierte BDI-II Ergebnisse:</h5>\n                        <ul className=\"space-y-2\">\n                            {(selectedPatient.bdi2Results || []).map((result, index) => ( <li key={index} className=\"flex justify-between items-center bg-white border p-3 rounded-md shadow-sm\"><div><span className=\"font-medium\">{new Date(result.date).toLocaleDateString('de-DE')}</span>: <span className=\"text-gray-700\">Score {result.score}</span></div><button onClick={() => handleRemoveBdiResult(result.date)} className={`${btnDanger} p-1 text-xs`}><Trash2 className=\"w-4 h-4\" /></button></li>))}\n                            {(selectedPatient.bdi2Results || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine BDI-II Ergebnisse erfasst.</p>}\n                        </ul>\n                    </div>\n                    {(selectedPatient.bdi2Results || []).length > 0 && (\n                        <div><h5 className=\"text-md font-semibold text-gray-600 mb-3\">Verlaufsgraph BDI-II</h5>\n                        <div className=\"bg-white p-4 rounded-lg shadow\" style={{ height: '400px' }}>\n                            <ResponsiveContainer width=\"100%\" height=\"100%\">\n                                <LineChart data={(selectedPatient.bdi2Results || []).map(r => ({...r, date: new Date(r.date).toLocaleDateString('de-DE')}))} margin={{ top: 5, right: 30, left: 0, bottom: 20 }}>\n                                    <CartesianGrid strokeDasharray=\"3 3\" />\n                                    <XAxis dataKey=\"date\" />\n                                    <YAxis domain={[0, 63]} ticks={bdiAxisTicks} allowDataOverflow={true}/>\n                                    <Tooltip />\n                                    <Legend verticalAlign=\"top\" height={36}/>\n                                    {bdiCutoffs.map(cutoff => ( <ReferenceArea key={cutoff.label} y1={cutoff.y1} y2={cutoff.y2} fill={cutoff.color} strokeOpacity={0.3} label={<CustomBdiLabel text={cutoff.label} y={cutoff.y2 - (cutoff.y2-cutoff.y1)/2} />}/> )) }\n                                    <Line type=\"monotone\" dataKey=\"score\" name=\"BDI-II Score\" stroke=\"#3b82f6\" strokeWidth={2} activeDot={{ r: 8 }} />\n                                </LineChart>\n                            </ResponsiveContainer>\n                        </div></div>\n                    )}\n                  </div> \n                )}\n                {activeDiagnostikSubTab === 'fep2' && ( \n                  <div>\n                    <h4 className=\"text-xl font-semibold text-gray-700 mb-4\">FEP-2 Erfassung & Auswertung</h4>\n                    <div className=\"bg-gray-50 p-4 rounded-lg mb-6 shadow\">\n                        <h5 className=\"text-md font-semibold text-gray-600 mb-3\">Neues FEP-2 Ergebnis hinzufügen</h5>\n                        <div className=\"mb-4\"><label htmlFor=\"fepDate\" className=\"block text-sm font-medium text-gray-700\">Datum der Erhebung</label><input type=\"date\" id=\"fepDate\" value={newFepDate} onChange={(e) => setNewFepDate(e.target.value)} className={`${inputStd} w-full md:w-1/3`} /></div>\n                        <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-x-4 gap-y-3 mb-4\">\n                            {fepItemScores.map((score, index) => ( <div key={index}><label htmlFor={`fepItem${index+1}`} className=\"block text-xs font-medium text-gray-600\">Item {index+1}</label><input type=\"number\" id={`fepItem${index+1}`} value={score === 0 ? '' : score} onChange={(e) => handleFepItemChange(index, e.target.value)} min=\"1\" max=\"5\" placeholder=\"1-5\" className={`${inputStd} px-2 py-1`}/></div>))}\n                        </div>\n                        <button onClick={handleAddFepResult} className={btnPrimary}><PlusCircleIcon className=\"w-5 h-5 mr-2\" /> FEP-2 Ergebnis speichern</button>\n                    </div>\n                    <div className=\"space-y-4\">\n                        <h5 className=\"text-md font-semibold text-gray-600 mb-2\">Protokollierte FEP-2 Ergebnisse:</h5>\n                        {(selectedPatient.fep2Results || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine FEP-2 Ergebnisse erfasst.</p>}\n                        {(selectedPatient.fep2Results || []).map((result, index) => (\n                            <div key={index} className=\"bg-white border p-4 rounded-md shadow-sm\">\n                                <div className=\"flex justify-between items-center mb-2\"><p className=\"font-medium text-indigo-600\">Datum: {new Date(result.date).toLocaleDateString('de-DE')}</p><button onClick={() => handleRemoveFepResult(result.date)} className={`${btnDanger} p-1 text-xs`}><Trash2 className=\"w-4 h-4\" /></button></div>\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-1 text-sm\">\n                                    {Object.entries(result.calculatedScales).map(([key, value]) => ( <div key={key} className=\"flex justify-between\"><span className=\"text-gray-600 capitalize\">{key.replace(/_/g, ' ')}:</span><span className=\"font-medium text-gray-800\">{value === null ? 'N/A (zu wenige Items)' : value} {key === 'gesamtbelastung' && value !== null && (value > 2.49 ? <span className=\"ml-1 text-red-500\">(Belastet)</span> : <span className=\"ml-1 text-green-500\">(Nicht Belastet)</span>)}</span></div>))}\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                  </div> \n                )}\n              </div>\n            )}\n             {activeDetailTab === 'assistenz' && (\n                <div>\n                    <h3 className=\"text-xl font-semibold text-gray-700 mb-4\">Therapeutische Assistenz</h3>\n                    <button \n                        onClick={handleTherapeutischeAssistenzAnfordern} \n                        disabled={isLoadingTherapeutischeAssistenz}\n                        className={`${btnPrimary} bg-purple-600 hover:bg-purple-700 mb-4 flex items-center`}\n                    >\n                        <WandSparkles className=\"mr-2 h-5 w-5\"/>\n                        {isLoadingTherapeutischeAssistenz ? \"Analysiere Daten...\" : \"Expertenfeedback anfordern\"}\n                    </button>\n\n                    {isLoadingTherapeutischeAssistenz && (\n                        <div className=\"text-center py-10\">\n                            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-700 mx-auto\"></div>\n                            <p className=\"mt-3 text-gray-600\">Bitte warten, die KI analysiert die Patientendaten...</p>\n                        </div>\n                    )}\n\n                    {assistenzError && (\n                        <div className=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4\" role=\"alert\">\n                            <p className=\"font-bold\">Fehler bei der Assistenz</p>\n                            <p>{assistenzError}</p>\n                        </div>\n                    )}\n\n                    {therapeutischeAssistenzOutput && !isLoadingTherapeutischeAssistenz && (\n                        <div className=\"mt-4 p-4 bg-gray-50 rounded-md border\">\n                            <h4 className=\"text-lg font-semibold text-gray-800 mb-2\">Vorschläge des Expertenteams:</h4>\n                            <div className=\"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed\">\n                                {therapeutischeAssistenzOutput}\n                            </div>\n                        </div>\n                    )}\n                </div>\n            )}\n          </div>\n        )}\n\n        <Modal isOpen={isPatientModalOpen} onClose={() => { setIsPatientModalOpen(false); setEditingPatient(null); }} title={editingPatient ? 'Patient bearbeiten' : 'Neuen Patienten anlegen'}><PatientForm patient={editingPatient} onSave={handleSavePatient} onCancel={() => { setIsPatientModalOpen(false); setEditingPatient(null); }} /></Modal>\n        <ConfirmationModal isOpen={isConfirmDeleteModalOpen} onClose={() => setIsConfirmDeleteModalOpen(false)} onConfirm={confirmDeletePatient} title=\"Patient löschen\" message={`Möchten Sie den Patienten wirklich endgültig löschen?`} />\n        \n        <Modal isOpen={diagnosisInfo.isOpen} onClose={() => setDiagnosisInfo(prev => ({...prev, isOpen: false}))} title={`${diagnosisInfo.source === 'local' ? 'Lokale ICD-10 Info' : 'Gemini ICD-10 Info'}: ${diagnosisInfo.code || ''}`} size=\"3xl\">\n            {diagnosisInfo.isLoading && <p className=\"text-center py-4\">Informationen werden geladen...</p>}\n            {diagnosisInfo.error && <p className=\"text-red-600 bg-red-100 p-3 rounded-md\">Fehler: {diagnosisInfo.error}</p>}\n            {!diagnosisInfo.isLoading && diagnosisInfo.source === 'gemini' && diagnosisInfo.info && (\n                <div className=\"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed p-2\">{diagnosisInfo.info}</div>\n            )}\n            {!diagnosisInfo.isLoading && diagnosisInfo.source === 'local' && (\n                <div className=\"text-sm text-gray-700 leading-relaxed p-2 space-y-3\">\n                    <h3 className=\"text-lg font-semibold text-indigo-700\">{diagnosisInfo.name} <span className=\"text-gray-500 text-base\">({diagnosisInfo.code}) {diagnosisInfo.sicherheit && `[${diagnosisInfo.sicherheit}]`}</span></h3>\n                    {diagnosisInfo.zusatz_info_code && <p className=\"text-xs text-gray-500\">Zusatz: {diagnosisInfo.zusatz_info_code}</p>}\n                    {diagnosisInfo.beschreibung && <p><strong className=\"font-medium text-gray-800\">Beschreibung:</strong> {diagnosisInfo.beschreibung}</p>}\n                    {diagnosisInfo.inkl && diagnosisInfo.inkl.length > 0 && (\n                        <div><strong className=\"font-medium text-gray-800\">Inklusionen:</strong><ul className=\"list-disc list-inside ml-4\">{diagnosisInfo.inkl.map((item, i) => <li key={i}>{item}</li>)}</ul></div>\n                    )}\n                    {diagnosisInfo.exkl && diagnosisInfo.exkl.length > 0 && (\n                        <div><strong className=\"font-medium text-gray-800\">Exklusionen:</strong><ul className=\"list-disc list-inside ml-4\">{diagnosisInfo.exkl.map((item, i) => <li key={i}>{item}</li>)}</ul></div>\n                    )}\n                    {diagnosisInfo.hinweise && diagnosisInfo.hinweise.length > 0 && (\n                        <div><strong className=\"font-medium text-gray-800\">Hinweise:</strong><ul className=\"list-disc list-inside ml-4\">{diagnosisInfo.hinweise.map((item, i) => <li key={i}>{item}</li>)}</ul></div>\n                    )}\n                </div>\n            )}\n        </Modal>\n\n        {appError && (<div className=\"fixed bottom-4 right-4 p-4 max-w-sm text-sm text-red-700 bg-red-100 border border-red-400 rounded-md shadow-lg z-[100]\">{appError}<button onClick={() => setAppError(null)} className=\"ml-4 mt-2 sm:mt-0 sm:ml-2 px-2 py-1 text-red-900 underline rounded-md hover:bg-red-200 text-xs\">Ok</button></div>)}\n      </main>\n      <footer className=\"text-center py-6 text-sm text-gray-500 border-t border-gray-200 mt-10\">Patientenverwaltung &copy; {new Date().getFullYear()}</footer>\n    </div>\n  );\n}\n\nconst CustomBdiLabel = (props) => {\n    const { x, y, width, text } = props;\n    if (typeof x !== 'number' || isNaN(x) || \n        typeof y !== 'number' || isNaN(y) ||\n        typeof width !== 'number' || isNaN(width) || width <= 0) {\n        return null; \n    }\n    const labelX = x + width / 2;\n    return ( <text x={labelX} y={y} fill=\"#666\" textAnchor=\"middle\" dy={-4} fontSize=\"10\">{text}</text> );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}