{"ast":null,"code":"var _jsxFileName = \"/Users/julianrogowski/Desktop/patientenverwaltung-app/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n/* global __firebase_config, __app_id, __initial_auth_token, __GEMINI_API_KEY__ */\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken } from 'firebase/auth';\nimport { getFirestore, collection, doc, addDoc, getDocs, setDoc, deleteDoc, onSnapshot, query, writeBatch } from 'firebase/firestore';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, ReferenceArea } from 'recharts';\n\n// Lucide-React Icons\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserPlus = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 228\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"9\",\n    cy: \"7\",\n    r: \"4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 282\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"19\",\n    x2: \"19\",\n    y1: \"8\",\n    y2: \"14\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 312\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"22\",\n    x2: \"16\",\n    y1: \"11\",\n    y2: \"11\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 351\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 9,\n  columnNumber: 51\n}, this);\n_c = UserPlus;\nconst Edit3 = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 20h9\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 225\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 246\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 10,\n  columnNumber: 48\n}, this);\n_c2 = Edit3;\nconst Trash2 = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"3 6 5 6 21 6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 226\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 260\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"10\",\n    y1: \"11\",\n    x2: \"10\",\n    y2: \"17\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 351\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"14\",\n    y1: \"11\",\n    x2: \"14\",\n    y2: \"17\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 391\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 11,\n  columnNumber: 49\n}, this);\n_c3 = Trash2;\nconst PlusCircle = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 230\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"8\",\n    x2: \"12\",\n    y2: \"16\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 263\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"8\",\n    y1: \"12\",\n    x2: \"16\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 302\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 12,\n  columnNumber: 53\n}, this);\n_c4 = PlusCircle;\nconst XCircle = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 227\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"15\",\n    y1: \"9\",\n    x2: \"9\",\n    y2: \"15\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 267\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"9\",\n    y1: \"9\",\n    x2: \"15\",\n    y2: \"15\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 310\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 13,\n  columnNumber: 50\n}, this);\n_c5 = XCircle;\nconst Save = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 224\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"17 21 17 13 7 13 7 21\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 300\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"7 3 7 8 15 8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 343\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 14,\n  columnNumber: 47\n}, this);\n_c6 = Save;\nconst AlertTriangle = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 233\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"9\",\n    x2: \"12\",\n    y2: \"13\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 339\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"17\",\n    x2: \"12.01\",\n    y2: \"17\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 383\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 15,\n  columnNumber: 56\n}, this);\n_c7 = AlertTriangle;\nconst InfoIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 228\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"16\",\n    x2: \"12\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 268\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"8\",\n    x2: \"12.01\",\n    y2: \"8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 313\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 16,\n  columnNumber: 51\n}, this);\n\n// Firebase configuration\n_c8 = InfoIcon;\nconst firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {\n  apiKey: \"AIzaSyDZ_qqqKW7WDCZ9botek2VBwXNMQO3JYwU\",\n  authDomain: \"psychotherapie0512.firebaseapp.com\",\n  projectId: \"psychotherapie0512\",\n  storageBucket: \"psychotherapie0512.firebasestorage.app\",\n  messagingSenderId: \"131279046361\",\n  appId: \"1:131279046361:web:e5dd2d18b206fb820b60c8\"\n};\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst appId = typeof __app_id !== 'undefined' ? __app_id : 'default-patient-app-v3'; // App ID für Firestore Pfade\n\n// Initiale Patientendaten (Beispiel)\nconst initialPatientsData = [{\n  name: \"Kern\",\n  chiffre: \"K040498\",\n  therapyType: \"LZT\",\n  approvedHours: 60,\n  conductedHours: 24,\n  diagnoses: [],\n  sessions: [],\n  hscl11Results: [],\n  bdi2Results: [],\n  fep2Results: []\n}];\n\n// Modal Komponente\nconst Modal = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  size = \"lg\"\n}) => {\n  if (!isOpen) return null;\n  const sizeClasses = {\n    sm: 'max-w-sm',\n    md: 'max-w-md',\n    lg: 'max-w-lg',\n    xl: 'max-w-xl',\n    '2xl': 'max-w-2xl',\n    '3xl': 'max-w-3xl',\n    '4xl': 'max-w-4xl'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex justify-center items-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bg-white p-6 rounded-lg shadow-xl w-full ${sizeClasses[size]} max-h-[90vh] overflow-y-auto`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-gray-800\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 292\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-500 hover:text-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(XCircle, {\n            className: \"w-7 h-7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 429\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 357\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 236\n      }, this), children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 126\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 13\n  }, this);\n};\n\n// Bestätigungsmodal Komponente\n_c9 = Modal;\nconst ConfirmationModal = ({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  message\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onClose: onClose,\n    title: title,\n    size: \"sm\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n        className: \"mx-auto mb-4 w-12 h-12 text-red-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 107\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-700 mb-6\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 172\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none\",\n          children: \"Abbrechen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 266\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onConfirm,\n          className: \"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none\",\n          children: \"Best\\xE4tigen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 426\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 219\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 78\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 13\n  }, this);\n};\n\n// Patientenformular Komponente\n_c0 = ConfirmationModal;\nconst PatientForm = ({\n  patient,\n  onSave,\n  onCancel\n}) => {\n  _s();\n  const [formData, setFormData] = useState(patient || {\n    name: '',\n    chiffre: '',\n    therapyType: 'LZT',\n    approvedHours: 0,\n    conductedHours: 0,\n    diagnoses: [],\n    sessions: [],\n    hscl11Results: [],\n    bdi2Results: [],\n    fep2Results: []\n  });\n  useEffect(() => {\n    if (patient) {\n      setFormData({\n        ...patient,\n        hscl11Results: patient.hscl11Results || [],\n        bdi2Results: patient.bdi2Results || [],\n        fep2Results: patient.fep2Results || []\n      });\n    } else {\n      setFormData({\n        name: '',\n        chiffre: '',\n        therapyType: 'LZT',\n        approvedHours: 0,\n        conductedHours: 0,\n        diagnoses: [],\n        sessions: [],\n        hscl11Results: [],\n        bdi2Results: [],\n        fep2Results: []\n      });\n    }\n  }, [patient]);\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'number' ? parseInt(value, 10) || 0 : value\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSave(formData);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 69\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        id: \"name\",\n        value: formData.name,\n        onChange: handleChange,\n        required: true,\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 155\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 64\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"chiffre\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Chiffre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 424\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"chiffre\",\n        id: \"chiffre\",\n        value: formData.chiffre,\n        onChange: handleChange,\n        required: true,\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 516\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 419\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"therapyType\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Therapieform\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 794\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"therapyType\",\n        id: \"therapyType\",\n        value: formData.therapyType,\n        onChange: handleChange,\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"LZT\",\n          children: \"Langzeittherapie (LZT)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 1152\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"KZT\",\n          children: \"Kurzzeittherapie (KZT)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 1203\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 895\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 789\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"approvedHours\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Genehmigte Stunden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 1274\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"approvedHours\",\n        id: \"approvedHours\",\n        value: formData.approvedHours,\n        onChange: handleChange,\n        min: \"0\",\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 1383\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 1269\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"conductedHours\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Durchgef\\xFChrte Stunden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 1680\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"conductedHours\",\n        id: \"conductedHours\",\n        value: formData.conductedHours,\n        onChange: handleChange,\n        min: \"0\",\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 1793\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 1675\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end space-x-3 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onCancel,\n        className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\",\n        children: \"Abbrechen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 2137\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Save, {\n          className: \"w-4 h-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 2577\n        }, this), \" Speichern\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 2365\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 2088\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 12\n  }, this);\n};\n\n// FEP-2 Definitionen und Berechnungslogik\n_s(PatientForm, \"/ziV1gc05sqM0pj62pnxyMqbmlU=\");\n_c1 = PatientForm;\nconst FEP2_ITEMS_TO_REVERSE = [1, 2, 5, 9, 14, 15, 19, 21, 22, 27, 29, 30, 39];\nconst FEP2_SKALEN_DEFINITION = {\n  WOHLBEFINDEN: {\n    items: [1, 5, 9, 14, 22, 30, 39],\n    minItemsRequired: 7\n  },\n  BESCHWERDEN: {\n    items: [4, 6, 7, 8, 10, 12, 23, 24, 31, 34, 38],\n    minItemsRequired: 10\n  },\n  BESCHWERDEN_ANGST: {\n    items: [4, 8, 12, 23],\n    minItemsRequired: 4\n  },\n  BESCHWERDEN_DEPRESSIVITAET: {\n    items: [7, 10, 24, 31, 34, 38],\n    minItemsRequired: 5\n  },\n  INTERPERSONALE_BEZIEHUNG: {\n    items: [11, 13, 16, 18, 20, 25, 26, 28, 32, 33, 36, 40],\n    minItemsRequired: 11\n  },\n  INTERPERSONALE_INTROVERTIERT_SCHEU: {\n    items: [28, 36, 40],\n    minItemsRequired: 3\n  },\n  INTERPERSONALE_AUSNUTZBAR_NACHGIEBIG: {\n    items: [13, 20, 26],\n    minItemsRequired: 3\n  },\n  INTERPERSONALE_KONKURRIEREND_UNTERSTUETZEND: {\n    items: [11, 16, 33],\n    minItemsRequired: 3\n  },\n  INTERPERSONALE_SELBSTUNSICHER_ZURUECKHALTEND: {\n    items: [18, 25, 32],\n    minItemsRequired: 3\n  },\n  KONGRUENZ: {\n    items: [2, 3, 15, 17, 19, 21, 27, 29, 35, 37],\n    minItemsRequired: 8\n  }\n};\nconst calculateFep2Scores = itemScoresRaw => {\n  const itemScores = itemScoresRaw.map((score, index) => {\n    const itemNum = index + 1;\n    if (FEP2_ITEMS_TO_REVERSE.includes(itemNum) && score > 0 && score <= 5) {\n      return 6 - score;\n    }\n    return score;\n  });\n  const answeredItemsCount = itemScores.filter(score => score > 0 && score <= 5).length;\n  const calculatedScales = {};\n  if (answeredItemsCount >= 32) {\n    const sum = itemScores.reduce((acc, score) => acc + (score > 0 && score <= 5 ? score : 0), 0);\n    calculatedScales.gesamtbelastung = answeredItemsCount > 0 ? parseFloat((sum / answeredItemsCount).toFixed(2)) : null;\n  } else {\n    calculatedScales.gesamtbelastung = null;\n  }\n  for (const skalaName in FEP2_SKALEN_DEFINITION) {\n    const def = FEP2_SKALEN_DEFINITION[skalaName];\n    let sum = 0;\n    let count = 0;\n    def.items.forEach(itemNum => {\n      const score = itemScores[itemNum - 1];\n      if (score > 0 && score <= 5) {\n        sum += score;\n        count++;\n      }\n    });\n    if (count >= def.minItemsRequired) {\n      calculatedScales[skalaName.toLowerCase()] = parseFloat((sum / count).toFixed(2));\n    } else {\n      calculatedScales[skalaName.toLowerCase()] = null;\n    }\n  }\n  return calculatedScales;\n};\n\n// Gemini API Hilfsfunktion\nasync function generateGeminiText(prompt) {\n  let chatHistory = [{\n    role: \"user\",\n    parts: [{\n      text: prompt\n    }]\n  }];\n  const payload = {\n    contents: chatHistory\n  };\n  const GEMINI_API_KEY = typeof __GEMINI_API_KEY__ !== 'undefined' ? __GEMINI_API_KEY__ : \"\";\n  const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`;\n  try {\n    const response = await fetch(apiUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    });\n    if (!response.ok) {\n      var _errorData$error;\n      const errorData = await response.json();\n      console.error(\"Gemini API error details:\", errorData);\n      const errorMessage = ((_errorData$error = errorData.error) === null || _errorData$error === void 0 ? void 0 : _errorData$error.message) || `API request failed with status ${response.status}`;\n      throw new Error(errorMessage);\n    }\n    const result = await response.json();\n    if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\n      return result.candidates[0].content.parts[0].text;\n    } else if (result.candidates && result.candidates.length > 0 && result.candidates[0].finishReason === \"SAFETY\") {\n      console.warn(\"Gemini API response blocked due to safety reasons.\");\n      return \"Die Antwort wurde aufgrund von Sicherheitsrichtlinien blockiert.\";\n    } else {\n      console.error(\"Unexpected Gemini API response structure:\", result);\n      throw new Error(\"Unerwartete Antwortstruktur von der API.\");\n    }\n  } catch (error) {\n    console.error(\"Error calling Gemini API:\", error);\n    throw error;\n  }\n}\n\n// Haupt-App Komponente\nfunction App() {\n  _s2();\n  const [patients, setPatients] = useState([]);\n  const [selectedPatient, setSelectedPatient] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [isPatientModalOpen, setIsPatientModalOpen] = useState(false);\n  const [editingPatient, setEditingPatient] = useState(null);\n  const [isConfirmDeleteModalOpen, setIsConfirmDeleteModalOpen] = useState(false);\n  const [patientToDeleteId, setPatientToDeleteId] = useState(null);\n  const [newDiagnosis, setNewDiagnosis] = useState('');\n  const [newSessionDate, setNewSessionDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newSessionNotes, setNewSessionNotes] = useState('');\n  const [activeDetailTab, setActiveDetailTab] = useState('details');\n  const [newHsclDate, setNewHsclDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newHsclAngst, setNewHsclAngst] = useState('');\n  const [newHsclDepression, setNewHsclDepression] = useState('');\n  const [newBdiDate, setNewBdiDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newBdiScore, setNewBdiScore] = useState('');\n  const [newFepDate, setNewFepDate] = useState(new Date().toISOString().split('T')[0]);\n  const [fepItemScores, setFepItemScores] = useState(Array(40).fill(0));\n  const [sessionSummaries, setSessionSummaries] = useState({});\n  const [diagnosisInfo, setDiagnosisInfo] = useState({\n    code: '',\n    info: '',\n    isLoading: false,\n    error: null,\n    isOpen: false\n  });\n  const getPatientsCollectionPath = useCallback(() => {\n    if (!userId) return null;\n    return `/artifacts/${appId}/users/${userId}/patients`;\n  }, [userId]);\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async user => {\n      if (user) {\n        setUserId(user.uid);\n      } else {\n        try {\n          if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {\n            await signInWithCustomToken(auth, __initial_auth_token);\n          } else {\n            await signInAnonymously(auth);\n          }\n        } catch (e) {\n          console.error(\"Error signing in: \", e);\n          setError(\"Fehler bei der Authentifizierung.\");\n        }\n      }\n      setIsAuthReady(true);\n    });\n    return () => unsubscribe();\n  }, []);\n  const seedInitialData = useCallback(async () => {\n    if (!userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    try {\n      const patientsCollection = collection(db, collectionPath);\n      const querySnapshot = await getDocs(patientsCollection);\n      if (querySnapshot.empty) {\n        const batch = writeBatch(db);\n        initialPatientsData.forEach(patientData => {\n          const newPatientRef = doc(patientsCollection);\n          batch.set(newPatientRef, {\n            ...patientData,\n            hscl11Results: patientData.hscl11Results || [],\n            bdi2Results: patientData.bdi2Results || [],\n            fep2Results: patientData.fep2Results || []\n          });\n        });\n        await batch.commit();\n        console.log(\"Initiale Daten erfolgreich geschrieben.\");\n      } else {\n        console.log(\"Vorhandene Patientendaten gefunden, Seed wird übersprungen.\");\n      }\n    } catch (err) {\n      console.error(\"Error seeding initial data:\", err);\n      setError(\"Fehler beim Laden der initialen Daten.\");\n    }\n  }, [userId, getPatientsCollectionPath]);\n  useEffect(() => {\n    if (!isAuthReady || !userId) {\n      if (isAuthReady && !userId) setError(\"Authentifizierung fehlgeschlagen. Bitte laden Sie die Seite neu.\");\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) {\n      console.log(\"Collection path ist nicht verfügbar für Firestore Listener.\");\n      return;\n    }\n    setIsLoading(true);\n    seedInitialData();\n    const patientsQuery = query(collection(db, collectionPath));\n    const unsubscribe = onSnapshot(patientsQuery, snapshot => {\n      let patientsData = snapshot.docs.map(docSnap => ({\n        id: docSnap.id,\n        ...docSnap.data(),\n        hscl11Results: docSnap.data().hscl11Results || [],\n        bdi2Results: docSnap.data().bdi2Results || [],\n        fep2Results: docSnap.data().fep2Results || []\n      }));\n      patientsData.sort((a, b) => a.name.localeCompare(b.name));\n      setPatients(patientsData);\n      setIsLoading(false);\n\n      // Update selectedPatient if it exists in the new snapshot to reflect changes\n      // This logic is now moved to a separate useEffect to address the ESLint warning\n    }, err => {\n      console.error(\"Error fetching patients:\", err);\n      setError(\"Fehler beim Laden der Patientendaten. Stellen Sie sicher, dass Firestore korrekt konfiguriert ist.\");\n      setIsLoading(false);\n    });\n    return () => unsubscribe();\n  }, [isAuthReady, userId, getPatientsCollectionPath, seedInitialData]);\n\n  // useEffect to keep selectedPatient in sync with the patients list\n  // This hook now correctly handles updates to selectedPatient when the patients list changes.\n  useEffect(() => {\n    if (selectedPatient && selectedPatient.id && patients.length > 0) {\n      const currentPatientDataFromList = patients.find(p => p.id === selectedPatient.id);\n      if (currentPatientDataFromList) {\n        // Only update if the data is actually different to prevent potential loops\n        // A more robust deep comparison might be needed for complex objects,\n        // but for this structure, stringify is a pragmatic approach.\n        if (JSON.stringify(currentPatientDataFromList) !== JSON.stringify(selectedPatient)) {\n          setSelectedPatient(currentPatientDataFromList);\n        }\n      } else {\n        // Selected patient no longer in the list (e.g., deleted)\n        setSelectedPatient(null);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps \n  }, [patients, selectedPatient === null || selectedPatient === void 0 ? void 0 : selectedPatient.id]); // selectedPatient.id is stable, patients list is the main trigger\n\n  const handleSavePatient = async patientData => {\n    if (!userId) {\n      setError(\"Benutzer nicht authentifiziert.\");\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const dataToSave = {\n      ...patientData,\n      hscl11Results: patientData.hscl11Results || [],\n      bdi2Results: patientData.bdi2Results || [],\n      fep2Results: patientData.fep2Results || []\n    };\n    try {\n      if (editingPatient && editingPatient.id) {\n        const patientRef = doc(db, collectionPath, editingPatient.id);\n        await setDoc(patientRef, dataToSave, {\n          merge: true\n        });\n      } else {\n        await addDoc(collection(db, collectionPath), dataToSave);\n      }\n      setIsPatientModalOpen(false);\n      setEditingPatient(null);\n    } catch (err) {\n      console.error(\"Error saving patient:\", err);\n      setError(\"Fehler beim Speichern des Patienten.\");\n    }\n  };\n  const openDeleteConfirmation = patientId => {\n    setPatientToDeleteId(patientId);\n    setIsConfirmDeleteModalOpen(true);\n  };\n  const confirmDeletePatient = async () => {\n    if (!patientToDeleteId || !userId) {\n      setError(\"Löschvorgang fehlgeschlagen.\");\n      setIsConfirmDeleteModalOpen(false);\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    try {\n      const patientRef = doc(db, collectionPath, patientToDeleteId);\n      await deleteDoc(patientRef);\n      if (selectedPatient && selectedPatient.id === patientToDeleteId) {\n        setSelectedPatient(null);\n      }\n      setPatientToDeleteId(null);\n      setIsConfirmDeleteModalOpen(false);\n    } catch (err) {\n      console.error(\"Error deleting patient:\", err);\n      setError(\"Fehler beim Löschen des Patienten.\");\n      setIsConfirmDeleteModalOpen(false);\n    }\n  };\n  const handleAddDiagnosis = async () => {\n    if (!selectedPatient || !newDiagnosis.trim() || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedDiagnoses = [...(selectedPatient.diagnoses || []), newDiagnosis.trim()];\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        diagnoses: updatedDiagnoses\n      }, {\n        merge: true\n      });\n      setNewDiagnosis('');\n    } catch (err) {\n      console.error(\"Error adding diagnosis:\", err);\n      setError(\"Fehler beim Hinzufügen der Diagnose.\");\n    }\n  };\n  const handleRemoveDiagnosis = async diagnosisToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedDiagnoses = selectedPatient.diagnoses.filter(d => d !== diagnosisToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        diagnoses: updatedDiagnoses\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing diagnosis:\", err);\n      setError(\"Fehler beim Entfernen der Diagnose.\");\n    }\n  };\n  const handleAddSession = async () => {\n    if (!selectedPatient || !newSessionNotes.trim() || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const newSession = {\n      date: newSessionDate,\n      notes: newSessionNotes.trim()\n    };\n    const updatedSessions = [...(selectedPatient.sessions || []), newSession];\n    updatedSessions.sort((a, b) => new Date(b.date) - new Date(a.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        sessions: updatedSessions\n      }, {\n        merge: true\n      });\n      setNewSessionNotes('');\n    } catch (err) {\n      console.error(\"Error adding session:\", err);\n      setError(\"Fehler beim Hinzufügen der Sitzung.\");\n    }\n  };\n  const handleUpdateConductedHours = async (patient, hoursStr) => {\n    if (!patient || !userId) return;\n    const hours = parseInt(hoursStr, 10);\n    if (isNaN(hours) || hours < 0) {\n      setError(\"Ungültige Stundenzahl.\");\n      const originalPatientData = patients.find(p => p.id === patient.id);\n      if (originalPatientData) {\n        setSelectedPatient(prev => ({\n          ...prev,\n          conductedHours: originalPatientData.conductedHours\n        }));\n      }\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const patientRef = doc(db, collectionPath, patient.id);\n    try {\n      await setDoc(patientRef, {\n        conductedHours: hours\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error updating conducted hours:\", err);\n      setError(\"Fehler beim Aktualisieren der Stunden.\");\n    }\n  };\n  const handleAddHsclResult = async () => {\n    if (!selectedPatient || !newHsclDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const angst = parseInt(newHsclAngst, 10);\n    const depression = parseInt(newHsclDepression, 10);\n    if (isNaN(angst) || angst < 0 || angst > 20 || isNaN(depression) || depression < 0 || depression > 24) {\n      setError(\"Ungültige HSCL-Werte. Angst (0-20), Depression (0-24).\");\n      return;\n    }\n    const newResult = {\n      date: newHsclDate,\n      angst: angst,\n      depression: depression,\n      cumulative: angst + depression\n    };\n    const updatedHsclResults = [...(selectedPatient.hscl11Results || []), newResult];\n    updatedHsclResults.sort((a, b) => new Date(a.date) - new Date(b.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        hscl11Results: updatedHsclResults\n      }, {\n        merge: true\n      });\n      setNewHsclAngst('');\n      setNewHsclDepression('');\n      setError(null);\n    } catch (err) {\n      console.error(\"Error adding HSCL result:\", err);\n      setError(\"Fehler beim Hinzufügen des HSCL-Ergebnisses.\");\n    }\n  };\n  const handleRemoveHsclResult = async dateToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedHsclResults = selectedPatient.hscl11Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        hscl11Results: updatedHsclResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing HSCL result:\", err);\n      setError(\"Fehler beim Entfernen des HSCL-Ergebnisses.\");\n    }\n  };\n  const handleAddBdiResult = async () => {\n    if (!selectedPatient || !newBdiDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const score = parseInt(newBdiScore, 10);\n    if (isNaN(score) || score < 0 || score > 63) {\n      setError(\"Ungültiger BDI-II Wert (0-63).\");\n      return;\n    }\n    const newResult = {\n      date: newBdiDate,\n      score: score\n    };\n    const updatedBdiResults = [...(selectedPatient.bdi2Results || []), newResult];\n    updatedBdiResults.sort((a, b) => new Date(a.date) - new Date(b.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        bdi2Results: updatedBdiResults\n      }, {\n        merge: true\n      });\n      setNewBdiScore('');\n      setError(null);\n    } catch (err) {\n      console.error(\"Error adding BDI-II result:\", err);\n      setError(\"Fehler beim Hinzufügen des BDI-II Ergebnisses.\");\n    }\n  };\n  const handleRemoveBdiResult = async dateToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedBdiResults = selectedPatient.bdi2Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        bdi2Results: updatedBdiResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing BDI-II result:\", err);\n      setError(\"Fehler beim Entfernen des BDI-II Ergebnisses.\");\n    }\n  };\n  const handleFepItemChange = (index, value) => {\n    const newScores = [...fepItemScores];\n    newScores[index] = value === '' ? 0 : parseInt(value, 10);\n    if (isNaN(newScores[index]) || newScores[index] < 0 || newScores[index] > 5) newScores[index] = 0;\n    setFepItemScores(newScores);\n  };\n  const handleAddFepResult = async () => {\n    if (!selectedPatient || !newFepDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const answeredCount = fepItemScores.filter(s => s >= 1 && s <= 5).length;\n    if (answeredCount < 32) {\n      setError(\"Bitte beantworten Sie mindestens 80% (32) der FEP-2 Items.\");\n      return;\n    }\n    const calculatedScales = calculateFep2Scores(fepItemScores);\n    const newResult = {\n      date: newFepDate,\n      itemScores: [...fepItemScores],\n      calculatedScales\n    };\n    const updatedFepResults = [...(selectedPatient.fep2Results || []), newResult];\n    updatedFepResults.sort((a, b) => new Date(a.date) - new Date(b.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        fep2Results: updatedFepResults\n      }, {\n        merge: true\n      });\n      setFepItemScores(Array(40).fill(0));\n      setError(null);\n    } catch (err) {\n      console.error(\"Error adding FEP-2 result:\", err);\n      setError(\"Fehler beim Hinzufügen des FEP-2 Ergebnisses.\");\n    }\n  };\n  const handleRemoveFepResult = async dateToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedFepResults = selectedPatient.fep2Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        fep2Results: updatedFepResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing FEP-2 result:\", err);\n      setError(\"Fehler beim Entfernen des FEP-2 Ergebnisses.\");\n    }\n  };\n  const fetchSessionSummary = async (sessionNotes, sessionIndex) => {\n    setSessionSummaries(prev => ({\n      ...prev,\n      [sessionIndex]: {\n        ...prev[sessionIndex],\n        isLoading: true,\n        error: null\n      }\n    }));\n    const prompt = `Fasse die folgenden Therapiesitzungsnotizen prägnant zusammen. Konzentriere dich auf die wichtigsten Themen, Interventionen und den Fortschritt des Patienten:\\n\\n\"${sessionNotes}\"`;\n    try {\n      const summary = await generateGeminiText(prompt);\n      setSessionSummaries(prev => ({\n        ...prev,\n        [sessionIndex]: {\n          summary: summary,\n          isLoading: false,\n          error: null\n        }\n      }));\n    } catch (e) {\n      setSessionSummaries(prev => ({\n        ...prev,\n        [sessionIndex]: {\n          ...prev[sessionIndex],\n          isLoading: false,\n          error: e.message\n        }\n      }));\n      setError(`Fehler bei der Zusammenfassung: ${e.message}`);\n    }\n  };\n  const fetchDiagnosisInfo = async diagnosisCode => {\n    setDiagnosisInfo({\n      code: diagnosisCode,\n      info: '',\n      isLoading: true,\n      error: null,\n      isOpen: true\n    });\n    const prompt = `Erkläre die ICD-10 Diagnose '${diagnosisCode}' kurz und verständlich für einen Laien. Nenne auch typische Symptome und ggf. wichtige Differentialdiagnosen oder Komorbiditäten, falls relevant. Antworte auf Deutsch.`;\n    try {\n      const info = await generateGeminiText(prompt);\n      setDiagnosisInfo(prev => ({\n        ...prev,\n        info: info,\n        isLoading: false\n      }));\n    } catch (e) {\n      setDiagnosisInfo(prev => ({\n        ...prev,\n        isLoading: false,\n        error: e.message\n      }));\n      setError(`Fehler beim Abrufen der Diagnose-Info: ${e.message}`);\n    }\n  };\n  const totalApprovedHours = patients.reduce((sum, p) => sum + (p.approvedHours || 0), 0);\n  const totalConductedHours = patients.reduce((sum, p) => sum + (p.conductedHours || 0), 0);\n  const overallProgressTarget = 600;\n  const overallProgress = overallProgressTarget > 0 ? totalConductedHours / overallProgressTarget * 100 : 0;\n  if (!isAuthReady) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center h-screen text-xl font-semibold text-gray-700\",\n    children: \"Authentifizierung wird initialisiert...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 500,\n    columnNumber: 28\n  }, this);\n  if (isLoading && isAuthReady && userId) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center h-screen text-xl font-semibold text-gray-700\",\n    children: \"Lade Patientendaten...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 501,\n    columnNumber: 50\n  }, this);\n  const bdiCutoffs = [{\n    y1: 0,\n    y2: 8,\n    label: \"Keine Depression\",\n    color: \"rgba(75, 192, 192, 0.2)\"\n  }, {\n    y1: 9,\n    y2: 13,\n    label: \"Minimale Depression\",\n    color: \"rgba(54, 162, 235, 0.2)\"\n  }, {\n    y1: 14,\n    y2: 19,\n    label: \"Leichte Depression\",\n    color: \"rgba(255, 206, 86, 0.2)\"\n  }, {\n    y1: 20,\n    y2: 28,\n    label: \"Mittelschwere Depression\",\n    color: \"rgba(255, 159, 64, 0.2)\"\n  }, {\n    y1: 29,\n    y2: 63,\n    label: \"Schwere Depression\",\n    color: \"rgba(255, 99, 132, 0.2)\"\n  }];\n  const bdiAxisTicks = [0, 8, 13, 19, 28, 63];\n  const inputStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\";\n  const btnPrimary = \"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm flex items-center justify-center\";\n  const btnDanger = \"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md flex items-center\";\n  const btnInfo = \"bg-sky-500 hover:bg-sky-600 text-white font-semibold py-1 px-2 text-xs rounded-md flex items-center\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-indigo-700 text-white shadow-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold tracking-tight\",\n          children: \"Patientenverwaltung\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 157\n        }, this), userId && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs opacity-75\",\n          children: [\"UserID: \", userId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 242\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 62\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 516,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"container mx-auto p-4 sm:p-6 lg:p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-gray-800\",\n          children: \"Patienten\\xFCbersicht\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 65\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setEditingPatient(null);\n            setIsPatientModalOpen(true);\n          },\n          className: `${btnPrimary} py-2 px-4`,\n          children: [/*#__PURE__*/_jsxDEV(UserPlus, {\n            className: \"w-5 h-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 261\n          }, this), \" Patient hinzuf\\xFCgen\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 141\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow-xl rounded-lg overflow-hidden mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full min-w-max table-auto text-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-100 border-b border-gray-300\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: ['Name', 'Chiffre', 'Therapie', 'Genehm. Std.', 'Durchgef. Std.', 'Fortschritt', 'Aktionen'].map(header => /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-3 px-4 text-sm font-semibold text-gray-600 uppercase tracking-wider\",\n                  children: header\n                }, header, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 182\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 69\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"divide-y divide-gray-200\",\n              children: [patients.length === 0 && !isLoading && /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"7\",\n                  className: \"text-center py-10 text-gray-500\",\n                  children: \"Keine Patienten gefunden. F\\xFCgen Sie einen neuen Patienten hinzu.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 523,\n                  columnNumber: 62\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 58\n              }, this), patients.map(patient => {\n                const progress = patient.approvedHours > 0 ? patient.conductedHours / patient.approvedHours * 100 : 0;\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: `hover:bg-indigo-50 cursor-pointer ${(selectedPatient === null || selectedPatient === void 0 ? void 0 : selectedPatient.id) === patient.id ? 'bg-indigo-100' : ''}`,\n                  onClick: () => {\n                    setSelectedPatient(patient);\n                    setActiveDetailTab('details');\n                    setSessionSummaries({});\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm font-medium text-gray-800\",\n                    children: patient.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 396\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm text-gray-600\",\n                    children: patient.chiffre\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 493\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm text-gray-600\",\n                    children: patient.therapyType\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 581\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm text-gray-600 text-center\",\n                    children: patient.approvedHours\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 673\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm text-gray-600 text-center\",\n                    children: patient.conductedHours\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 779\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-full bg-gray-200 rounded-full h-2.5\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `h-2.5 rounded-full ${progress > 80 ? 'bg-red-500' : progress > 50 ? 'bg-yellow-400' : 'bg-green-500'}`,\n                        style: {\n                          width: `${Math.min(progress, 100)}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 524,\n                        columnNumber: 985\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 524,\n                      columnNumber: 930\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-500 block text-center mt-1\",\n                      children: [Math.round(progress), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 524,\n                      columnNumber: 1167\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 886\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: e => {\n                        e.stopPropagation();\n                        setEditingPatient(patient);\n                        setIsPatientModalOpen(true);\n                      },\n                      className: \"text-indigo-600 hover:text-indigo-800 transition duration-150 p-1 rounded hover:bg-indigo-100\",\n                      title: \"Bearbeiten\",\n                      children: /*#__PURE__*/_jsxDEV(Edit3, {\n                        className: \"w-5 h-5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 524,\n                        columnNumber: 1559\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 524,\n                      columnNumber: 1327\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: e => {\n                        e.stopPropagation();\n                        openDeleteConfirmation(patient.id);\n                      },\n                      className: \"text-red-500 hover:text-red-700 transition duration-150 p-1 rounded hover:bg-red-100\",\n                      title: \"L\\xF6schen\",\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        className: \"w-5 h-5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 524,\n                        columnNumber: 1796\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 524,\n                      columnNumber: 1597\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 1265\n                  }, this)]\n                }, patient.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 524,\n                  columnNumber: 160\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n              className: \"bg-gray-50 border-t-2 border-gray-300\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"3\",\n                  className: \"py-3 px-4 text-sm font-semibold text-gray-700 text-right\",\n                  children: \"Gesamt:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 74\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-3 px-4 text-sm font-semibold text-gray-700 text-center\",\n                  children: totalApprovedHours\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 171\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-3 px-4 text-sm font-semibold text-gray-700 text-center\",\n                  children: totalConductedHours\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 270\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-3 px-4 whitespace-nowrap\",\n                  colSpan: \"2\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-600 mr-2 w-28\",\n                      children: \"Fortschritt (600 Std.):\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 526,\n                      columnNumber: 461\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-full bg-gray-200 rounded-full h-2.5 flex-grow\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-blue-500 h-2.5 rounded-full\",\n                        style: {\n                          width: `${Math.min(overallProgress, 100)}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 526,\n                        columnNumber: 606\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 526,\n                      columnNumber: 541\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-600 ml-2\",\n                      children: [Math.round(overallProgress), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 526,\n                      columnNumber: 722\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 526,\n                    columnNumber: 426\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 370\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 70\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 110\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 77\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 9\n      }, this), selectedPatient && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow-xl rounded-lg p-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-semibold text-indigo-700\",\n            children: selectedPatient.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 69\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setSelectedPatient(null);\n              setSessionSummaries({});\n            },\n            className: \"text-gray-500 hover:text-gray-700\",\n            children: /*#__PURE__*/_jsxDEV(XCircle, {\n              className: \"w-7 h-7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 275\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 151\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b border-gray-200 mb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"nav\", {\n            className: \"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto\",\n            \"aria-label\": \"Tabs\",\n            children: ['details', 'testdiagnostik', 'bdi2', 'fep2'].map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveDetailTab(tab),\n              className: `whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${activeDetailTab === tab ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n              children: [tab === 'details' && 'Stammdaten & Sitzungen', tab === 'testdiagnostik' && 'HSCL-11', tab === 'bdi2' && 'BDI-II', tab === 'fep2' && 'FEP-2']\n            }, tab, true, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 25\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 13\n        }, this), activeDetailTab === 'details' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Chiffre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 26\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg text-gray-800\",\n                children: selectedPatient.chiffre\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 74\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Therapieform\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 26\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg text-gray-800\",\n                children: selectedPatient.therapyType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 79\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Genehmigte Stunden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 26\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg text-gray-800\",\n                children: selectedPatient.approvedHours\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 85\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"conductedHoursDetail\",\n                className: \"block text-sm font-medium text-gray-500\",\n                children: \"Durchgef\\xFChrte Stunden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  id: \"conductedHoursDetail\",\n                  value: selectedPatient.conductedHours,\n                  onChange: e => setSelectedPatient(prev => ({\n                    ...prev,\n                    conductedHours: e.target.value\n                  })),\n                  onBlur: e => handleUpdateConductedHours(selectedPatient, e.target.value),\n                  min: \"0\",\n                  max: selectedPatient.approvedHours,\n                  className: inputStd + \" w-24\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 556,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 text-sm text-gray-600\",\n                  children: [\"/ \", selectedPatient.approvedHours]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 560,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 555,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-xl font-semibold text-gray-700 mb-3\",\n              children: \"ICD-10 F-Diagnosen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-1 mb-3\",\n              children: [(selectedPatient.diagnoses || []).map((diag, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex justify-between items-center bg-gray-50 p-2 rounded-md\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-700\",\n                  children: diag\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 569,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => fetchDiagnosisInfo(diag),\n                    className: `${btnInfo} p-1`,\n                    title: \"Info zu dieser Diagnose abrufen\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"mr-1\",\n                      children: \"\\u2728\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 572,\n                      columnNumber: 37\n                    }, this), \" \", /*#__PURE__*/_jsxDEV(InfoIcon, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 572,\n                      columnNumber: 69\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 571,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleRemoveDiagnosis(diag),\n                    className: `${btnDanger} p-1 text-xs`,\n                    children: /*#__PURE__*/_jsxDEV(Trash2, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 574,\n                      columnNumber: 124\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 574,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 570,\n                  columnNumber: 29\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 25\n              }, this)), (selectedPatient.diagnoses || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Keine Diagnosen erfasst.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 578,\n                columnNumber: 72\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: newDiagnosis,\n                onChange: e => setNewDiagnosis(e.target.value),\n                placeholder: \"Neue Diagnose (z.B. F32.2)\",\n                className: `${inputStd} flex-grow`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 64\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleAddDiagnosis,\n                className: `${btnPrimary} bg-green-500 hover:bg-green-600 py-2 px-3`,\n                children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n                  className: \"w-5 h-5 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 580,\n                  columnNumber: 339\n                }, this), \" Hinzuf\\xFCgen\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 232\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-xl font-semibold text-gray-700 mb-3\",\n              children: \"Sitzungsdokumentation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 p-4 rounded-lg mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"sessionDate\",\n                    className: \"block text-sm font-medium text-gray-700\",\n                    children: \"Datum\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 584,\n                    columnNumber: 132\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"sessionDate\",\n                    value: newSessionDate,\n                    onChange: e => setNewSessionDate(e.target.value),\n                    className: inputStd\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 584,\n                    columnNumber: 226\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 127\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"md:col-span-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"sessionNotes\",\n                    className: \"block text-sm font-medium text-gray-700\",\n                    children: \"Notizen\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 584,\n                    columnNumber: 396\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    id: \"sessionNotes\",\n                    value: newSessionNotes,\n                    onChange: e => setNewSessionNotes(e.target.value),\n                    rows: \"3\",\n                    placeholder: \"Sitzungsnotizen...\",\n                    className: inputStd\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 584,\n                    columnNumber: 493\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 365\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 67\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleAddSession,\n                className: `${btnPrimary} bg-blue-500 hover:bg-blue-600`,\n                children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n                  className: \"w-5 h-5 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 777\n                }, this), \" Sitzung hinzuf\\xFCgen\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 684\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 584,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-md font-semibold text-gray-600 mb-2\",\n              children: \"Protokollierte Sitzungen:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3 max-h-96 overflow-y-auto pr-2\",\n              children: [(selectedPatient.sessions || []).map((session, index) => {\n                var _sessionSummaries$ind, _sessionSummaries$ind2, _sessionSummaries$ind3, _sessionSummaries$ind4, _sessionSummaries$ind5;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white border border-gray-200 p-3 rounded-md shadow-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-start\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm font-semibold text-gray-700\",\n                      children: [\"Datum: \", new Date(session.date).toLocaleDateString('de-DE')]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 590,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => fetchSessionSummary(session.notes, index),\n                      disabled: (_sessionSummaries$ind = sessionSummaries[index]) === null || _sessionSummaries$ind === void 0 ? void 0 : _sessionSummaries$ind.isLoading,\n                      className: `${btnInfo} text-xs`,\n                      title: \"Sitzungsnotizen zusammenfassen\",\n                      children: (_sessionSummaries$ind2 = sessionSummaries[index]) !== null && _sessionSummaries$ind2 !== void 0 && _sessionSummaries$ind2.isLoading ? 'Lädt...' : '✨ Zusammenf.'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 591,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 589,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 whitespace-pre-wrap mt-1\",\n                    children: session.notes\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 597,\n                    columnNumber: 29\n                  }, this), ((_sessionSummaries$ind3 = sessionSummaries[index]) === null || _sessionSummaries$ind3 === void 0 ? void 0 : _sessionSummaries$ind3.summary) && !((_sessionSummaries$ind4 = sessionSummaries[index]) !== null && _sessionSummaries$ind4 !== void 0 && _sessionSummaries$ind4.isLoading) && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-2 p-2 bg-sky-50 border border-sky-200 rounded-md text-sm text-sky-700\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold\",\n                      children: \"Zusammenfassung:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 600,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"whitespace-pre-wrap\",\n                      children: sessionSummaries[index].summary\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 601,\n                      columnNumber: 37\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 599,\n                    columnNumber: 33\n                  }, this), ((_sessionSummaries$ind5 = sessionSummaries[index]) === null || _sessionSummaries$ind5 === void 0 ? void 0 : _sessionSummaries$ind5.error) && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-xs text-red-500\",\n                    children: [\"Fehler bei Zusammenfassung: \", sessionSummaries[index].error]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 605,\n                    columnNumber: 33\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 588,\n                  columnNumber: 25\n                }, this);\n              }), (selectedPatient.sessions || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Keine Sitzungen dokumentiert.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 609,\n                columnNumber: 71\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 15\n        }, this), activeDetailTab === 'testdiagnostik' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-xl font-semibold text-gray-700 mb-4\",\n            children: \"HSCL-11 Ergebnisse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-4 rounded-lg mb-6 shadow\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-md font-semibold text-gray-600 mb-3\",\n              children: \"Neues HSCL-11 Ergebnis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-3 items-end\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"hsclDate\",\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Datum\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 621,\n                  columnNumber: 30\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  id: \"hsclDate\",\n                  value: newHsclDate,\n                  onChange: e => setNewHsclDate(e.target.value),\n                  className: inputStd\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 621,\n                  columnNumber: 121\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 621,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"hsclAngst\",\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Angst (0-20)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 622,\n                  columnNumber: 30\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  id: \"hsclAngst\",\n                  value: newHsclAngst,\n                  onChange: e => setNewHsclAngst(e.target.value),\n                  min: \"0\",\n                  max: \"20\",\n                  className: inputStd\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 622,\n                  columnNumber: 129\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 622,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"hsclDepression\",\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Depression (0-24)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 623,\n                  columnNumber: 30\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  id: \"hsclDepression\",\n                  value: newHsclDepression,\n                  onChange: e => setNewHsclDepression(e.target.value),\n                  min: \"0\",\n                  max: \"24\",\n                  className: inputStd\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 623,\n                  columnNumber: 139\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleAddHsclResult,\n                className: `${btnPrimary} bg-teal-500 hover:bg-teal-600 h-10`,\n                children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n                  className: \"w-5 h-5 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 624,\n                  columnNumber: 126\n                }, this), \" Speichern\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 620,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 618,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-md font-semibold text-gray-600 mb-2\",\n              children: \"Protokollierte HSCL-11 Ergebnisse:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-2\",\n              children: [(selectedPatient.hscl11Results || []).map((result, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex justify-between items-center bg-white border p-3 rounded-md shadow-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: new Date(result.date).toLocaleDateString('de-DE')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 630,\n                    columnNumber: 197\n                  }, this), \": \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-gray-600 ml-2\",\n                    children: [\"Angst: \", result.angst]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 630,\n                    columnNumber: 287\n                  }, this), \", \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-gray-600 ml-2\",\n                    children: [\"Depression: \", result.depression]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 630,\n                    columnNumber: 362\n                  }, this), \", \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-gray-600 ml-2\",\n                    children: [\"Gesamt: \", result.cumulative]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 630,\n                    columnNumber: 447\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 630,\n                  columnNumber: 192\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleRemoveHsclResult(result.date),\n                  className: `${btnDanger} p-1 text-xs`,\n                  children: /*#__PURE__*/_jsxDEV(Trash2, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 630,\n                    columnNumber: 631\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 630,\n                  columnNumber: 532\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 630,\n                columnNumber: 89\n              }, this)), (selectedPatient.hscl11Results || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Keine HSCL-11 Ergebnisse erfasst.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 631,\n                columnNumber: 80\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 629,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 627,\n            columnNumber: 17\n          }, this), (selectedPatient.hscl11Results || []).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-md font-semibold text-gray-600 mb-3\",\n              children: \"Verlaufsgraph HSCL-11\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 26\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white p-4 rounded-lg shadow\",\n              style: {\n                height: '400px'\n              },\n              children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                width: \"100%\",\n                height: \"100%\",\n                children: /*#__PURE__*/_jsxDEV(LineChart, {\n                  data: (selectedPatient.hscl11Results || []).map(r => ({\n                    ...r,\n                    date: new Date(r.date).toLocaleDateString('de-DE')\n                  })),\n                  margin: {\n                    top: 5,\n                    right: 30,\n                    left: 0,\n                    bottom: 5\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                    strokeDasharray: \"3 3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 637,\n                    columnNumber: 251\n                  }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                    dataKey: \"date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 637,\n                    columnNumber: 290\n                  }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                    domain: [0, 44]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 637,\n                    columnNumber: 314\n                  }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 637,\n                    columnNumber: 340\n                  }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 637,\n                    columnNumber: 351\n                  }, this), /*#__PURE__*/_jsxDEV(Line, {\n                    type: \"monotone\",\n                    dataKey: \"angst\",\n                    name: \"Angst\",\n                    stroke: \"#8884d8\",\n                    activeDot: {\n                      r: 8\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 637,\n                    columnNumber: 361\n                  }, this), /*#__PURE__*/_jsxDEV(Line, {\n                    type: \"monotone\",\n                    dataKey: \"depression\",\n                    name: \"Depression\",\n                    stroke: \"#82ca9d\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 637,\n                    columnNumber: 452\n                  }, this), /*#__PURE__*/_jsxDEV(Line, {\n                    type: \"monotone\",\n                    dataKey: \"cumulative\",\n                    name: \"Gesamt\",\n                    stroke: \"#ffc658\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 637,\n                    columnNumber: 532\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 637,\n                  columnNumber: 73\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 637,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 15\n        }, this), activeDetailTab === 'bdi2' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-xl font-semibold text-gray-700 mb-4\",\n            children: \"BDI-II Ergebnisse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 645,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-4 rounded-lg mb-6 shadow\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-md font-semibold text-gray-600 mb-3\",\n              children: \"Neues BDI-II Ergebnis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3 items-end\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"bdiDate\",\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Datum\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 649,\n                  columnNumber: 30\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  id: \"bdiDate\",\n                  value: newBdiDate,\n                  onChange: e => setNewBdiDate(e.target.value),\n                  className: inputStd\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 649,\n                  columnNumber: 120\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 649,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"bdiScore\",\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"BDI-II Wert (0-63)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 650,\n                  columnNumber: 30\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  id: \"bdiScore\",\n                  value: newBdiScore,\n                  onChange: e => setNewBdiScore(e.target.value),\n                  min: \"0\",\n                  max: \"63\",\n                  className: inputStd\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 650,\n                  columnNumber: 134\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 650,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleAddBdiResult,\n                className: `${btnPrimary} h-10`,\n                children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n                  className: \"w-5 h-5 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 651,\n                  columnNumber: 95\n                }, this), \" Speichern\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 651,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 646,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-md font-semibold text-gray-600 mb-2\",\n              children: \"Protokollierte BDI-II Ergebnisse:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 655,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-2\",\n              children: [(selectedPatient.bdi2Results || []).map((result, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex justify-between items-center bg-white border p-3 rounded-md shadow-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: new Date(result.date).toLocaleDateString('de-DE')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 657,\n                    columnNumber: 195\n                  }, this), \": \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-700\",\n                    children: [\"Score \", result.score]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 657,\n                    columnNumber: 285\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 657,\n                  columnNumber: 190\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleRemoveBdiResult(result.date),\n                  className: `${btnDanger} p-1 text-xs`,\n                  children: /*#__PURE__*/_jsxDEV(Trash2, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 657,\n                    columnNumber: 448\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 657,\n                  columnNumber: 350\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 657,\n                columnNumber: 87\n              }, this)), (selectedPatient.bdi2Results || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Keine BDI-II Ergebnisse erfasst.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 658,\n                columnNumber: 78\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 656,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 654,\n            columnNumber: 17\n          }, this), (selectedPatient.bdi2Results || []).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-md font-semibold text-gray-600 mb-3\",\n              children: \"Verlaufsgraph BDI-II\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 662,\n              columnNumber: 26\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white p-4 rounded-lg shadow\",\n              style: {\n                height: '400px'\n              },\n              children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                width: \"100%\",\n                height: \"100%\",\n                children: /*#__PURE__*/_jsxDEV(LineChart, {\n                  data: (selectedPatient.bdi2Results || []).map(r => ({\n                    ...r,\n                    date: new Date(r.date).toLocaleDateString('de-DE')\n                  })),\n                  margin: {\n                    top: 5,\n                    right: 30,\n                    left: 0,\n                    bottom: 20\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                    strokeDasharray: \"3 3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 666,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                    dataKey: \"date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 667,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                    domain: [0, 63],\n                    ticks: bdiAxisTicks,\n                    allowDataOverflow: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 668,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 669,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(Legend, {\n                    verticalAlign: \"top\",\n                    height: 36\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 670,\n                    columnNumber: 33\n                  }, this), bdiCutoffs.map(cutoff => /*#__PURE__*/_jsxDEV(ReferenceArea, {\n                    y1: cutoff.y1,\n                    y2: cutoff.y2,\n                    fill: cutoff.color,\n                    strokeOpacity: 0.3,\n                    label: /*#__PURE__*/_jsxDEV(CustomBdiLabel, {\n                      text: cutoff.label,\n                      y: cutoff.y2 - (cutoff.y2 - cutoff.y1) / 2\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 671,\n                      columnNumber: 172\n                    }, this)\n                  }, cutoff.label, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 671,\n                    columnNumber: 61\n                  }, this)), /*#__PURE__*/_jsxDEV(Line, {\n                    type: \"monotone\",\n                    dataKey: \"score\",\n                    name: \"BDI-II Score\",\n                    stroke: \"#3b82f6\",\n                    strokeWidth: 2,\n                    activeDot: {\n                      r: 8\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 672,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 664,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 663,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 662,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 644,\n          columnNumber: 15\n        }, this), activeDetailTab === 'fep2' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-xl font-semibold text-gray-700 mb-4\",\n            children: \"FEP-2 Erfassung & Auswertung\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 681,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-4 rounded-lg mb-6 shadow\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-md font-semibold text-gray-600 mb-3\",\n              children: \"Neues FEP-2 Ergebnis hinzuf\\xFCgen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 683,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"fepDate\",\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Datum der Erhebung\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 684,\n                columnNumber: 43\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                id: \"fepDate\",\n                value: newFepDate,\n                onChange: e => setNewFepDate(e.target.value),\n                className: `${inputStd} w-full md:w-1/3`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 684,\n                columnNumber: 146\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 684,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-x-4 gap-y-3 mb-4\",\n              children: fepItemScores.map((score, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: `fepItem${index + 1}`,\n                  className: \"block text-xs font-medium text-gray-600\",\n                  children: [\"Item \", index + 1]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 686,\n                  columnNumber: 81\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  id: `fepItem${index + 1}`,\n                  value: score === 0 ? '' : score,\n                  onChange: e => handleFepItemChange(index, e.target.value),\n                  min: \"1\",\n                  max: \"5\",\n                  placeholder: \"1-5\",\n                  className: `${inputStd} px-2 py-1`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 686,\n                  columnNumber: 192\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 64\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 685,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleAddFepResult,\n              className: btnPrimary,\n              children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n                className: \"w-5 h-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 688,\n                columnNumber: 81\n              }, this), \" FEP-2 Ergebnis speichern\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 688,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 682,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-md font-semibold text-gray-600 mb-2\",\n              children: \"Protokollierte FEP-2 Ergebnisse:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 691,\n              columnNumber: 21\n            }, this), (selectedPatient.fep2Results || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: \"Keine FEP-2 Ergebnisse erfasst.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 74\n            }, this), (selectedPatient.fep2Results || []).map((result, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white border p-4 rounded-md shadow-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium text-indigo-600\",\n                  children: [\"Datum: \", new Date(result.date).toLocaleDateString('de-DE')]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 695,\n                  columnNumber: 85\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleRemoveFepResult(result.date),\n                  className: `${btnDanger} p-1 text-xs`,\n                  children: /*#__PURE__*/_jsxDEV(Trash2, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 695,\n                    columnNumber: 288\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 695,\n                  columnNumber: 190\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-1 text-sm\",\n                children: Object.entries(result.calculatedScales).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600 capitalize\",\n                    children: [key.replace(/_/g, ' '), \":\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 697,\n                    columnNumber: 146\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium text-gray-800\",\n                    children: [value === null ? 'N/A (zu wenige Items)' : value, \" \", key === 'gesamtbelastung' && value !== null && (value > 2.49 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-1 text-red-500\",\n                      children: \"(Belastet)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 697,\n                      columnNumber: 380\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-1 text-green-500\",\n                      children: \"(Nicht Belastet)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 697,\n                      columnNumber: 436\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 697,\n                    columnNumber: 221\n                  }, this)]\n                }, key, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 697,\n                  columnNumber: 98\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 29\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 25\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 690,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 680,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: isPatientModalOpen,\n        onClose: () => {\n          setIsPatientModalOpen(false);\n          setEditingPatient(null);\n        },\n        title: editingPatient ? 'Patient bearbeiten' : 'Neuen Patienten anlegen',\n        children: /*#__PURE__*/_jsxDEV(PatientForm, {\n          patient: editingPatient,\n          onSave: handleSavePatient,\n          onCancel: () => {\n            setIsPatientModalOpen(false);\n            setEditingPatient(null);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 193\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 707,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ConfirmationModal, {\n        isOpen: isConfirmDeleteModalOpen,\n        onClose: () => setIsConfirmDeleteModalOpen(false),\n        onConfirm: confirmDeletePatient,\n        title: \"Patient l\\xF6schen\",\n        message: `Möchten Sie den Patienten wirklich endgültig löschen?`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 708,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: diagnosisInfo.isOpen,\n        onClose: () => setDiagnosisInfo(prev => ({\n          ...prev,\n          isOpen: false\n        })),\n        title: `ICD-10 Info: ${diagnosisInfo.code || ''}`,\n        size: \"xl\",\n        children: [diagnosisInfo.isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center py-4\",\n          children: \"Informationen werden geladen...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 711,\n          columnNumber: 41\n        }, this), diagnosisInfo.error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-600 bg-red-100 p-3 rounded-md\",\n          children: [\"Fehler: \", diagnosisInfo.error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 712,\n          columnNumber: 37\n        }, this), !diagnosisInfo.isLoading && diagnosisInfo.info && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed p-2\",\n          children: diagnosisInfo.info\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 714,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 710,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed bottom-4 right-4 p-4 max-w-sm text-sm text-red-700 bg-red-100 border border-red-400 rounded-md shadow-lg z-[100]\",\n        children: [error, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setError(null),\n          className: \"ml-4 mt-2 sm:mt-0 sm:ml-2 px-2 py-1 text-red-900 underline rounded-md hover:bg-red-200 text-xs\",\n          children: \"Ok\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 718,\n          columnNumber: 163\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 718,\n        columnNumber: 20\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"text-center py-6 text-sm text-gray-500 border-t border-gray-200 mt-10\",\n      children: [\"Patientenverwaltung \\xA9 \", new Date().getFullYear()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 720,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 515,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"1LCUa6Upu+sXMyy8rfb3+XVZbrQ=\");\n_c10 = App;\nconst CustomBdiLabel = props => {\n  const {\n    x,\n    y,\n    width,\n    text\n  } = props;\n  if (typeof x !== 'number' || isNaN(x) || typeof y !== 'number' || isNaN(y) || typeof width !== 'number' || isNaN(width) || width <= 0) {\n    return null;\n  }\n  const labelX = x + width / 2;\n  return /*#__PURE__*/_jsxDEV(\"text\", {\n    x: labelX,\n    y: y,\n    fill: \"#666\",\n    textAnchor: \"middle\",\n    dy: -4,\n    fontSize: \"10\",\n    children: text\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 733,\n    columnNumber: 14\n  }, this);\n};\n_c11 = CustomBdiLabel;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11;\n$RefreshReg$(_c, \"UserPlus\");\n$RefreshReg$(_c2, \"Edit3\");\n$RefreshReg$(_c3, \"Trash2\");\n$RefreshReg$(_c4, \"PlusCircle\");\n$RefreshReg$(_c5, \"XCircle\");\n$RefreshReg$(_c6, \"Save\");\n$RefreshReg$(_c7, \"AlertTriangle\");\n$RefreshReg$(_c8, \"InfoIcon\");\n$RefreshReg$(_c9, \"Modal\");\n$RefreshReg$(_c0, \"ConfirmationModal\");\n$RefreshReg$(_c1, \"PatientForm\");\n$RefreshReg$(_c10, \"App\");\n$RefreshReg$(_c11, \"CustomBdiLabel\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","initializeApp","getAuth","signInAnonymously","onAuthStateChanged","signInWithCustomToken","getFirestore","collection","doc","addDoc","getDocs","setDoc","deleteDoc","onSnapshot","query","writeBatch","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","ReferenceArea","jsxDEV","_jsxDEV","UserPlus","className","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","d","fileName","_jsxFileName","lineNumber","columnNumber","cx","cy","r","x1","x2","y1","y2","_c","Edit3","_c2","Trash2","points","_c3","PlusCircle","_c4","XCircle","_c5","Save","_c6","AlertTriangle","_c7","InfoIcon","_c8","firebaseConfig","__firebase_config","JSON","parse","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","auth","db","__app_id","initialPatientsData","name","chiffre","therapyType","approvedHours","conductedHours","diagnoses","sessions","hscl11Results","bdi2Results","fep2Results","Modal","isOpen","onClose","title","size","sizeClasses","sm","md","lg","xl","onClick","_c9","ConfirmationModal","onConfirm","message","_c0","PatientForm","patient","onSave","onCancel","_s","formData","setFormData","handleChange","e","value","type","target","prev","parseInt","handleSubmit","preventDefault","onSubmit","htmlFor","id","onChange","required","min","_c1","FEP2_ITEMS_TO_REVERSE","FEP2_SKALEN_DEFINITION","WOHLBEFINDEN","items","minItemsRequired","BESCHWERDEN","BESCHWERDEN_ANGST","BESCHWERDEN_DEPRESSIVITAET","INTERPERSONALE_BEZIEHUNG","INTERPERSONALE_INTROVERTIERT_SCHEU","INTERPERSONALE_AUSNUTZBAR_NACHGIEBIG","INTERPERSONALE_KONKURRIEREND_UNTERSTUETZEND","INTERPERSONALE_SELBSTUNSICHER_ZURUECKHALTEND","KONGRUENZ","calculateFep2Scores","itemScoresRaw","itemScores","map","score","index","itemNum","includes","answeredItemsCount","filter","length","calculatedScales","sum","reduce","acc","gesamtbelastung","parseFloat","toFixed","skalaName","def","count","forEach","toLowerCase","generateGeminiText","prompt","chatHistory","role","parts","text","payload","contents","GEMINI_API_KEY","__GEMINI_API_KEY__","apiUrl","response","fetch","method","headers","body","stringify","ok","_errorData$error","errorData","json","console","error","errorMessage","status","Error","result","candidates","content","finishReason","warn","App","_s2","patients","setPatients","selectedPatient","setSelectedPatient","isLoading","setIsLoading","setError","userId","setUserId","isAuthReady","setIsAuthReady","isPatientModalOpen","setIsPatientModalOpen","editingPatient","setEditingPatient","isConfirmDeleteModalOpen","setIsConfirmDeleteModalOpen","patientToDeleteId","setPatientToDeleteId","newDiagnosis","setNewDiagnosis","newSessionDate","setNewSessionDate","Date","toISOString","split","newSessionNotes","setNewSessionNotes","activeDetailTab","setActiveDetailTab","newHsclDate","setNewHsclDate","newHsclAngst","setNewHsclAngst","newHsclDepression","setNewHsclDepression","newBdiDate","setNewBdiDate","newBdiScore","setNewBdiScore","newFepDate","setNewFepDate","fepItemScores","setFepItemScores","Array","sessionSummaries","setSessionSummaries","diagnosisInfo","setDiagnosisInfo","code","info","getPatientsCollectionPath","unsubscribe","user","uid","__initial_auth_token","seedInitialData","collectionPath","patientsCollection","querySnapshot","empty","batch","patientData","newPatientRef","set","commit","log","err","patientsQuery","snapshot","patientsData","docs","docSnap","data","sort","a","b","localeCompare","currentPatientDataFromList","find","p","handleSavePatient","dataToSave","patientRef","merge","openDeleteConfirmation","patientId","confirmDeletePatient","handleAddDiagnosis","trim","updatedDiagnoses","handleRemoveDiagnosis","diagnosisToRemove","handleAddSession","newSession","date","notes","updatedSessions","handleUpdateConductedHours","hoursStr","hours","isNaN","originalPatientData","handleAddHsclResult","angst","depression","newResult","cumulative","updatedHsclResults","handleRemoveHsclResult","dateToRemove","handleAddBdiResult","updatedBdiResults","handleRemoveBdiResult","handleFepItemChange","newScores","handleAddFepResult","answeredCount","s","updatedFepResults","handleRemoveFepResult","fetchSessionSummary","sessionNotes","sessionIndex","summary","fetchDiagnosisInfo","diagnosisCode","totalApprovedHours","totalConductedHours","overallProgressTarget","overallProgress","bdiCutoffs","label","color","bdiAxisTicks","inputStd","btnPrimary","btnDanger","btnInfo","header","colSpan","progress","style","width","Math","round","stopPropagation","tab","onBlur","max","diag","placeholder","rows","session","_sessionSummaries$ind","_sessionSummaries$ind2","_sessionSummaries$ind3","_sessionSummaries$ind4","_sessionSummaries$ind5","toLocaleDateString","disabled","height","margin","top","right","left","bottom","strokeDasharray","dataKey","domain","activeDot","ticks","allowDataOverflow","verticalAlign","cutoff","strokeOpacity","CustomBdiLabel","y","Object","entries","key","replace","getFullYear","_c10","props","x","labelX","textAnchor","dy","fontSize","_c11","$RefreshReg$"],"sources":["/Users/julianrogowski/Desktop/patientenverwaltung-app/src/App.js"],"sourcesContent":["/* global __firebase_config, __app_id, __initial_auth_token, __GEMINI_API_KEY__ */\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken } from 'firebase/auth';\nimport { getFirestore, collection, doc, addDoc, getDocs, setDoc, deleteDoc, onSnapshot, query, writeBatch } from 'firebase/firestore';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, ReferenceArea } from 'recharts';\n\n// Lucide-React Icons\nconst UserPlus = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\" /><circle cx=\"9\" cy=\"7\" r=\"4\" /><line x1=\"19\" x2=\"19\" y1=\"8\" y2=\"14\" /><line x1=\"22\" x2=\"16\" y1=\"11\" y2=\"11\" /></svg>);\nconst Edit3 = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M12 20h9\" /><path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\" /></svg>);\nconst Trash2 = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><polyline points=\"3 6 5 6 21 6\" /><path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\" /><line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\" /><line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\" /></svg>);\nconst PlusCircle = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"10\" /><line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\" /><line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\" /></svg>);\nconst XCircle = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line><line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line></svg>);\nconst Save = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\" /><polyline points=\"17 21 17 13 7 13 7 21\" /><polyline points=\"7 3 7 8 15 8\" /></svg>);\nconst AlertTriangle = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path><line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line><line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line></svg>);\nconst InfoIcon = ({ className = \"w-5 h-5\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>);\n\n// Firebase configuration\nconst firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : { \n  apiKey: \"AIzaSyDZ_qqqKW7WDCZ9botek2VBwXNMQO3JYwU\",\n  authDomain: \"psychotherapie0512.firebaseapp.com\",\n  projectId: \"psychotherapie0512\",\n  storageBucket: \"psychotherapie0512.firebasestorage.app\",\n  messagingSenderId: \"131279046361\",\n  appId: \"1:131279046361:web:e5dd2d18b206fb820b60c8\"\n};\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst appId = typeof __app_id !== 'undefined' ? __app_id : 'default-patient-app-v3'; // App ID für Firestore Pfade\n\n// Initiale Patientendaten (Beispiel)\nconst initialPatientsData = [\n  { name: \"Kern\", chiffre: \"K040498\", therapyType: \"LZT\", approvedHours: 60, conductedHours: 24, diagnoses: [], sessions: [], hscl11Results: [], bdi2Results: [], fep2Results: [] },\n];\n\n// Modal Komponente\nconst Modal = ({ isOpen, onClose, title, children, size = \"lg\" }) => { \n    if (!isOpen) return null; \n    const sizeClasses = {sm: 'max-w-sm', md: 'max-w-md', lg: 'max-w-lg', xl: 'max-w-xl', '2xl': 'max-w-2xl', '3xl': 'max-w-3xl', '4xl': 'max-w-4xl',}; \n    return (<div className=\"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex justify-center items-center z-50 p-4\"><div className={`bg-white p-6 rounded-lg shadow-xl w-full ${sizeClasses[size]} max-h-[90vh] overflow-y-auto`}><div className=\"flex justify-between items-center mb-4\"><h2 className=\"text-2xl font-semibold text-gray-800\">{title}</h2><button onClick={onClose} className=\"text-gray-500 hover:text-gray-700\"><XCircle className=\"w-7 h-7\" /></button></div>{children}</div></div>);\n};\n\n// Bestätigungsmodal Komponente\nconst ConfirmationModal = ({ isOpen, onClose, onConfirm, title, message }) => { \n    if (!isOpen) return null; \n    return (<Modal isOpen={isOpen} onClose={onClose} title={title} size=\"sm\"><div className=\"text-center\"><AlertTriangle className=\"mx-auto mb-4 w-12 h-12 text-red-500\" /><p className=\"text-gray-700 mb-6\">{message}</p><div className=\"flex justify-center space-x-4\"><button onClick={onClose} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none\">Abbrechen</button><button onClick={onConfirm} className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none\">Bestätigen</button></div></div></Modal>);\n};\n\n// Patientenformular Komponente\nconst PatientForm = ({ patient, onSave, onCancel }) => {\n  const [formData, setFormData] = useState(\n    patient || { name: '', chiffre: '', therapyType: 'LZT', approvedHours: 0, conductedHours: 0, diagnoses: [], sessions: [], hscl11Results: [], bdi2Results: [], fep2Results: [] }\n  );\n  useEffect(() => {\n    if (patient) {\n      setFormData({ ...patient, hscl11Results: patient.hscl11Results || [], bdi2Results: patient.bdi2Results || [], fep2Results: patient.fep2Results || [] });\n    } else {\n      setFormData({ name: '', chiffre: '', therapyType: 'LZT', approvedHours: 0, conductedHours: 0, diagnoses: [], sessions: [], hscl11Results: [], bdi2Results: [], fep2Results: [] });\n    }\n  }, [patient]);\n  const handleChange = (e) => { const { name, value, type } = e.target; setFormData((prev) => ({ ...prev, [name]: type === 'number' ? parseInt(value, 10) || 0 : value })); };\n  const handleSubmit = (e) => { e.preventDefault(); onSave(formData); };\n  return ( <form onSubmit={handleSubmit} className=\"space-y-4\"><div><label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\">Name</label><input type=\"text\" name=\"name\" id=\"name\" value={formData.name} onChange={handleChange} required className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" /></div><div><label htmlFor=\"chiffre\" className=\"block text-sm font-medium text-gray-700\">Chiffre</label><input type=\"text\" name=\"chiffre\" id=\"chiffre\" value={formData.chiffre} onChange={handleChange} required className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" /></div><div><label htmlFor=\"therapyType\" className=\"block text-sm font-medium text-gray-700\">Therapieform</label><select name=\"therapyType\" id=\"therapyType\" value={formData.therapyType} onChange={handleChange} className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"><option value=\"LZT\">Langzeittherapie (LZT)</option><option value=\"KZT\">Kurzzeittherapie (KZT)</option></select></div><div><label htmlFor=\"approvedHours\" className=\"block text-sm font-medium text-gray-700\">Genehmigte Stunden</label><input type=\"number\" name=\"approvedHours\" id=\"approvedHours\" value={formData.approvedHours} onChange={handleChange} min=\"0\" className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" /></div><div><label htmlFor=\"conductedHours\" className=\"block text-sm font-medium text-gray-700\">Durchgeführte Stunden</label><input type=\"number\" name=\"conductedHours\" id=\"conductedHours\" value={formData.conductedHours} onChange={handleChange} min=\"0\" className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" /></div><div className=\"flex justify-end space-x-3 pt-4\"><button type=\"button\" onClick={onCancel} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\">Abbrechen</button><button type=\"submit\" className=\"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 flex items-center\"><Save className=\"w-4 h-4 mr-2\" /> Speichern</button></div></form>);\n};\n\n// FEP-2 Definitionen und Berechnungslogik\nconst FEP2_ITEMS_TO_REVERSE = [1, 2, 5, 9, 14, 15, 19, 21, 22, 27, 29, 30, 39]; \nconst FEP2_SKALEN_DEFINITION = {\n    WOHLBEFINDEN: { items: [1, 5, 9, 14, 22, 30, 39], minItemsRequired: 7 }, \n    BESCHWERDEN: { items: [4, 6, 7, 8, 10, 12, 23, 24, 31, 34, 38], minItemsRequired: 10 }, \n    BESCHWERDEN_ANGST: { items: [4, 8, 12, 23], minItemsRequired: 4 }, \n    BESCHWERDEN_DEPRESSIVITAET: { items: [7, 10, 24, 31, 34, 38], minItemsRequired: 5 }, \n    INTERPERSONALE_BEZIEHUNG: { items: [11, 13, 16, 18, 20, 25, 26, 28, 32, 33, 36, 40], minItemsRequired: 11 }, \n    INTERPERSONALE_INTROVERTIERT_SCHEU: { items: [28, 36, 40], minItemsRequired: 3 }, \n    INTERPERSONALE_AUSNUTZBAR_NACHGIEBIG: { items: [13, 20, 26], minItemsRequired: 3 }, \n    INTERPERSONALE_KONKURRIEREND_UNTERSTUETZEND: { items: [11, 16, 33], minItemsRequired: 3 }, \n    INTERPERSONALE_SELBSTUNSICHER_ZURUECKHALTEND: { items: [18, 25, 32], minItemsRequired: 3 }, \n    KONGRUENZ: { items: [2, 3, 15, 17, 19, 21, 27, 29, 35, 37], minItemsRequired: 8 }, \n};\n\nconst calculateFep2Scores = (itemScoresRaw) => {\n    const itemScores = itemScoresRaw.map((score, index) => {\n        const itemNum = index + 1; \n        if (FEP2_ITEMS_TO_REVERSE.includes(itemNum) && score > 0 && score <=5) { \n            return 6 - score;\n        }\n        return score;\n    });\n\n    const answeredItemsCount = itemScores.filter(score => score > 0 && score <= 5).length;\n    const calculatedScales = {};\n\n    if (answeredItemsCount >= 32) { \n        const sum = itemScores.reduce((acc, score) => acc + (score > 0 && score <=5 ? score : 0), 0);\n        calculatedScales.gesamtbelastung = answeredItemsCount > 0 ? parseFloat((sum / answeredItemsCount).toFixed(2)) : null;\n    } else {\n        calculatedScales.gesamtbelastung = null; \n    }\n\n    for (const skalaName in FEP2_SKALEN_DEFINITION) {\n        const def = FEP2_SKALEN_DEFINITION[skalaName];\n        let sum = 0;\n        let count = 0;\n        def.items.forEach(itemNum => {\n            const score = itemScores[itemNum - 1]; \n            if (score > 0 && score <= 5) { \n                sum += score;\n                count++;\n            }\n        });\n        \n        if (count >= def.minItemsRequired) { \n             calculatedScales[skalaName.toLowerCase()] = parseFloat((sum / count).toFixed(2));\n        } else {\n             calculatedScales[skalaName.toLowerCase()] = null; \n        }\n    }\n    return calculatedScales;\n};\n\n// Gemini API Hilfsfunktion\nasync function generateGeminiText(prompt) {\n    let chatHistory = [{ role: \"user\", parts: [{ text: prompt }] }];\n    const payload = { contents: chatHistory };\n    const GEMINI_API_KEY = typeof __GEMINI_API_KEY__ !== 'undefined' ? __GEMINI_API_KEY__ : \"\"; \n    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`;\n\n    try {\n        const response = await fetch(apiUrl, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(payload)\n        });\n\n        if (!response.ok) {\n            const errorData = await response.json();\n            console.error(\"Gemini API error details:\", errorData);\n            const errorMessage = errorData.error?.message || `API request failed with status ${response.status}`;\n            throw new Error(errorMessage);\n        }\n\n        const result = await response.json();\n\n        if (result.candidates && result.candidates.length > 0 &&\n            result.candidates[0].content && result.candidates[0].content.parts &&\n            result.candidates[0].content.parts.length > 0) {\n            return result.candidates[0].content.parts[0].text;\n        } else if (result.candidates && result.candidates.length > 0 && result.candidates[0].finishReason === \"SAFETY\") {\n            console.warn(\"Gemini API response blocked due to safety reasons.\");\n            return \"Die Antwort wurde aufgrund von Sicherheitsrichtlinien blockiert.\";\n        } else {\n            console.error(\"Unexpected Gemini API response structure:\", result);\n            throw new Error(\"Unerwartete Antwortstruktur von der API.\");\n        }\n    } catch (error) {\n        console.error(\"Error calling Gemini API:\", error);\n        throw error; \n    }\n}\n\n// Haupt-App Komponente\nfunction App() {\n  const [patients, setPatients] = useState([]);\n  const [selectedPatient, setSelectedPatient] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null); \n  const [userId, setUserId] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [isPatientModalOpen, setIsPatientModalOpen] = useState(false);\n  const [editingPatient, setEditingPatient] = useState(null);\n  const [isConfirmDeleteModalOpen, setIsConfirmDeleteModalOpen] = useState(false);\n  const [patientToDeleteId, setPatientToDeleteId] = useState(null);\n  const [newDiagnosis, setNewDiagnosis] = useState('');\n  const [newSessionDate, setNewSessionDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newSessionNotes, setNewSessionNotes] = useState('');\n  const [activeDetailTab, setActiveDetailTab] = useState('details');\n  const [newHsclDate, setNewHsclDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newHsclAngst, setNewHsclAngst] = useState(''); \n  const [newHsclDepression, setNewHsclDepression] = useState(''); \n\n  const [newBdiDate, setNewBdiDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newBdiScore, setNewBdiScore] = useState(''); \n\n  const [newFepDate, setNewFepDate] = useState(new Date().toISOString().split('T')[0]);\n  const [fepItemScores, setFepItemScores] = useState(Array(40).fill(0)); \n\n  const [sessionSummaries, setSessionSummaries] = useState({}); \n  const [diagnosisInfo, setDiagnosisInfo] = useState({ code: '', info: '', isLoading: false, error: null, isOpen: false });\n\n\n  const getPatientsCollectionPath = useCallback(() => { \n    if (!userId) return null; \n    return `/artifacts/${appId}/users/${userId}/patients`; \n  }, [userId]);\n\n  useEffect(() => { \n    const unsubscribe = onAuthStateChanged(auth, async (user) => { \n      if (user) { \n        setUserId(user.uid); \n      } else { \n        try { \n          if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) { \n            await signInWithCustomToken(auth, __initial_auth_token); \n          } else { \n            await signInAnonymously(auth); \n          } \n        } catch (e) { \n          console.error(\"Error signing in: \", e); \n          setError(\"Fehler bei der Authentifizierung.\"); \n        } \n      } \n      setIsAuthReady(true); \n    }); \n    return () => unsubscribe(); \n  }, []);\n\n  const seedInitialData = useCallback(async () => { \n    if (!userId) return; \n    const collectionPath = getPatientsCollectionPath(); \n    if (!collectionPath) return; \n    try { \n      const patientsCollection = collection(db, collectionPath); \n      const querySnapshot = await getDocs(patientsCollection); \n      if (querySnapshot.empty) { \n        const batch = writeBatch(db); \n        initialPatientsData.forEach(patientData => { \n          const newPatientRef = doc(patientsCollection); \n          batch.set(newPatientRef, { ...patientData, hscl11Results: patientData.hscl11Results || [], bdi2Results: patientData.bdi2Results || [], fep2Results: patientData.fep2Results || [] }); \n        }); \n        await batch.commit(); \n        console.log(\"Initiale Daten erfolgreich geschrieben.\");\n      } else {\n        console.log(\"Vorhandene Patientendaten gefunden, Seed wird übersprungen.\");\n      }\n    } catch (err) { \n      console.error(\"Error seeding initial data:\", err); \n      setError(\"Fehler beim Laden der initialen Daten.\"); \n    } \n  }, [userId, getPatientsCollectionPath]);\n  \n  useEffect(() => {\n    if (!isAuthReady || !userId) { \n      if(isAuthReady && !userId) setError(\"Authentifizierung fehlgeschlagen. Bitte laden Sie die Seite neu.\");\n      return; \n    }\n    const collectionPath = getPatientsCollectionPath(); \n    if (!collectionPath) {\n        console.log(\"Collection path ist nicht verfügbar für Firestore Listener.\");\n        return;\n    }\n    \n    setIsLoading(true); \n    seedInitialData(); \n\n    const patientsQuery = query(collection(db, collectionPath));\n    const unsubscribe = onSnapshot(patientsQuery, (snapshot) => {\n      let patientsData = snapshot.docs.map(docSnap => ({ \n        id: docSnap.id, \n        ...docSnap.data(), \n        hscl11Results: docSnap.data().hscl11Results || [], \n        bdi2Results: docSnap.data().bdi2Results || [], \n        fep2Results: docSnap.data().fep2Results || [] \n      }));\n      patientsData.sort((a, b) => a.name.localeCompare(b.name)); \n      setPatients(patientsData); \n      setIsLoading(false); \n\n      // Update selectedPatient if it exists in the new snapshot to reflect changes\n      // This logic is now moved to a separate useEffect to address the ESLint warning\n    }, (err) => {\n      console.error(\"Error fetching patients:\", err);\n      setError(\"Fehler beim Laden der Patientendaten. Stellen Sie sicher, dass Firestore korrekt konfiguriert ist.\");\n      setIsLoading(false);\n    });\n\n    return () => unsubscribe(); \n  }, [isAuthReady, userId, getPatientsCollectionPath, seedInitialData]); \n\n  // useEffect to keep selectedPatient in sync with the patients list\n  // This hook now correctly handles updates to selectedPatient when the patients list changes.\n  useEffect(() => {\n    if (selectedPatient && selectedPatient.id && patients.length > 0) {\n        const currentPatientDataFromList = patients.find(p => p.id === selectedPatient.id);\n        if (currentPatientDataFromList) {\n            // Only update if the data is actually different to prevent potential loops\n            // A more robust deep comparison might be needed for complex objects,\n            // but for this structure, stringify is a pragmatic approach.\n            if (JSON.stringify(currentPatientDataFromList) !== JSON.stringify(selectedPatient)) {\n                 setSelectedPatient(currentPatientDataFromList);\n            }\n        } else {\n            // Selected patient no longer in the list (e.g., deleted)\n            setSelectedPatient(null);\n        }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps \n  }, [patients, selectedPatient?.id]); // selectedPatient.id is stable, patients list is the main trigger\n\n\n  const handleSavePatient = async (patientData) => { \n    if (!userId) { setError(\"Benutzer nicht authentifiziert.\"); return; } \n    const collectionPath = getPatientsCollectionPath(); \n    if (!collectionPath) return; \n    const dataToSave = { ...patientData, hscl11Results: patientData.hscl11Results || [], bdi2Results: patientData.bdi2Results || [], fep2Results: patientData.fep2Results || [] }; \n    try { \n      if (editingPatient && editingPatient.id) { \n        const patientRef = doc(db, collectionPath, editingPatient.id); \n        await setDoc(patientRef, dataToSave, { merge: true }); \n      } else { \n        await addDoc(collection(db, collectionPath), dataToSave); \n      } \n      setIsPatientModalOpen(false); \n      setEditingPatient(null); \n    } catch (err) { \n      console.error(\"Error saving patient:\", err); \n      setError(\"Fehler beim Speichern des Patienten.\"); \n    } \n  };\n  const openDeleteConfirmation = (patientId) => { setPatientToDeleteId(patientId); setIsConfirmDeleteModalOpen(true); };\n  const confirmDeletePatient = async () => { \n    if (!patientToDeleteId || !userId) { setError(\"Löschvorgang fehlgeschlagen.\"); setIsConfirmDeleteModalOpen(false); return; } \n    const collectionPath = getPatientsCollectionPath(); \n    if (!collectionPath) return; \n    try { \n      const patientRef = doc(db, collectionPath, patientToDeleteId); \n      await deleteDoc(patientRef); \n      if (selectedPatient && selectedPatient.id === patientToDeleteId) { \n        setSelectedPatient(null); \n      } \n      setPatientToDeleteId(null); \n      setIsConfirmDeleteModalOpen(false); \n    } catch (err) { \n      console.error(\"Error deleting patient:\", err); \n      setError(\"Fehler beim Löschen des Patienten.\"); \n      setIsConfirmDeleteModalOpen(false); \n    } \n  };\n  \n  const handleAddDiagnosis = async () => {\n    if (!selectedPatient || !newDiagnosis.trim() || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const updatedDiagnoses = [...(selectedPatient.diagnoses || []), newDiagnosis.trim()];\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { diagnoses: updatedDiagnoses }, { merge: true }); setNewDiagnosis(''); } \n    catch (err) { console.error(\"Error adding diagnosis:\", err); setError(\"Fehler beim Hinzufügen der Diagnose.\");}\n  };\n  const handleRemoveDiagnosis = async (diagnosisToRemove) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const updatedDiagnoses = selectedPatient.diagnoses.filter(d => d !== diagnosisToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { diagnoses: updatedDiagnoses }, { merge: true }); }\n    catch (err) { console.error(\"Error removing diagnosis:\", err); setError(\"Fehler beim Entfernen der Diagnose.\");}\n  };\n\n  const handleAddSession = async () => {\n    if (!selectedPatient || !newSessionNotes.trim() || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const newSession = { date: newSessionDate, notes: newSessionNotes.trim() };\n    const updatedSessions = [...(selectedPatient.sessions || []), newSession];\n    updatedSessions.sort((a, b) => new Date(b.date) - new Date(a.date)); \n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { sessions: updatedSessions }, { merge: true }); setNewSessionNotes(''); }\n    catch (err) { console.error(\"Error adding session:\", err); setError(\"Fehler beim Hinzufügen der Sitzung.\");}\n  };\n\n  const handleUpdateConductedHours = async (patient, hoursStr) => {\n    if (!patient || !userId) return;\n    const hours = parseInt(hoursStr, 10);\n    if (isNaN(hours) || hours < 0) {\n        setError(\"Ungültige Stundenzahl.\");\n        const originalPatientData = patients.find(p => p.id === patient.id);\n        if (originalPatientData) {\n            setSelectedPatient(prev => ({...prev, conductedHours: originalPatientData.conductedHours}));\n        }\n        return;\n    }\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const patientRef = doc(db, collectionPath, patient.id);\n    try { await setDoc(patientRef, { conductedHours: hours }, { merge: true }); } \n    catch (err) { console.error(\"Error updating conducted hours:\", err); setError(\"Fehler beim Aktualisieren der Stunden.\");}\n  };\n\n  const handleAddHsclResult = async () => {\n    if (!selectedPatient || !newHsclDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const angst = parseInt(newHsclAngst, 10);\n    const depression = parseInt(newHsclDepression, 10);\n    if (isNaN(angst) || angst < 0 || angst > 20 || isNaN(depression) || depression < 0 || depression > 24) {\n        setError(\"Ungültige HSCL-Werte. Angst (0-20), Depression (0-24).\"); return;\n    }\n    const newResult = { date: newHsclDate, angst: angst, depression: depression, cumulative: angst + depression };\n    const updatedHsclResults = [...(selectedPatient.hscl11Results || []), newResult];\n    updatedHsclResults.sort((a, b) => new Date(a.date) - new Date(b.date)); \n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { hscl11Results: updatedHsclResults }, { merge: true });\n      setNewHsclAngst(''); setNewHsclDepression(''); setError(null); \n    } catch (err) { console.error(\"Error adding HSCL result:\", err); setError(\"Fehler beim Hinzufügen des HSCL-Ergebnisses.\"); }\n  };\n  const handleRemoveHsclResult = async (dateToRemove) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const updatedHsclResults = selectedPatient.hscl11Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { hscl11Results: updatedHsclResults }, { merge: true }); }\n    catch (err) { console.error(\"Error removing HSCL result:\", err); setError(\"Fehler beim Entfernen des HSCL-Ergebnisses.\"); }\n  };\n\n  const handleAddBdiResult = async () => {\n    if (!selectedPatient || !newBdiDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const score = parseInt(newBdiScore, 10);\n    if (isNaN(score) || score < 0 || score > 63) { setError(\"Ungültiger BDI-II Wert (0-63).\"); return; }\n    const newResult = { date: newBdiDate, score: score };\n    const updatedBdiResults = [...(selectedPatient.bdi2Results || []), newResult];\n    updatedBdiResults.sort((a, b) => new Date(a.date) - new Date(b.date)); \n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { bdi2Results: updatedBdiResults }, { merge: true });\n      setNewBdiScore(''); setError(null); \n    } catch (err) { console.error(\"Error adding BDI-II result:\", err); setError(\"Fehler beim Hinzufügen des BDI-II Ergebnisses.\"); }\n  };\n  const handleRemoveBdiResult = async (dateToRemove) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const updatedBdiResults = selectedPatient.bdi2Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { bdi2Results: updatedBdiResults }, { merge: true }); }\n    catch (err) { console.error(\"Error removing BDI-II result:\", err); setError(\"Fehler beim Entfernen des BDI-II Ergebnisses.\"); }\n  };\n\n  const handleFepItemChange = (index, value) => {\n    const newScores = [...fepItemScores];\n    newScores[index] = value === '' ? 0 : parseInt(value, 10); \n    if (isNaN(newScores[index]) || newScores[index] < 0 || newScores[index] > 5) newScores[index] = 0; \n    setFepItemScores(newScores);\n  };\n  const handleAddFepResult = async () => {\n    if (!selectedPatient || !newFepDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const answeredCount = fepItemScores.filter(s => s >= 1 && s <= 5).length;\n    if (answeredCount < 32) { setError(\"Bitte beantworten Sie mindestens 80% (32) der FEP-2 Items.\"); return; }\n    const calculatedScales = calculateFep2Scores(fepItemScores);\n    const newResult = { date: newFepDate, itemScores: [...fepItemScores], calculatedScales };\n    const updatedFepResults = [...(selectedPatient.fep2Results || []), newResult];\n    updatedFepResults.sort((a, b) => new Date(a.date) - new Date(b.date)); \n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { fep2Results: updatedFepResults }, { merge: true });\n      setFepItemScores(Array(40).fill(0)); setError(null); \n    } catch (err) { console.error(\"Error adding FEP-2 result:\", err); setError(\"Fehler beim Hinzufügen des FEP-2 Ergebnisses.\"); }\n  };\n  const handleRemoveFepResult = async (dateToRemove) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const updatedFepResults = selectedPatient.fep2Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { fep2Results: updatedFepResults }, { merge: true }); }\n    catch (err) { console.error(\"Error removing FEP-2 result:\", err); setError(\"Fehler beim Entfernen des FEP-2 Ergebnisses.\"); }\n  };\n\n  const fetchSessionSummary = async (sessionNotes, sessionIndex) => {\n    setSessionSummaries(prev => ({\n        ...prev,\n        [sessionIndex]: { ...prev[sessionIndex], isLoading: true, error: null }\n    }));\n    const prompt = `Fasse die folgenden Therapiesitzungsnotizen prägnant zusammen. Konzentriere dich auf die wichtigsten Themen, Interventionen und den Fortschritt des Patienten:\\n\\n\"${sessionNotes}\"`;\n    try {\n        const summary = await generateGeminiText(prompt);\n        setSessionSummaries(prev => ({\n            ...prev,\n            [sessionIndex]: { summary: summary, isLoading: false, error: null }\n        }));\n    } catch (e) {\n        setSessionSummaries(prev => ({\n            ...prev,\n            [sessionIndex]: { ...prev[sessionIndex], isLoading: false, error: e.message }\n        }));\n        setError(`Fehler bei der Zusammenfassung: ${e.message}`); \n    }\n  };\n\n  const fetchDiagnosisInfo = async (diagnosisCode) => {\n    setDiagnosisInfo({ code: diagnosisCode, info: '', isLoading: true, error: null, isOpen: true });\n    const prompt = `Erkläre die ICD-10 Diagnose '${diagnosisCode}' kurz und verständlich für einen Laien. Nenne auch typische Symptome und ggf. wichtige Differentialdiagnosen oder Komorbiditäten, falls relevant. Antworte auf Deutsch.`;\n    try {\n        const info = await generateGeminiText(prompt);\n        setDiagnosisInfo(prev => ({ ...prev, info: info, isLoading: false }));\n    } catch (e) {\n        setDiagnosisInfo(prev => ({ ...prev, isLoading: false, error: e.message }));\n        setError(`Fehler beim Abrufen der Diagnose-Info: ${e.message}`);\n    }\n  };\n\n\n  const totalApprovedHours = patients.reduce((sum, p) => sum + (p.approvedHours || 0), 0);\n  const totalConductedHours = patients.reduce((sum, p) => sum + (p.conductedHours || 0), 0);\n  const overallProgressTarget = 600;\n  const overallProgress = overallProgressTarget > 0 ? (totalConductedHours / overallProgressTarget) * 100 : 0;\n\n  if (!isAuthReady) return <div className=\"flex justify-center items-center h-screen text-xl font-semibold text-gray-700\">Authentifizierung wird initialisiert...</div>;\n  if (isLoading && isAuthReady && userId) return <div className=\"flex justify-center items-center h-screen text-xl font-semibold text-gray-700\">Lade Patientendaten...</div>;\n  \n  const bdiCutoffs = [\n    { y1: 0, y2: 8, label: \"Keine Depression\", color: \"rgba(75, 192, 192, 0.2)\" }, { y1: 9, y2: 13, label: \"Minimale Depression\", color: \"rgba(54, 162, 235, 0.2)\" }, { y1: 14, y2: 19, label: \"Leichte Depression\", color: \"rgba(255, 206, 86, 0.2)\" }, { y1: 20, y2: 28, label: \"Mittelschwere Depression\", color: \"rgba(255, 159, 64, 0.2)\" }, { y1: 29, y2: 63, label: \"Schwere Depression\", color: \"rgba(255, 99, 132, 0.2)\" },\n  ];\n  const bdiAxisTicks = [0, 8, 13, 19, 28, 63]; \n  \n  const inputStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\";\n  const btnPrimary = \"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm flex items-center justify-center\";\n  const btnDanger = \"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md flex items-center\";\n  const btnInfo = \"bg-sky-500 hover:bg-sky-600 text-white font-semibold py-1 px-2 text-xs rounded-md flex items-center\";\n\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 font-sans\">\n      <header className=\"bg-indigo-700 text-white shadow-lg\"><div className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center\"><h1 className=\"text-3xl font-bold tracking-tight\">Patientenverwaltung</h1>{userId && <p className=\"text-xs opacity-75\">UserID: {userId}</p>}</div></header>\n      <main className=\"container mx-auto p-4 sm:p-6 lg:p-8\">\n        <div className=\"mb-6 flex justify-between items-center\"><h2 className=\"text-2xl font-semibold text-gray-800\">Patientenübersicht</h2><button onClick={() => { setEditingPatient(null); setIsPatientModalOpen(true); }} className={`${btnPrimary} py-2 px-4`}><UserPlus className=\"w-5 h-5 mr-2\" /> Patient hinzufügen</button></div>\n        \n        <div className=\"bg-white shadow-xl rounded-lg overflow-hidden mb-8\"><div className=\"overflow-x-auto\"><table className=\"w-full min-w-max table-auto text-left\">\n            <thead className=\"bg-gray-100 border-b border-gray-300\"><tr>{['Name', 'Chiffre', 'Therapie', 'Genehm. Std.', 'Durchgef. Std.', 'Fortschritt', 'Aktionen'].map(header => (<th key={header} className=\"py-3 px-4 text-sm font-semibold text-gray-600 uppercase tracking-wider\">{header}</th>))}</tr></thead>\n            <tbody className=\"divide-y divide-gray-200\">\n                {patients.length === 0 && !isLoading && (<tr><td colSpan=\"7\" className=\"text-center py-10 text-gray-500\">Keine Patienten gefunden. Fügen Sie einen neuen Patienten hinzu.</td></tr>)}\n                {patients.map((patient) => { const progress = patient.approvedHours > 0 ? (patient.conductedHours / patient.approvedHours) * 100 : 0; return ( <tr key={patient.id} className={`hover:bg-indigo-50 cursor-pointer ${selectedPatient?.id === patient.id ? 'bg-indigo-100' : ''}`} onClick={() => { setSelectedPatient(patient); setActiveDetailTab('details'); setSessionSummaries({});  }}><td className=\"py-3 px-4 whitespace-nowrap text-sm font-medium text-gray-800\">{patient.name}</td><td className=\"py-3 px-4 whitespace-nowrap text-sm text-gray-600\">{patient.chiffre}</td><td className=\"py-3 px-4 whitespace-nowrap text-sm text-gray-600\">{patient.therapyType}</td><td className=\"py-3 px-4 whitespace-nowrap text-sm text-gray-600 text-center\">{patient.approvedHours}</td><td className=\"py-3 px-4 whitespace-nowrap text-sm text-gray-600 text-center\">{patient.conductedHours}</td><td className=\"py-3 px-4 whitespace-nowrap\"><div className=\"w-full bg-gray-200 rounded-full h-2.5\"><div className={`h-2.5 rounded-full ${progress > 80 ? 'bg-red-500' : progress > 50 ? 'bg-yellow-400' : 'bg-green-500'}`} style={{ width: `${Math.min(progress, 100)}%` }}></div></div><span className=\"text-xs text-gray-500 block text-center mt-1\">{Math.round(progress)}%</span></td><td className=\"py-3 px-4 whitespace-nowrap text-sm space-x-2\"><button onClick={(e) => { e.stopPropagation(); setEditingPatient(patient); setIsPatientModalOpen(true); }} className=\"text-indigo-600 hover:text-indigo-800 transition duration-150 p-1 rounded hover:bg-indigo-100\" title=\"Bearbeiten\"><Edit3 className=\"w-5 h-5\" /></button><button onClick={(e) => { e.stopPropagation(); openDeleteConfirmation(patient.id); }} className=\"text-red-500 hover:text-red-700 transition duration-150 p-1 rounded hover:bg-red-100\" title=\"Löschen\"><Trash2 className=\"w-5 h-5\" /></button></td></tr>);})}\n            </tbody>\n            <tfoot className=\"bg-gray-50 border-t-2 border-gray-300\"><tr><td colSpan=\"3\" className=\"py-3 px-4 text-sm font-semibold text-gray-700 text-right\">Gesamt:</td><td className=\"py-3 px-4 text-sm font-semibold text-gray-700 text-center\">{totalApprovedHours}</td><td className=\"py-3 px-4 text-sm font-semibold text-gray-700 text-center\">{totalConductedHours}</td><td className=\"py-3 px-4 whitespace-nowrap\" colSpan=\"2\"><div className=\"flex items-center\"><span className=\"text-xs text-gray-600 mr-2 w-28\">Fortschritt (600 Std.):</span><div className=\"w-full bg-gray-200 rounded-full h-2.5 flex-grow\"><div className=\"bg-blue-500 h-2.5 rounded-full\" style={{ width: `${Math.min(overallProgress, 100)}%` }}></div></div><span className=\"text-xs text-gray-600 ml-2\">{Math.round(overallProgress)}%</span></div></td></tr></tfoot>\n        </table></div></div>\n\n        {selectedPatient && (\n          <div className=\"bg-white shadow-xl rounded-lg p-6 mb-8\">\n            <div className=\"flex justify-between items-center mb-1\"><h3 className=\"text-2xl font-semibold text-indigo-700\">{selectedPatient.name}</h3><button onClick={() => {setSelectedPatient(null); setSessionSummaries({}); }} className=\"text-gray-500 hover:text-gray-700\"><XCircle className=\"w-7 h-7\" /></button></div>\n            \n            <div className=\"border-b border-gray-200 mb-6\">\n                <nav className=\"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto\" aria-label=\"Tabs\">\n                    {['details', 'testdiagnostik', 'bdi2', 'fep2'].map(tab => (\n                        <button key={tab} onClick={() => setActiveDetailTab(tab)}\n                            className={`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${activeDetailTab === tab ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`}>\n                            {tab === 'details' && 'Stammdaten & Sitzungen'} \n                            {tab === 'testdiagnostik' && 'HSCL-11'} \n                            {tab === 'bdi2' && 'BDI-II'} \n                            {tab === 'fep2' && 'FEP-2'}\n                        </button>\n                    ))}\n                </nav>\n            </div>\n\n            {activeDetailTab === 'details' && (\n              <div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n                    <div><p className=\"text-sm text-gray-500\">Chiffre</p><p className=\"text-lg text-gray-800\">{selectedPatient.chiffre}</p></div>\n                    <div><p className=\"text-sm text-gray-500\">Therapieform</p><p className=\"text-lg text-gray-800\">{selectedPatient.therapyType}</p></div>\n                    <div><p className=\"text-sm text-gray-500\">Genehmigte Stunden</p><p className=\"text-lg text-gray-800\">{selectedPatient.approvedHours}</p></div>\n                    <div>\n                        <label htmlFor=\"conductedHoursDetail\" className=\"block text-sm font-medium text-gray-500\">Durchgeführte Stunden</label>\n                        <div className=\"flex items-center mt-1\">\n                            <input type=\"number\" id=\"conductedHoursDetail\" value={selectedPatient.conductedHours} \n                                   onChange={(e) => setSelectedPatient(prev => ({...prev, conductedHours: e.target.value }))} \n                                   onBlur={(e) => handleUpdateConductedHours(selectedPatient, e.target.value)} \n                                   min=\"0\" max={selectedPatient.approvedHours} className={inputStd + \" w-24\"}/>\n                            <span className=\"ml-2 text-sm text-gray-600\">/ {selectedPatient.approvedHours}</span>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"mb-6\"> \n                  <h4 className=\"text-xl font-semibold text-gray-700 mb-3\">ICD-10 F-Diagnosen</h4>\n                  <ul className=\"space-y-1 mb-3\">\n                    {(selectedPatient.diagnoses || []).map((diag, index) => ( \n                        <li key={index} className=\"flex justify-between items-center bg-gray-50 p-2 rounded-md\">\n                            <span className=\"text-sm text-gray-700\">{diag}</span>\n                            <div className=\"flex items-center space-x-2\">\n                                <button onClick={() => fetchDiagnosisInfo(diag)} className={`${btnInfo} p-1`} title=\"Info zu dieser Diagnose abrufen\">\n                                    <span className=\"mr-1\">✨</span> <InfoIcon className=\"w-4 h-4\"/>\n                                </button>\n                                <button onClick={() => handleRemoveDiagnosis(diag)} className={`${btnDanger} p-1 text-xs`}><Trash2 className=\"w-4 h-4\" /></button>\n                            </div>\n                        </li>\n                    ))}\n                    {(selectedPatient.diagnoses || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine Diagnosen erfasst.</p>}\n                  </ul>\n                  <div className=\"flex items-center space-x-2\"><input type=\"text\" value={newDiagnosis} onChange={(e) => setNewDiagnosis(e.target.value)} placeholder=\"Neue Diagnose (z.B. F32.2)\" className={`${inputStd} flex-grow`}/><button onClick={handleAddDiagnosis} className={`${btnPrimary} bg-green-500 hover:bg-green-600 py-2 px-3`}><PlusCircle className=\"w-5 h-5 mr-1\" /> Hinzufügen</button></div>\n                </div>\n                <div> \n                  <h4 className=\"text-xl font-semibold text-gray-700 mb-3\">Sitzungsdokumentation</h4>\n                  <div className=\"bg-gray-50 p-4 rounded-lg mb-4\"><div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3\"><div><label htmlFor=\"sessionDate\" className=\"block text-sm font-medium text-gray-700\">Datum</label><input type=\"date\" id=\"sessionDate\" value={newSessionDate} onChange={(e) => setNewSessionDate(e.target.value)} className={inputStd}/></div><div className=\"md:col-span-2\"><label htmlFor=\"sessionNotes\" className=\"block text-sm font-medium text-gray-700\">Notizen</label><textarea id=\"sessionNotes\" value={newSessionNotes} onChange={(e) => setNewSessionNotes(e.target.value)} rows=\"3\" placeholder=\"Sitzungsnotizen...\" className={inputStd}></textarea></div></div><button onClick={handleAddSession} className={`${btnPrimary} bg-blue-500 hover:bg-blue-600`}><PlusCircle className=\"w-5 h-5 mr-2\" /> Sitzung hinzufügen</button></div>\n                  <h5 className=\"text-md font-semibold text-gray-600 mb-2\">Protokollierte Sitzungen:</h5>\n                  <div className=\"space-y-3 max-h-96 overflow-y-auto pr-2\"> \n                    {(selectedPatient.sessions || []).map((session, index) => (\n                        <div key={index} className=\"bg-white border border-gray-200 p-3 rounded-md shadow-sm\">\n                            <div className=\"flex justify-between items-start\">\n                                <p className=\"text-sm font-semibold text-gray-700\">Datum: {new Date(session.date).toLocaleDateString('de-DE')}</p>\n                                <button onClick={() => fetchSessionSummary(session.notes, index)} \n                                        disabled={sessionSummaries[index]?.isLoading}\n                                        className={`${btnInfo} text-xs`} title=\"Sitzungsnotizen zusammenfassen\">\n                                    {sessionSummaries[index]?.isLoading ? 'Lädt...' : '✨ Zusammenf.'}\n                                </button>\n                            </div>\n                            <p className=\"text-sm text-gray-600 whitespace-pre-wrap mt-1\">{session.notes}</p>\n                            {sessionSummaries[index]?.summary && !sessionSummaries[index]?.isLoading && (\n                                <div className=\"mt-2 p-2 bg-sky-50 border border-sky-200 rounded-md text-sm text-sky-700\">\n                                    <p className=\"font-semibold\">Zusammenfassung:</p>\n                                    <p className=\"whitespace-pre-wrap\">{sessionSummaries[index].summary}</p>\n                                </div>\n                            )}\n                            {sessionSummaries[index]?.error && (\n                                <p className=\"mt-2 text-xs text-red-500\">Fehler bei Zusammenfassung: {sessionSummaries[index].error}</p>\n                            )}\n                        </div>\n                    ))} \n                    {(selectedPatient.sessions || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine Sitzungen dokumentiert.</p>}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {activeDetailTab === 'testdiagnostik' && (\n              <div>\n                <h4 className=\"text-xl font-semibold text-gray-700 mb-4\">HSCL-11 Ergebnisse</h4>\n                <div className=\"bg-gray-50 p-4 rounded-lg mb-6 shadow\">\n                    <h5 className=\"text-md font-semibold text-gray-600 mb-3\">Neues HSCL-11 Ergebnis</h5>\n                    <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-3 items-end\">\n                        <div><label htmlFor=\"hsclDate\" className=\"block text-sm font-medium text-gray-700\">Datum</label><input type=\"date\" id=\"hsclDate\" value={newHsclDate} onChange={(e) => setNewHsclDate(e.target.value)} className={inputStd} /></div>\n                        <div><label htmlFor=\"hsclAngst\" className=\"block text-sm font-medium text-gray-700\">Angst (0-20)</label><input type=\"number\" id=\"hsclAngst\" value={newHsclAngst} onChange={(e) => setNewHsclAngst(e.target.value)} min=\"0\" max=\"20\" className={inputStd} /></div>\n                        <div><label htmlFor=\"hsclDepression\" className=\"block text-sm font-medium text-gray-700\">Depression (0-24)</label><input type=\"number\" id=\"hsclDepression\" value={newHsclDepression} onChange={(e) => setNewHsclDepression(e.target.value)} min=\"0\" max=\"24\" className={inputStd} /></div>\n                        <button onClick={handleAddHsclResult} className={`${btnPrimary} bg-teal-500 hover:bg-teal-600 h-10`}><PlusCircle className=\"w-5 h-5 mr-2\" /> Speichern</button>\n                    </div>\n                </div>\n                <div className=\"mb-6\">\n                    <h5 className=\"text-md font-semibold text-gray-600 mb-2\">Protokollierte HSCL-11 Ergebnisse:</h5>\n                    <ul className=\"space-y-2\">\n                        {(selectedPatient.hscl11Results || []).map((result, index) => ( <li key={index} className=\"flex justify-between items-center bg-white border p-3 rounded-md shadow-sm\"><div><span className=\"font-medium\">{new Date(result.date).toLocaleDateString('de-DE')}</span>: <span className=\"text-sm text-gray-600 ml-2\">Angst: {result.angst}</span>, <span className=\"text-sm text-gray-600 ml-2\">Depression: {result.depression}</span>, <span className=\"text-sm text-gray-600 ml-2\">Gesamt: {result.cumulative}</span></div><button onClick={() => handleRemoveHsclResult(result.date)} className={`${btnDanger} p-1 text-xs`}><Trash2 className=\"w-4 h-4\" /></button></li>))}\n                        {(selectedPatient.hscl11Results || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine HSCL-11 Ergebnisse erfasst.</p>}\n                    </ul>\n                </div>\n                {(selectedPatient.hscl11Results || []).length > 0 && (\n                    <div><h5 className=\"text-md font-semibold text-gray-600 mb-3\">Verlaufsgraph HSCL-11</h5>\n                    <div className=\"bg-white p-4 rounded-lg shadow\" style={{ height: '400px' }}>\n                        <ResponsiveContainer width=\"100%\" height=\"100%\"><LineChart data={(selectedPatient.hscl11Results || []).map(r => ({...r, date: new Date(r.date).toLocaleDateString('de-DE')}))} margin={{ top: 5, right: 30, left: 0, bottom: 5 }}><CartesianGrid strokeDasharray=\"3 3\" /><XAxis dataKey=\"date\" /><YAxis domain={[0, 44]} /><Tooltip /><Legend /><Line type=\"monotone\" dataKey=\"angst\" name=\"Angst\" stroke=\"#8884d8\" activeDot={{ r: 8 }} /><Line type=\"monotone\" dataKey=\"depression\" name=\"Depression\" stroke=\"#82ca9d\" /><Line type=\"monotone\" dataKey=\"cumulative\" name=\"Gesamt\" stroke=\"#ffc658\" /></LineChart></ResponsiveContainer>\n                    </div></div>\n                )}\n              </div>\n            )}\n\n            {activeDetailTab === 'bdi2' && (\n              <div>\n                <h4 className=\"text-xl font-semibold text-gray-700 mb-4\">BDI-II Ergebnisse</h4>\n                <div className=\"bg-gray-50 p-4 rounded-lg mb-6 shadow\">\n                    <h5 className=\"text-md font-semibold text-gray-600 mb-3\">Neues BDI-II Ergebnis</h5>\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3 items-end\">\n                        <div><label htmlFor=\"bdiDate\" className=\"block text-sm font-medium text-gray-700\">Datum</label><input type=\"date\" id=\"bdiDate\" value={newBdiDate} onChange={(e) => setNewBdiDate(e.target.value)} className={inputStd} /></div>\n                        <div><label htmlFor=\"bdiScore\" className=\"block text-sm font-medium text-gray-700\">BDI-II Wert (0-63)</label><input type=\"number\" id=\"bdiScore\" value={newBdiScore} onChange={(e) => setNewBdiScore(e.target.value)} min=\"0\" max=\"63\" className={inputStd} /></div>\n                        <button onClick={handleAddBdiResult} className={`${btnPrimary} h-10`}><PlusCircle className=\"w-5 h-5 mr-2\" /> Speichern</button>\n                    </div>\n                </div>\n                <div className=\"mb-6\">\n                    <h5 className=\"text-md font-semibold text-gray-600 mb-2\">Protokollierte BDI-II Ergebnisse:</h5>\n                    <ul className=\"space-y-2\">\n                        {(selectedPatient.bdi2Results || []).map((result, index) => ( <li key={index} className=\"flex justify-between items-center bg-white border p-3 rounded-md shadow-sm\"><div><span className=\"font-medium\">{new Date(result.date).toLocaleDateString('de-DE')}</span>: <span className=\"text-gray-700\">Score {result.score}</span></div><button onClick={() => handleRemoveBdiResult(result.date)} className={`${btnDanger} p-1 text-xs`}><Trash2 className=\"w-4 h-4\" /></button></li>))}\n                        {(selectedPatient.bdi2Results || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine BDI-II Ergebnisse erfasst.</p>}\n                    </ul>\n                </div>\n                {(selectedPatient.bdi2Results || []).length > 0 && (\n                    <div><h5 className=\"text-md font-semibold text-gray-600 mb-3\">Verlaufsgraph BDI-II</h5>\n                    <div className=\"bg-white p-4 rounded-lg shadow\" style={{ height: '400px' }}>\n                        <ResponsiveContainer width=\"100%\" height=\"100%\">\n                            <LineChart data={(selectedPatient.bdi2Results || []).map(r => ({...r, date: new Date(r.date).toLocaleDateString('de-DE')}))} margin={{ top: 5, right: 30, left: 0, bottom: 20 }}>\n                                <CartesianGrid strokeDasharray=\"3 3\" />\n                                <XAxis dataKey=\"date\" />\n                                <YAxis domain={[0, 63]} ticks={bdiAxisTicks} allowDataOverflow={true}/>\n                                <Tooltip />\n                                <Legend verticalAlign=\"top\" height={36}/>\n                                {bdiCutoffs.map(cutoff => ( <ReferenceArea key={cutoff.label} y1={cutoff.y1} y2={cutoff.y2} fill={cutoff.color} strokeOpacity={0.3} label={<CustomBdiLabel text={cutoff.label} y={cutoff.y2 - (cutoff.y2-cutoff.y1)/2} />}/> )) }\n                                <Line type=\"monotone\" dataKey=\"score\" name=\"BDI-II Score\" stroke=\"#3b82f6\" strokeWidth={2} activeDot={{ r: 8 }} />\n                            </LineChart>\n                        </ResponsiveContainer>\n                    </div></div>\n                )}\n              </div>\n            )}\n            {activeDetailTab === 'fep2' && (\n              <div>\n                <h4 className=\"text-xl font-semibold text-gray-700 mb-4\">FEP-2 Erfassung & Auswertung</h4>\n                <div className=\"bg-gray-50 p-4 rounded-lg mb-6 shadow\">\n                    <h5 className=\"text-md font-semibold text-gray-600 mb-3\">Neues FEP-2 Ergebnis hinzufügen</h5>\n                    <div className=\"mb-4\"><label htmlFor=\"fepDate\" className=\"block text-sm font-medium text-gray-700\">Datum der Erhebung</label><input type=\"date\" id=\"fepDate\" value={newFepDate} onChange={(e) => setNewFepDate(e.target.value)} className={`${inputStd} w-full md:w-1/3`} /></div>\n                    <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-x-4 gap-y-3 mb-4\">\n                        {fepItemScores.map((score, index) => ( <div key={index}><label htmlFor={`fepItem${index+1}`} className=\"block text-xs font-medium text-gray-600\">Item {index+1}</label><input type=\"number\" id={`fepItem${index+1}`} value={score === 0 ? '' : score} onChange={(e) => handleFepItemChange(index, e.target.value)} min=\"1\" max=\"5\" placeholder=\"1-5\" className={`${inputStd} px-2 py-1`}/></div>))}\n                    </div>\n                    <button onClick={handleAddFepResult} className={btnPrimary}><PlusCircle className=\"w-5 h-5 mr-2\" /> FEP-2 Ergebnis speichern</button>\n                </div>\n                <div className=\"space-y-4\">\n                    <h5 className=\"text-md font-semibold text-gray-600 mb-2\">Protokollierte FEP-2 Ergebnisse:</h5>\n                    {(selectedPatient.fep2Results || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine FEP-2 Ergebnisse erfasst.</p>}\n                    {(selectedPatient.fep2Results || []).map((result, index) => (\n                        <div key={index} className=\"bg-white border p-4 rounded-md shadow-sm\">\n                            <div className=\"flex justify-between items-center mb-2\"><p className=\"font-medium text-indigo-600\">Datum: {new Date(result.date).toLocaleDateString('de-DE')}</p><button onClick={() => handleRemoveFepResult(result.date)} className={`${btnDanger} p-1 text-xs`}><Trash2 className=\"w-4 h-4\" /></button></div>\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-1 text-sm\">\n                                {Object.entries(result.calculatedScales).map(([key, value]) => ( <div key={key} className=\"flex justify-between\"><span className=\"text-gray-600 capitalize\">{key.replace(/_/g, ' ')}:</span><span className=\"font-medium text-gray-800\">{value === null ? 'N/A (zu wenige Items)' : value} {key === 'gesamtbelastung' && value !== null && (value > 2.49 ? <span className=\"ml-1 text-red-500\">(Belastet)</span> : <span className=\"ml-1 text-green-500\">(Nicht Belastet)</span>)}</span></div>))}\n                            </div>\n                        </div>\n                    ))}\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n\n        <Modal isOpen={isPatientModalOpen} onClose={() => { setIsPatientModalOpen(false); setEditingPatient(null); }} title={editingPatient ? 'Patient bearbeiten' : 'Neuen Patienten anlegen'}><PatientForm patient={editingPatient} onSave={handleSavePatient} onCancel={() => { setIsPatientModalOpen(false); setEditingPatient(null); }} /></Modal>\n        <ConfirmationModal isOpen={isConfirmDeleteModalOpen} onClose={() => setIsConfirmDeleteModalOpen(false)} onConfirm={confirmDeletePatient} title=\"Patient löschen\" message={`Möchten Sie den Patienten wirklich endgültig löschen?`} />\n        \n        <Modal isOpen={diagnosisInfo.isOpen} onClose={() => setDiagnosisInfo(prev => ({...prev, isOpen: false}))} title={`ICD-10 Info: ${diagnosisInfo.code || ''}`} size=\"xl\">\n            {diagnosisInfo.isLoading && <p className=\"text-center py-4\">Informationen werden geladen...</p>}\n            {diagnosisInfo.error && <p className=\"text-red-600 bg-red-100 p-3 rounded-md\">Fehler: {diagnosisInfo.error}</p>}\n            {!diagnosisInfo.isLoading && diagnosisInfo.info && (\n                <div className=\"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed p-2\">{diagnosisInfo.info}</div>\n            )}\n        </Modal>\n\n        {error && (<div className=\"fixed bottom-4 right-4 p-4 max-w-sm text-sm text-red-700 bg-red-100 border border-red-400 rounded-md shadow-lg z-[100]\">{error}<button onClick={() => setError(null)} className=\"ml-4 mt-2 sm:mt-0 sm:ml-2 px-2 py-1 text-red-900 underline rounded-md hover:bg-red-200 text-xs\">Ok</button></div>)}\n      </main>\n      <footer className=\"text-center py-6 text-sm text-gray-500 border-t border-gray-200 mt-10\">Patientenverwaltung &copy; {new Date().getFullYear()}</footer>\n    </div>\n  );\n}\n\nconst CustomBdiLabel = (props) => {\n    const { x, y, width, text } = props;\n    if (typeof x !== 'number' || isNaN(x) || \n        typeof y !== 'number' || isNaN(y) ||\n        typeof width !== 'number' || isNaN(width) || width <= 0) {\n        return null; \n    }\n    const labelX = x + width / 2;\n    return ( <text x={labelX} y={y} fill=\"#666\" textAnchor=\"middle\" dy={-4} fontSize=\"10\">{text}</text> );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}