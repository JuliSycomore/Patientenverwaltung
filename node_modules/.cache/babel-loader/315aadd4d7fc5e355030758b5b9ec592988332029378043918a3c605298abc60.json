{"ast":null,"code":"var _jsxFileName = \"/Users/julianrogowski/Desktop/patientenverwaltung-app/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n/* global __GEMINI_API_KEY__ */\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from 'firebase/auth';\nimport { getFirestore, collection, doc, addDoc, getDocs, setDoc, deleteDoc, onSnapshot, query, writeBatch } from 'firebase/firestore';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, ReferenceArea } from 'recharts';\nimport SCL90RComponent from './components/SCL90R.js';\nimport FEP2Component from './components/FEP2.js';\nimport ICD11ECTBrowser from './components/ICD11ECTBrowser.js';\n\n// --- ICONS ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserPlus = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 228\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"9\",\n    cy: \"7\",\n    r: \"4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 282\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"19\",\n    x2: \"19\",\n    y1: \"8\",\n    y2: \"14\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 312\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"22\",\n    x2: \"16\",\n    y1: \"11\",\n    y2: \"11\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 351\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 18,\n  columnNumber: 51\n}, this);\n_c = UserPlus;\nconst Edit3 = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 20h9\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 225\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 246\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 19,\n  columnNumber: 48\n}, this);\n_c2 = Edit3;\nconst Trash2 = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"3 6 5 6 21 6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 226\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 260\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"10\",\n    y1: \"11\",\n    x2: \"10\",\n    y2: \"17\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 351\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"14\",\n    y1: \"11\",\n    x2: \"14\",\n    y2: \"17\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 391\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 20,\n  columnNumber: 49\n}, this);\n_c3 = Trash2;\nconst PlusCircleIcon = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 234\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"8\",\n    x2: \"12\",\n    y2: \"16\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 267\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"8\",\n    y1: \"12\",\n    x2: \"16\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 306\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 21,\n  columnNumber: 57\n}, this);\n_c4 = PlusCircleIcon;\nconst XCircle = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 227\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"15\",\n    y1: \"9\",\n    x2: \"9\",\n    y2: \"15\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 267\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"9\",\n    y1: \"9\",\n    x2: \"15\",\n    y2: \"15\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 310\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 22,\n  columnNumber: 50\n}, this);\n_c5 = XCircle;\nconst Save = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 224\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"17 21 17 13 7 13 7 21\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 300\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"7 3 7 8 15 8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 343\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 23,\n  columnNumber: 47\n}, this);\n_c6 = Save;\nconst AlertTriangle = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 233\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"9\",\n    x2: \"12\",\n    y2: \"13\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 339\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"17\",\n    x2: \"12.01\",\n    y2: \"17\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 383\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 24,\n  columnNumber: 56\n}, this);\n_c7 = AlertTriangle;\nconst InfoIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 228\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"16\",\n    x2: \"12\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 268\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"8\",\n    x2: \"12.01\",\n    y2: \"8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 313\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 25,\n  columnNumber: 51\n}, this);\n_c8 = InfoIcon;\nconst FileJson2 = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 228\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M14 2v6h6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 291\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 12h1.6a2 2 0 0 0 1.9-3.4L6 6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 312\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 18h1.6a2 2 0 0 1 1.9 3.4L6 24\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 355\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 12h1.6a2 2 0 0 1 1.9-3.4L14 6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 399\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 18h1.6a2 2 0 0 0 1.9 3.4L14 24\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 444\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 26,\n  columnNumber: 51\n}, this);\n_c9 = FileJson2;\nconst WandSparkles = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m9.5 2.55 1.294 1.294a1 1 0 0 0 1.414 0L13.5 2.55\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 231\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4.94 4.94 6.22 6.22a1 1 0 0 0 1.41 0l1.29-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 292\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M2.55 9.51 3.84 10.8a1 1 0 0 0 1.41 0l1.3-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 351\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m19.07 4.93-1.29 1.29a1 1 0 0 1-1.41 0l-1.29-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 409\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M21.45 9.51l-1.29 1.29a1 1 0 0 1-1.41 0l-1.3-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 470\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M14.5 12.94a1 1 0 0 0 0 1.41l1.29 1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 531\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M10.8 17.78a1 1 0 0 0 0 1.41l1.29 1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 581\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M17.78 10.8a1 1 0 0 0 0 1.41l1.29 1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 631\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 10.5V4.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 681\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 10.5C7 11 4 15 4 20\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 705\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 10.5c5 .5 8 4.5 8 9.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 740\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 27,\n  columnNumber: 54\n}, this);\n_c0 = WandSparkles;\nconst LogOut = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 223\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"16 17 21 12 16 7\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 274\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"21\",\n    y1: \"12\",\n    x2: \"9\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 311\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 28,\n  columnNumber: 46\n}, this);\n\n// Ihre Firebase Konfiguration:\n_c1 = LogOut;\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDZ_qqqKW7WDCZ9botek2VBwXNMQO3JYwU\",\n  authDomain: \"psychotherapie0512.firebaseapp.com\",\n  projectId: \"psychotherapie0512\",\n  storageBucket: \"psychotherapie0512.firebasestorage.app\",\n  messagingSenderId: \"131279046361\",\n  appId: \"1:131279046361:web:e5dd2d18b206fb820b60c8\"\n};\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst firestoreAppId = 'default-patient-app-v5';\nconst initialPatientsData = [{\n  name: \"Mustermann\",\n  geburtsdatum: \"1998-04-04\",\n  chiffre: \"M040498\",\n  therapyType: \"LZT\",\n  approvedHours: 60,\n  conductedHours: 24,\n  diagnoses: [\"[G] F00.0*: Demenz bei Alzheimer-Krankheit, mit frühem Beginn (Typ 2)\", \"[V] F01.1: Multiinfarkt-Demenz\", \"[A] F20.0: Paranoide Schizophrenie\", \"[ZN] F32.1: Mittelgradige depressive Episode\", \"F40.0: Agoraphobie\"],\n  sessions: [{\n    date: \"2025-05-20\",\n    notes: \"Erste Sitzung, Exploration der Hauptbeschwerden.\"\n  }, {\n    date: \"2025-05-27\",\n    notes: \"Vertiefung der Anamnese, erste Verhaltensanalysen.\"\n  }],\n  hscl11Results: [],\n  bdi2Results: [],\n  fep2Results: [],\n  scl90rResults: [],\n  krankheitsanamnese: \"Patient berichtet über seit ca. 2 Jahren zunehmende Vergesslichkeit und Orientierungsprobleme.\",\n  lebensgeschichte: \"Geboren 1955, verheiratet, 2 Kinder, früher als Buchhalter tätig.\",\n  problemanalyseMakro: \"Kognitive Defizite im Vordergrund, affektive Belastung durch erlebten Kontrollverlust.\",\n  therapieplan: \"Supportive Gespräche, kognitives Training, Psychoedukation für Angehörige.\"\n}];\nconst Modal = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  size = \"lg\"\n}) => {\n  if (!isOpen) return null;\n  const sizeClasses = {\n    sm: 'max-w-sm',\n    md: 'max-w-md',\n    lg: 'max-w-lg',\n    xl: 'max-w-xl',\n    '2xl': 'max-w-2xl',\n    '3xl': 'max-w-3xl',\n    '4xl': 'max-w-4xl',\n    '5xl': 'max-w-5xl'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex justify-center items-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bg-white p-6 rounded-lg shadow-xl w-full ${sizeClasses[size]} max-h-[90vh] overflow-y-auto`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-gray-800\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 551\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-500 hover:text-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(XCircle, {\n            className: \"w-7 h-7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 688\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 616\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 495\n      }, this), children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 385\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 272\n  }, this);\n};\n_c10 = Modal;\nconst ConfirmationModal = ({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  message\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onClose: onClose,\n    title: title,\n    size: \"sm\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n        className: \"mx-auto mb-4 w-12 h-12 text-red-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 209\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-700 mb-6\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 274\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none\",\n          children: \"Abbrechen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 368\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onConfirm,\n          className: \"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none\",\n          children: \"Best\\xE4tigen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 528\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 321\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 180\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 115\n  }, this);\n};\n_c11 = ConfirmationModal;\nconst PatientForm = ({\n  patient,\n  onSave,\n  onCancel\n}) => {\n  _s();\n  const [formData, setFormData] = useState(patient || {\n    name: '',\n    chiffre: '',\n    geburtsdatum: '',\n    // NEUES FELD\n    therapyType: 'LZT',\n    approvedHours: 0,\n    conductedHours: 0,\n    diagnoses: [],\n    sessions: [],\n    hscl11Results: [],\n    bdi2Results: [],\n    fep2Results: [],\n    scl90rResults: [],\n    krankheitsanamnese: \"\",\n    lebensgeschichte: \"\",\n    problemanalyseMakro: \"\",\n    therapieplan: \"\"\n  });\n  useEffect(() => {\n    if (patient) {\n      setFormData({\n        ...patient,\n        geburtsdatum: patient.geburtsdatum || '',\n        // Sicherstellen, dass das Feld existiert\n        hscl11Results: patient.hscl11Results || [],\n        bdi2Results: patient.bdi2Results || [],\n        fep2Results: patient.fep2Results || [],\n        scl90rResults: patient.scl90rResults || [],\n        krankheitsanamnese: patient.krankheitsanamnese || \"\",\n        lebensgeschichte: patient.lebensgeschichte || \"\",\n        problemanalyseMakro: patient.problemanalyseMakro || \"\",\n        therapieplan: patient.therapieplan || \"\"\n      });\n    } else {\n      setFormData({\n        name: '',\n        chiffre: '',\n        geburtsdatum: '',\n        therapyType: 'LZT',\n        approvedHours: 0,\n        conductedHours: 0,\n        diagnoses: [],\n        sessions: [],\n        hscl11Results: [],\n        bdi2Results: [],\n        fep2Results: [],\n        scl90rResults: [],\n        krankheitsanamnese: \"\",\n        lebensgeschichte: \"\",\n        problemanalyseMakro: \"\",\n        therapieplan: \"\"\n      });\n    }\n  }, [patient]);\n  useEffect(() => {\n    const {\n      name,\n      geburtsdatum\n    } = formData;\n    if (name && geburtsdatum) {\n      try {\n        const firstLetter = name.charAt(0).toUpperCase();\n        const [year, month, day] = geburtsdatum.split('-');\n        if (year && month && day) {\n          const yy = year.slice(-2);\n          const newChiffre = `${firstLetter}${day}${month}${yy}`;\n          setFormData(prev => ({\n            ...prev,\n            chiffre: newChiffre\n          }));\n        }\n      } catch (e) {\n        console.error(\"Fehler bei der Chiffre-Generierung\", e);\n        setFormData(prev => ({\n          ...prev,\n          chiffre: ''\n        }));\n      }\n    } else {\n      if (formData.chiffre !== '') {\n        setFormData(prev => ({\n          ...prev,\n          chiffre: ''\n        }));\n      }\n    }\n  }, [formData]); // Add formData to the dependency array\n\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'number' ? parseInt(value, 10) || 0 : value\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSave(formData);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        id: \"name\",\n        value: formData.name,\n        onChange: handleChange,\n        required: true,\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"geburtsdatum\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Geburtsdatum\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        name: \"geburtsdatum\",\n        id: \"geburtsdatum\",\n        value: formData.geburtsdatum,\n        onChange: handleChange,\n        required: true,\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"chiffre\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Chiffre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"chiffre\",\n        id: \"chiffre\",\n        value: formData.chiffre,\n        readOnly: true,\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100 cursor-not-allowed sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mt-1\",\n        children: \"Wird aus Name und Geburtsdatum automatisch generiert.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"therapyType\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Therapieform\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"therapyType\",\n        id: \"therapyType\",\n        value: formData.therapyType,\n        onChange: handleChange,\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"LZT\",\n          children: \"Langzeittherapie (LZT)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"KZT\",\n          children: \"Kurzzeittherapie (KZT)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"approvedHours\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Genehmigte Stunden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"approvedHours\",\n        id: \"approvedHours\",\n        value: formData.approvedHours,\n        onChange: handleChange,\n        min: \"0\",\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"conductedHours\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Durchgef\\xFChrte Stunden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"conductedHours\",\n        id: \"conductedHours\",\n        value: formData.conductedHours,\n        onChange: handleChange,\n        min: \"0\",\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end space-x-3 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onCancel,\n        className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\",\n        children: \"Abbrechen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Save, {\n          className: \"w-4 h-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 221\n        }, this), \" Speichern\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n};\n_s(PatientForm, \"L4El+q9cqs/ekB26HVstLYDIxlE=\");\n_c12 = PatientForm;\nasync function generateGeminiText(prompt) {\n  let chatHistory = [{\n    role: \"user\",\n    parts: [{\n      text: prompt\n    }]\n  }];\n  const payload = {\n    contents: chatHistory\n  };\n  const GEMINI_API_KEY = typeof __GEMINI_API_KEY__ !== 'undefined' ? __GEMINI_API_KEY__ : \"YOUR_LOCAL_GEMINI_API_KEY\"; // Tragen Sie hier Ihren lokalen Schlüssel ein\n  const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`;\n  try {\n    const response = await fetch(apiUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    });\n    if (!response.ok) {\n      var _errorData$error;\n      const errorData = await response.json();\n      console.error(\"Gemini API error details:\", errorData);\n      const errorMessage = ((_errorData$error = errorData.error) === null || _errorData$error === void 0 ? void 0 : _errorData$error.message) || `API request failed with status ${response.status}`;\n      throw new Error(errorMessage);\n    }\n    const result = await response.json();\n    if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\n      return result.candidates[0].content.parts[0].text;\n    } else if (result.candidates && result.candidates.length > 0 && result.candidates[0].finishReason === \"SAFETY\") {\n      console.warn(\"Gemini API response blocked due to safety reasons.\");\n      return \"Die Antwort wurde aufgrund von Sicherheitsrichtlinien blockiert.\";\n    } else {\n      console.error(\"Unexpected Gemini API response structure:\", result);\n      throw new Error(\"Unerwartete Antwortstruktur von der API.\");\n    }\n  } catch (error) {\n    console.error(\"Error calling Gemini API:\", error);\n    throw error;\n  }\n}\nfunction App() {\n  _s2();\n  var _diagnosisInfo$inkl, _diagnosisInfo$exkl, _diagnosisInfo$inclus, _diagnosisInfo$exclus;\n  // --- States ---\n  const [mainView, setMainView] = useState('patients');\n  const [patients, setPatients] = useState([]);\n  const [selectedPatient, setSelectedPatient] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [authError, setAuthError] = useState(null);\n  const [appError, setAppError] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoginView, setIsLoginView] = useState(true);\n  const [isAuthLoading, setIsAuthLoading] = useState(false);\n  const [isPatientModalOpen, setIsPatientModalOpen] = useState(false);\n  const [editingPatient, setEditingPatient] = useState(null);\n  const [isConfirmDeleteModalOpen, setIsConfirmDeleteModalOpen] = useState(false);\n  const [patientToDeleteId, setPatientToDeleteId] = useState(null);\n  const [newDiagnosis, setNewDiagnosis] = useState('');\n  const [newDiagnosisCode, setNewDiagnosisCode] = useState('');\n  const [newDiagnosisSicherheit, setNewDiagnosisSicherheit] = useState('G');\n  const [lookedUpDiagnosisName, setLookedUpDiagnosisName] = useState('');\n  const [newSessionDate, setNewSessionDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newSessionNotes, setNewSessionNotes] = useState('');\n  const [activeDetailTab, setActiveDetailTab] = useState('details');\n  const [activeDiagnostikSubTab, setActiveDiagnostikSubTab] = useState('scl90r');\n  const [newHsclDate, setNewHsclDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newHsclAngst, setNewHsclAngst] = useState('');\n  const [newHsclDepression, setNewHsclDepression] = useState('');\n  const [newBdiDate, setNewBdiDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newBdiScore, setNewBdiScore] = useState('');\n  const [sessionSummaries, setSessionSummaries] = useState({});\n  const [diagnosisInfo, setDiagnosisInfo] = useState({\n    code: '',\n    name: '',\n    beschreibung: '',\n    inkl: [],\n    exkl: [],\n    hinweise: [],\n    zusatz_info_code: '',\n    sicherheit: '',\n    isLoading: false,\n    error: null,\n    isOpen: false,\n    source: ''\n  });\n  const [localIcd10Data, setLocalIcd10Data] = useState({});\n  const [editableConductedHours, setEditableConductedHours] = useState(\"\");\n  const [editableKrankheitsanamnese, setEditableKrankheitsanamnese] = useState(\"\");\n  const [editableLebensgeschichte, setEditableLebensgeschichte] = useState(\"\");\n  const [editableProblemanalyseMakro, setEditableProblemanalyseMakro] = useState(\"\");\n  const [editableTherapieplan, setEditableTherapieplan] = useState(\"\");\n  const [therapeutischeAssistenzOutput, setTherapeutischeAssistenzOutput] = useState(\"\");\n  const [isLoadingTherapeutischeAssistenz, setIsLoadingTherapeutischeAssistenz] = useState(false);\n  const [assistenzError, setAssistenzError] = useState(null);\n  const detailViewRef = useRef(null);\n  const overviewRef = useRef(null);\n  const [isRegistering, setIsRegistering] = useState(false);\n\n  // --- Helper Functions & Callbacks ---\n  const getPatientsCollectionPath = useCallback(() => {\n    if (!userId) return null;\n    return `/artifacts/${firestoreAppId}/users/${userId}/patients`;\n  }, [userId]);\n  const findIcd10CodeLocal = useCallback(codeToFind => {\n    const upperCodeToFind = codeToFind.toUpperCase();\n    let found = localIcd10Data[upperCodeToFind];\n    if (found) return found;\n    const baseCode = upperCodeToFind.replace(/(\\.-[*]|\\.\\*|[*]|-)$/, '');\n    found = localIcd10Data[`${baseCode}.-*`] || localIcd10Data[`${baseCode}.*`] || localIcd10Data[baseCode];\n    if (found) return found;\n    const possibleCategoryCode = Object.keys(localIcd10Data).find(key => key.startsWith(upperCodeToFind) && (localIcd10Data[key].code_kategorie || localIcd10Data[key].code));\n    if (possibleCategoryCode) return localIcd10Data[possibleCategoryCode];\n    return null;\n  }, [localIcd10Data]);\n\n  // --- useEffects ---\n  useEffect(() => {\n    fetch('/icd10f_data.json').then(response => {\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      return response.json();\n    }).then(data => {\n      const indexedData = {};\n      data.forEach(item => {\n        if (item.code) {\n          indexedData[item.code.toUpperCase()] = item;\n        }\n      });\n      setLocalIcd10Data(indexedData);\n    }).catch(error => {\n      console.error(\"Fehler beim Laden der lokalen ICD-10 Daten:\", error);\n      setAppError(\"Lokale ICD-10 Daten konnten nicht geladen werden. \" + error.message);\n    });\n  }, []);\n  useEffect(() => {\n    if (selectedPatient) {\n      setEditableConductedHours(selectedPatient.conductedHours !== null && selectedPatient.conductedHours !== undefined ? String(selectedPatient.conductedHours) : \"\");\n      setEditableKrankheitsanamnese(selectedPatient.krankheitsanamnese || \"\");\n      setEditableLebensgeschichte(selectedPatient.lebensgeschichte || \"\");\n      setEditableProblemanalyseMakro(selectedPatient.problemanalyseMakro || \"\");\n      setEditableTherapieplan(selectedPatient.therapieplan || \"\");\n      if (detailViewRef.current) {\n        setTimeout(() => {\n          detailViewRef.current.scrollIntoView({\n            behavior: 'smooth',\n            block: 'start'\n          });\n        }, 100);\n      }\n    } else {\n      setEditableConductedHours(\"\");\n      setEditableKrankheitsanamnese(\"\");\n      setEditableLebensgeschichte(\"\");\n      setEditableProblemanalyseMakro(\"\");\n      setEditableTherapieplan(\"\");\n    }\n  }, [selectedPatient]);\n  useEffect(() => {\n    if (newDiagnosisCode.trim() !== '') {\n      const found = findIcd10CodeLocal(newDiagnosisCode.trim().toUpperCase());\n      if (found && found.name) {\n        setLookedUpDiagnosisName(found.name);\n      } else {\n        setLookedUpDiagnosisName('');\n      }\n    } else {\n      setLookedUpDiagnosisName('');\n    }\n  }, [newDiagnosisCode, findIcd10CodeLocal]);\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, user => {\n      if (user) {\n        setUserId(user.uid);\n      } else {\n        setUserId(null);\n      }\n      setIsAuthReady(true);\n      setIsLoading(false);\n    });\n    return () => unsubscribe();\n  }, []);\n  const seedInitialData = useCallback(async () => {\n    if (!userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    try {\n      const patientsCollection = collection(db, collectionPath);\n      const querySnapshot = await getDocs(patientsCollection);\n      if (querySnapshot.empty) {\n        const batch = writeBatch(db);\n        initialPatientsData.forEach(patientData => {\n          const newPatientRef = doc(patientsCollection);\n          batch.set(newPatientRef, {\n            ...patientData,\n            hscl11Results: patientData.hscl11Results || [],\n            bdi2Results: patientData.bdi2Results || [],\n            fep2Results: patientData.fep2Results || [],\n            scl90rResults: patientData.scl90rResults || [],\n            diagnoses_icd11: patientData.diagnoses_icd11 || [],\n            krankheitsanamnese: patientData.krankheitsanamnese || \"\",\n            lebensgeschichte: patientData.lebensgeschichte || \"\",\n            problemanalyseMakro: patientData.problemanalyseMakro || \"\",\n            therapieplan: patientData.therapieplan || \"\"\n          });\n        });\n        await batch.commit();\n      }\n    } catch (err) {\n      console.error(\"Error seeding initial data:\", err);\n      setAppError(\"Fehler beim Laden der initialen Daten.\");\n    }\n  }, [userId, getPatientsCollectionPath]);\n  useEffect(() => {\n    if (!isAuthReady || !userId) {\n      setPatients([]);\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    setIsLoading(true);\n    seedInitialData();\n    const patientsQuery = query(collection(db, collectionPath));\n    const unsubscribe = onSnapshot(patientsQuery, snapshot => {\n      let patientsData = snapshot.docs.map(docSnap => ({\n        id: docSnap.id,\n        ...docSnap.data(),\n        diagnoses_icd11: docSnap.data().diagnoses_icd11 || []\n      }));\n      patientsData.sort((a, b) => a.name.localeCompare(b.name));\n      setPatients(patientsData);\n      setIsLoading(false);\n    }, err => {\n      console.error(\"Error fetching patients:\", err);\n      setAppError(\"Fehler beim Laden der Patientendaten.\");\n      setIsLoading(false);\n    });\n    return () => unsubscribe();\n  }, [isAuthReady, userId, getPatientsCollectionPath, seedInitialData]);\n  useEffect(() => {\n    if (selectedPatient && selectedPatient.id && patients.length > 0) {\n      const currentPatientDataFromList = patients.find(p => p.id === selectedPatient.id);\n      if (currentPatientDataFromList) {\n        if (JSON.stringify(currentPatientDataFromList) !== JSON.stringify(selectedPatient)) {\n          setSelectedPatient(currentPatientDataFromList);\n        }\n      } else {\n        setSelectedPatient(null);\n      }\n    }\n  }, [patients, selectedPatient]);\n  useEffect(() => {\n    const loadIcd10Data = async () => {\n      try {\n        const response = await fetch('/icd10f_data.json');\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        console.log(\"Geladene ICD-10 Daten:\", data); // Debug-Ausgabe\n\n        const indexedData = {};\n        data.forEach(item => {\n          if (item.code) {\n            indexedData[item.code.toUpperCase()] = item;\n            // Optional: Speichern Sie auch Varianten ohne Sternchen/Kreuz\n            const baseCode = item.code.replace(/[*†]/, '').toUpperCase();\n            if (baseCode !== item.code.toUpperCase()) {\n              indexedData[baseCode] = item;\n            }\n          }\n        });\n        setLocalIcd10Data(indexedData);\n      } catch (error) {\n        console.error(\"Fehler beim Laden der lokalen ICD-10 Daten:\", error);\n        setAppError(\"Lokale ICD-10 Daten konnten nicht geladen werden. \" + error.message);\n      }\n    };\n    loadIcd10Data();\n  }, []);\n  const bdiCutoffs = [{\n    y1: 0,\n    y2: 8,\n    label: \"Keine Depression\",\n    color: \"rgba(75, 192, 192, 0.2)\"\n  }, {\n    y1: 9,\n    y2: 13,\n    label: \"Minimale Depression\",\n    color: \"rgba(54, 162, 235, 0.2)\"\n  }, {\n    y1: 14,\n    y2: 19,\n    label: \"Leichte Depression\",\n    color: \"rgba(255, 206, 86, 0.2)\"\n  }, {\n    y1: 20,\n    y2: 28,\n    label: \"Mittelschwere Depression\",\n    color: \"rgba(255, 159, 64, 0.2)\"\n  }, {\n    y1: 29,\n    y2: 63,\n    label: \"Schwere Depression\",\n    color: \"rgba(255, 99, 132, 0.2)\"\n  }];\n  const bdiAxisTicks = [0, 8, 13, 19, 28, 63];\n\n  // Fix the isRegistering variable in handleAuthAction\n  const handleAuthAction = async isRegistering => {\n    setIsAuthLoading(true);\n    setAuthError(null);\n    try {\n      if (isRegistering) {\n        await createUserWithEmailAndPassword(auth, email, password);\n      } else {\n        await signInWithEmailAndPassword(auth, email, password);\n      }\n      setEmail(\"\");\n      setPassword(\"\");\n    } catch (error) {\n      console.error(\"Authentication error:\", error);\n      setAuthError(error.message);\n    } finally {\n      setIsAuthLoading(false);\n    }\n  };\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n      setSelectedPatient(null);\n      setPatients([]);\n    } catch (error) {\n      console.error(\"Error signing out: \", error);\n      setAppError(\"Fehler beim Abmelden.\");\n    }\n  };\n  const handleSavePatient = async patientData => {\n    if (!userId) {\n      setAppError(\"Benutzer nicht authentifiziert.\");\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const dataToSave = {\n      ...patientData,\n      hscl11Results: patientData.hscl11Results || [],\n      bdi2Results: patientData.bdi2Results || [],\n      fep2Results: patientData.fep2Results || [],\n      scl90rResults: patientData.scl90rResults || [],\n      krankheitsanamnese: patientData.krankheitsanamnese || \"\",\n      lebensgeschichte: patientData.lebensgeschichte || \"\",\n      problemanalyseMakro: patientData.problemanalyseMakro || \"\",\n      therapieplan: patientData.therapieplan || \"\"\n    };\n    try {\n      if (editingPatient && editingPatient.id) {\n        const patientRef = doc(db, collectionPath, editingPatient.id);\n        await setDoc(patientRef, dataToSave, {\n          merge: true\n        });\n      } else {\n        await addDoc(collection(db, collectionPath), dataToSave);\n      }\n      setIsPatientModalOpen(false);\n      setEditingPatient(null);\n    } catch (err) {\n      console.error(\"Error saving patient:\", err);\n      setAppError(\"Fehler beim Speichern des Patienten.\");\n    }\n  };\n  const openDeleteConfirmation = patientId => {\n    setPatientToDeleteId(patientId);\n    setIsConfirmDeleteModalOpen(true);\n  };\n  const confirmDeletePatient = async () => {\n    if (!patientToDeleteId || !userId) {\n      setAppError(\"Löschvorgang fehlgeschlagen.\");\n      setIsConfirmDeleteModalOpen(false);\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    try {\n      const patientRef = doc(db, collectionPath, patientToDeleteId);\n      await deleteDoc(patientRef);\n      if (selectedPatient && selectedPatient.id === patientToDeleteId) {\n        setSelectedPatient(null);\n      }\n      setPatientToDeleteId(null);\n      setIsConfirmDeleteModalOpen(false);\n    } catch (err) {\n      console.error(\"Error deleting patient:\", err);\n      setAppError(\"Fehler beim Löschen des Patienten.\");\n      setIsConfirmDeleteModalOpen(false);\n    }\n  };\n  const handleAddDiagnosis = async () => {\n    const codeToAdd = newDiagnosisCode.trim().toUpperCase();\n    if (!selectedPatient || !codeToAdd || !userId) {\n      setAppError(\"Bitte füllen Sie alle erforderlichen Felder aus.\");\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n\n    // Diagnosestring zusammenbauen\n    const sicherheitPrefix = newDiagnosisSicherheit ? `[${newDiagnosisSicherheit}] ` : \"\";\n    const beschreibung = newDiagnosis.trim() ? `: ${newDiagnosis.trim()}` : lookedUpDiagnosisName ? `: ${lookedUpDiagnosisName}` : \"\";\n    const diagnosisString = `${sicherheitPrefix}${codeToAdd}${beschreibung}`;\n\n    // Aktualisiere die Diagnosen im Firestore\n    const updatedDiagnoses = [...(selectedPatient.diagnoses || []), diagnosisString];\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      console.log(\"Speichere neue Diagnose:\", diagnosisString);\n      await setDoc(patientRef, {\n        diagnoses: updatedDiagnoses\n      }, {\n        merge: true\n      });\n\n      // Reset der Eingabefelder\n      setNewDiagnosisCode('');\n      setNewDiagnosis('');\n      setLookedUpDiagnosisName('');\n      setNewDiagnosisSicherheit('G');\n    } catch (err) {\n      console.error(\"Error adding diagnosis:\", err);\n      setAppError(\"Fehler beim Hinzufügen der Diagnose.\");\n    }\n  };\n  const handleRemoveDiagnosis = async diagnosisStringToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedDiagnoses = selectedPatient.diagnoses.filter(d => d !== diagnosisStringToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        diagnoses: updatedDiagnoses\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing diagnosis:\", err);\n      setAppError(\"Fehler beim Entfernen der Diagnose.\");\n    }\n  };\n  const handleAddSession = async () => {\n    if (!selectedPatient || !newSessionNotes.trim() || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const newSession = {\n      date: newSessionDate,\n      notes: newSessionNotes.trim()\n    };\n    const updatedSessions = [...(selectedPatient.sessions || []), newSession];\n    updatedSessions.sort((a, b) => new Date(b.date) - new Date(a.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        sessions: updatedSessions\n      }, {\n        merge: true\n      });\n      setNewSessionNotes('');\n    } catch (err) {\n      console.error(\"Error adding session:\", err);\n      setAppError(\"Fehler beim Hinzufügen der Sitzung.\");\n    }\n  };\n  const handleUpdateConductedHours = async (patientId, hours) => {\n    if (!patientId || !userId) return;\n    if (isNaN(hours) || hours < 0) {\n      console.error(\"Ungültige Stundenzahl für Firestore-Update:\", hours);\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const patientRef = doc(db, collectionPath, patientId);\n    try {\n      await setDoc(patientRef, {\n        conductedHours: hours\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error updating conducted hours:\", err);\n      setAppError(\"Fehler beim Aktualisieren der Stunden.\");\n    }\n  };\n  const handleAddHsclResult = async () => {\n    if (!selectedPatient || !newHsclDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const angst = parseInt(newHsclAngst, 10);\n    const depression = parseInt(newHsclDepression, 10);\n    if (isNaN(angst) || angst < 0 || angst > 20 || isNaN(depression) || depression < 0 || depression > 24) {\n      setAppError(\"Ungültige HSCL-Werte. Angst (0-20), Depression (0-24).\");\n      return;\n    }\n    const newResult = {\n      date: newHsclDate,\n      angst: angst,\n      depression: depression,\n      cumulative: angst + depression\n    };\n    const updatedHsclResults = [...(selectedPatient.hscl11Results || []), newResult];\n    updatedHsclResults.sort((a, b) => new Date(a.date) - new Date(b.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        hscl11Results: updatedHsclResults\n      }, {\n        merge: true\n      });\n      setNewHsclAngst('');\n      setNewHsclDepression('');\n      setAppError(null);\n    } catch (err) {\n      console.error(\"Error adding HSCL result:\", err);\n      setAppError(\"Fehler beim Hinzufügen des HSCL-Ergebnisses.\");\n    }\n  };\n  const handleRemoveHsclResult = async dateToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedHsclResults = selectedPatient.hscl11Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        hscl11Results: updatedHsclResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing HSCL result:\", err);\n      setAppError(\"Fehler beim Entfernen des HSCL-Ergebnisses.\");\n    }\n  };\n  const handleAddBdiResult = async () => {\n    if (!selectedPatient || !newBdiDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const score = parseInt(newBdiScore, 10);\n    if (isNaN(score) || score < 0 || score > 63) {\n      setAppError(\"Ungültiger BDI-II Wert (0-63).\");\n      return;\n    }\n    const newResult = {\n      date: newBdiDate,\n      score: score\n    };\n    const updatedBdiResults = [...(selectedPatient.bdi2Results || []), newResult];\n    updatedBdiResults.sort((a, b) => new Date(a.date) - new Date(b.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        bdi2Results: updatedBdiResults\n      }, {\n        merge: true\n      });\n      setNewBdiScore('');\n      setAppError(null);\n    } catch (err) {\n      console.error(\"Error adding BDI-II result:\", err);\n      setAppError(\"Fehler beim Hinzufügen des BDI-II Ergebnisses.\");\n    }\n  };\n  const handleRemoveBdiResult = async dateToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedBdiResults = selectedPatient.bdi2Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        bdi2Results: updatedBdiResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing BDI-II result:\", err);\n      setAppError(\"Fehler beim Entfernen des BDI-II Ergebnisses.\");\n    }\n  };\n  const handleAddFepResult = async result => {\n    // Erhält jetzt das fertige Ergebnis-Objekt\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedFepResults = [...(selectedPatient.fep2Results || []), result];\n    updatedFepResults.sort((a, b) => new Date(a.date) - new Date(b.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        fep2Results: updatedFepResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error adding FEP-2 result:\", err);\n      setAppError(\"Fehler beim Hinzufügen des FEP-2 Ergebnisses.\");\n    }\n  };\n  const handleRemoveFepResult = async dateToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedFepResults = selectedPatient.fep2Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        fep2Results: updatedFepResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing FEP-2 result:\", err);\n      setAppError(\"Fehler beim Entfernen des FEP-2 Ergebnisses.\");\n    }\n  };\n  const handleAddScl90rResult = async result => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const newResultToSave = {\n      rawScores: result.rawScores,\n      tScores: result.tScores,\n      globalScores: result.globalScores,\n      itemScores: result.itemScores,\n      // Das entscheidende Feld, das fehlte\n      date: result.date // Behalten Sie das ursprüngliche Datum für die Anzeige bei\n    };\n\n    // Fügen Sie das neue, explizit erstellte Ergebnisobjekt zum Array hinzu\n    const updatedScl90rResults = [...(selectedPatient.scl90rResults || []), newResultToSave];\n\n    // Sortieren Sie die Ergebnisse nach Datum, damit das Neueste oben steht\n    updatedScl90rResults.sort((a, b) => new Date(b.date) - new Date(a.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        scl90rResults: updatedScl90rResults\n      }, {\n        merge: true\n      });\n      console.log(\"SCL-90-R-Ergebnis erfolgreich gespeichert mit itemScores.\");\n    } catch (err) {\n      console.error(\"Error adding SCL-90-R result:\", err);\n      setAppError(\"Fehler beim Speichern des SCL-90-R Ergebnisses.\");\n    }\n  };\n  const handleRemoveScl90rResult = async dateToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n\n    // Filtern Sie das Array, um das Ergebnis mit dem übereinstimmenden Datum zu entfernen\n    const updatedScl90rResults = selectedPatient.scl90rResults.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        scl90rResults: updatedScl90rResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing SCL-90-R result:\", err);\n      setAppError(\"Fehler beim Entfernen des SCL-90-R Ergebnisses.\");\n    }\n  };\n  const fetchSessionSummary = async (sessionNotes, sessionIndex) => {\n    setSessionSummaries(prev => ({\n      ...prev,\n      [sessionIndex]: {\n        ...prev[sessionIndex],\n        isLoading: true,\n        error: null\n      }\n    }));\n    const prompt = `Fasse die folgenden Therapiesitzungsnotizen prägnant zusammen. Konzentriere dich auf die wichtigsten Themen, Interventionen und den Fortschritt des Patienten:\\n\\n\"${sessionNotes}\"`;\n    try {\n      const summary = await generateGeminiText(prompt);\n      setSessionSummaries(prev => ({\n        ...prev,\n        [sessionIndex]: {\n          summary: summary,\n          isLoading: false,\n          error: null\n        }\n      }));\n    } catch (e) {\n      setSessionSummaries(prev => ({\n        ...prev,\n        [sessionIndex]: {\n          ...prev[sessionIndex],\n          isLoading: false,\n          error: e.message\n        }\n      }));\n      setAppError(`Fehler bei der Zusammenfassung: ${e.message}`);\n    }\n  };\n  const handleKrankheitsmodellChange = async (fieldName, value) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        [fieldName]: value\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(`Error updating ${fieldName}:`, err);\n      setAppError(`Fehler beim Speichern von ${fieldName}.`);\n    }\n  };\n  const handleTherapeutischeAssistenzAnfordern = async () => {\n    if (!selectedPatient) {\n      setAssistenzError(\"Bitte wählen Sie zuerst einen Patienten aus.\");\n      return;\n    }\n    setIsLoadingTherapeutischeAssistenz(true);\n    setTherapeutischeAssistenzOutput(\"\");\n    setAssistenzError(null);\n    const patientenDatenText = `\nHier sind die relevanten Patientendaten:\n\n**Krankheitsanamnese:**\n${selectedPatient.krankheitsanamnese || \"Keine Angaben.\"}\n\n**Lebensgeschichte/Biografie:**\n${selectedPatient.lebensgeschichte || \"Keine Angaben.\"}\n\n**Problemanalyse auf Makroebene:**\n${selectedPatient.problemanalyseMakro || \"Keine Angaben.\"}\n\n**Therapieplanung (bisherig):**\n${selectedPatient.therapieplan || \"Keine Angaben.\"}\n\n**Verlaufsdokumentation (Sitzungsnotizen):**\n${(selectedPatient.sessions || []).map((s, i) => `Sitzung ${i + 1} (${new Date(s.date).toLocaleDateString('de-DE')}): ${s.notes}`).join(\"\\n\\n\") || \"Keine Sitzungsnotizen vorhanden.\"}\n\n**Diagnosen:**\n${(selectedPatient.diagnoses || []).join(\", \") || \"Keine Diagnosen erfasst.\"}\n\n**Genehmigte Stunden:** ${selectedPatient.approvedHours}\n**Durchgeführte Stunden:** ${selectedPatient.conductedHours}\n    `;\n    const systemPrompt = `Du bist ein interdisziplinäres Expertenteam, bestehend aus erfahrenen Verhaltenstherapeuten wie Jürgen Margraf, Dr. Stavemann, Aaron T. Beck, Judith Beck und Jonathan S. Abramowitz sowie aus leitenden Chefärzten und Psychiatern wie Prof. Dr. Mathias Berger. Das Team verfügt über exzellente Fachkompetenz in der evidenzbasierten psychotherapeutischen Praxis und legt besonderen Wert auf präzise medizinische Dokumentation sowie therapeutische Qualität. Darüber hinaus gehören auch international anerkannte Experten wie David H. Barlow, Stefan G. Hofmann und Steven Hayes zum Team. Du verfügst über tiefgehendes Wissen in Ansätzen der sogenannten „dritten Welle“ der Verhaltenstherapie, insbesondere in ACT, Schematherapie und DBT.\n\nDeine Aufgabe ist es, auf Grundlage folgender Elemente, welche du aus den bereitgestellten Patientendaten entnimmst:\n- Krankheitsanamnese\n- Lebensgeschichte/Biografie\n- Problemanalyse auf Makroebene\n- Therapieplanung (bisherig)\n- Verlaufsdokumentation (Sitzungsnotizen)\n\neine strukturierte Rückmeldung zu geben mit dem Ziel:\n1. Wesentliche Schwerpunkte in der weiteren Therapieplanung zu identifizieren.\n2. Konkrete Interventionsideen zu formulieren, orientiert an den zugelassenen Stunden.\n3. Hinweise zu geben, worauf in der Strukturierung der Sitzungen geachtet werden sollte (z.B. Themenfokus, Symptomschwere, Therapiezielorientierung).\n\nBerücksichtige dabei:\n• Die begrenzte Anzahl genehmigter Stunden.\n• Dass Themen nicht zu häufig gewechselt werden sollen.\n• Die Konsistenz und Nachvollziehbarkeit im Verlauf.\n\nBitte plane deine Analyse gründlich und reflektiert. Handle in Etappen:\n1. Diagnostische Schwerpunkte benennen\n2. Therapieziele definieren\n3. Interventionsvorschläge machen\n4. Hinweise zur Dokumentation geben\n\nAtme einmal tief ein und aus und nehme dir Zeit für die Aufgabe. Mache bitte weiter, bis das Problem vollständig gelöst ist. Planen bitte ausführlich vor jeder Aktion.\n\nHier sind die Daten des aktuellen Falls:\n${patientenDatenText}\n\nBitte gib deine strukturierte Rückmeldung.`;\n    try {\n      const assistenz = await generateGeminiText(systemPrompt);\n      setTherapeutischeAssistenzOutput(assistenz);\n    } catch (e) {\n      setAssistenzError(`Fehler bei der Anforderung der therapeutischen Assistenz: ${e.message}`);\n    } finally {\n      setIsLoadingTherapeutischeAssistenz(false);\n    }\n  };\n\n  // In App.js\n\n  const showDiagnosisInfo = diagnosisString => {\n    console.log(\"Zeige Info für:\", diagnosisString); // Debug-Ausgabe\n\n    const sicherheitMatch = diagnosisString.match(/^\\[([AVGZN]+)\\]\\s*/i);\n    const sicherheit = sicherheitMatch ? sicherheitMatch[1].toUpperCase() : '';\n    const codeAndName = sicherheitMatch ? diagnosisString.substring(sicherheitMatch[0].length) : diagnosisString;\n    const codeMatch = codeAndName.match(/^([A-Z][0-9]{1,2}(\\.[0-9A-Z]{1,2})?[*†]?)/i);\n    const code = codeMatch ? codeMatch[0].toUpperCase() : codeAndName.split(':')[0].trim().toUpperCase();\n    console.log(\"Suche nach Code:\", code); // Debug-Ausgabe\n    const localData = findIcd10CodeLocal(code);\n    console.log(\"Gefundene Daten:\", localData); // Debug-Ausgabe\n\n    if (localData) {\n      setDiagnosisInfo({\n        code: localData.code || code,\n        name: localData.name || '',\n        beschreibung: localData.beschreibung || localData.beschreibung_kategorie || '',\n        inkl: localData.inkl || [],\n        exkl: localData.exkl || [],\n        hinweise: localData.hinweise || [],\n        zusatz_info_code: localData.zusatz_info_code || '',\n        sicherheit: sicherheit,\n        isLoading: false,\n        error: null,\n        isOpen: true,\n        source: 'local'\n      });\n    } else {\n      setDiagnosisInfo({\n        code: code,\n        name: \"Unbekannter ICD-10 Code\",\n        isLoading: false,\n        error: `Für den ICD-10 Code \"${code}\" wurden keine Informationen in der lokalen Datenbank gefunden.`,\n        isOpen: true,\n        source: 'error'\n      });\n    }\n  };\n  const fetchIcd11Details = async diagnosis => {\n    if (!diagnosis || !diagnosis.uri) {\n      setAppError(\"Keine gültige URI für die ICD-11 Diagnose vorhanden.\");\n      return;\n    }\n    const {\n      code,\n      title,\n      uri\n    } = diagnosis;\n    setDiagnosisInfo({\n      code: code,\n      name: title,\n      isLoading: true,\n      error: null,\n      isOpen: true,\n      source: 'api'\n    });\n    try {\n      var _fullData$title, _fullData$definition;\n      const response = await fetch(`http://localhost:3001/api/icd11-info?uri=${encodeURIComponent(uri)}`);\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'API-Anfrage fehlgeschlagen');\n      }\n      const fullData = await response.json();\n      setDiagnosisInfo({\n        code: fullData.code || code,\n        name: ((_fullData$title = fullData.title) === null || _fullData$title === void 0 ? void 0 : _fullData$title['@value']) || title,\n        beschreibung: ((_fullData$definition = fullData.definition) === null || _fullData$definition === void 0 ? void 0 : _fullData$definition['@value']) || '',\n        diagnosticCriteria: fullData.diagnosticCriteria,\n        inclusions: fullData.inclusion,\n        exclusions: fullData.exclusion,\n        isLoading: false,\n        error: null,\n        isOpen: true,\n        source: 'api_detail'\n      });\n    } catch (error) {\n      console.error('Fehler beim Abrufen der ICD-11 Details:', error);\n      setDiagnosisInfo({\n        code: code,\n        isLoading: false,\n        error: `Konnte Informationen für ${code} nicht laden: ${error.message}`,\n        isOpen: true,\n        source: 'api'\n      });\n    }\n  };\n  const handleAssignIcd11Diagnosis = async (patientId, icd11Entity) => {\n    if (!patientId || !icd11Entity || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const patientRef = doc(db, collectionPath, patientId);\n    const targetPatient = patients.find(p => p.id === patientId);\n    if (!targetPatient) {\n      setAppError(\"Ziel-Patient konnte nicht gefunden werden.\");\n      return;\n    }\n    const newDiagnosis = {\n      code: icd11Entity.code,\n      title: icd11Entity.selectedText,\n      uri: icd11Entity.linearizationUri || icd11Entity.foundationUri,\n      date: new Date().toISOString()\n    };\n    const updatedDiagnoses = [...(targetPatient.diagnoses_icd11 || []), newDiagnosis];\n    try {\n      await setDoc(patientRef, {\n        diagnoses_icd11: updatedDiagnoses\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error assigning ICD-11 diagnosis:\", err);\n      setAppError(\"Fehler beim Zuweisen der ICD-11 Diagnose.\");\n    }\n  };\n  const handleRemoveIcd11Diagnosis = async diagnosisToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedDiagnoses = selectedPatient.diagnoses_icd11.filter(d => d.date !== diagnosisToRemove.date);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        diagnoses_icd11: updatedDiagnoses\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing ICD-11 diagnosis:\", err);\n      setAppError(\"Fehler beim Entfernen der ICD-11 Diagnose.\");\n    }\n  };\n  const totalApprovedHours = patients.reduce((sum, p) => sum + (p.approvedHours || 0), 0);\n  const totalConductedHours = patients.reduce((sum, p) => sum + (p.conductedHours || 0), 0);\n  const overallProgressTarget = 600;\n  const overallProgress = overallProgressTarget > 0 ? totalConductedHours / overallProgressTarget * 100 : 0;\n  const inputStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\";\n  const btnPrimary = \"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm flex items-center justify-center\";\n  const btnDanger = \"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md flex items-center\";\n  const btnInfo = \"bg-sky-500 hover:bg-sky-600 text-white font-semibold py-1 px-2 text-xs rounded-md flex items-center\";\n  const textareaStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm min-h-[150px]\";\n  if (!isAuthReady) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center h-screen text-xl font-semibold text-gray-700\",\n    children: \"Authentifizierung wird initialisiert...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 888,\n    columnNumber: 30\n  }, this);\n  if (!userId) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 flex flex-col justify-center items-center p-4\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-xl shadow-2xl w-full max-w-md\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-center text-indigo-600 mb-8\",\n          children: isLoginView ? \"Login Patientenverwaltung\" : \"Registrierung\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 890,\n          columnNumber: 219\n        }, this), authError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-sm\",\n          children: authError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 890,\n          columnNumber: 367\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => {\n            e.preventDefault();\n            handleAuthAction(isRegistering);\n          },\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"E-Mail Adresse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 890,\n              columnNumber: 558\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              id: \"email\",\n              required: true,\n              value: email,\n              onChange: e => setEmail(e.target.value),\n              className: inputStd\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 890,\n              columnNumber: 655\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 890,\n            columnNumber: 553\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"Passwort\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 890,\n              columnNumber: 799\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              id: \"password\",\n              required: true,\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              className: inputStd\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 890,\n              columnNumber: 893\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 890,\n            columnNumber: 794\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: isAuthLoading,\n            className: `${btnPrimary} w-full py-3 text-base ${isAuthLoading ? 'opacity-50 cursor-not-allowed' : ''}`,\n            children: isAuthLoading ? isLoginView ? \"Anmelden...\" : \"Registrieren...\" : isLoginView ? \"Anmelden\" : \"Registrieren\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 890,\n            columnNumber: 1047\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 890,\n          columnNumber: 450\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setIsLoginView(!isLoginView);\n            setAuthError(null);\n          },\n          className: \"mt-6 text-sm text-indigo-600 hover:text-indigo-500 text-center w-full\",\n          children: isLoginView ? \"Noch kein Konto? Jetzt registrieren.\" : \"Bereits registriert? Zum Login.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 890,\n          columnNumber: 1329\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 890,\n        columnNumber: 150\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 890,\n      columnNumber: 29\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-indigo-700 text-white shadow-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold tracking-tight\",\n          children: \"Therapie-Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 896,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [userId && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs opacity-75 hidden sm:block\",\n            children: [\"UserID: \", userId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 898,\n            columnNumber: 36\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md text-sm flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(LogOut, {\n              className: \"mr-2 h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 900,\n              columnNumber: 29\n            }, this), \" Logout\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 899,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 897,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 895,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 894,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"container mx-auto p-4 sm:p-6 lg:p-8\",\n      children: [/*#__PURE__*/_jsxDEV(ConfirmationModal, {\n        isOpen: isConfirmDeleteModalOpen,\n        onClose: () => setIsConfirmDeleteModalOpen(false),\n        onConfirm: confirmDeletePatient,\n        title: \"Patient l\\xF6schen\",\n        message: \"M\\xF6chten Sie diesen Patienten wirklich l\\xF6schen? Diese Aktion kann nicht r\\xFCckg\\xE4ngig gemacht werden.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 908,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: isPatientModalOpen,\n        onClose: () => setIsPatientModalOpen(false),\n        title: editingPatient ? \"Patient bearbeiten\" : \"Neuen Patienten anlegen\",\n        children: /*#__PURE__*/_jsxDEV(PatientForm, {\n          patient: editingPatient,\n          onSave: handleSavePatient,\n          onCancel: () => setIsPatientModalOpen(false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 922,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 917,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 border-b border-gray-300\",\n        children: /*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"flex space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setMainView('patients'),\n            className: `py-3 px-4 font-medium text-lg rounded-t-lg ${mainView === 'patients' ? 'bg-white text-indigo-700 shadow-md' : 'bg-transparent text-gray-500 hover:text-indigo-600'}`,\n            children: \"Patientenverwaltung\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 930,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setMainView('icd11'),\n            className: `py-3 px-4 font-medium text-lg rounded-t-lg ${mainView === 'icd11' ? 'bg-white text-indigo-700 shadow-md' : 'bg-transparent text-gray-500 hover:text-indigo-600'}`,\n            children: \"ICD-11 Nachschlagewerk\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 931,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 929,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 928,\n        columnNumber: 17\n      }, this), mainView === 'patients' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          ref: overviewRef,\n          className: \"mb-6 flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-semibold text-gray-800\",\n            children: \"Patienten\\xFCbersicht\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 938,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setEditingPatient(null);\n              setIsPatientModalOpen(true);\n            },\n            className: `${btnPrimary} py-2 px-4`,\n            children: [/*#__PURE__*/_jsxDEV(UserPlus, {\n              className: \"w-5 h-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 940,\n              columnNumber: 33\n            }, this), \" Patient hinzuf\\xFCgen\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 939,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 937,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white shadow-xl rounded-lg overflow-hidden mb-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-x-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"w-full min-w-max table-auto text-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-100 border-b border-gray-300\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: ['Name', 'Chiffre', 'Diagnosen', 'Therapie', 'Stunden', 'Fortschritt', 'Aktionen'].map(header => /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"py-3 px-4 text-sm font-semibold text-gray-600 uppercase tracking-wider\",\n                    children: header\n                  }, header, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 947,\n                    columnNumber: 196\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 947,\n                  columnNumber: 93\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 947,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                className: \"divide-y divide-gray-200\",\n                children: [patients.length === 0 && !isLoading && /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"7\",\n                    className: \"text-center py-10 text-gray-500\",\n                    children: \"Keine Patienten gefunden.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 949,\n                    columnNumber: 86\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 949,\n                  columnNumber: 82\n                }, this), patients.map(patient => {\n                  const progress = patient.approvedHours > 0 ? patient.conductedHours / patient.approvedHours * 100 : 0;\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: `hover:bg-indigo-50 cursor-pointer ${(selectedPatient === null || selectedPatient === void 0 ? void 0 : selectedPatient.id) === patient.id ? 'bg-indigo-100' : ''}`,\n                    onClick: () => {\n                      setSelectedPatient(patient);\n                      setActiveDetailTab('details');\n                      setSessionSummaries({});\n                      setTherapeutischeAssistenzOutput('');\n                      setAssistenzError(null);\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-3 px-4 whitespace-nowrap text-sm font-medium text-gray-800\",\n                      children: patient.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 954,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-3 px-4 whitespace-nowrap text-sm text-gray-600\",\n                      children: patient.chiffre\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 955,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-3 px-4 text-sm text-gray-600 max-w-xs\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex flex-col space-y-1\",\n                        children: [(patient.diagnoses || []).slice(0, 4).map((diag, idx) => {\n                          const sicherheitMatch = diag.match(/^\\[([AVGZN]+)\\]/i);\n                          const sicherheit = sicherheitMatch ? sicherheitMatch[1].toUpperCase() : '';\n                          const colorClasses = {\n                            'G': 'bg-green-100 text-green-800 hover:bg-green-200',\n                            'V': 'bg-yellow-100 text-yellow-800 hover:bg-yellow-200',\n                            'A': 'bg-red-100 text-red-800 hover:bg-red-200',\n                            'ZN': 'bg-blue-100 text-blue-800 hover:bg-blue-200'\n                          }[sicherheit] || 'bg-gray-100 text-gray-800 hover:bg-gray-200';\n                          return /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: `px-2 py-0.5 text-xs rounded-full truncate inline-block cursor-pointer ${colorClasses}`,\n                            onClick: e => {\n                              e.stopPropagation();\n                              showDiagnosisInfo(diag);\n                            },\n                            title: `Info zu ${diag} anzeigen`,\n                            children: [\" \", diag, \" \"]\n                          }, idx, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 956,\n                            columnNumber: 648\n                          }, this);\n                        }), (patient.diagnoses || []).length > 4 && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-xs text-gray-500 mt-1\",\n                          children: \"...\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 956,\n                          columnNumber: 928\n                        }, this), (patient.diagnoses || []).length === 0 && \"-\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 956,\n                        columnNumber: 110\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 956,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-3 px-4 whitespace-nowrap text-sm text-gray-600\",\n                      children: patient.therapyType\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 957,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-3 px-4 whitespace-nowrap text-sm text-gray-600 text-center\",\n                      children: `${patient.conductedHours} / ${patient.approvedHours}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 958,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-3 px-4 whitespace-nowrap\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-full bg-gray-200 rounded-full h-2.5\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: `h-2.5 rounded-full ${progress > 80 ? 'bg-red-500' : progress > 50 ? 'bg-yellow-400' : 'bg-green-500'}`,\n                          style: {\n                            width: `${Math.min(progress, 100)}%`\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 959,\n                          columnNumber: 152\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 959,\n                        columnNumber: 97\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs text-gray-500 block text-center mt-1\",\n                        children: [Math.round(progress), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 959,\n                        columnNumber: 334\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 959,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-3 px-4 whitespace-nowrap text-sm space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: e => {\n                          e.stopPropagation();\n                          setEditingPatient(patient);\n                          setIsPatientModalOpen(true);\n                        },\n                        className: \"text-indigo-600 hover:text-indigo-800 transition duration-150 p-1 rounded hover:bg-indigo-100\",\n                        title: \"Bearbeiten\",\n                        children: /*#__PURE__*/_jsxDEV(Edit3, {\n                          className: \"w-5 h-5\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 960,\n                          columnNumber: 347\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 960,\n                        columnNumber: 115\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: e => {\n                          e.stopPropagation();\n                          openDeleteConfirmation(patient.id);\n                        },\n                        className: \"text-red-500 hover:text-red-700 transition duration-150 p-1 rounded hover:bg-red-100\",\n                        title: \"L\\xF6schen\",\n                        children: /*#__PURE__*/_jsxDEV(Trash2, {\n                          className: \"w-5 h-5\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 960,\n                          columnNumber: 584\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 960,\n                        columnNumber: 385\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 960,\n                      columnNumber: 53\n                    }, this)]\n                  }, patient.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 953,\n                    columnNumber: 49\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 948,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n                className: \"bg-gray-50 border-t-2 border-gray-300\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"4\",\n                    className: \"py-3 px-4 text-sm font-semibold text-gray-700 text-right\",\n                    children: \"Gesamt:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 965,\n                    columnNumber: 98\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 text-sm font-semibold text-gray-700 text-center\",\n                    children: `${totalConductedHours} / ${totalApprovedHours}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 965,\n                    columnNumber: 195\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap\",\n                    colSpan: \"2\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs text-gray-600 mr-3 w-auto\",\n                        children: \"Fortschritt (600 Std.):\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 965,\n                        columnNumber: 415\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-full bg-gray-200 rounded-full h-2.5 flex-grow\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"bg-blue-500 h-2.5 rounded-full\",\n                          style: {\n                            width: `${Math.min(overallProgress, 100)}%`\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 965,\n                          columnNumber: 562\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 965,\n                        columnNumber: 497\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs text-gray-600 ml-2\",\n                        children: [Math.round(overallProgress), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 965,\n                        columnNumber: 678\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 965,\n                      columnNumber: 380\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 965,\n                    columnNumber: 324\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 965,\n                  columnNumber: 94\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 965,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 946,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 945,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 944,\n          columnNumber: 25\n        }, this), selectedPatient && /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: detailViewRef,\n          className: \"bg-white shadow-xl rounded-lg p-6 mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-2xl font-semibold text-indigo-700\",\n              children: selectedPatient.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 972,\n              columnNumber: 89\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                if (overviewRef.current) {\n                  overviewRef.current.scrollIntoView({\n                    behavior: 'smooth'\n                  });\n                }\n                setTimeout(() => {\n                  setSelectedPatient(null);\n                  setSessionSummaries({});\n                  setTherapeutischeAssistenzOutput('');\n                  setAssistenzError(null);\n                }, 300);\n              },\n              className: \"text-gray-500 hover:text-gray-700\",\n              children: /*#__PURE__*/_jsxDEV(XCircle, {\n                className: \"w-7 h-7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 972,\n                columnNumber: 475\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 972,\n              columnNumber: 171\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 972,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-b border-gray-200 mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"nav\", {\n              className: \"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto\",\n              \"aria-label\": \"Tabs\",\n              children: ['details', 'krankheitsmodell', 'diagnostik', 'assistenz'].map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveDetailTab(tab),\n                className: `whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${activeDetailTab === tab ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n                children: [tab === 'details' && 'Stammdaten & Sitzungen', tab === 'krankheitsmodell' && 'Krankheitsmodell', tab === 'diagnostik' && 'Diagnostik', tab === 'assistenz' && 'Therap. Assistenz']\n              }, tab, true, {\n                fileName: _jsxFileName,\n                lineNumber: 973,\n                columnNumber: 238\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 973,\n              columnNumber: 80\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 973,\n            columnNumber: 33\n          }, this), activeDetailTab === 'details' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: \"Chiffre\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 978,\n                  columnNumber: 18\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg text-gray-800\",\n                  children: selectedPatient.chiffre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 978,\n                  columnNumber: 66\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 978,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: \"Therapieform\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 979,\n                  columnNumber: 18\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg text-gray-800\",\n                  children: selectedPatient.therapyType\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 979,\n                  columnNumber: 71\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 979,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: \"Genehmigte Stunden\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 980,\n                  columnNumber: 18\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg text-gray-800\",\n                  children: selectedPatient.approvedHours\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 980,\n                  columnNumber: 77\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 980,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"conductedHoursDetail\",\n                  className: \"block text-sm font-medium text-gray-500\",\n                  children: \"Durchgef\\xFChrte Stunden\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 982,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center mt-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    id: \"conductedHoursDetail\",\n                    value: editableConductedHours,\n                    onChange: e => setEditableConductedHours(e.target.value),\n                    onBlur: e => {\n                      let finalHours = parseInt(e.target.value, 10);\n                      if (isNaN(finalHours) || finalHours < 0) {\n                        finalHours = 0;\n                      } else if (selectedPatient && finalHours > selectedPatient.approvedHours) {\n                        finalHours = selectedPatient.approvedHours;\n                      }\n                      setEditableConductedHours(String(finalHours));\n                      if (selectedPatient) {\n                        handleUpdateConductedHours(selectedPatient.id, finalHours);\n                      }\n                    },\n                    min: \"0\",\n                    max: selectedPatient ? selectedPatient.approvedHours : undefined,\n                    className: `${inputStd} w-24`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 984,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-2 text-sm text-gray-600\",\n                    children: [\"/ \", selectedPatient.approvedHours]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 985,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 983,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 981,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 977,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-xl font-semibold text-gray-700 mb-3\",\n                children: \"ICD-10 F-Diagnosen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 990,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3 p-4 bg-gray-50 rounded-md\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"newDiagnosisCode\",\n                      className: \"block text-xs font-medium text-gray-700\",\n                      children: \"Code (z.B. F32.2)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 991,\n                      columnNumber: 131\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      id: \"newDiagnosisCode\",\n                      value: newDiagnosisCode,\n                      onChange: e => setNewDiagnosisCode(e.target.value.toUpperCase()),\n                      placeholder: \"F-Code\",\n                      className: `${inputStd} mt-1`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 991,\n                      columnNumber: 242\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 991,\n                    columnNumber: 126\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"newDiagnosisSicherheit\",\n                      className: \"block text-xs font-medium text-gray-700\",\n                      children: \"Sicherheit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 991,\n                      columnNumber: 440\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      id: \"newDiagnosisSicherheit\",\n                      value: newDiagnosisSicherheit,\n                      onChange: e => setNewDiagnosisSicherheit(e.target.value),\n                      className: `${inputStd} mt-1`,\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"G\",\n                        children: \"G (Gesichert)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 991,\n                        columnNumber: 708\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"V\",\n                        children: \"V (Verdacht auf)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 991,\n                        columnNumber: 748\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"A\",\n                        children: \"A (Ausschluss)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 991,\n                        columnNumber: 791\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"ZN\",\n                        children: \"ZN (Zustand nach)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 991,\n                        columnNumber: 832\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 991,\n                      columnNumber: 550\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 991,\n                    columnNumber: 435\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"md:col-span-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"newDiagnosisName\",\n                      className: \"block text-xs font-medium text-gray-700\",\n                      children: \"Manuelle Beschreibung (optional)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 991,\n                      columnNumber: 923\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      id: \"newDiagnosisName\",\n                      value: newDiagnosis,\n                      onChange: e => setNewDiagnosis(e.target.value),\n                      placeholder: \"Eigene Beschreibung\",\n                      className: `${inputStd} mt-1`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 991,\n                      columnNumber: 1049\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 991,\n                    columnNumber: 892\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleAddDiagnosis,\n                    className: `${btnPrimary} bg-green-500 hover:bg-green-600 py-2 px-3 h-10 md:self-end`,\n                    children: [/*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n                      className: \"w-5 h-5 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 991,\n                      columnNumber: 1357\n                    }, this), \" Hinzuf\\xFCgen\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 991,\n                    columnNumber: 1233\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 991,\n                  columnNumber: 61\n                }, this), lookedUpDiagnosisName && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-indigo-600 mt-1\",\n                  children: [\"Gefunden: \", lookedUpDiagnosisName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 991,\n                  columnNumber: 1452\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 991,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"space-y-1 mb-3\",\n                children: [(selectedPatient.diagnoses || []).map((diagString, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex justify-between items-center bg-gray-50 p-2 rounded-md\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-gray-700\",\n                    children: diagString\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 993,\n                    columnNumber: 169\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => showDiagnosisInfo(diagString),\n                      className: `${btnInfo} p-1`,\n                      title: \"Info zu dieser Diagnose abrufen\",\n                      children: [/*#__PURE__*/_jsxDEV(FileJson2, {\n                        className: \"w-4 h-4 mr-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 993,\n                        columnNumber: 396\n                      }, this), \" Info\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 993,\n                      columnNumber: 273\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleRemoveDiagnosis(diagString),\n                      className: `${btnDanger} p-1 text-xs`,\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        className: \"w-4 h-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 993,\n                        columnNumber: 544\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 993,\n                      columnNumber: 447\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 993,\n                    columnNumber: 228\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 993,\n                  columnNumber: 81\n                }, this)), (selectedPatient.diagnoses || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: \"Keine Diagnosen erfasst.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 994,\n                  columnNumber: 68\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 992,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 989,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-xl font-semibold text-gray-700 mb-3\",\n                children: \"ICD-11 Diagnosen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 998,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"space-y-1\",\n                children: [(selectedPatient.diagnoses_icd11 || []).map((diag, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex justify-between items-center bg-purple-50 p-2 rounded-md hover:bg-purple-100 cursor-pointer\",\n                  onClick: () => fetchIcd11Details(diag),\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-purple-800\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      className: \"font-mono\",\n                      children: diag.code\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1000,\n                      columnNumber: 287\n                    }, this), \" - \", diag.title]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1000,\n                    columnNumber: 245\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: e => {\n                      e.stopPropagation();\n                      handleRemoveIcd11Diagnosis(diag);\n                    },\n                    className: \"text-red-500 hover:text-red-700 p-1 text-xs\",\n                    title: \"ICD-11 Diagnose entfernen\",\n                    children: /*#__PURE__*/_jsxDEV(Trash2, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1000,\n                      columnNumber: 533\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1000,\n                    columnNumber: 359\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1000,\n                  columnNumber: 80\n                }, this)), (selectedPatient.diagnoses_icd11 || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: \"Keine ICD-11 Diagnosen erfasst.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1001,\n                  columnNumber: 74\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 999,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 997,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-xl font-semibold text-gray-700 mb-3\",\n                children: \"Sitzungsdokumentation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1005,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 p-4 rounded-lg mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"sessionDate\",\n                      className: \"block text-sm font-medium text-gray-700\",\n                      children: \"Datum\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1008,\n                      columnNumber: 26\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"date\",\n                      id: \"sessionDate\",\n                      value: newSessionDate,\n                      onChange: e => setNewSessionDate(e.target.value),\n                      className: inputStd\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1008,\n                      columnNumber: 120\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1008,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"md:col-span-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"sessionNotes\",\n                      className: \"block text-sm font-medium text-gray-700\",\n                      children: \"Notizen\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1009,\n                      columnNumber: 52\n                    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                      id: \"sessionNotes\",\n                      value: newSessionNotes,\n                      onChange: e => setNewSessionNotes(e.target.value),\n                      rows: \"3\",\n                      placeholder: \"Sitzungsnotizen...\",\n                      className: inputStd\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1009,\n                      columnNumber: 149\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1009,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1007,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleAddSession,\n                  className: `${btnPrimary} bg-blue-500 hover:bg-blue-600`,\n                  children: [/*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n                    className: \"w-5 h-5 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1011,\n                    columnNumber: 110\n                  }, this), \" Sitzung hinzuf\\xFCgen\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1011,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1006,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-md font-semibold text-gray-600 mb-2\",\n                children: \"Protokollierte Sitzungen:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1013,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3 max-h-96 overflow-y-auto pr-2\",\n                children: [(selectedPatient.sessions || []).map((session, index) => {\n                  var _sessionSummaries$ind, _sessionSummaries$ind2, _sessionSummaries$ind3, _sessionSummaries$ind4, _sessionSummaries$ind5;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-white border border-gray-200 p-3 rounded-md shadow-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-start\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm font-semibold text-gray-700\",\n                        children: [\"Datum: \", new Date(session.date).toLocaleDateString('de-DE')]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1018,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => fetchSessionSummary(session.notes, index),\n                        disabled: (_sessionSummaries$ind = sessionSummaries[index]) === null || _sessionSummaries$ind === void 0 ? void 0 : _sessionSummaries$ind.isLoading,\n                        className: `${btnInfo} text-xs`,\n                        title: \"Sitzungsnotizen zusammenfassen\",\n                        children: (_sessionSummaries$ind2 = sessionSummaries[index]) !== null && _sessionSummaries$ind2 !== void 0 && _sessionSummaries$ind2.isLoading ? 'Lädt...' : '✨ Zusammenf.'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1019,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1017,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600 whitespace-pre-wrap mt-1\",\n                      children: session.notes\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1021,\n                      columnNumber: 25\n                    }, this), ((_sessionSummaries$ind3 = sessionSummaries[index]) === null || _sessionSummaries$ind3 === void 0 ? void 0 : _sessionSummaries$ind3.summary) && !((_sessionSummaries$ind4 = sessionSummaries[index]) !== null && _sessionSummaries$ind4 !== void 0 && _sessionSummaries$ind4.isLoading) && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-2 p-2 bg-sky-50 border border-sky-200 rounded-md text-sm text-sky-700\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"font-semibold\",\n                        children: \"Zusammenfassung:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1022,\n                        columnNumber: 192\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"whitespace-pre-wrap\",\n                        children: sessionSummaries[index].summary\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1022,\n                        columnNumber: 241\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1022,\n                      columnNumber: 102\n                    }, this), ((_sessionSummaries$ind5 = sessionSummaries[index]) === null || _sessionSummaries$ind5 === void 0 ? void 0 : _sessionSummaries$ind5.error) && /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"mt-2 text-xs text-red-500\",\n                      children: [\"Fehler bei Zusammenfassung: \", sessionSummaries[index].error]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1023,\n                      columnNumber: 61\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1016,\n                    columnNumber: 21\n                  }, this);\n                }), (selectedPatient.sessions || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: \"Keine Sitzungen dokumentiert.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1026,\n                  columnNumber: 67\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1014,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1004,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 976,\n            columnNumber: 5\n          }, this), activeDetailTab === 'krankheitsmodell' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"krankheitsanamnese\",\n                className: \"block text-lg font-semibold text-gray-700 mb-1\",\n                children: \"Krankheitsanamnese\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1031,\n                columnNumber: 110\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                id: \"krankheitsanamnese\",\n                name: \"krankheitsanamnese\",\n                rows: \"6\",\n                className: textareaStd,\n                value: editableKrankheitsanamnese,\n                onChange: e => setEditableKrankheitsanamnese(e.target.value),\n                onBlur: e => handleKrankheitsmodellChange('krankheitsanamnese', e.target.value),\n                placeholder: \"Hier die Krankheitsanamnese eintragen...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1031,\n                columnNumber: 231\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1031,\n              columnNumber: 105\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"lebensgeschichte\",\n                className: \"block text-lg font-semibold text-gray-700 mb-1\",\n                children: \"Lebensgeschichte / Biographie\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1031,\n                columnNumber: 583\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                id: \"lebensgeschichte\",\n                name: \"lebensgeschichte\",\n                rows: \"6\",\n                className: textareaStd,\n                value: editableLebensgeschichte,\n                onChange: e => setEditableLebensgeschichte(e.target.value),\n                onBlur: e => handleKrankheitsmodellChange('lebensgeschichte', e.target.value),\n                placeholder: \"Wichtige Aspekte der Lebensgeschichte...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1031,\n                columnNumber: 713\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1031,\n              columnNumber: 578\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"problemanalyseMakro\",\n                className: \"block text-lg font-semibold text-gray-700 mb-1\",\n                children: \"Problemanalyse auf Makroebene\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1031,\n                columnNumber: 1055\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                id: \"problemanalyseMakro\",\n                name: \"problemanalyseMakro\",\n                rows: \"6\",\n                className: textareaStd,\n                value: editableProblemanalyseMakro,\n                onChange: e => setEditableProblemanalyseMakro(e.target.value),\n                onBlur: e => handleKrankheitsmodellChange('problemanalyseMakro', e.target.value),\n                placeholder: \"Analyse der \\xFCbergeordneten Problembereiche...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1031,\n                columnNumber: 1188\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1031,\n              columnNumber: 1050\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"therapieplan\",\n                className: \"block text-lg font-semibold text-gray-700 mb-1\",\n                children: \"Therapieplan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1031,\n                columnNumber: 1550\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                id: \"therapieplan\",\n                name: \"therapieplan\",\n                rows: \"6\",\n                className: textareaStd,\n                value: editableTherapieplan,\n                onChange: e => setEditableTherapieplan(e.target.value),\n                onBlur: e => handleKrankheitsmodellChange('therapieplan', e.target.value),\n                placeholder: \"Therapieziele und -ma\\xDFnahmen...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1031,\n                columnNumber: 1659\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1031,\n              columnNumber: 1545\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1031,\n            columnNumber: 78\n          }, this), activeDetailTab === 'diagnostik' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-b border-gray-200 mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"nav\", {\n                className: \"-mb-px flex space-x-6\",\n                \"aria-label\": \"Diagnostik Sub-Tabs\",\n                children: ['scl90r', 'fep2', 'bdi2', 'hscl11'].map(subTab => /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setActiveDiagnostikSubTab(subTab),\n                  className: `whitespace-nowrap pb-2 px-1 border-b-2 font-medium text-sm ${activeDiagnostikSubTab === subTab ? 'border-purple-500 text-purple-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n                  children: subTab.toUpperCase()\n                }, subTab, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1032,\n                  columnNumber: 248\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1032,\n                columnNumber: 123\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1032,\n              columnNumber: 76\n            }, this), activeDiagnostikSubTab === 'scl90r' && /*#__PURE__*/_jsxDEV(SCL90RComponent, {\n              patient: selectedPatient,\n              onSaveResult: handleAddScl90rResult,\n              onDeleteResult: handleRemoveScl90rResult\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1032,\n              columnNumber: 634\n            }, this), activeDiagnostikSubTab === 'fep2' && /*#__PURE__*/_jsxDEV(FEP2Component, {\n              patient: selectedPatient,\n              onSaveResult: handleAddFepResult,\n              onDeleteResult: handleRemoveFepResult,\n              setAppError: setAppError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1032,\n              columnNumber: 801\n            }, this), activeDiagnostikSubTab === 'bdi2' && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-xl font-semibold text-gray-700 mb-4\",\n                children: \"BDI-II Ergebnisse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1032,\n                columnNumber: 991\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 p-4 rounded-lg mb-6 shadow\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"text-md font-semibold text-gray-600 mb-3\",\n                  children: \"Neues BDI-II Ergebnis\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1032,\n                  columnNumber: 1125\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3 items-end\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"bdiDate\",\n                      className: \"block text-sm font-medium text-gray-700\",\n                      children: \"Datum\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 1283\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"date\",\n                      id: \"bdiDate\",\n                      value: newBdiDate,\n                      onChange: e => setNewBdiDate(e.target.value),\n                      className: inputStd\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 1373\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1032,\n                    columnNumber: 1278\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"bdiScore\",\n                      className: \"block text-sm font-medium text-gray-700\",\n                      children: \"BDI-II Wert (0-63)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 1506\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      id: \"bdiScore\",\n                      value: newBdiScore,\n                      onChange: e => setNewBdiScore(e.target.value),\n                      min: \"0\",\n                      max: \"63\",\n                      className: inputStd\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 1610\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1032,\n                    columnNumber: 1501\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleAddBdiResult,\n                    className: `${btnPrimary} h-10`,\n                    children: [/*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n                      className: \"w-5 h-5 mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 1830\n                    }, this), \" Speichern\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1032,\n                    columnNumber: 1760\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1032,\n                  columnNumber: 1208\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1032,\n                columnNumber: 1070\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"text-md font-semibold text-gray-600 mb-2\",\n                  children: \"Protokollierte BDI-II Ergebnisse:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1032,\n                  columnNumber: 1926\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"space-y-2\",\n                  children: [(selectedPatient.bdi2Results || []).map((result, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"flex justify-between items-center bg-white border p-3 rounded-md shadow-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium\",\n                        children: new Date(result.date).toLocaleDateString('de-DE')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 2217\n                      }, this), \": \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-gray-700\",\n                        children: [\"Score \", result.score]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 2307\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 2212\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleRemoveBdiResult(result.date),\n                      className: `${btnDanger} p-1 text-xs`,\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        className: \"w-4 h-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 2470\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 2372\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1032,\n                    columnNumber: 2109\n                  }, this)), (selectedPatient.bdi2Results || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500\",\n                    children: \"Keine BDI-II Ergebnisse erfasst.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1032,\n                    columnNumber: 2570\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1032,\n                  columnNumber: 2021\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1032,\n                columnNumber: 1904\n              }, this), (selectedPatient.bdi2Results || []).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"text-md font-semibold text-gray-600 mb-3\",\n                  children: \"Verlaufsgraph BDI-II\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1032,\n                  columnNumber: 2712\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white p-4 rounded-lg shadow\",\n                  style: {\n                    height: '400px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                    width: \"100%\",\n                    height: \"100%\",\n                    children: /*#__PURE__*/_jsxDEV(LineChart, {\n                      data: (selectedPatient.bdi2Results || []).map(r => ({\n                        ...r,\n                        date: new Date(r.date).toLocaleDateString('de-DE')\n                      })),\n                      margin: {\n                        top: 5,\n                        right: 30,\n                        left: 0,\n                        bottom: 20\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                        strokeDasharray: \"3 3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 3095\n                      }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                        dataKey: \"date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 3134\n                      }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                        domain: [0, 63],\n                        ticks: bdiAxisTicks,\n                        allowDataOverflow: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 3158\n                      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 3229\n                      }, this), /*#__PURE__*/_jsxDEV(Legend, {\n                        verticalAlign: \"top\",\n                        height: 36\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 3240\n                      }, this), bdiCutoffs.map(cutoff => /*#__PURE__*/_jsxDEV(ReferenceArea, {\n                        y1: cutoff.y1,\n                        y2: cutoff.y2,\n                        fill: cutoff.color,\n                        strokeOpacity: 0.3,\n                        label: /*#__PURE__*/_jsxDEV(CustomBdiLabel, {\n                          text: cutoff.label,\n                          y: cutoff.y2 - (cutoff.y2 - cutoff.y1) / 2\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1032,\n                          columnNumber: 3420\n                        }, this)\n                      }, cutoff.label, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 3309\n                      }, this)), /*#__PURE__*/_jsxDEV(Line, {\n                        type: \"monotone\",\n                        dataKey: \"score\",\n                        name: \"BDI-II Score\",\n                        stroke: \"#3b82f6\",\n                        strokeWidth: 2,\n                        activeDot: {\n                          r: 8\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 3506\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 2918\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1032,\n                    columnNumber: 2870\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1032,\n                  columnNumber: 2794\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1032,\n                columnNumber: 2707\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1032,\n              columnNumber: 986\n            }, this), activeDiagnostikSubTab === 'hscl11' && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-xl font-semibold text-gray-700 mb-4\",\n                children: \"HSCL-11 Ergebnisse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1032,\n                columnNumber: 3723\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 p-4 rounded-lg mb-6 shadow\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"text-md font-semibold text-gray-600 mb-3\",\n                  children: \"Neues HSCL-11 Ergebnis\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1032,\n                  columnNumber: 3858\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-3 items-end\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"hsclDate\",\n                      className: \"block text-sm font-medium text-gray-700\",\n                      children: \"Datum\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 4017\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"date\",\n                      id: \"hsclDate\",\n                      value: newHsclDate,\n                      onChange: e => setNewHsclDate(e.target.value),\n                      className: inputStd\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 4108\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1032,\n                    columnNumber: 4012\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"hsclAngst\",\n                      className: \"block text-sm font-medium text-gray-700\",\n                      children: \"Angst (0-20)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 4244\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      id: \"hsclAngst\",\n                      value: newHsclAngst,\n                      onChange: e => setNewHsclAngst(e.target.value),\n                      min: \"0\",\n                      max: \"20\",\n                      className: inputStd\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 4343\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1032,\n                    columnNumber: 4239\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"hsclDepression\",\n                      className: \"block text-sm font-medium text-gray-700\",\n                      children: \"Depression (0-24)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 4501\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      id: \"hsclDepression\",\n                      value: newHsclDepression,\n                      onChange: e => setNewHsclDepression(e.target.value),\n                      min: \"0\",\n                      max: \"24\",\n                      className: inputStd\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 4610\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1032,\n                    columnNumber: 4496\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleAddHsclResult,\n                    className: `${btnPrimary} bg-teal-500 hover:bg-teal-600 h-10`,\n                    children: [/*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n                      className: \"w-5 h-5 mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 4879\n                    }, this), \" Speichern\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1032,\n                    columnNumber: 4778\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1032,\n                  columnNumber: 3942\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1032,\n                columnNumber: 3803\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"text-md font-semibold text-gray-600 mb-2\",\n                  children: \"Protokollierte HSCL-11 Ergebnisse:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1032,\n                  columnNumber: 4975\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"space-y-2\",\n                  children: [(selectedPatient.hscl11Results || []).map((result, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"flex justify-between items-center bg-white border p-3 rounded-md shadow-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium\",\n                        children: new Date(result.date).toLocaleDateString('de-DE')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 5269\n                      }, this), \": \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm text-gray-600 ml-2\",\n                        children: [\"Angst: \", result.angst]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 5359\n                      }, this), \", \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm text-gray-600 ml-2\",\n                        children: [\"Depression: \", result.depression]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 5434\n                      }, this), \", \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm text-gray-600 ml-2\",\n                        children: [\"Gesamt: \", result.cumulative]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 5519\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 5264\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleRemoveHsclResult(result.date),\n                      className: `${btnDanger} p-1 text-xs`,\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        className: \"w-4 h-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 5703\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 5604\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1032,\n                    columnNumber: 5161\n                  }, this)), (selectedPatient.hscl11Results || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500\",\n                    children: \"Keine HSCL-11 Ergebnisse erfasst.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1032,\n                    columnNumber: 5805\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1032,\n                  columnNumber: 5071\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1032,\n                columnNumber: 4953\n              }, this), (selectedPatient.hscl11Results || []).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"text-md font-semibold text-gray-600 mb-3\",\n                  children: \"Verlaufsgraph HSCL-11\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1032,\n                  columnNumber: 5950\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white p-4 rounded-lg shadow\",\n                  style: {\n                    height: '400px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                    width: \"100%\",\n                    height: \"100%\",\n                    children: /*#__PURE__*/_jsxDEV(LineChart, {\n                      data: (selectedPatient.hscl11Results || []).map(r => ({\n                        ...r,\n                        date: new Date(r.date).toLocaleDateString('de-DE')\n                      })),\n                      margin: {\n                        top: 5,\n                        right: 30,\n                        left: 0,\n                        bottom: 5\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                        strokeDasharray: \"3 3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 6335\n                      }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                        dataKey: \"date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 6374\n                      }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                        domain: [0, 44]\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 6398\n                      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 6424\n                      }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 6435\n                      }, this), /*#__PURE__*/_jsxDEV(Line, {\n                        type: \"monotone\",\n                        dataKey: \"angst\",\n                        name: \"Angst\",\n                        stroke: \"#8884d8\",\n                        activeDot: {\n                          r: 8\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 6445\n                      }, this), /*#__PURE__*/_jsxDEV(Line, {\n                        type: \"monotone\",\n                        dataKey: \"depression\",\n                        name: \"Depression\",\n                        stroke: \"#82ca9d\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 6536\n                      }, this), /*#__PURE__*/_jsxDEV(Line, {\n                        type: \"monotone\",\n                        dataKey: \"cumulative\",\n                        name: \"Gesamt\",\n                        stroke: \"#ffc658\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 6616\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1032,\n                      columnNumber: 6157\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1032,\n                    columnNumber: 6109\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1032,\n                  columnNumber: 6033\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1032,\n                columnNumber: 5945\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1032,\n              columnNumber: 3718\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1032,\n            columnNumber: 71\n          }, this), activeDetailTab === 'assistenz' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-semibold text-gray-700 mb-4\",\n              children: \"Therapeutische Assistenz\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1033,\n              columnNumber: 75\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleTherapeutischeAssistenzAnfordern,\n              disabled: isLoadingTherapeutischeAssistenz,\n              className: `${btnPrimary} bg-purple-600 hover:bg-purple-700 mb-4 flex items-center`,\n              children: [/*#__PURE__*/_jsxDEV(WandSparkles, {\n                className: \"mr-2 h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1033,\n                columnNumber: 347\n              }, this), isLoadingTherapeutischeAssistenz ? \"Analysiere Daten...\" : \"Expertenfeedback anfordern\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1033,\n              columnNumber: 161\n            }, this), isLoadingTherapeutischeAssistenz && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-10\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-700 mx-auto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1033,\n                columnNumber: 558\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-3 text-gray-600\",\n                children: \"Bitte warten, die KI analysiert die Patientendaten...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1033,\n                columnNumber: 654\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1033,\n              columnNumber: 523\n            }, this), assistenzError && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n              role: \"alert\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-bold\",\n                children: \"Fehler bei der Assistenz\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1033,\n                columnNumber: 857\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: assistenzError\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1033,\n                columnNumber: 910\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1033,\n              columnNumber: 773\n            }, this), therapeutischeAssistenzOutput && !isLoadingTherapeutischeAssistenz && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 p-4 bg-gray-50 rounded-md border\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-lg font-semibold text-gray-800 mb-2\",\n                children: \"Vorschl\\xE4ge des Expertenteams:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1033,\n                columnNumber: 1068\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed\",\n                children: therapeutischeAssistenzOutput\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1033,\n                columnNumber: 1159\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1033,\n              columnNumber: 1013\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1033,\n            columnNumber: 70\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 971,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true), mainView === 'icd11' && /*#__PURE__*/_jsxDEV(ICD11ECTBrowser, {\n        patients: patients,\n        selectedPatient: selectedPatient,\n        onAssignDiagnosis: handleAssignIcd11Diagnosis\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1040,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: diagnosisInfo.isOpen,\n        onClose: () => setDiagnosisInfo(prev => ({\n          ...prev,\n          isOpen: false\n        })),\n        title: `Diagnose-Info: ${diagnosisInfo.code || ''}`,\n        size: \"3xl\",\n        children: [diagnosisInfo.isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center py-4\",\n          children: \"Informationen werden geladen...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1054,\n          columnNumber: 9\n        }, this), diagnosisInfo.error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-600 bg-red-100 p-3 rounded-md\",\n          children: [\"Fehler: \", diagnosisInfo.error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1057,\n          columnNumber: 9\n        }, this), !diagnosisInfo.isLoading && diagnosisInfo.source === 'local' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-700 leading-relaxed p-2 space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-indigo-700\",\n            children: [diagnosisInfo.name, /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500 text-base ml-2\",\n              children: [\"(\", diagnosisInfo.code, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1067,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1065,\n            columnNumber: 13\n          }, this), diagnosisInfo.beschreibung && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"font-medium text-gray-800 block mb-1\",\n              children: \"Beschreibung:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1073,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"whitespace-pre-wrap\",\n              children: diagnosisInfo.beschreibung\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1076,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1072,\n            columnNumber: 17\n          }, this), ((_diagnosisInfo$inkl = diagnosisInfo.inkl) === null || _diagnosisInfo$inkl === void 0 ? void 0 : _diagnosisInfo$inkl.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"font-medium text-gray-800 block mb-1\",\n              children: \"Inklusive:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1083,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc list-inside\",\n              children: diagnosisInfo.inkl.map((item, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: item\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1088,\n                columnNumber: 29\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1086,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1082,\n            columnNumber: 17\n          }, this), ((_diagnosisInfo$exkl = diagnosisInfo.exkl) === null || _diagnosisInfo$exkl === void 0 ? void 0 : _diagnosisInfo$exkl.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"font-medium text-gray-800 block mb-1\",\n              children: \"Exklusive:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1095,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc list-inside\",\n              children: diagnosisInfo.exkl.map((item, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: item\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1100,\n                columnNumber: 29\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1098,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1094,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1064,\n          columnNumber: 9\n        }, this), !diagnosisInfo.isLoading && diagnosisInfo.source === 'api_detail' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-700 leading-relaxed p-2 space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-purple-700\",\n            children: [diagnosisInfo.name, /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500 text-base ml-2 font-mono\",\n              children: [\"(\", diagnosisInfo.code, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1113,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1111,\n            columnNumber: 13\n          }, this), diagnosisInfo.beschreibung && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"font-medium text-gray-800 block mb-1\",\n              children: \"Beschreibung (Definition):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1121,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"whitespace-pre-wrap bg-gray-50 p-2 rounded-md\",\n              children: diagnosisInfo.beschreibung\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1124,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1120,\n            columnNumber: 17\n          }, this), ((_diagnosisInfo$inclus = diagnosisInfo.inclusions) === null || _diagnosisInfo$inclus === void 0 ? void 0 : _diagnosisInfo$inclus.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"font-medium text-gray-800 block mb-1\",\n              children: \"Inklusive:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1133,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc list-inside pl-2 space-y-1\",\n              children: diagnosisInfo.inclusions.map((item, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: item.label['@value']\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1138,\n                columnNumber: 29\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1136,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1132,\n            columnNumber: 17\n          }, this), ((_diagnosisInfo$exclus = diagnosisInfo.exclusions) === null || _diagnosisInfo$exclus === void 0 ? void 0 : _diagnosisInfo$exclus.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"font-medium text-gray-800 block mb-1\",\n              children: \"Exklusive:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1147,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc list-inside pl-2 space-y-1\",\n              children: diagnosisInfo.exclusions.map((item, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [item.label['@value'], item.foundationReference && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-400 ml-2\",\n                  children: [\"(\", item.linearizationReference.split('/').pop(), \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1155,\n                  columnNumber: 34\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1152,\n                columnNumber: 30\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1150,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1146,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1110,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1047,\n        columnNumber: 16\n      }, this), appError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed bottom-4 right-4 p-4 max-w-sm text-sm text-red-700 bg-red-100 border border-red-400 rounded-md shadow-lg z-[100]\",\n        children: [appError, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setAppError(null),\n          className: \"ml-4 mt-2 sm:mt-0 sm:ml-2 px-2 py-1 text-red-900 underline rounded-md hover:bg-red-200 text-xs\",\n          children: \"Ok\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1164,\n          columnNumber: 177\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1164,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 906,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"text-center py-6 text-sm text-gray-500 border-t border-gray-200 mt-10\",\n      children: [\"Therapie-Dashboard \\xA9 \", new Date().getFullYear()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1166,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 893,\n    columnNumber: 9\n  }, this);\n}\n_s2(App, \"Y/vdvTItiVOwzwXmZX8DpiyEpJA=\");\n_c13 = App;\nconst CustomBdiLabel = props => {\n  const {\n    x,\n    y,\n    width,\n    text\n  } = props;\n  if (typeof x !== 'number' || isNaN(x) || typeof y !== 'number' || isNaN(y) || typeof width !== 'number' || isNaN(width) || width <= 0) {\n    return null;\n  }\n  const labelX = x + width / 2;\n  return /*#__PURE__*/_jsxDEV(\"text\", {\n    x: labelX,\n    y: y,\n    fill: \"#666\",\n    textAnchor: \"middle\",\n    dy: -4,\n    fontSize: \"10\",\n    children: text\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1180,\n    columnNumber: 14\n  }, this);\n};\n_c14 = CustomBdiLabel;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14;\n$RefreshReg$(_c, \"UserPlus\");\n$RefreshReg$(_c2, \"Edit3\");\n$RefreshReg$(_c3, \"Trash2\");\n$RefreshReg$(_c4, \"PlusCircleIcon\");\n$RefreshReg$(_c5, \"XCircle\");\n$RefreshReg$(_c6, \"Save\");\n$RefreshReg$(_c7, \"AlertTriangle\");\n$RefreshReg$(_c8, \"InfoIcon\");\n$RefreshReg$(_c9, \"FileJson2\");\n$RefreshReg$(_c0, \"WandSparkles\");\n$RefreshReg$(_c1, \"LogOut\");\n$RefreshReg$(_c10, \"Modal\");\n$RefreshReg$(_c11, \"ConfirmationModal\");\n$RefreshReg$(_c12, \"PatientForm\");\n$RefreshReg$(_c13, \"App\");\n$RefreshReg$(_c14, \"CustomBdiLabel\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","initializeApp","getAuth","onAuthStateChanged","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","getFirestore","collection","doc","addDoc","getDocs","setDoc","deleteDoc","onSnapshot","query","writeBatch","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","ReferenceArea","SCL90RComponent","FEP2Component","ICD11ECTBrowser","jsxDEV","_jsxDEV","Fragment","_Fragment","UserPlus","className","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","d","fileName","_jsxFileName","lineNumber","columnNumber","cx","cy","r","x1","x2","y1","y2","_c","Edit3","_c2","Trash2","points","_c3","PlusCircleIcon","_c4","XCircle","_c5","Save","_c6","AlertTriangle","_c7","InfoIcon","_c8","FileJson2","_c9","WandSparkles","_c0","LogOut","_c1","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","auth","db","firestoreAppId","initialPatientsData","name","geburtsdatum","chiffre","therapyType","approvedHours","conductedHours","diagnoses","sessions","date","notes","hscl11Results","bdi2Results","fep2Results","scl90rResults","krankheitsanamnese","lebensgeschichte","problemanalyseMakro","therapieplan","Modal","isOpen","onClose","title","size","sizeClasses","sm","md","lg","xl","onClick","_c10","ConfirmationModal","onConfirm","message","_c11","PatientForm","patient","onSave","onCancel","_s","formData","setFormData","firstLetter","charAt","toUpperCase","year","month","day","split","yy","slice","newChiffre","prev","e","console","error","handleChange","value","type","target","parseInt","handleSubmit","preventDefault","onSubmit","htmlFor","id","onChange","required","readOnly","min","_c12","generateGeminiText","prompt","chatHistory","role","parts","text","payload","contents","GEMINI_API_KEY","__GEMINI_API_KEY__","apiUrl","response","fetch","method","headers","body","JSON","stringify","ok","_errorData$error","errorData","json","errorMessage","status","Error","result","candidates","length","content","finishReason","warn","App","_s2","_diagnosisInfo$inkl","_diagnosisInfo$exkl","_diagnosisInfo$inclus","_diagnosisInfo$exclus","mainView","setMainView","patients","setPatients","selectedPatient","setSelectedPatient","isLoading","setIsLoading","authError","setAuthError","appError","setAppError","userId","setUserId","isAuthReady","setIsAuthReady","email","setEmail","password","setPassword","isLoginView","setIsLoginView","isAuthLoading","setIsAuthLoading","isPatientModalOpen","setIsPatientModalOpen","editingPatient","setEditingPatient","isConfirmDeleteModalOpen","setIsConfirmDeleteModalOpen","patientToDeleteId","setPatientToDeleteId","newDiagnosis","setNewDiagnosis","newDiagnosisCode","setNewDiagnosisCode","newDiagnosisSicherheit","setNewDiagnosisSicherheit","lookedUpDiagnosisName","setLookedUpDiagnosisName","newSessionDate","setNewSessionDate","Date","toISOString","newSessionNotes","setNewSessionNotes","activeDetailTab","setActiveDetailTab","activeDiagnostikSubTab","setActiveDiagnostikSubTab","newHsclDate","setNewHsclDate","newHsclAngst","setNewHsclAngst","newHsclDepression","setNewHsclDepression","newBdiDate","setNewBdiDate","newBdiScore","setNewBdiScore","sessionSummaries","setSessionSummaries","diagnosisInfo","setDiagnosisInfo","code","beschreibung","inkl","exkl","hinweise","zusatz_info_code","sicherheit","source","localIcd10Data","setLocalIcd10Data","editableConductedHours","setEditableConductedHours","editableKrankheitsanamnese","setEditableKrankheitsanamnese","editableLebensgeschichte","setEditableLebensgeschichte","editableProblemanalyseMakro","setEditableProblemanalyseMakro","editableTherapieplan","setEditableTherapieplan","therapeutischeAssistenzOutput","setTherapeutischeAssistenzOutput","isLoadingTherapeutischeAssistenz","setIsLoadingTherapeutischeAssistenz","assistenzError","setAssistenzError","detailViewRef","overviewRef","isRegistering","setIsRegistering","getPatientsCollectionPath","findIcd10CodeLocal","codeToFind","upperCodeToFind","found","baseCode","replace","possibleCategoryCode","Object","keys","find","key","startsWith","code_kategorie","then","data","indexedData","forEach","item","catch","undefined","String","current","setTimeout","scrollIntoView","behavior","block","trim","unsubscribe","user","uid","seedInitialData","collectionPath","patientsCollection","querySnapshot","empty","batch","patientData","newPatientRef","set","diagnoses_icd11","commit","err","patientsQuery","snapshot","patientsData","docs","map","docSnap","sort","a","b","localeCompare","currentPatientDataFromList","p","loadIcd10Data","log","bdiCutoffs","label","color","bdiAxisTicks","handleAuthAction","handleLogout","handleSavePatient","dataToSave","patientRef","merge","openDeleteConfirmation","patientId","confirmDeletePatient","handleAddDiagnosis","codeToAdd","sicherheitPrefix","diagnosisString","updatedDiagnoses","handleRemoveDiagnosis","diagnosisStringToRemove","filter","handleAddSession","newSession","updatedSessions","handleUpdateConductedHours","hours","isNaN","handleAddHsclResult","angst","depression","newResult","cumulative","updatedHsclResults","handleRemoveHsclResult","dateToRemove","handleAddBdiResult","score","updatedBdiResults","handleRemoveBdiResult","handleAddFepResult","updatedFepResults","handleRemoveFepResult","handleAddScl90rResult","newResultToSave","rawScores","tScores","globalScores","itemScores","updatedScl90rResults","handleRemoveScl90rResult","fetchSessionSummary","sessionNotes","sessionIndex","summary","handleKrankheitsmodellChange","fieldName","handleTherapeutischeAssistenzAnfordern","patientenDatenText","s","i","toLocaleDateString","join","systemPrompt","assistenz","showDiagnosisInfo","sicherheitMatch","match","codeAndName","substring","codeMatch","localData","beschreibung_kategorie","fetchIcd11Details","diagnosis","uri","_fullData$title","_fullData$definition","encodeURIComponent","fullData","definition","diagnosticCriteria","inclusions","inclusion","exclusions","exclusion","handleAssignIcd11Diagnosis","icd11Entity","targetPatient","selectedText","linearizationUri","foundationUri","handleRemoveIcd11Diagnosis","diagnosisToRemove","totalApprovedHours","reduce","sum","totalConductedHours","overallProgressTarget","overallProgress","inputStd","btnPrimary","btnDanger","btnInfo","textareaStd","disabled","ref","header","colSpan","progress","diag","idx","colorClasses","stopPropagation","style","width","Math","round","tab","onBlur","finalHours","max","placeholder","diagString","index","rows","session","_sessionSummaries$ind","_sessionSummaries$ind2","_sessionSummaries$ind3","_sessionSummaries$ind4","_sessionSummaries$ind5","subTab","onSaveResult","onDeleteResult","height","margin","top","right","left","bottom","strokeDasharray","dataKey","domain","ticks","allowDataOverflow","verticalAlign","cutoff","strokeOpacity","CustomBdiLabel","y","activeDot","onAssignDiagnosis","foundationReference","linearizationReference","pop","getFullYear","_c13","props","x","labelX","textAnchor","dy","fontSize","_c14","$RefreshReg$"],"sources":["/Users/julianrogowski/Desktop/patientenverwaltung-app/src/App.js"],"sourcesContent":["/* global __GEMINI_API_KEY__ */\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { \n    getAuth, \n    onAuthStateChanged, \n    createUserWithEmailAndPassword, \n    signInWithEmailAndPassword,\n    signOut \n} from 'firebase/auth'; \nimport { getFirestore, collection, doc, addDoc, getDocs, setDoc, deleteDoc, onSnapshot, query, writeBatch } from 'firebase/firestore';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, ReferenceArea } from 'recharts';\nimport SCL90RComponent from './components/SCL90R.js';\nimport FEP2Component from './components/FEP2.js';\nimport ICD11ECTBrowser from './components/ICD11ECTBrowser.js';\n\n// --- ICONS ---\nconst UserPlus = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\" /><circle cx=\"9\" cy=\"7\" r=\"4\" /><line x1=\"19\" x2=\"19\" y1=\"8\" y2=\"14\" /><line x1=\"22\" x2=\"16\" y1=\"11\" y2=\"11\" /></svg>);\nconst Edit3 = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M12 20h9\" /><path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\" /></svg>);\nconst Trash2 = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><polyline points=\"3 6 5 6 21 6\" /><path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\" /><line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\" /><line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\" /></svg>);\nconst PlusCircleIcon = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"10\" /><line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\" /><line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\" /></svg>);\nconst XCircle = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line><line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line></svg>);\nconst Save = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\" /><polyline points=\"17 21 17 13 7 13 7 21\" /><polyline points=\"7 3 7 8 15 8\" /></svg>);\nconst AlertTriangle = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path><line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line><line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line></svg>);\nconst InfoIcon = ({ className = \"w-5 h-5\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>);\nconst FileJson2 = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4\"/><path d=\"M14 2v6h6\"/><path d=\"M4 12h1.6a2 2 0 0 0 1.9-3.4L6 6\"/><path d=\"M4 18h1.6a2 2 0 0 1 1.9 3.4L6 24\"/><path d=\"M12 12h1.6a2 2 0 0 1 1.9-3.4L14 6\"/><path d=\"M12 18h1.6a2 2 0 0 0 1.9 3.4L14 24\"/></svg>);\nconst WandSparkles = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"m9.5 2.55 1.294 1.294a1 1 0 0 0 1.414 0L13.5 2.55\"/><path d=\"M4.94 4.94 6.22 6.22a1 1 0 0 0 1.41 0l1.29-1.29\"/><path d=\"M2.55 9.51 3.84 10.8a1 1 0 0 0 1.41 0l1.3-1.29\"/><path d=\"m19.07 4.93-1.29 1.29a1 1 0 0 1-1.41 0l-1.29-1.29\"/><path d=\"M21.45 9.51l-1.29 1.29a1 1 0 0 1-1.41 0l-1.3-1.29\"/><path d=\"M14.5 12.94a1 1 0 0 0 0 1.41l1.29 1.29\"/><path d=\"M10.8 17.78a1 1 0 0 0 0 1.41l1.29 1.29\"/><path d=\"M17.78 10.8a1 1 0 0 0 0 1.41l1.29 1.29\"/><path d=\"M12 10.5V4.5\"/><path d=\"M12 10.5C7 11 4 15 4 20\"/><path d=\"M12 10.5c5 .5 8 4.5 8 9.5\"/></svg>);\nconst LogOut = ({className = \"w-6 h-6\"}) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"/><polyline points=\"16 17 21 12 16 7\"/><line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\"/></svg>);\n\n// Ihre Firebase Konfiguration:\nconst firebaseConfig = { \n  apiKey: \"AIzaSyDZ_qqqKW7WDCZ9botek2VBwXNMQO3JYwU\",\n  authDomain: \"psychotherapie0512.firebaseapp.com\",\n  projectId: \"psychotherapie0512\",\n  storageBucket: \"psychotherapie0512.firebasestorage.app\", \n  messagingSenderId: \"131279046361\",\n  appId: \"1:131279046361:web:e5dd2d18b206fb820b60c8\"\n};\n\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst firestoreAppId = 'default-patient-app-v5'; \n\nconst initialPatientsData = [\n  { \n    name: \"Mustermann\",\n    geburtsdatum: \"1998-04-04\", \n    chiffre: \"M040498\", \n    therapyType: \"LZT\", \n    approvedHours: 60, \n    conductedHours: 24, \n    diagnoses: [\"[G] F00.0*: Demenz bei Alzheimer-Krankheit, mit frühem Beginn (Typ 2)\", \"[V] F01.1: Multiinfarkt-Demenz\", \"[A] F20.0: Paranoide Schizophrenie\", \"[ZN] F32.1: Mittelgradige depressive Episode\", \"F40.0: Agoraphobie\"], \n    sessions: [{date: \"2025-05-20\", notes: \"Erste Sitzung, Exploration der Hauptbeschwerden.\"}, {date: \"2025-05-27\", notes: \"Vertiefung der Anamnese, erste Verhaltensanalysen.\"}], \n    hscl11Results: [], \n    bdi2Results: [], \n    fep2Results: [],\n    scl90rResults: [], \n    krankheitsanamnese: \"Patient berichtet über seit ca. 2 Jahren zunehmende Vergesslichkeit und Orientierungsprobleme.\", \n    lebensgeschichte: \"Geboren 1955, verheiratet, 2 Kinder, früher als Buchhalter tätig.\",     \n    problemanalyseMakro: \"Kognitive Defizite im Vordergrund, affektive Belastung durch erlebten Kontrollverlust.\",\n    therapieplan: \"Supportive Gespräche, kognitives Training, Psychoedukation für Angehörige.\" \n  },\n];\n\nconst Modal = ({ isOpen, onClose, title, children, size = \"lg\" }) => { if (!isOpen) return null; const sizeClasses = {sm: 'max-w-sm', md: 'max-w-md', lg: 'max-w-lg', xl: 'max-w-xl', '2xl': 'max-w-2xl', '3xl': 'max-w-3xl', '4xl': 'max-w-4xl', '5xl': 'max-w-5xl'}; return (<div className=\"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex justify-center items-center z-50 p-4\"><div className={`bg-white p-6 rounded-lg shadow-xl w-full ${sizeClasses[size]} max-h-[90vh] overflow-y-auto`}><div className=\"flex justify-between items-center mb-4\"><h2 className=\"text-2xl font-semibold text-gray-800\">{title}</h2><button onClick={onClose} className=\"text-gray-500 hover:text-gray-700\"><XCircle className=\"w-7 h-7\" /></button></div>{children}</div></div>);};\nconst ConfirmationModal = ({ isOpen, onClose, onConfirm, title, message }) => { if (!isOpen) return null; return (<Modal isOpen={isOpen} onClose={onClose} title={title} size=\"sm\"><div className=\"text-center\"><AlertTriangle className=\"mx-auto mb-4 w-12 h-12 text-red-500\" /><p className=\"text-gray-700 mb-6\">{message}</p><div className=\"flex justify-center space-x-4\"><button onClick={onClose} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none\">Abbrechen</button><button onClick={onConfirm} className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none\">Bestätigen</button></div></div></Modal>);};\nconst PatientForm = ({ patient, onSave, onCancel }) => {\n  const [formData, setFormData] = useState(\n    patient || { \n        name: '', \n        chiffre: '', \n        geburtsdatum: '', // NEUES FELD\n        therapyType: 'LZT', \n        approvedHours: 0, \n        conductedHours: 0, \n        diagnoses: [], \n        sessions: [], \n        hscl11Results: [], \n        bdi2Results: [], \n        fep2Results: [], \n        scl90rResults: [], \n        krankheitsanamnese: \"\", \n        lebensgeschichte: \"\", \n        problemanalyseMakro: \"\", \n        therapieplan: \"\" \n    }\n  );\n\n  useEffect(() => {\n    if (patient) {\n      setFormData({ \n        ...patient,\n        geburtsdatum: patient.geburtsdatum || '', // Sicherstellen, dass das Feld existiert\n        hscl11Results: patient.hscl11Results || [], \n        bdi2Results: patient.bdi2Results || [], \n        fep2Results: patient.fep2Results || [],\n        scl90rResults: patient.scl90rResults || [],\n        krankheitsanamnese: patient.krankheitsanamnese || \"\",\n        lebensgeschichte: patient.lebensgeschichte || \"\",\n        problemanalyseMakro: patient.problemanalyseMakro || \"\",\n        therapieplan: patient.therapieplan || \"\"\n      });\n    } else {\n      setFormData({ \n        name: '', \n        chiffre: '', \n        geburtsdatum: '', \n        therapyType: 'LZT', \n        approvedHours: 0, \n        conductedHours: 0, \n        diagnoses: [], \n        sessions: [], \n        hscl11Results: [], \n        bdi2Results: [], \n        fep2Results: [], \n        scl90rResults: [], \n        krankheitsanamnese: \"\", \n        lebensgeschichte: \"\", \n        problemanalyseMakro: \"\", \n        therapieplan: \"\" \n      });\n    }\n  }, [patient]);\n\nuseEffect(() => {\n    const { name, geburtsdatum } = formData;\n    if (name && geburtsdatum) {\n        try {\n            const firstLetter = name.charAt(0).toUpperCase();\n            const [year, month, day] = geburtsdatum.split('-');\n            \n            if (year && month && day) {\n                const yy = year.slice(-2);\n                const newChiffre = `${firstLetter}${day}${month}${yy}`;\n                setFormData(prev => ({ ...prev, chiffre: newChiffre }));\n            }\n        } catch(e) {\n            console.error(\"Fehler bei der Chiffre-Generierung\", e);\n            setFormData(prev => ({ ...prev, chiffre: '' }));\n        }\n    } else {\n        if (formData.chiffre !== '') {\n            setFormData(prev => ({ ...prev, chiffre: '' }));\n        }\n    }\n}, [formData]); // Add formData to the dependency array\n\n  const handleChange = (e) => { const { name, value, type } = e.target; setFormData((prev) => ({ ...prev, [name]: type === 'number' ? parseInt(value, 10) || 0 : value })); };\n  const handleSubmit = (e) => { e.preventDefault(); onSave(formData); };\n\n  return ( \n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div>\n        <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\">Name</label>\n        <input type=\"text\" name=\"name\" id=\"name\" value={formData.name} onChange={handleChange} required className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" />\n      </div>\n\n      {/* NEUES Feld für Geburtsdatum */}\n      <div>\n        <label htmlFor=\"geburtsdatum\" className=\"block text-sm font-medium text-gray-700\">Geburtsdatum</label>\n        <input type=\"date\" name=\"geburtsdatum\" id=\"geburtsdatum\" value={formData.geburtsdatum} onChange={handleChange} required className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" />\n      </div>\n\n      {/* Angepasstes Chiffre-Feld */}\n      <div>\n        <label htmlFor=\"chiffre\" className=\"block text-sm font-medium text-gray-700\">Chiffre</label>\n        <input type=\"text\" name=\"chiffre\" id=\"chiffre\" value={formData.chiffre} readOnly className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100 cursor-not-allowed sm:text-sm\" />\n        <p className=\"text-xs text-gray-500 mt-1\">Wird aus Name und Geburtsdatum automatisch generiert.</p>\n      </div>\n\n      <div>\n        <label htmlFor=\"therapyType\" className=\"block text-sm font-medium text-gray-700\">Therapieform</label>\n        <select name=\"therapyType\" id=\"therapyType\" value={formData.therapyType} onChange={handleChange} className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\">\n            <option value=\"LZT\">Langzeittherapie (LZT)</option>\n            <option value=\"KZT\">Kurzzeittherapie (KZT)</option>\n        </select>\n      </div>\n      <div>\n        <label htmlFor=\"approvedHours\" className=\"block text-sm font-medium text-gray-700\">Genehmigte Stunden</label>\n        <input type=\"number\" name=\"approvedHours\" id=\"approvedHours\" value={formData.approvedHours} onChange={handleChange} min=\"0\" className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" />\n      </div>\n      <div>\n        <label htmlFor=\"conductedHours\" className=\"block text-sm font-medium text-gray-700\">Durchgeführte Stunden</label>\n        <input type=\"number\" name=\"conductedHours\" id=\"conductedHours\" value={formData.conductedHours} onChange={handleChange} min=\"0\" className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" />\n      </div>\n      <div className=\"flex justify-end space-x-3 pt-4\">\n        <button type=\"button\" onClick={onCancel} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\">Abbrechen</button>\n        <button type=\"submit\" className=\"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 flex items-center\"><Save className=\"w-4 h-4 mr-2\" /> Speichern</button>\n      </div>\n    </form>\n  );\n};\n\nasync function generateGeminiText(prompt) { \n    let chatHistory = [{ role: \"user\", parts: [{ text: prompt }] }]; \n    const payload = { contents: chatHistory }; \n    const GEMINI_API_KEY = typeof __GEMINI_API_KEY__ !== 'undefined' ? __GEMINI_API_KEY__ : \"YOUR_LOCAL_GEMINI_API_KEY\"; // Tragen Sie hier Ihren lokalen Schlüssel ein\n    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`; \n    try { \n        const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) }); \n        if (!response.ok) { const errorData = await response.json(); console.error(\"Gemini API error details:\", errorData); const errorMessage = errorData.error?.message || `API request failed with status ${response.status}`; throw new Error(errorMessage); } \n        const result = await response.json(); \n        if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) { return result.candidates[0].content.parts[0].text; } \n        else if (result.candidates && result.candidates.length > 0 && result.candidates[0].finishReason === \"SAFETY\") { console.warn(\"Gemini API response blocked due to safety reasons.\"); return \"Die Antwort wurde aufgrund von Sicherheitsrichtlinien blockiert.\"; } \n        else { console.error(\"Unexpected Gemini API response structure:\", result); throw new Error(\"Unerwartete Antwortstruktur von der API.\"); } \n    } catch (error) { console.error(\"Error calling Gemini API:\", error); throw error; } \n}\n\nfunction App() {\n// --- States ---\n    const [mainView, setMainView] = useState('patients');\n    const [patients, setPatients] = useState([]);\n    const [selectedPatient, setSelectedPatient] = useState(null);\n    const [isLoading, setIsLoading] = useState(true); \n    const [authError, setAuthError] = useState(null); \n    const [appError, setAppError] = useState(null); \n    const [userId, setUserId] = useState(null);\n    const [isAuthReady, setIsAuthReady] = useState(false); \n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [isLoginView, setIsLoginView] = useState(true); \n    const [isAuthLoading, setIsAuthLoading] = useState(false); \n    const [isPatientModalOpen, setIsPatientModalOpen] = useState(false);\n    const [editingPatient, setEditingPatient] = useState(null);\n    const [isConfirmDeleteModalOpen, setIsConfirmDeleteModalOpen] = useState(false);\n    const [patientToDeleteId, setPatientToDeleteId] = useState(null);\n    const [newDiagnosis, setNewDiagnosis] = useState('');\n    const [newDiagnosisCode, setNewDiagnosisCode] = useState(''); \n    const [newDiagnosisSicherheit, setNewDiagnosisSicherheit] = useState('G'); \n    const [lookedUpDiagnosisName, setLookedUpDiagnosisName] = useState(''); \n    const [newSessionDate, setNewSessionDate] = useState(new Date().toISOString().split('T')[0]);\n    const [newSessionNotes, setNewSessionNotes] = useState('');\n    const [activeDetailTab, setActiveDetailTab] = useState('details');\n    const [activeDiagnostikSubTab, setActiveDiagnostikSubTab] = useState('scl90r'); \n    const [newHsclDate, setNewHsclDate] = useState(new Date().toISOString().split('T')[0]);\n    const [newHsclAngst, setNewHsclAngst] = useState(''); \n    const [newHsclDepression, setNewHsclDepression] = useState(''); \n    const [newBdiDate, setNewBdiDate] = useState(new Date().toISOString().split('T')[0]);\n    const [newBdiScore, setNewBdiScore] = useState(''); \n    const [sessionSummaries, setSessionSummaries] = useState({}); \n    const [diagnosisInfo, setDiagnosisInfo] = useState({ code: '', name: '', beschreibung: '', inkl: [], exkl: [], hinweise: [], zusatz_info_code: '', sicherheit: '', isLoading: false, error: null, isOpen: false, source: '' });\n    const [localIcd10Data, setLocalIcd10Data] = useState({}); \n    const [editableConductedHours, setEditableConductedHours] = useState(\"\"); \n    const [editableKrankheitsanamnese, setEditableKrankheitsanamnese] = useState(\"\");\n    const [editableLebensgeschichte, setEditableLebensgeschichte] = useState(\"\");\n    const [editableProblemanalyseMakro, setEditableProblemanalyseMakro] = useState(\"\");\n    const [editableTherapieplan, setEditableTherapieplan] = useState(\"\");\n    const [therapeutischeAssistenzOutput, setTherapeutischeAssistenzOutput] = useState(\"\");\n    const [isLoadingTherapeutischeAssistenz, setIsLoadingTherapeutischeAssistenz] = useState(false);\n    const [assistenzError, setAssistenzError] = useState(null);\n    const detailViewRef = useRef(null);\n    const overviewRef = useRef(null);\n    const [isRegistering, setIsRegistering] = useState(false);\n\n\n\n    // --- Helper Functions & Callbacks ---\n    const getPatientsCollectionPath = useCallback(() => { if (!userId) return null; return `/artifacts/${firestoreAppId}/users/${userId}/patients`; }, [userId]);\n    const findIcd10CodeLocal = useCallback((codeToFind) => {\n        const upperCodeToFind = codeToFind.toUpperCase();\n        let found = localIcd10Data[upperCodeToFind];\n        if (found) return found;\n        const baseCode = upperCodeToFind.replace(/(\\.-[*]|\\.\\*|[*]|-)$/, '');\n        found = localIcd10Data[`${baseCode}.-*`] || localIcd10Data[`${baseCode}.*`] || localIcd10Data[baseCode];\n        if (found) return found;\n        const possibleCategoryCode = Object.keys(localIcd10Data).find(key => key.startsWith(upperCodeToFind) && (localIcd10Data[key].code_kategorie || localIcd10Data[key].code));\n        if (possibleCategoryCode) return localIcd10Data[possibleCategoryCode];\n        return null;\n    }, [localIcd10Data]);\n    \n    \n    // --- useEffects ---\n    useEffect(() => {\n        fetch('/icd10f_data.json') \n          .then(response => { if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`); return response.json(); })\n          .then(data => {\n            const indexedData = {};\n            data.forEach(item => { if (item.code) { indexedData[item.code.toUpperCase()] = item; } });\n            setLocalIcd10Data(indexedData);\n          })\n          .catch(error => { console.error(\"Fehler beim Laden der lokalen ICD-10 Daten:\", error); setAppError(\"Lokale ICD-10 Daten konnten nicht geladen werden. \" + error.message); });\n    }, []); \n    \n    useEffect(() => {\n        if (selectedPatient) {\n            setEditableConductedHours(selectedPatient.conductedHours !== null && selectedPatient.conductedHours !== undefined ? String(selectedPatient.conductedHours) : \"\");\n            setEditableKrankheitsanamnese(selectedPatient.krankheitsanamnese || \"\");\n            setEditableLebensgeschichte(selectedPatient.lebensgeschichte || \"\");\n            setEditableProblemanalyseMakro(selectedPatient.problemanalyseMakro || \"\");\n            setEditableTherapieplan(selectedPatient.therapieplan || \"\");\n            if (detailViewRef.current) { setTimeout(() => { detailViewRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' }); }, 100); }\n        } else {\n            setEditableConductedHours(\"\"); \n            setEditableKrankheitsanamnese(\"\");\n            setEditableLebensgeschichte(\"\");\n            setEditableProblemanalyseMakro(\"\");\n            setEditableTherapieplan(\"\");\n       }\n     }, [selectedPatient]);\n\n    useEffect(() => {\n        if (newDiagnosisCode.trim() !== '') {\n            const found = findIcd10CodeLocal(newDiagnosisCode.trim().toUpperCase());\n            if (found && found.name) {\n                setLookedUpDiagnosisName(found.name);\n            } else {\n                setLookedUpDiagnosisName('');\n            }\n        } else {\n            setLookedUpDiagnosisName('');\n        }\n    }, [newDiagnosisCode, findIcd10CodeLocal]);\n\n    useEffect(() => { \n        const unsubscribe = onAuthStateChanged(auth, (user) => { \n            if (user) { setUserId(user.uid); } else { setUserId(null); } \n            setIsAuthReady(true); setIsLoading(false); \n        }); \n        return () => unsubscribe(); \n    }, []);\n\n    const seedInitialData = useCallback(async () => { \n        if (!userId) return; \n        const collectionPath = getPatientsCollectionPath(); \n        if (!collectionPath) return; \n        try { \n          const patientsCollection = collection(db, collectionPath); \n          const querySnapshot = await getDocs(patientsCollection); \n          if (querySnapshot.empty) { \n            const batch = writeBatch(db); \n            initialPatientsData.forEach(patientData => { \n              const newPatientRef = doc(patientsCollection); \n              batch.set(newPatientRef, { ...patientData, hscl11Results: patientData.hscl11Results || [], bdi2Results: patientData.bdi2Results || [], fep2Results: patientData.fep2Results || [], scl90rResults: patientData.scl90rResults || [], diagnoses_icd11: patientData.diagnoses_icd11 || [], krankheitsanamnese: patientData.krankheitsanamnese || \"\", lebensgeschichte: patientData.lebensgeschichte || \"\", problemanalyseMakro: patientData.problemanalyseMakro || \"\", therapieplan: patientData.therapieplan || \"\" }); \n            }); \n            await batch.commit(); \n          }\n        } catch (err) { \n          console.error(\"Error seeding initial data:\", err); \n          setAppError(\"Fehler beim Laden der initialen Daten.\"); \n        } \n    }, [userId, getPatientsCollectionPath]);\n\n\n    useEffect(() => {\n        if (!isAuthReady || !userId) { setPatients([]); return; }\n        const collectionPath = getPatientsCollectionPath(); \n        if (!collectionPath) return;\n        setIsLoading(true); \n        seedInitialData(); \n        const patientsQuery = query(collection(db, collectionPath));\n        const unsubscribe = onSnapshot(patientsQuery, (snapshot) => {\n          let patientsData = snapshot.docs.map(docSnap => ({ id: docSnap.id, ...docSnap.data(), diagnoses_icd11: docSnap.data().diagnoses_icd11 || [] }));\n          patientsData.sort((a, b) => a.name.localeCompare(b.name)); \n          setPatients(patientsData); \n          setIsLoading(false); \n        }, (err) => {\n          console.error(\"Error fetching patients:\", err);\n          setAppError(\"Fehler beim Laden der Patientendaten.\");\n          setIsLoading(false);\n        });\n        return () => unsubscribe(); \n    }, [isAuthReady, userId, getPatientsCollectionPath, seedInitialData]); \n\n    useEffect(() => {\n        if (selectedPatient && selectedPatient.id && patients.length > 0) {\n            const currentPatientDataFromList = patients.find(p => p.id === selectedPatient.id);\n            if (currentPatientDataFromList) {\n                if (JSON.stringify(currentPatientDataFromList) !== JSON.stringify(selectedPatient)) {\n                    setSelectedPatient(currentPatientDataFromList);\n                }\n            } else { setSelectedPatient(null); }\n        }\n    }, [patients, selectedPatient]); \n\n    useEffect(() => {\n    const loadIcd10Data = async () => {\n        try {\n            const response = await fetch('/icd10f_data.json');\n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n            const data = await response.json();\n            console.log(\"Geladene ICD-10 Daten:\", data); // Debug-Ausgabe\n            \n            const indexedData = {};\n            data.forEach(item => { \n                if (item.code) { \n                    indexedData[item.code.toUpperCase()] = item;\n                    // Optional: Speichern Sie auch Varianten ohne Sternchen/Kreuz\n                    const baseCode = item.code.replace(/[*†]/, '').toUpperCase();\n                    if (baseCode !== item.code.toUpperCase()) {\n                        indexedData[baseCode] = item;\n                    }\n                } \n            });\n            setLocalIcd10Data(indexedData);\n        } catch (error) { \n            console.error(\"Fehler beim Laden der lokalen ICD-10 Daten:\", error); \n            setAppError(\"Lokale ICD-10 Daten konnten nicht geladen werden. \" + error.message); \n        }\n    };\n\n    loadIcd10Data();\n}, []); \n\n\n    const bdiCutoffs = [\n        { y1: 0, y2: 8, label: \"Keine Depression\", color: \"rgba(75, 192, 192, 0.2)\" },\n        { y1: 9, y2: 13, label: \"Minimale Depression\", color: \"rgba(54, 162, 235, 0.2)\" },\n        { y1: 14, y2: 19, label: \"Leichte Depression\", color: \"rgba(255, 206, 86, 0.2)\" },\n        { y1: 20, y2: 28, label: \"Mittelschwere Depression\", color: \"rgba(255, 159, 64, 0.2)\" },\n        { y1: 29, y2: 63, label: \"Schwere Depression\", color: \"rgba(255, 99, 132, 0.2)\" }\n    ];\n    \n    const bdiAxisTicks = [0, 8, 13, 19, 28, 63];\n\n    // Fix the isRegistering variable in handleAuthAction\nconst handleAuthAction = async (isRegistering) => {\n        setIsAuthLoading(true);\n        setAuthError(null);\n        try {\n            if (isRegistering) {\n                await createUserWithEmailAndPassword(auth, email, password);\n            } else {\n                await signInWithEmailAndPassword(auth, email, password);\n            }\n            setEmail(\"\");\n            setPassword(\"\");\n        } catch (error) {\n            console.error(\"Authentication error:\", error);\n            setAuthError(error.message);\n        } finally {\n            setIsAuthLoading(false);\n        }\n    };\n  const handleLogout = async () => {\n    try {\n        await signOut(auth);\n        setSelectedPatient(null); \n        setPatients([]); \n    } catch (error) {\n        console.error(\"Error signing out: \", error);\n        setAppError(\"Fehler beim Abmelden.\");\n    }\n  };\n  const handleSavePatient = async (patientData) => { \n    if (!userId) { setAppError(\"Benutzer nicht authentifiziert.\"); return; } \n    const collectionPath = getPatientsCollectionPath(); \n    if (!collectionPath) return; \n    const dataToSave = { \n        ...patientData, \n        hscl11Results: patientData.hscl11Results || [], \n        bdi2Results: patientData.bdi2Results || [], \n        fep2Results: patientData.fep2Results || [],\n        scl90rResults: patientData.scl90rResults || [],\n        krankheitsanamnese: patientData.krankheitsanamnese || \"\",\n        lebensgeschichte: patientData.lebensgeschichte || \"\",\n        problemanalyseMakro: patientData.problemanalyseMakro || \"\",\n        therapieplan: patientData.therapieplan || \"\"\n    }; \n    try { \n      if (editingPatient && editingPatient.id) { \n        const patientRef = doc(db, collectionPath, editingPatient.id); \n        await setDoc(patientRef, dataToSave, { merge: true }); \n      } else { \n        await addDoc(collection(db, collectionPath), dataToSave); \n      } \n      setIsPatientModalOpen(false); \n      setEditingPatient(null); \n    } catch (err) { \n      console.error(\"Error saving patient:\", err); \n      setAppError(\"Fehler beim Speichern des Patienten.\"); \n    } \n  };\n  const openDeleteConfirmation = (patientId) => { setPatientToDeleteId(patientId); setIsConfirmDeleteModalOpen(true); \n  };\n  const confirmDeletePatient = async () => { \n    if (!patientToDeleteId || !userId) { setAppError(\"Löschvorgang fehlgeschlagen.\"); setIsConfirmDeleteModalOpen(false); return; } \n    const collectionPath = getPatientsCollectionPath(); \n    if (!collectionPath) return; \n    try { \n      const patientRef = doc(db, collectionPath, patientToDeleteId); \n      await deleteDoc(patientRef); \n      if (selectedPatient && selectedPatient.id === patientToDeleteId) { \n        setSelectedPatient(null); \n      } \n      setPatientToDeleteId(null); \n      setIsConfirmDeleteModalOpen(false); \n    } catch (err) { \n      console.error(\"Error deleting patient:\", err); \n      setAppError(\"Fehler beim Löschen des Patienten.\"); \n      setIsConfirmDeleteModalOpen(false); \n    } \n  };\n\nconst handleAddDiagnosis = async () => {\n    const codeToAdd = newDiagnosisCode.trim().toUpperCase();\n    if (!selectedPatient || !codeToAdd || !userId) {\n        setAppError(\"Bitte füllen Sie alle erforderlichen Felder aus.\");\n        return;\n    }\n    \n    const collectionPath = getPatientsCollectionPath(); \n    if (!collectionPath) return;\n    \n    // Diagnosestring zusammenbauen\n    const sicherheitPrefix = newDiagnosisSicherheit ? `[${newDiagnosisSicherheit}] ` : \"\";\n    const beschreibung = newDiagnosis.trim() \n        ? `: ${newDiagnosis.trim()}` \n        : (lookedUpDiagnosisName ? `: ${lookedUpDiagnosisName}` : \"\");\n    const diagnosisString = `${sicherheitPrefix}${codeToAdd}${beschreibung}`;\n\n    // Aktualisiere die Diagnosen im Firestore\n    const updatedDiagnoses = [...(selectedPatient.diagnoses || []), diagnosisString];\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    \n    try { \n        console.log(\"Speichere neue Diagnose:\", diagnosisString);\n        await setDoc(patientRef, { diagnoses: updatedDiagnoses }, { merge: true }); \n        \n        // Reset der Eingabefelder\n        setNewDiagnosisCode(''); \n        setNewDiagnosis('');      \n        setLookedUpDiagnosisName(''); \n        setNewDiagnosisSicherheit('G'); \n    } catch (err) { \n        console.error(\"Error adding diagnosis:\", err); \n        setAppError(\"Fehler beim Hinzufügen der Diagnose.\");\n    }\n};\n\n\n\n  const handleRemoveDiagnosis = async (diagnosisStringToRemove) => { \n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const updatedDiagnoses = selectedPatient.diagnoses.filter(d => d !== diagnosisStringToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { diagnoses: updatedDiagnoses }, { merge: true }); }\n    catch (err) { console.error(\"Error removing diagnosis:\", err); setAppError(\"Fehler beim Entfernen der Diagnose.\");}\n  };\n  const handleAddSession = async () => { \n    if (!selectedPatient || !newSessionNotes.trim() || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const newSession = { date: newSessionDate, notes: newSessionNotes.trim() };\n    const updatedSessions = [...(selectedPatient.sessions || []), newSession];\n    updatedSessions.sort((a, b) => new Date(b.date) - new Date(a.date)); \n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { sessions: updatedSessions }, { merge: true }); setNewSessionNotes(''); }\n    catch (err) { console.error(\"Error adding session:\", err); setAppError(\"Fehler beim Hinzufügen der Sitzung.\");}\n   };\n  const handleUpdateConductedHours = async (patientId, hours) => {\n    if (!patientId || !userId) return;\n    if (isNaN(hours) || hours < 0) {\n        console.error(\"Ungültige Stundenzahl für Firestore-Update:\", hours);\n        return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const patientRef = doc(db, collectionPath, patientId);\n    try {\n        await setDoc(patientRef, { conductedHours: hours }, { merge: true });\n    } catch (err) {\n        console.error(\"Error updating conducted hours:\", err);\n        setAppError(\"Fehler beim Aktualisieren der Stunden.\");\n    }\n  };\n  const handleAddHsclResult = async () => { \n    if (!selectedPatient || !newHsclDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const angst = parseInt(newHsclAngst, 10);\n    const depression = parseInt(newHsclDepression, 10);\n    if (isNaN(angst) || angst < 0 || angst > 20 || isNaN(depression) || depression < 0 || depression > 24) {\n        setAppError(\"Ungültige HSCL-Werte. Angst (0-20), Depression (0-24).\"); return;\n    }\n    const newResult = { date: newHsclDate, angst: angst, depression: depression, cumulative: angst + depression };\n    const updatedHsclResults = [...(selectedPatient.hscl11Results || []), newResult];\n    updatedHsclResults.sort((a, b) => new Date(a.date) - new Date(b.date)); \n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { hscl11Results: updatedHsclResults }, { merge: true });\n      setNewHsclAngst(''); setNewHsclDepression(''); setAppError(null); \n    } catch (err) { console.error(\"Error adding HSCL result:\", err); setAppError(\"Fehler beim Hinzufügen des HSCL-Ergebnisses.\"); }\n  };\n  const handleRemoveHsclResult = async (dateToRemove) => { \n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const updatedHsclResults = selectedPatient.hscl11Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { hscl11Results: updatedHsclResults }, { merge: true }); }\n    catch (err) { console.error(\"Error removing HSCL result:\", err); setAppError(\"Fehler beim Entfernen des HSCL-Ergebnisses.\"); }\n  };\n  const handleAddBdiResult = async () => { \n    if (!selectedPatient || !newBdiDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const score = parseInt(newBdiScore, 10);\n    if (isNaN(score) || score < 0 || score > 63) { setAppError(\"Ungültiger BDI-II Wert (0-63).\"); return; }\n    const newResult = { date: newBdiDate, score: score };\n    const updatedBdiResults = [...(selectedPatient.bdi2Results || []), newResult];\n    updatedBdiResults.sort((a, b) => new Date(a.date) - new Date(b.date)); \n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { bdi2Results: updatedBdiResults }, { merge: true });\n      setNewBdiScore(''); setAppError(null); \n    } catch (err) { console.error(\"Error adding BDI-II result:\", err); setAppError(\"Fehler beim Hinzufügen des BDI-II Ergebnisses.\"); }\n  };\n  const handleRemoveBdiResult = async (dateToRemove) => { \n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const updatedBdiResults = selectedPatient.bdi2Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { bdi2Results: updatedBdiResults }, { merge: true }); }\n    catch (err) { console.error(\"Error removing BDI-II result:\", err); setAppError(\"Fehler beim Entfernen des BDI-II Ergebnisses.\"); }\n  };\n  const handleAddFepResult = async (result) => { // Erhält jetzt das fertige Ergebnis-Objekt\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n\n    const updatedFepResults = [...(selectedPatient.fep2Results || []), result];\n    updatedFepResults.sort((a, b) => new Date(a.date) - new Date(b.date)); \n    \n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n        await setDoc(patientRef, { fep2Results: updatedFepResults }, { merge: true });\n    } catch (err) {\n        console.error(\"Error adding FEP-2 result:\", err);\n        setAppError(\"Fehler beim Hinzufügen des FEP-2 Ergebnisses.\");\n    }\n  };\n  const handleRemoveFepResult = async (dateToRemove) => { \n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const updatedFepResults = selectedPatient.fep2Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { fep2Results: updatedFepResults }, { merge: true }); }\n    catch (err) { console.error(\"Error removing FEP-2 result:\", err); setAppError(\"Fehler beim Entfernen des FEP-2 Ergebnisses.\"); }\n  };\n  const handleAddScl90rResult = async (result) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n\n    const newResultToSave = {\n        rawScores: result.rawScores,\n        tScores: result.tScores,\n        globalScores: result.globalScores,\n        itemScores: result.itemScores, // Das entscheidende Feld, das fehlte\n        date: result.date // Behalten Sie das ursprüngliche Datum für die Anzeige bei\n    };\n\n    // Fügen Sie das neue, explizit erstellte Ergebnisobjekt zum Array hinzu\n    const updatedScl90rResults = [...(selectedPatient.scl90rResults || []), newResultToSave];\n    \n    // Sortieren Sie die Ergebnisse nach Datum, damit das Neueste oben steht\n    updatedScl90rResults.sort((a, b) => new Date(b.date) - new Date(a.date));\n\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n        await setDoc(patientRef, { scl90rResults: updatedScl90rResults }, { merge: true });\n        console.log(\"SCL-90-R-Ergebnis erfolgreich gespeichert mit itemScores.\");\n    } catch (err) {\n        console.error(\"Error adding SCL-90-R result:\", err);\n        setAppError(\"Fehler beim Speichern des SCL-90-R Ergebnisses.\");\n    }\n  };\n  const handleRemoveScl90rResult = async (dateToRemove) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n\n    // Filtern Sie das Array, um das Ergebnis mit dem übereinstimmenden Datum zu entfernen\n    const updatedScl90rResults = selectedPatient.scl90rResults.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n        await setDoc(patientRef, { scl90rResults: updatedScl90rResults }, { merge: true });\n    } catch (err) {\n        console.error(\"Error removing SCL-90-R result:\", err);\n        setAppError(\"Fehler beim Entfernen des SCL-90-R Ergebnisses.\");\n    }\n  };\n  const fetchSessionSummary = async (sessionNotes, sessionIndex) => { \n    setSessionSummaries(prev => ({ ...prev, [sessionIndex]: { ...prev[sessionIndex], isLoading: true, error: null } }));\n    const prompt = `Fasse die folgenden Therapiesitzungsnotizen prägnant zusammen. Konzentriere dich auf die wichtigsten Themen, Interventionen und den Fortschritt des Patienten:\\n\\n\"${sessionNotes}\"`;\n    try { const summary = await generateGeminiText(prompt); setSessionSummaries(prev => ({ ...prev, [sessionIndex]: { summary: summary, isLoading: false, error: null } })); } \n    catch (e) { setSessionSummaries(prev => ({ ...prev, [sessionIndex]: { ...prev[sessionIndex], isLoading: false, error: e.message } })); setAppError(`Fehler bei der Zusammenfassung: ${e.message}`); }\n  };\n  const handleKrankheitsmodellChange = async (fieldName, value) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n        await setDoc(patientRef, { [fieldName]: value }, { merge: true });\n    } catch (err) {\n        console.error(`Error updating ${fieldName}:`, err);\n        setAppError(`Fehler beim Speichern von ${fieldName}.`);\n    }\n  };\n  const handleTherapeutischeAssistenzAnfordern = async () => {\n    if (!selectedPatient) {\n        setAssistenzError(\"Bitte wählen Sie zuerst einen Patienten aus.\");\n        return;\n    }\n    setIsLoadingTherapeutischeAssistenz(true);\n    setTherapeutischeAssistenzOutput(\"\");\n    setAssistenzError(null);\n\n    const patientenDatenText = `\nHier sind die relevanten Patientendaten:\n\n**Krankheitsanamnese:**\n${selectedPatient.krankheitsanamnese || \"Keine Angaben.\"}\n\n**Lebensgeschichte/Biografie:**\n${selectedPatient.lebensgeschichte || \"Keine Angaben.\"}\n\n**Problemanalyse auf Makroebene:**\n${selectedPatient.problemanalyseMakro || \"Keine Angaben.\"}\n\n**Therapieplanung (bisherig):**\n${selectedPatient.therapieplan || \"Keine Angaben.\"}\n\n**Verlaufsdokumentation (Sitzungsnotizen):**\n${(selectedPatient.sessions || []).map((s, i) => `Sitzung ${i+1} (${new Date(s.date).toLocaleDateString('de-DE')}): ${s.notes}`).join(\"\\n\\n\") || \"Keine Sitzungsnotizen vorhanden.\"}\n\n**Diagnosen:**\n${(selectedPatient.diagnoses || []).join(\", \") || \"Keine Diagnosen erfasst.\"}\n\n**Genehmigte Stunden:** ${selectedPatient.approvedHours}\n**Durchgeführte Stunden:** ${selectedPatient.conductedHours}\n    `;\n\n    const systemPrompt = `Du bist ein interdisziplinäres Expertenteam, bestehend aus erfahrenen Verhaltenstherapeuten wie Jürgen Margraf, Dr. Stavemann, Aaron T. Beck, Judith Beck und Jonathan S. Abramowitz sowie aus leitenden Chefärzten und Psychiatern wie Prof. Dr. Mathias Berger. Das Team verfügt über exzellente Fachkompetenz in der evidenzbasierten psychotherapeutischen Praxis und legt besonderen Wert auf präzise medizinische Dokumentation sowie therapeutische Qualität. Darüber hinaus gehören auch international anerkannte Experten wie David H. Barlow, Stefan G. Hofmann und Steven Hayes zum Team. Du verfügst über tiefgehendes Wissen in Ansätzen der sogenannten „dritten Welle“ der Verhaltenstherapie, insbesondere in ACT, Schematherapie und DBT.\n\nDeine Aufgabe ist es, auf Grundlage folgender Elemente, welche du aus den bereitgestellten Patientendaten entnimmst:\n- Krankheitsanamnese\n- Lebensgeschichte/Biografie\n- Problemanalyse auf Makroebene\n- Therapieplanung (bisherig)\n- Verlaufsdokumentation (Sitzungsnotizen)\n\neine strukturierte Rückmeldung zu geben mit dem Ziel:\n1. Wesentliche Schwerpunkte in der weiteren Therapieplanung zu identifizieren.\n2. Konkrete Interventionsideen zu formulieren, orientiert an den zugelassenen Stunden.\n3. Hinweise zu geben, worauf in der Strukturierung der Sitzungen geachtet werden sollte (z.B. Themenfokus, Symptomschwere, Therapiezielorientierung).\n\nBerücksichtige dabei:\n• Die begrenzte Anzahl genehmigter Stunden.\n• Dass Themen nicht zu häufig gewechselt werden sollen.\n• Die Konsistenz und Nachvollziehbarkeit im Verlauf.\n\nBitte plane deine Analyse gründlich und reflektiert. Handle in Etappen:\n1. Diagnostische Schwerpunkte benennen\n2. Therapieziele definieren\n3. Interventionsvorschläge machen\n4. Hinweise zur Dokumentation geben\n\nAtme einmal tief ein und aus und nehme dir Zeit für die Aufgabe. Mache bitte weiter, bis das Problem vollständig gelöst ist. Planen bitte ausführlich vor jeder Aktion.\n\nHier sind die Daten des aktuellen Falls:\n${patientenDatenText}\n\nBitte gib deine strukturierte Rückmeldung.`;\n\n    try {\n        const assistenz = await generateGeminiText(systemPrompt);\n        setTherapeutischeAssistenzOutput(assistenz);\n    } catch (e) {\n        setAssistenzError(`Fehler bei der Anforderung der therapeutischen Assistenz: ${e.message}`);\n    } finally {\n        setIsLoadingTherapeutischeAssistenz(false);\n    }\n  };\n\n\n// In App.js\n\nconst showDiagnosisInfo = (diagnosisString) => {\n    console.log(\"Zeige Info für:\", diagnosisString); // Debug-Ausgabe\n    \n    const sicherheitMatch = diagnosisString.match(/^\\[([AVGZN]+)\\]\\s*/i); \n    const sicherheit = sicherheitMatch ? sicherheitMatch[1].toUpperCase() : '';\n    \n    const codeAndName = sicherheitMatch \n        ? diagnosisString.substring(sicherheitMatch[0].length) \n        : diagnosisString;\n    \n    const codeMatch = codeAndName.match(/^([A-Z][0-9]{1,2}(\\.[0-9A-Z]{1,2})?[*†]?)/i); \n    const code = codeMatch \n        ? codeMatch[0].toUpperCase() \n        : codeAndName.split(':')[0].trim().toUpperCase();\n    \n    console.log(\"Suche nach Code:\", code); // Debug-Ausgabe\n    const localData = findIcd10CodeLocal(code);\n    console.log(\"Gefundene Daten:\", localData); // Debug-Ausgabe\n\n    if (localData) {\n        setDiagnosisInfo({ \n            code: localData.code || code,\n            name: localData.name || '', \n            beschreibung: localData.beschreibung || localData.beschreibung_kategorie || '', \n            inkl: localData.inkl || [], \n            exkl: localData.exkl || [], \n            hinweise: localData.hinweise || [], \n            zusatz_info_code: localData.zusatz_info_code || '', \n            sicherheit: sicherheit, \n            isLoading: false, \n            error: null, \n            isOpen: true, \n            source: 'local' \n        });\n    } else { \n        setDiagnosisInfo({\n            code: code,\n            name: \"Unbekannter ICD-10 Code\",\n            isLoading: false,\n            error: `Für den ICD-10 Code \"${code}\" wurden keine Informationen in der lokalen Datenbank gefunden.`,\n            isOpen: true,\n            source: 'error'\n        });\n    }\n};\n\n    const fetchIcd11Details = async (diagnosis) => {\n        if (!diagnosis || !diagnosis.uri) {\n            setAppError(\"Keine gültige URI für die ICD-11 Diagnose vorhanden.\");\n            return;\n        }\n        const { code, title, uri } = diagnosis;\n        setDiagnosisInfo({ code: code, name: title, isLoading: true, error: null, isOpen: true, source: 'api' });\n        try {\n            const response = await fetch(`http://localhost:3001/api/icd11-info?uri=${encodeURIComponent(uri)}`);\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.message || 'API-Anfrage fehlgeschlagen');\n            }\n            const fullData = await response.json();\n            setDiagnosisInfo({\n                code: fullData.code || code,\n                name: fullData.title?.['@value'] || title,\n                beschreibung: fullData.definition?.['@value'] || '',\n                diagnosticCriteria: fullData.diagnosticCriteria,\n                inclusions: fullData.inclusion,\n                exclusions: fullData.exclusion,\n                isLoading: false, error: null, isOpen: true,\n                source: 'api_detail' \n            });\n        } catch (error) {\n            console.error('Fehler beim Abrufen der ICD-11 Details:', error);\n            setDiagnosisInfo({ code: code, isLoading: false, error: `Konnte Informationen für ${code} nicht laden: ${error.message}`, isOpen: true, source: 'api' });\n        }\n    };\n\n    const handleAssignIcd11Diagnosis = async (patientId, icd11Entity) => {\n        if (!patientId || !icd11Entity || !userId) return;\n        const collectionPath = getPatientsCollectionPath();\n        if (!collectionPath) return;\n        const patientRef = doc(db, collectionPath, patientId);\n        const targetPatient = patients.find(p => p.id === patientId);\n        if (!targetPatient) { setAppError(\"Ziel-Patient konnte nicht gefunden werden.\"); return; }\n        const newDiagnosis = { code: icd11Entity.code, title: icd11Entity.selectedText, uri: icd11Entity.linearizationUri || icd11Entity.foundationUri, date: new Date().toISOString() };\n        const updatedDiagnoses = [...(targetPatient.diagnoses_icd11 || []), newDiagnosis];\n        try { await setDoc(patientRef, { diagnoses_icd11: updatedDiagnoses }, { merge: true }); } \n        catch (err) { console.error(\"Error assigning ICD-11 diagnosis:\", err); setAppError(\"Fehler beim Zuweisen der ICD-11 Diagnose.\"); }\n    };\n\n    const handleRemoveIcd11Diagnosis = async (diagnosisToRemove) => {\n        if (!selectedPatient || !userId) return;\n        const collectionPath = getPatientsCollectionPath();\n        if (!collectionPath) return;\n        const updatedDiagnoses = selectedPatient.diagnoses_icd11.filter(d => d.date !== diagnosisToRemove.date);\n        const patientRef = doc(db, collectionPath, selectedPatient.id);\n        try { await setDoc(patientRef, { diagnoses_icd11: updatedDiagnoses }, { merge: true }); } \n        catch (err) { console.error(\"Error removing ICD-11 diagnosis:\", err); setAppError(\"Fehler beim Entfernen der ICD-11 Diagnose.\"); }\n    };\n    \n    const totalApprovedHours = patients.reduce((sum, p) => sum + (p.approvedHours || 0), 0);\n    const totalConductedHours = patients.reduce((sum, p) => sum + (p.conductedHours || 0), 0);\n    const overallProgressTarget = 600;\n    const overallProgress = overallProgressTarget > 0 ? (totalConductedHours / overallProgressTarget) * 100 : 0;\n    \n    const inputStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\";\n    const btnPrimary = \"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm flex items-center justify-center\";\n    const btnDanger = \"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md flex items-center\";\n    const btnInfo = \"bg-sky-500 hover:bg-sky-600 text-white font-semibold py-1 px-2 text-xs rounded-md flex items-center\";\n    const textareaStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm min-h-[150px]\";\n    \n    if (!isAuthReady) return <div className=\"flex justify-center items-center h-screen text-xl font-semibold text-gray-700\">Authentifizierung wird initialisiert...</div>;\n \n    if (!userId) { return ( <div className=\"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 flex flex-col justify-center items-center p-4\"> <div className=\"bg-white p-8 rounded-xl shadow-2xl w-full max-w-md\"> <h1 className=\"text-3xl font-bold text-center text-indigo-600 mb-8\">{isLoginView ? \"Login Patientenverwaltung\" : \"Registrierung\"}</h1>{authError && <p className=\"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-sm\">{authError}</p>}<form onSubmit={(e) => { e.preventDefault(); handleAuthAction(isRegistering); }} className=\"space-y-6\"><div><label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">E-Mail Adresse</label><input type=\"email\" name=\"email\" id=\"email\" required value={email} onChange={(e) => setEmail(e.target.value)} className={inputStd} /></div><div><label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">Passwort</label><input type=\"password\" name=\"password\" id=\"password\" required value={password} onChange={(e) => setPassword(e.target.value)} className={inputStd} /></div><button type=\"submit\" disabled={isAuthLoading} className={`${btnPrimary} w-full py-3 text-base ${isAuthLoading ? 'opacity-50 cursor-not-allowed' : ''}`}>{isAuthLoading ? (isLoginView ? \"Anmelden...\" : \"Registrieren...\") : (isLoginView ? \"Anmelden\" : \"Registrieren\")}</button></form><button onClick={() => { setIsLoginView(!isLoginView); setAuthError(null); }} className=\"mt-6 text-sm text-indigo-600 hover:text-indigo-500 text-center w-full\">{isLoginView ? \"Noch kein Konto? Jetzt registrieren.\" : \"Bereits registriert? Zum Login.\"}</button></div></div> );}\n    \n    return (\n        <div className=\"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 font-sans\">\n            <header className=\"bg-indigo-700 text-white shadow-lg\">\n                <div className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center\">\n                    <h1 className=\"text-3xl font-bold tracking-tight\">Therapie-Dashboard</h1>\n                    <div className=\"flex items-center space-x-4\">\n                        {userId && <p className=\"text-xs opacity-75 hidden sm:block\">UserID: {userId}</p>}\n                        <button onClick={handleLogout} className=\"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md text-sm flex items-center\">\n                            <LogOut className=\"mr-2 h-4 w-4\"/> Logout\n                        </button>\n                    </div>\n                </div>\n            </header>\n            \n                    <main className=\"container mx-auto p-4 sm:p-6 lg:p-8\">\n            {/* Add the ConfirmationModal */}\n            <ConfirmationModal\n                isOpen={isConfirmDeleteModalOpen}\n                onClose={() => setIsConfirmDeleteModalOpen(false)}\n                onConfirm={confirmDeletePatient}\n                title=\"Patient löschen\"\n                message=\"Möchten Sie diesen Patienten wirklich löschen? Diese Aktion kann nicht rückgängig gemacht werden.\"\n            />\n            \n            {/* Add the PatientForm Modal */}\n            <Modal \n                isOpen={isPatientModalOpen} \n                onClose={() => setIsPatientModalOpen(false)}\n                title={editingPatient ? \"Patient bearbeiten\" : \"Neuen Patienten anlegen\"}\n            >\n                <PatientForm\n                    patient={editingPatient}\n                    onSave={handleSavePatient}\n                    onCancel={() => setIsPatientModalOpen(false)}\n                />\n            </Modal>\n                <div className=\"mb-6 border-b border-gray-300\">\n                    <nav className=\"flex space-x-4\">\n                        <button onClick={() => setMainView('patients')} className={`py-3 px-4 font-medium text-lg rounded-t-lg ${mainView === 'patients' ? 'bg-white text-indigo-700 shadow-md' : 'bg-transparent text-gray-500 hover:text-indigo-600'}`}>Patientenverwaltung</button>\n                        <button onClick={() => setMainView('icd11')} className={`py-3 px-4 font-medium text-lg rounded-t-lg ${mainView === 'icd11' ? 'bg-white text-indigo-700 shadow-md' : 'bg-transparent text-gray-500 hover:text-indigo-600'}`}>ICD-11 Nachschlagewerk</button>\n                    </nav>\n                </div>\n\n                {mainView === 'patients' && (\n                    <>\n                        <div ref={overviewRef} className=\"mb-6 flex justify-between items-center\">\n                            <h2 className=\"text-2xl font-semibold text-gray-800\">Patientenübersicht</h2>\n                            <button onClick={() => { setEditingPatient(null); setIsPatientModalOpen(true); }} className={`${btnPrimary} py-2 px-4`}>\n                                <UserPlus className=\"w-5 h-5 mr-2\" /> Patient hinzufügen\n                            </button>\n                        </div>\n                        \n                        <div className=\"bg-white shadow-xl rounded-lg overflow-hidden mb-8\">\n                            <div className=\"overflow-x-auto\">\n                                <table className=\"w-full min-w-max table-auto text-left\">\n                                    <thead className=\"bg-gray-100 border-b border-gray-300\"><tr>{['Name', 'Chiffre', 'Diagnosen', 'Therapie', 'Stunden', 'Fortschritt', 'Aktionen'].map(header => (<th key={header} className=\"py-3 px-4 text-sm font-semibold text-gray-600 uppercase tracking-wider\">{header}</th>))}</tr></thead>\n                                    <tbody className=\"divide-y divide-gray-200\">\n                                        {patients.length === 0 && !isLoading && (<tr><td colSpan=\"7\" className=\"text-center py-10 text-gray-500\">Keine Patienten gefunden.</td></tr>)}\n                                        {patients.map((patient) => { \n                                            const progress = patient.approvedHours > 0 ? (patient.conductedHours / patient.approvedHours) * 100 : 0;\n                                            return ( \n                                                <tr key={patient.id} className={`hover:bg-indigo-50 cursor-pointer ${selectedPatient?.id === patient.id ? 'bg-indigo-100' : ''}`} onClick={() => { setSelectedPatient(patient); setActiveDetailTab('details'); setSessionSummaries({}); setTherapeutischeAssistenzOutput(''); setAssistenzError(null); }}>\n                                                    <td className=\"py-3 px-4 whitespace-nowrap text-sm font-medium text-gray-800\">{patient.name}</td>\n                                                    <td className=\"py-3 px-4 whitespace-nowrap text-sm text-gray-600\">{patient.chiffre}</td>\n                                                    <td className=\"py-3 px-4 text-sm text-gray-600 max-w-xs\"><div className=\"flex flex-col space-y-1\">{(patient.diagnoses || []).slice(0, 4).map((diag, idx) => { const sicherheitMatch = diag.match(/^\\[([AVGZN]+)\\]/i); const sicherheit = sicherheitMatch ? sicherheitMatch[1].toUpperCase() : ''; const colorClasses = {'G': 'bg-green-100 text-green-800 hover:bg-green-200','V': 'bg-yellow-100 text-yellow-800 hover:bg-yellow-200','A': 'bg-red-100 text-red-800 hover:bg-red-200','ZN': 'bg-blue-100 text-blue-800 hover:bg-blue-200'}[sicherheit] || 'bg-gray-100 text-gray-800 hover:bg-gray-200'; return ( <span key={idx} className={`px-2 py-0.5 text-xs rounded-full truncate inline-block cursor-pointer ${colorClasses}`} onClick={(e) => { e.stopPropagation(); showDiagnosisInfo(diag);}} title={`Info zu ${diag} anzeigen`}> {diag} </span> );})}{(patient.diagnoses || []).length > 4 && (<span className=\"text-xs text-gray-500 mt-1\">...</span>)}{(patient.diagnoses || []).length === 0 && \"-\"}</div></td>\n                                                    <td className=\"py-3 px-4 whitespace-nowrap text-sm text-gray-600\">{patient.therapyType}</td>\n                                                    <td className=\"py-3 px-4 whitespace-nowrap text-sm text-gray-600 text-center\">{`${patient.conductedHours} / ${patient.approvedHours}`}</td>\n                                                    <td className=\"py-3 px-4 whitespace-nowrap\"><div className=\"w-full bg-gray-200 rounded-full h-2.5\"><div className={`h-2.5 rounded-full ${progress > 80 ? 'bg-red-500' : progress > 50 ? 'bg-yellow-400' : 'bg-green-500'}`} style={{ width: `${Math.min(progress, 100)}%` }}></div></div><span className=\"text-xs text-gray-500 block text-center mt-1\">{Math.round(progress)}%</span></td>\n                                                    <td className=\"py-3 px-4 whitespace-nowrap text-sm space-x-2\"><button onClick={(e) => { e.stopPropagation(); setEditingPatient(patient); setIsPatientModalOpen(true); }} className=\"text-indigo-600 hover:text-indigo-800 transition duration-150 p-1 rounded hover:bg-indigo-100\" title=\"Bearbeiten\"><Edit3 className=\"w-5 h-5\" /></button><button onClick={(e) => { e.stopPropagation(); openDeleteConfirmation(patient.id); }} className=\"text-red-500 hover:text-red-700 transition duration-150 p-1 rounded hover:bg-red-100\" title=\"Löschen\"><Trash2 className=\"w-5 h-5\" /></button></td>\n                                                </tr>\n                                            );\n                                        })}\n                                    </tbody>\n                                    <tfoot className=\"bg-gray-50 border-t-2 border-gray-300\"><tr><td colSpan=\"4\" className=\"py-3 px-4 text-sm font-semibold text-gray-700 text-right\">Gesamt:</td><td className=\"py-3 px-4 text-sm font-semibold text-gray-700 text-center\">{`${totalConductedHours} / ${totalApprovedHours}`}</td><td className=\"py-3 px-4 whitespace-nowrap\" colSpan=\"2\"><div className=\"flex items-center\"><span className=\"text-xs text-gray-600 mr-3 w-auto\">Fortschritt (600 Std.):</span><div className=\"w-full bg-gray-200 rounded-full h-2.5 flex-grow\"><div className=\"bg-blue-500 h-2.5 rounded-full\" style={{ width: `${Math.min(overallProgress, 100)}%` }}></div></div><span className=\"text-xs text-gray-600 ml-2\">{Math.round(overallProgress)}%</span></div></td></tr></tfoot>\n                                </table>\n                            </div>\n                        </div>\n                        \n                         {selectedPatient && (\n                           <div ref={detailViewRef} className=\"bg-white shadow-xl rounded-lg p-6 mb-8\">\n                                <div className=\"flex justify-between items-center mb-1\"><h3 className=\"text-2xl font-semibold text-indigo-700\">{selectedPatient.name}</h3><button onClick={() => { if (overviewRef.current) { overviewRef.current.scrollIntoView({ behavior: 'smooth' });} setTimeout(() => { setSelectedPatient(null); setSessionSummaries({}); setTherapeutischeAssistenzOutput(''); setAssistenzError(null); }, 300); }} className=\"text-gray-500 hover:text-gray-700\"><XCircle className=\"w-7 h-7\" /></button></div>\n                                <div className=\"border-b border-gray-200 mb-6\"><nav className=\"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto\" aria-label=\"Tabs\">{['details', 'krankheitsmodell', 'diagnostik', 'assistenz'].map(tab => (<button key={tab} onClick={() => setActiveDetailTab(tab)} className={`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${activeDetailTab === tab ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`}>{tab === 'details' && 'Stammdaten & Sitzungen'}{tab === 'krankheitsmodell' && 'Krankheitsmodell'}{tab === 'diagnostik' && 'Diagnostik'}{tab === 'assistenz' && 'Therap. Assistenz'}</button>))}</nav></div>\n\n{activeDetailTab === 'details' && (\n    <div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n            <div><p className=\"text-sm text-gray-500\">Chiffre</p><p className=\"text-lg text-gray-800\">{selectedPatient.chiffre}</p></div>\n            <div><p className=\"text-sm text-gray-500\">Therapieform</p><p className=\"text-lg text-gray-800\">{selectedPatient.therapyType}</p></div>\n            <div><p className=\"text-sm text-gray-500\">Genehmigte Stunden</p><p className=\"text-lg text-gray-800\">{selectedPatient.approvedHours}</p></div>\n            <div>\n                <label htmlFor=\"conductedHoursDetail\" className=\"block text-sm font-medium text-gray-500\">Durchgeführte Stunden</label>\n                <div className=\"flex items-center mt-1\">\n                    <input type=\"number\" id=\"conductedHoursDetail\" value={editableConductedHours} onChange={(e) => setEditableConductedHours(e.target.value)} onBlur={(e) => { let finalHours = parseInt(e.target.value, 10); if (isNaN(finalHours) || finalHours < 0) { finalHours = 0; } else if (selectedPatient && finalHours > selectedPatient.approvedHours) { finalHours = selectedPatient.approvedHours; } setEditableConductedHours(String(finalHours)); if (selectedPatient) { handleUpdateConductedHours(selectedPatient.id, finalHours); } }} min=\"0\" max={selectedPatient ? selectedPatient.approvedHours : undefined} className={`${inputStd} w-24`} />\n                    <span className=\"ml-2 text-sm text-gray-600\">/ {selectedPatient.approvedHours}</span>\n                </div>\n            </div>\n        </div>\n        <div className=\"mb-6\">\n            <h4 className=\"text-xl font-semibold text-gray-700 mb-3\">ICD-10 F-Diagnosen</h4>\n            <div className=\"mb-3 p-4 bg-gray-50 rounded-md\"><div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\"><div><label htmlFor=\"newDiagnosisCode\" className=\"block text-xs font-medium text-gray-700\">Code (z.B. F32.2)</label><input type=\"text\" id=\"newDiagnosisCode\" value={newDiagnosisCode} onChange={(e) => setNewDiagnosisCode(e.target.value.toUpperCase())} placeholder=\"F-Code\" className={`${inputStd} mt-1`}/></div><div><label htmlFor=\"newDiagnosisSicherheit\" className=\"block text-xs font-medium text-gray-700\">Sicherheit</label><select id=\"newDiagnosisSicherheit\" value={newDiagnosisSicherheit} onChange={(e) => setNewDiagnosisSicherheit(e.target.value)} className={`${inputStd} mt-1`}><option value=\"G\">G (Gesichert)</option><option value=\"V\">V (Verdacht auf)</option><option value=\"A\">A (Ausschluss)</option><option value=\"ZN\">ZN (Zustand nach)</option></select></div><div className=\"md:col-span-1\"><label htmlFor=\"newDiagnosisName\" className=\"block text-xs font-medium text-gray-700\">Manuelle Beschreibung (optional)</label><input type=\"text\" id=\"newDiagnosisName\" value={newDiagnosis} onChange={(e) => setNewDiagnosis(e.target.value)} placeholder=\"Eigene Beschreibung\" className={`${inputStd} mt-1`}/></div><button onClick={handleAddDiagnosis} className={`${btnPrimary} bg-green-500 hover:bg-green-600 py-2 px-3 h-10 md:self-end`}><PlusCircleIcon className=\"w-5 h-5 mr-1\" /> Hinzufügen</button></div>{lookedUpDiagnosisName && <p className=\"text-xs text-indigo-600 mt-1\">Gefunden: {lookedUpDiagnosisName}</p>}</div>\n            <ul className=\"space-y-1 mb-3\">\n                {(selectedPatient.diagnoses || []).map((diagString, index) => ( <li key={index} className=\"flex justify-between items-center bg-gray-50 p-2 rounded-md\"><span className=\"text-sm text-gray-700\">{diagString}</span><div className=\"flex items-center space-x-2\"><button onClick={() => showDiagnosisInfo(diagString)} className={`${btnInfo} p-1`} title=\"Info zu dieser Diagnose abrufen\"><FileJson2 className=\"w-4 h-4 mr-1\"/> Info</button><button onClick={() => handleRemoveDiagnosis(diagString)} className={`${btnDanger} p-1 text-xs`}><Trash2 className=\"w-4 h-4\" /></button></div></li>))}\n                {(selectedPatient.diagnoses || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine Diagnosen erfasst.</p>}\n            </ul>\n        </div>\n        <div className=\"mb-6\">\n            <h4 className=\"text-xl font-semibold text-gray-700 mb-3\">ICD-11 Diagnosen</h4>\n            <ul className=\"space-y-1\">\n                {(selectedPatient.diagnoses_icd11 || []).map((diag, index) => (<li key={index} className=\"flex justify-between items-center bg-purple-50 p-2 rounded-md hover:bg-purple-100 cursor-pointer\" onClick={() => fetchIcd11Details(diag)}><span className=\"text-sm text-purple-800\"><strong className=\"font-mono\">{diag.code}</strong> - {diag.title}</span><button onClick={(e) => { e.stopPropagation(); handleRemoveIcd11Diagnosis(diag); }} className=\"text-red-500 hover:text-red-700 p-1 text-xs\" title=\"ICD-11 Diagnose entfernen\"><Trash2 className=\"w-4 h-4\" /></button></li>))}\n                {(selectedPatient.diagnoses_icd11 || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine ICD-11 Diagnosen erfasst.</p>}\n            </ul>\n        </div>\n        <div> \n            <h4 className=\"text-xl font-semibold text-gray-700 mb-3\">Sitzungsdokumentation</h4>\n            <div className=\"bg-gray-50 p-4 rounded-lg mb-4\">\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3\">\n                    <div><label htmlFor=\"sessionDate\" className=\"block text-sm font-medium text-gray-700\">Datum</label><input type=\"date\" id=\"sessionDate\" value={newSessionDate} onChange={(e) => setNewSessionDate(e.target.value)} className={inputStd}/></div>\n                    <div className=\"md:col-span-2\"><label htmlFor=\"sessionNotes\" className=\"block text-sm font-medium text-gray-700\">Notizen</label><textarea id=\"sessionNotes\" value={newSessionNotes} onChange={(e) => setNewSessionNotes(e.target.value)} rows=\"3\" placeholder=\"Sitzungsnotizen...\" className={inputStd}></textarea></div>\n                </div>\n                <button onClick={handleAddSession} className={`${btnPrimary} bg-blue-500 hover:bg-blue-600`}><PlusCircleIcon className=\"w-5 h-5 mr-2\" /> Sitzung hinzufügen</button>\n            </div>\n            <h5 className=\"text-md font-semibold text-gray-600 mb-2\">Protokollierte Sitzungen:</h5>\n            <div className=\"space-y-3 max-h-96 overflow-y-auto pr-2\">\n                {(selectedPatient.sessions || []).map((session, index) => (\n                    <div key={index} className=\"bg-white border border-gray-200 p-3 rounded-md shadow-sm\">\n                        <div className=\"flex justify-between items-start\">\n                            <p className=\"text-sm font-semibold text-gray-700\">Datum: {new Date(session.date).toLocaleDateString('de-DE')}</p>\n                            <button onClick={() => fetchSessionSummary(session.notes, index)} disabled={sessionSummaries[index]?.isLoading} className={`${btnInfo} text-xs`} title=\"Sitzungsnotizen zusammenfassen\">{sessionSummaries[index]?.isLoading ? 'Lädt...' : '✨ Zusammenf.'}</button>\n                        </div>\n                        <p className=\"text-sm text-gray-600 whitespace-pre-wrap mt-1\">{session.notes}</p>\n                        {sessionSummaries[index]?.summary && !sessionSummaries[index]?.isLoading && (<div className=\"mt-2 p-2 bg-sky-50 border border-sky-200 rounded-md text-sm text-sky-700\"><p className=\"font-semibold\">Zusammenfassung:</p><p className=\"whitespace-pre-wrap\">{sessionSummaries[index].summary}</p></div>)}\n                        {sessionSummaries[index]?.error && (<p className=\"mt-2 text-xs text-red-500\">Fehler bei Zusammenfassung: {sessionSummaries[index].error}</p>)}\n                    </div>\n                ))}\n                {(selectedPatient.sessions || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine Sitzungen dokumentiert.</p>}\n            </div>\n        </div>\n    </div>\n)}\n                                {activeDetailTab === 'krankheitsmodell' && ( <div className=\"space-y-6\"><div><label htmlFor=\"krankheitsanamnese\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Krankheitsanamnese</label><textarea id=\"krankheitsanamnese\" name=\"krankheitsanamnese\" rows=\"6\" className={textareaStd} value={editableKrankheitsanamnese} onChange={(e) => setEditableKrankheitsanamnese(e.target.value)} onBlur={(e) => handleKrankheitsmodellChange('krankheitsanamnese', e.target.value)} placeholder=\"Hier die Krankheitsanamnese eintragen...\"></textarea></div><div><label htmlFor=\"lebensgeschichte\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Lebensgeschichte / Biographie</label><textarea id=\"lebensgeschichte\" name=\"lebensgeschichte\" rows=\"6\" className={textareaStd} value={editableLebensgeschichte} onChange={(e) => setEditableLebensgeschichte(e.target.value)} onBlur={(e) => handleKrankheitsmodellChange('lebensgeschichte', e.target.value)} placeholder=\"Wichtige Aspekte der Lebensgeschichte...\"></textarea></div><div><label htmlFor=\"problemanalyseMakro\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Problemanalyse auf Makroebene</label><textarea id=\"problemanalyseMakro\" name=\"problemanalyseMakro\" rows=\"6\" className={textareaStd} value={editableProblemanalyseMakro} onChange={(e) => setEditableProblemanalyseMakro(e.target.value)} onBlur={(e) => handleKrankheitsmodellChange('problemanalyseMakro', e.target.value)} placeholder=\"Analyse der übergeordneten Problembereiche...\"></textarea></div><div><label htmlFor=\"therapieplan\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Therapieplan</label><textarea id=\"therapieplan\" name=\"therapieplan\" rows=\"6\" className={textareaStd} value={editableTherapieplan} onChange={(e) => setEditableTherapieplan(e.target.value)} onBlur={(e) => handleKrankheitsmodellChange('therapieplan', e.target.value)} placeholder=\"Therapieziele und -maßnahmen...\"></textarea></div></div>)}\n                                {activeDetailTab === 'diagnostik' && (<div><div className=\"border-b border-gray-200 mb-4\"><nav className=\"-mb-px flex space-x-6\" aria-label=\"Diagnostik Sub-Tabs\">{['scl90r', 'fep2', 'bdi2', 'hscl11'].map(subTab => (<button key={subTab} onClick={() => setActiveDiagnostikSubTab(subTab)} className={`whitespace-nowrap pb-2 px-1 border-b-2 font-medium text-sm ${activeDiagnostikSubTab === subTab ? 'border-purple-500 text-purple-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`}>{subTab.toUpperCase()}</button>))}</nav></div>{activeDiagnostikSubTab === 'scl90r' && ( <SCL90RComponent patient={selectedPatient} onSaveResult={handleAddScl90rResult} onDeleteResult={handleRemoveScl90rResult} /> )}{activeDiagnostikSubTab === 'fep2' && ( <FEP2Component patient={selectedPatient} onSaveResult={handleAddFepResult} onDeleteResult={handleRemoveFepResult} setAppError={setAppError} /> )}{activeDiagnostikSubTab === 'bdi2' && ( <div><h4 className=\"text-xl font-semibold text-gray-700 mb-4\">BDI-II Ergebnisse</h4><div className=\"bg-gray-50 p-4 rounded-lg mb-6 shadow\"><h5 className=\"text-md font-semibold text-gray-600 mb-3\">Neues BDI-II Ergebnis</h5><div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3 items-end\"><div><label htmlFor=\"bdiDate\" className=\"block text-sm font-medium text-gray-700\">Datum</label><input type=\"date\" id=\"bdiDate\" value={newBdiDate} onChange={(e) => setNewBdiDate(e.target.value)} className={inputStd} /></div><div><label htmlFor=\"bdiScore\" className=\"block text-sm font-medium text-gray-700\">BDI-II Wert (0-63)</label><input type=\"number\" id=\"bdiScore\" value={newBdiScore} onChange={(e) => setNewBdiScore(e.target.value)} min=\"0\" max=\"63\" className={inputStd} /></div><button onClick={handleAddBdiResult} className={`${btnPrimary} h-10`}><PlusCircleIcon className=\"w-5 h-5 mr-2\" /> Speichern</button></div></div><div className=\"mb-6\"><h5 className=\"text-md font-semibold text-gray-600 mb-2\">Protokollierte BDI-II Ergebnisse:</h5><ul className=\"space-y-2\">{(selectedPatient.bdi2Results || []).map((result, index) => ( <li key={index} className=\"flex justify-between items-center bg-white border p-3 rounded-md shadow-sm\"><div><span className=\"font-medium\">{new Date(result.date).toLocaleDateString('de-DE')}</span>: <span className=\"text-gray-700\">Score {result.score}</span></div><button onClick={() => handleRemoveBdiResult(result.date)} className={`${btnDanger} p-1 text-xs`}><Trash2 className=\"w-4 h-4\" /></button></li>))}{(selectedPatient.bdi2Results || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine BDI-II Ergebnisse erfasst.</p>}</ul></div>{(selectedPatient.bdi2Results || []).length > 0 && (<div><h5 className=\"text-md font-semibold text-gray-600 mb-3\">Verlaufsgraph BDI-II</h5><div className=\"bg-white p-4 rounded-lg shadow\" style={{ height: '400px' }}><ResponsiveContainer width=\"100%\" height=\"100%\"><LineChart data={(selectedPatient.bdi2Results || []).map(r => ({...r, date: new Date(r.date).toLocaleDateString('de-DE')}))} margin={{ top: 5, right: 30, left: 0, bottom: 20 }}><CartesianGrid strokeDasharray=\"3 3\" /><XAxis dataKey=\"date\" /><YAxis domain={[0, 63]} ticks={bdiAxisTicks} allowDataOverflow={true}/><Tooltip /><Legend verticalAlign=\"top\" height={36}/>{bdiCutoffs.map(cutoff => ( <ReferenceArea key={cutoff.label} y1={cutoff.y1} y2={cutoff.y2} fill={cutoff.color} strokeOpacity={0.3} label={<CustomBdiLabel text={cutoff.label} y={cutoff.y2 - (cutoff.y2-cutoff.y1)/2} />}/> )) }<Line type=\"monotone\" dataKey=\"score\" name=\"BDI-II Score\" stroke=\"#3b82f6\" strokeWidth={2} activeDot={{ r: 8 }} /></LineChart></ResponsiveContainer></div></div>)}</div>)}{activeDiagnostikSubTab === 'hscl11' && ( <div><h4 className=\"text-xl font-semibold text-gray-700 mb-4\">HSCL-11 Ergebnisse</h4><div className=\"bg-gray-50 p-4 rounded-lg mb-6 shadow\"><h5 className=\"text-md font-semibold text-gray-600 mb-3\">Neues HSCL-11 Ergebnis</h5><div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-3 items-end\"><div><label htmlFor=\"hsclDate\" className=\"block text-sm font-medium text-gray-700\">Datum</label><input type=\"date\" id=\"hsclDate\" value={newHsclDate} onChange={(e) => setNewHsclDate(e.target.value)} className={inputStd} /></div><div><label htmlFor=\"hsclAngst\" className=\"block text-sm font-medium text-gray-700\">Angst (0-20)</label><input type=\"number\" id=\"hsclAngst\" value={newHsclAngst} onChange={(e) => setNewHsclAngst(e.target.value)} min=\"0\" max=\"20\" className={inputStd} /></div><div><label htmlFor=\"hsclDepression\" className=\"block text-sm font-medium text-gray-700\">Depression (0-24)</label><input type=\"number\" id=\"hsclDepression\" value={newHsclDepression} onChange={(e) => setNewHsclDepression(e.target.value)} min=\"0\" max=\"24\" className={inputStd} /></div><button onClick={handleAddHsclResult} className={`${btnPrimary} bg-teal-500 hover:bg-teal-600 h-10`}><PlusCircleIcon className=\"w-5 h-5 mr-2\" /> Speichern</button></div></div><div className=\"mb-6\"><h5 className=\"text-md font-semibold text-gray-600 mb-2\">Protokollierte HSCL-11 Ergebnisse:</h5><ul className=\"space-y-2\">{(selectedPatient.hscl11Results || []).map((result, index) => ( <li key={index} className=\"flex justify-between items-center bg-white border p-3 rounded-md shadow-sm\"><div><span className=\"font-medium\">{new Date(result.date).toLocaleDateString('de-DE')}</span>: <span className=\"text-sm text-gray-600 ml-2\">Angst: {result.angst}</span>, <span className=\"text-sm text-gray-600 ml-2\">Depression: {result.depression}</span>, <span className=\"text-sm text-gray-600 ml-2\">Gesamt: {result.cumulative}</span></div><button onClick={() => handleRemoveHsclResult(result.date)} className={`${btnDanger} p-1 text-xs`}><Trash2 className=\"w-4 h-4\" /></button></li>))}{(selectedPatient.hscl11Results || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine HSCL-11 Ergebnisse erfasst.</p>}</ul></div>{(selectedPatient.hscl11Results || []).length > 0 && (<div><h5 className=\"text-md font-semibold text-gray-600 mb-3\">Verlaufsgraph HSCL-11</h5><div className=\"bg-white p-4 rounded-lg shadow\" style={{ height: '400px' }}><ResponsiveContainer width=\"100%\" height=\"100%\"><LineChart data={(selectedPatient.hscl11Results || []).map(r => ({...r, date: new Date(r.date).toLocaleDateString('de-DE')}))} margin={{ top: 5, right: 30, left: 0, bottom: 5 }}><CartesianGrid strokeDasharray=\"3 3\" /><XAxis dataKey=\"date\" /><YAxis domain={[0, 44]} /><Tooltip /><Legend /><Line type=\"monotone\" dataKey=\"angst\" name=\"Angst\" stroke=\"#8884d8\" activeDot={{ r: 8 }} /><Line type=\"monotone\" dataKey=\"depression\" name=\"Depression\" stroke=\"#82ca9d\" /><Line type=\"monotone\" dataKey=\"cumulative\" name=\"Gesamt\" stroke=\"#ffc658\" /></LineChart></ResponsiveContainer></div></div>)}</div>)}</div>)}\n                                {activeDetailTab === 'assistenz' && (<div><h3 className=\"text-xl font-semibold text-gray-700 mb-4\">Therapeutische Assistenz</h3><button onClick={handleTherapeutischeAssistenzAnfordern} disabled={isLoadingTherapeutischeAssistenz} className={`${btnPrimary} bg-purple-600 hover:bg-purple-700 mb-4 flex items-center`}><WandSparkles className=\"mr-2 h-5 w-5\"/>{isLoadingTherapeutischeAssistenz ? \"Analysiere Daten...\" : \"Expertenfeedback anfordern\"}</button>{isLoadingTherapeutischeAssistenz && (<div className=\"text-center py-10\"><div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-700 mx-auto\"></div><p className=\"mt-3 text-gray-600\">Bitte warten, die KI analysiert die Patientendaten...</p></div>)}{assistenzError && (<div className=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4\" role=\"alert\"><p className=\"font-bold\">Fehler bei der Assistenz</p><p>{assistenzError}</p></div>)}{therapeutischeAssistenzOutput && !isLoadingTherapeutischeAssistenz && (<div className=\"mt-4 p-4 bg-gray-50 rounded-md border\"><h4 className=\"text-lg font-semibold text-gray-800 mb-2\">Vorschläge des Expertenteams:</h4><div className=\"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed\">{therapeutischeAssistenzOutput}</div></div>)}</div>)}\n                           </div>\n                        )}\n                    </>\n                )}\n\n               {mainView === 'icd11' && (\n                    <ICD11ECTBrowser \n                        patients={patients}\n                        selectedPatient={selectedPatient}\n                        onAssignDiagnosis={handleAssignIcd11Diagnosis}\n                    />\n                )}\n\n               <Modal \n    isOpen={diagnosisInfo.isOpen} \n    onClose={() => setDiagnosisInfo(prev => ({...prev, isOpen: false}))} \n    title={`Diagnose-Info: ${diagnosisInfo.code || ''}`} \n    size=\"3xl\"\n>\n    {diagnosisInfo.isLoading && (\n        <p className=\"text-center py-4\">Informationen werden geladen...</p>\n    )}\n    {diagnosisInfo.error && (\n        <p className=\"text-red-600 bg-red-100 p-3 rounded-md\">\n            Fehler: {diagnosisInfo.error}\n        </p>\n    )}\n\n    {/* --- Bestehender Block für ICD-10 --- */}\n    {!diagnosisInfo.isLoading && diagnosisInfo.source === 'local' && (\n        <div className=\"text-sm text-gray-700 leading-relaxed p-2 space-y-3\">\n            <h3 className=\"text-lg font-semibold text-indigo-700\">\n                {diagnosisInfo.name} \n                <span className=\"text-gray-500 text-base ml-2\">\n                    ({diagnosisInfo.code})\n                </span>\n            </h3>\n            {diagnosisInfo.beschreibung && (\n                <div>\n                    <strong className=\"font-medium text-gray-800 block mb-1\">\n                        Beschreibung:\n                    </strong>\n                    <p className=\"whitespace-pre-wrap\">\n                        {diagnosisInfo.beschreibung}\n                    </p>\n                </div>\n            )}\n            {diagnosisInfo.inkl?.length > 0 && (\n                <div>\n                    <strong className=\"font-medium text-gray-800 block mb-1\">\n                        Inklusive:\n                    </strong>\n                    <ul className=\"list-disc list-inside\">\n                        {diagnosisInfo.inkl.map((item, idx) => (\n                            <li key={idx}>{item}</li>\n                        ))}\n                    </ul>\n                </div>\n            )}\n            {diagnosisInfo.exkl?.length > 0 && (\n                <div>\n                    <strong className=\"font-medium text-gray-800 block mb-1\">\n                        Exklusive:\n                    </strong>\n                    <ul className=\"list-disc list-inside\">\n                        {diagnosisInfo.exkl.map((item, idx) => (\n                            <li key={idx}>{item}</li>\n                        ))}\n                    </ul>\n                </div>\n            )}\n        </div>\n    )}\n\n    {/* --- NEUER Block für ICD-11 --- */}\n    {!diagnosisInfo.isLoading && diagnosisInfo.source === 'api_detail' && (\n        <div className=\"text-sm text-gray-700 leading-relaxed p-2 space-y-4\">\n            <h3 className=\"text-lg font-semibold text-purple-700\">\n                {diagnosisInfo.name} \n                <span className=\"text-gray-500 text-base ml-2 font-mono\">\n                    ({diagnosisInfo.code})\n                </span>\n            </h3>\n\n            {/* Die Beschreibung kommt aus dem 'definition' Feld der API  */}\n            {diagnosisInfo.beschreibung && (\n                <div>\n                    <strong className=\"font-medium text-gray-800 block mb-1\">\n                        Beschreibung (Definition):\n                    </strong>\n                    <p className=\"whitespace-pre-wrap bg-gray-50 p-2 rounded-md\">\n                        {diagnosisInfo.beschreibung}\n                    </p>\n                </div>\n            )}\n\n            {/* Inklusionen sind ein Array von Objekten  */}\n            {diagnosisInfo.inclusions?.length > 0 && (\n                <div>\n                    <strong className=\"font-medium text-gray-800 block mb-1\">\n                        Inklusive:\n                    </strong>\n                    <ul className=\"list-disc list-inside pl-2 space-y-1\">\n                        {diagnosisInfo.inclusions.map((item, idx) => (\n                            <li key={idx}>{item.label['@value']}</li>\n                        ))}\n                    </ul>\n                </div>\n            )}\n            \n            {/* Exklusionen sind ebenfalls ein Array von Objekten  */}\n            {diagnosisInfo.exclusions?.length > 0 && (\n                <div>\n                    <strong className=\"font-medium text-gray-800 block mb-1\">\n                        Exklusive:\n                    </strong>\n                    <ul className=\"list-disc list-inside pl-2 space-y-1\">\n                        {diagnosisInfo.exclusions.map((item, idx) => (\n                             <li key={idx}>\n                                {item.label['@value']} \n                                {item.foundationReference && \n                                 <span className=\"text-xs text-gray-400 ml-2\">({item.linearizationReference.split('/').pop()})</span>}\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            )}\n        </div>\n    )}\n</Modal>\n                {appError && (<div className=\"fixed bottom-4 right-4 p-4 max-w-sm text-sm text-red-700 bg-red-100 border border-red-400 rounded-md shadow-lg z-[100]\">{appError}<button onClick={() => setAppError(null)} className=\"ml-4 mt-2 sm:mt-0 sm:ml-2 px-2 py-1 text-red-900 underline rounded-md hover:bg-red-200 text-xs\">Ok</button></div>)}\n            </main>\n            <footer className=\"text-center py-6 text-sm text-gray-500 border-t border-gray-200 mt-10\">Therapie-Dashboard &copy; {new Date().getFullYear()}</footer>\n        </div>\n    );\n}\n\n\nconst CustomBdiLabel = (props) => {\n    const { x, y, width, text } = props;\n    if (typeof x !== 'number' || isNaN(x) || \n        typeof y !== 'number' || isNaN(y) ||\n        typeof width !== 'number' || isNaN(width) || width <= 0) {\n        return null; \n    }\n    const labelX = x + width / 2;\n    return ( <text x={labelX} y={y} fill=\"#666\" textAnchor=\"middle\" dy={-4} fontSize=\"10\">{text}</text> );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}