{"ast":null,"code":"var _jsxFileName = \"/Users/julianrogowski/Desktop/patientenverwaltung-app/src/components/BillingModal.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\n\n// Icons\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SaveIcon = ({\n  className = \"w-4 h-4\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 4,\n    columnNumber: 226\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"17 21 17 13 7 13 7 21\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 4,\n    columnNumber: 302\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"7 3 7 8 15 8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 4,\n    columnNumber: 345\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 4,\n  columnNumber: 49\n}, this);\n_c = SaveIcon;\nconst PlusIcon = ({\n  className = \"w-4 h-4\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"5\",\n    x2: \"12\",\n    y2: \"19\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 226\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"5\",\n    y1: \"12\",\n    x2: \"19\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 270\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 5,\n  columnNumber: 49\n}, this);\n_c2 = PlusIcon;\nconst TrashIcon = ({\n  className = \"w-4 h-4\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"3 6 5 6 21 6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 227\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 270\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 6,\n  columnNumber: 50\n}, this);\n_c3 = TrashIcon;\nconst WandSparkles = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m9.5 2.55 1.294 1.294a1 1 0 0 0 1.414 0L13.5 2.55\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 231\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4.94 4.94 6.22 6.22a1 1 0 0 0 1.41 0l1.29-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 292\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M2.55 9.51 3.84 10.8a1 1 0 0 0 1.41 0l1.3-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 351\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m19.07 4.93-1.29 1.29a1 1 0 0 1-1.41 0l-1.29-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 409\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M21.45 9.51l-1.29 1.29a1 1 0 0 1-1.41 0l-1.3-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 470\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M14.5 12.94a1 1 0 0 0 0 1.41l1.29 1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 531\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M10.8 17.78a1 1 0 0 0 0 1.41l1.29 1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 581\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M17.78 10.8a1 1 0 0 0 0 1.41l1.29 1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 631\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 10.5V4.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 681\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 10.5C7 11 4 15 4 20\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 705\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 10.5c5 .5 8 4.5 8 9.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 740\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 7,\n  columnNumber: 54\n}, this);\n\n// A simple modal just for text input\n_c4 = WandSparkles;\nconst PasteTextModal = ({\n  isOpen,\n  onClose,\n  onSave,\n  isParsing\n}) => {\n  _s();\n  const [text, setText] = useState('');\n  if (!isOpen) return null;\n  const handleSave = () => {\n    onSave(text);\n    onClose();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-[60]\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-lg shadow-xl w-full max-w-2xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: \"Sitzungsdoku einf\\xFCgen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"w-full h-64 p-2 border rounded-md\",\n        value: text,\n        onChange: e => setText(e.target.value),\n        placeholder: \"F\\xFCgen Sie hier den kompletten Text Ihrer Sitzungsdokumentation ein...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end space-x-3 mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"px-4 py-2 text-sm text-gray-700 bg-gray-200 rounded-md\",\n          children: \"Abbrechen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSave,\n          disabled: isParsing || !text,\n          className: \"px-4 py-2 text-sm text-white bg-indigo-600 rounded-md disabled:bg-gray-400\",\n          children: isParsing ? 'Analysiere...' : 'Text zuordnen'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 9\n  }, this);\n};\n_s(PasteTextModal, \"M8VhbSOru85VOsk7T2j5DvKRp+M=\");\n_c5 = PasteTextModal;\nconst BillingModal = ({\n  event,\n  ebmData,\n  onSave,\n  onClose,\n  generateGeminiText\n}) => {\n  _s2();\n  // States\n  const [step, setStep] = useState(1);\n  const [ebmEntries, setEbmEntries] = useState([]);\n  const [ebmSearch, setEbmSearch] = useState('');\n  const [selectedEbm, setSelectedEbm] = useState(null);\n  const [anzahl, setAnzahl] = useState(1);\n  const [faktor, setFaktor] = useState(1);\n  const [isParsing, setIsParsing] = useState(false);\n  const [isPasteModalOpen, setIsPasteModalOpen] = useState(false);\n\n  // Corrected state for notes\n  const [notes, setNotes] = useState({\n    thema: '',\n    patientenbericht: '',\n    therapeutischeInterventionen: '',\n    gesamteindruck: '',\n    risikoabschaetzung: '',\n    hausaufgaben: ''\n  });\n  const [isSuicidal, setIsSuicidal] = useState(false);\n  const riskTextStandard = 'Auf Nachfrage wurden suizidale Gedanken, Impulse sowie Handlungsabsichten glaubhaft und eindeutig verneint. Die Absprachefähigkeit des Patienten ist gegeben. Es besteht kein Anhalt für eine akute Eigen- oder Fremdgefährdung.';\n\n  // AI function to parse the text\n  const handleAutoParseNotes = async rawNotes => {\n    setIsParsing(true);\n    const prompt = `Du bist ein Experte für die Analyse klinischer Dokumentationen. Deine Aufgabe ist es, den folgenden Text in strukturierte Abschnitte zu zerlegen. Die Abschnitte sind: \"Thema\", \"Patientenbericht\", \"Therapeutische Interventionen\", \"Gesamteindruck\", \"Risikoabschätzung\", \"Hausaufgaben\". Analysiere den Text und gib ein valides JSON-Objekt zurück, dessen Schlüssel exakt diesen Titeln entsprechen (in camelCase: \"thema\", \"patientenbericht\", \"therapeutischeInterventionen\", \"gesamteindruck\", \"risikoabschaetzung\", \"hausaufgaben\"). Der Wert für jeden Schlüssel soll der vollständige Text des entsprechenden Abschnitts sein. Wenn ein Abschnitt nicht gefunden wird, soll der Wert ein leerer String sein. Gib NUR das JSON-Objekt zurück, ohne umschließendes Markdown oder einleitenden Text.\n        Der zu parsende Text lautet:\n        ---\n        ${rawNotes}\n        ---`;\n    try {\n      const result = await generateGeminiText(prompt);\n      const cleanedResult = result.replace(/```json/g, '').replace(/```/g, '').trim();\n      const parsedJson = JSON.parse(cleanedResult);\n      // Check if risk assessment deviates from the standard\n      if (parsedJson.risikoabschaetzung && parsedJson.risikoabschaetzung !== riskTextStandard) {\n        setIsSuicidal(true);\n      }\n      setNotes(prev => ({\n        ...prev,\n        ...parsedJson\n      }));\n    } catch (error) {\n      console.error(\"Error parsing notes with AI:\", error);\n      // Using console.error instead of alert, as alert can be blocking.\n      // Consider a more user-friendly notification system.\n      console.error(\"Die automatische Zuordnung ist fehlgeschlagen. Bitte überprüfen Sie den Text oder füllen Sie die Felder manuell aus.\");\n    } finally {\n      setIsParsing(false);\n    }\n  };\n  const handleNoteChange = e => {\n    setNotes(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n  useEffect(() => {\n    if (!isParsing) {\n      // Only change if the AI is not working\n      setNotes(prev => ({\n        ...prev,\n        risikoabschaetzung: isSuicidal ? prev.risikoabschaetzung : riskTextStandard\n      }));\n    }\n  }, [isSuicidal, isParsing]);\n  const searchResults = useMemo(() => {\n    if (!ebmSearch) return [];\n    return ebmData.filter(item => item.Nummer.startsWith(ebmSearch) || item.Titel.toLowerCase().includes(ebmSearch.toLowerCase())).slice(0, 5);\n  }, [ebmSearch, ebmData]);\n  const handleSelectEbm = item => {\n    setSelectedEbm(item);\n    setEbmSearch(`${item.Nummer} - ${item.Titel}`);\n  };\n  const handleAddEbmEntry = () => {\n    if (selectedEbm) {\n      setEbmEntries(p => [...p, {\n        ...selectedEbm,\n        anzahl,\n        faktor\n      }]);\n      setSelectedEbm(null);\n      setEbmSearch('');\n      setAnzahl(1);\n      setFaktor(1);\n    }\n  };\n  const handleDeleteEbmEntry = index => setEbmEntries(p => p.filter((_, i) => i !== index));\n  const totalPoints = ebmEntries.reduce((sum, entry) => sum + (parseInt(entry.Punkte, 10) || 0) * entry.anzahl * entry.faktor, 0);\n  const handleSave = () => {\n    const m = event.summary.match(/[A-Z][0-9]{6}/);\n    onSave({\n      eventId: event.id,\n      eventStart: event.start.dateTime || event.start.date,\n      chiffre: m ? m[0] : null,\n      ebmEntries: ebmEntries.map(e => ({\n        nummer: e.Nummer,\n        anzahl: e.anzahl,\n        faktor: e.faktor\n      })),\n      notes\n    });\n  };\n\n  // Styling\n  const inputStyle = \"block w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 sm:text-sm\";\n  const textareaStyle = `${inputStyle} min-h-[90px] resize-y`;\n  const accentButton = \"bg-red-600 text-white font-semibold py-2 px-4 rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center justify-center\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(PasteTextModal, {\n      isOpen: isPasteModalOpen,\n      onClose: () => setIsPasteModalOpen(false),\n      onSave: handleAutoParseNotes,\n      isParsing: isParsing\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center items-center space-x-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex items-center ${step >= 1 ? 'text-red-600' : 'text-gray-400'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 ${step >= 1 ? 'bg-red-600 border-red-700 text-white' : 'bg-gray-200 border-gray-300'}`,\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 106\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-2 font-semibold\",\n            children: \"Leistungen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 291\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `h-0.5 w-16 ${step >= 2 ? 'bg-red-500' : 'bg-gray-200'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex items-center ${step >= 2 ? 'text-red-600' : 'text-gray-400'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 ${step >= 2 ? 'bg-red-600 border-red-700 text-white' : 'bg-gray-200 border-gray-300'}`,\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 106\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-2 font-semibold\",\n            children: \"Dokumentation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 291\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-fade-in space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border rounded-lg bg-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-lg text-gray-800 mb-3\",\n            children: \"Leistung hinzuf\\xFCgen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"EBM-Ziffer oder Titel suchen...\",\n              value: ebmSearch,\n              onChange: e => {\n                setEbmSearch(e.target.value);\n                setSelectedEbm(null);\n              },\n              className: inputStyle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 33\n            }, this), searchResults.length > 0 && ebmSearch && !selectedEbm && /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 shadow-lg max-h-48 overflow-y-auto\",\n              children: searchResults.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: () => handleSelectEbm(item),\n                className: \"px-3 py-2 cursor-pointer hover:bg-red-50\",\n                children: [item.Nummer, \" - \", item.Titel]\n              }, item.Nummer, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 68\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-3 gap-3 mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-xs font-medium text-gray-600\",\n                children: \"Anzahl\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 38\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: anzahl,\n                onChange: e => setAnzahl(Math.max(1, parseInt(e.target.value, 10) || 1)),\n                min: \"1\",\n                className: `${inputStyle} text-center`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 105\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-xs font-medium text-gray-600\",\n                children: \"Faktor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 38\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.1\",\n                value: faktor,\n                onChange: e => setFaktor(parseFloat(e.target.value) || 1),\n                min: \"1\",\n                className: `${inputStyle} text-center`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 105\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"self-end\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleAddEbmEntry,\n                disabled: !selectedEbm,\n                className: \"w-full bg-gray-700 text-white p-2 rounded-md hover:bg-gray-800 disabled:bg-gray-300 flex items-center justify-center\",\n                children: [/*#__PURE__*/_jsxDEV(PlusIcon, {\n                  className: \"w-4 h-4 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 248\n                }, this), \" Hinzuf\\xFCgen\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 59\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border rounded-lg bg-white mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-lg text-gray-800 mb-3\",\n            children: \"Abzurechnende Leistungen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [ebmEntries.map((entry, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center bg-gray-50 p-2 rounded-md\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-semibold\",\n                  children: [entry.Nummer, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600 font-normal\",\n                    children: [\"(\", entry.Titel, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 89\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500\",\n                  children: [\"Anzahl: \", entry.anzahl, \", Faktor: \", entry.faktor]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"mr-4 font-mono text-gray-800\",\n                  children: [(parseInt(entry.Punkte, 10) * entry.anzahl * entry.faktor).toFixed(0), \" Pkt.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeleteEbmEntry(index),\n                  className: \"text-red-500 hover:text-red-700 p-1\",\n                  children: /*#__PURE__*/_jsxDEV(TrashIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 145\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 41\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 37\n            }, this)), ebmEntries.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 text-center py-4\",\n              children: \"Noch keine Leistungen hinzugef\\xFCgt.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 61\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-right font-bold text-xl mt-4 pt-4 border-t\",\n              children: [\"Gesamt: \", totalPoints.toFixed(0), \" Punkte\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-fade-in space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsPasteModalOpen(true),\n            className: \"bg-gray-700 text-white py-2 px-3 text-sm rounded-md hover:bg-gray-800 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(WandSparkles, {\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 33\n            }, this), \"Textbaustein per KI einf\\xFCgen\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border rounded-lg bg-white space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-lg text-gray-800\",\n            children: \"Strukturierte Dokumentation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-600\",\n              children: \"Thema der Sitzung\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 34\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"thema\",\n              value: notes.thema,\n              onChange: handleNoteChange,\n              className: inputStyle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 112\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-600\",\n              children: \"Patientenbericht\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 34\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"patientenbericht\",\n              value: notes.patientenbericht,\n              onChange: handleNoteChange,\n              className: textareaStyle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 111\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-600\",\n              children: \"Therapeutische Interventionen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 34\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"therapeutischeInterventionen\",\n              value: notes.therapeutischeInterventionen,\n              onChange: handleNoteChange,\n              className: textareaStyle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 124\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-600\",\n              children: \"Gesamteindruck\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 34\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"gesamteindruck\",\n              value: notes.gesamteindruck,\n              onChange: handleNoteChange,\n              className: textareaStyle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 109\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-600\",\n              children: \"Risikoabsch\\xE4tzung (Suizidalit\\xE4t)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-4 mt-1 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  checked: !isSuicidal,\n                  onChange: () => setIsSuicidal(false),\n                  className: \"h-4 w-4 text-red-600 focus:ring-red-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 74\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 text-sm\",\n                  children: \"Nein\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 209\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  checked: isSuicidal,\n                  onChange: () => setIsSuicidal(true),\n                  className: \"h-4 w-4 text-red-600 focus:ring-red-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 74\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 text-sm\",\n                  children: \"Ja, Interventionsbedarf\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 207\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"risikoabschaetzung\",\n              value: notes.risikoabschaetzung,\n              onChange: handleNoteChange,\n              disabled: !isSuicidal,\n              className: `${textareaStyle} ${!isSuicidal ? 'bg-gray-100' : ''}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-600\",\n              children: \"Hausaufgaben\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 34\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"hausaufgaben\",\n              value: notes.hausaufgaben,\n              onChange: handleNoteChange,\n              className: inputStyle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 107\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between pt-6 mt-6 border-t\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => step > 1 ? setStep(step - 1) : onClose(),\n          className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300\",\n          children: step === 1 ? 'Abbrechen' : 'Zurück'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setStep(2),\n          className: accentButton,\n          children: \"Weiter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 36\n        }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSave,\n          className: `${accentButton} bg-green-600 hover:bg-green-700`,\n          children: [/*#__PURE__*/_jsxDEV(SaveIcon, {\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 127\n          }, this), \" Abrechnung speichern\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s2(BillingModal, \"f9OuFZLStWusLLe0qbeSaYu/OWY=\");\n_c6 = BillingModal;\nexport default BillingModal;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"SaveIcon\");\n$RefreshReg$(_c2, \"PlusIcon\");\n$RefreshReg$(_c3, \"TrashIcon\");\n$RefreshReg$(_c4, \"WandSparkles\");\n$RefreshReg$(_c5, \"PasteTextModal\");\n$RefreshReg$(_c6, \"BillingModal\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","jsxDEV","_jsxDEV","Fragment","_Fragment","SaveIcon","className","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","d","fileName","_jsxFileName","lineNumber","columnNumber","points","_c","PlusIcon","x1","y1","x2","y2","_c2","TrashIcon","_c3","WandSparkles","_c4","PasteTextModal","isOpen","onClose","onSave","isParsing","_s","text","setText","handleSave","value","onChange","e","target","placeholder","onClick","disabled","_c5","BillingModal","event","ebmData","generateGeminiText","_s2","step","setStep","ebmEntries","setEbmEntries","ebmSearch","setEbmSearch","selectedEbm","setSelectedEbm","anzahl","setAnzahl","faktor","setFaktor","setIsParsing","isPasteModalOpen","setIsPasteModalOpen","notes","setNotes","thema","patientenbericht","therapeutischeInterventionen","gesamteindruck","risikoabschaetzung","hausaufgaben","isSuicidal","setIsSuicidal","riskTextStandard","handleAutoParseNotes","rawNotes","prompt","result","cleanedResult","replace","trim","parsedJson","JSON","parse","prev","error","console","handleNoteChange","name","searchResults","filter","item","Nummer","startsWith","Titel","toLowerCase","includes","slice","handleSelectEbm","handleAddEbmEntry","p","handleDeleteEbmEntry","index","_","i","totalPoints","reduce","sum","entry","parseInt","Punkte","m","summary","match","eventId","id","eventStart","start","dateTime","date","chiffre","map","nummer","inputStyle","textareaStyle","accentButton","type","length","Math","max","min","parseFloat","toFixed","checked","_c6","$RefreshReg$"],"sources":["/Users/julianrogowski/Desktop/patientenverwaltung-app/src/components/BillingModal.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\n\n// Icons\nconst SaveIcon = ({ className = \"w-4 h-4\" }) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\" /><polyline points=\"17 21 17 13 7 13 7 21\" /><polyline points=\"7 3 7 8 15 8\" /></svg>;\nconst PlusIcon = ({ className = \"w-4 h-4\" }) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line></svg>;\nconst TrashIcon = ({ className = \"w-4 h-4\" }) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><polyline points=\"3 6 5 6 21 6\"></polyline><path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path></svg>;\nconst WandSparkles = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"m9.5 2.55 1.294 1.294a1 1 0 0 0 1.414 0L13.5 2.55\"/><path d=\"M4.94 4.94 6.22 6.22a1 1 0 0 0 1.41 0l1.29-1.29\"/><path d=\"M2.55 9.51 3.84 10.8a1 1 0 0 0 1.41 0l1.3-1.29\"/><path d=\"m19.07 4.93-1.29 1.29a1 1 0 0 1-1.41 0l-1.29-1.29\"/><path d=\"M21.45 9.51l-1.29 1.29a1 1 0 0 1-1.41 0l-1.3-1.29\"/><path d=\"M14.5 12.94a1 1 0 0 0 0 1.41l1.29 1.29\"/><path d=\"M10.8 17.78a1 1 0 0 0 0 1.41l1.29 1.29\"/><path d=\"M17.78 10.8a1 1 0 0 0 0 1.41l1.29 1.29\"/><path d=\"M12 10.5V4.5\"/><path d=\"M12 10.5C7 11 4 15 4 20\"/><path d=\"M12 10.5c5 .5 8 4.5 8 9.5\"/></svg>);\n\n// A simple modal just for text input\nconst PasteTextModal = ({ isOpen, onClose, onSave, isParsing }) => {\n    const [text, setText] = useState('');\n    if (!isOpen) return null;\n\n    const handleSave = () => {\n        onSave(text);\n        onClose();\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-[60]\">\n            <div className=\"bg-white p-6 rounded-lg shadow-xl w-full max-w-2xl\">\n                <h3 className=\"text-lg font-semibold mb-4\">Sitzungsdoku einfügen</h3>\n                <textarea\n                    className=\"w-full h-64 p-2 border rounded-md\"\n                    value={text}\n                    onChange={(e) => setText(e.target.value)}\n                    placeholder=\"Fügen Sie hier den kompletten Text Ihrer Sitzungsdokumentation ein...\"\n                />\n                <div className=\"flex justify-end space-x-3 mt-4\">\n                    <button onClick={onClose} className=\"px-4 py-2 text-sm text-gray-700 bg-gray-200 rounded-md\">Abbrechen</button>\n                    <button onClick={handleSave} disabled={isParsing || !text} className=\"px-4 py-2 text-sm text-white bg-indigo-600 rounded-md disabled:bg-gray-400\">\n                        {isParsing ? 'Analysiere...' : 'Text zuordnen'}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\n\nconst BillingModal = ({ event, ebmData, onSave, onClose, generateGeminiText }) => {\n    // States\n    const [step, setStep] = useState(1);\n    const [ebmEntries, setEbmEntries] = useState([]);\n    const [ebmSearch, setEbmSearch] = useState('');\n    const [selectedEbm, setSelectedEbm] = useState(null);\n    const [anzahl, setAnzahl] = useState(1);\n    const [faktor, setFaktor] = useState(1);\n    const [isParsing, setIsParsing] = useState(false);\n    const [isPasteModalOpen, setIsPasteModalOpen] = useState(false);\n\n    // Corrected state for notes\n    const [notes, setNotes] = useState({\n        thema: '',\n        patientenbericht: '',\n        therapeutischeInterventionen: '',\n        gesamteindruck: '',\n        risikoabschaetzung: '',\n        hausaufgaben: ''\n    });\n    const [isSuicidal, setIsSuicidal] = useState(false);\n\n    const riskTextStandard = 'Auf Nachfrage wurden suizidale Gedanken, Impulse sowie Handlungsabsichten glaubhaft und eindeutig verneint. Die Absprachefähigkeit des Patienten ist gegeben. Es besteht kein Anhalt für eine akute Eigen- oder Fremdgefährdung.';\n\n    // AI function to parse the text\n    const handleAutoParseNotes = async (rawNotes) => {\n        setIsParsing(true);\n        const prompt = `Du bist ein Experte für die Analyse klinischer Dokumentationen. Deine Aufgabe ist es, den folgenden Text in strukturierte Abschnitte zu zerlegen. Die Abschnitte sind: \"Thema\", \"Patientenbericht\", \"Therapeutische Interventionen\", \"Gesamteindruck\", \"Risikoabschätzung\", \"Hausaufgaben\". Analysiere den Text und gib ein valides JSON-Objekt zurück, dessen Schlüssel exakt diesen Titeln entsprechen (in camelCase: \"thema\", \"patientenbericht\", \"therapeutischeInterventionen\", \"gesamteindruck\", \"risikoabschaetzung\", \"hausaufgaben\"). Der Wert für jeden Schlüssel soll der vollständige Text des entsprechenden Abschnitts sein. Wenn ein Abschnitt nicht gefunden wird, soll der Wert ein leerer String sein. Gib NUR das JSON-Objekt zurück, ohne umschließendes Markdown oder einleitenden Text.\n        Der zu parsende Text lautet:\n        ---\n        ${rawNotes}\n        ---`;\n        try {\n            const result = await generateGeminiText(prompt);\n            const cleanedResult = result.replace(/```json/g, '').replace(/```/g, '').trim();\n            const parsedJson = JSON.parse(cleanedResult);\n            // Check if risk assessment deviates from the standard\n            if (parsedJson.risikoabschaetzung && parsedJson.risikoabschaetzung !== riskTextStandard) {\n                setIsSuicidal(true);\n            }\n            setNotes(prev => ({ ...prev, ...parsedJson }));\n        } catch (error) {\n            console.error(\"Error parsing notes with AI:\", error);\n            // Using console.error instead of alert, as alert can be blocking.\n            // Consider a more user-friendly notification system.\n            console.error(\"Die automatische Zuordnung ist fehlgeschlagen. Bitte überprüfen Sie den Text oder füllen Sie die Felder manuell aus.\");\n        } finally {\n            setIsParsing(false);\n        }\n    };\n\n    const handleNoteChange = (e) => {\n        setNotes(prev => ({ ...prev, [e.target.name]: e.target.value }));\n    };\n\n    useEffect(() => {\n        if (!isParsing) { // Only change if the AI is not working\n            setNotes(prev => ({ ...prev, risikoabschaetzung: isSuicidal ? prev.risikoabschaetzung : riskTextStandard }));\n        }\n    }, [isSuicidal, isParsing]);\n\n    const searchResults = useMemo(() => {\n        if (!ebmSearch) return [];\n        return ebmData.filter(item =>\n            item.Nummer.startsWith(ebmSearch) ||\n            item.Titel.toLowerCase().includes(ebmSearch.toLowerCase())\n        ).slice(0, 5);\n    }, [ebmSearch, ebmData]);\n\n    const handleSelectEbm = (item) => {\n        setSelectedEbm(item);\n        setEbmSearch(`${item.Nummer} - ${item.Titel}`);\n    };\n\n    const handleAddEbmEntry = () => {\n        if (selectedEbm) {\n            setEbmEntries(p => [...p, { ...selectedEbm, anzahl, faktor }]);\n            setSelectedEbm(null);\n            setEbmSearch('');\n            setAnzahl(1);\n            setFaktor(1);\n        }\n    };\n\n    const handleDeleteEbmEntry = (index) => setEbmEntries(p => p.filter((_, i) => i !== index));\n\n    const totalPoints = ebmEntries.reduce((sum, entry) => sum + ((parseInt(entry.Punkte, 10) || 0) * entry.anzahl * entry.faktor), 0);\n\n    const handleSave = () => {\n        const m = event.summary.match(/[A-Z][0-9]{6}/);\n        onSave({\n            eventId: event.id,\n            eventStart: event.start.dateTime || event.start.date,\n            chiffre: m ? m[0] : null,\n            ebmEntries: ebmEntries.map(e => ({ nummer: e.Nummer, anzahl: e.anzahl, faktor: e.faktor })),\n            notes\n        });\n    };\n\n    // Styling\n    const inputStyle = \"block w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 sm:text-sm\";\n    const textareaStyle = `${inputStyle} min-h-[90px] resize-y`;\n    const accentButton = \"bg-red-600 text-white font-semibold py-2 px-4 rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center justify-center\";\n\n    return (\n        <>\n            <PasteTextModal isOpen={isPasteModalOpen} onClose={() => setIsPasteModalOpen(false)} onSave={handleAutoParseNotes} isParsing={isParsing} />\n            <div className=\"p-1\">\n                <div className=\"flex justify-center items-center space-x-4 mb-6\">\n                    <div className={`flex items-center ${step >= 1 ? 'text-red-600' : 'text-gray-400'}`}><div className={`w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 ${step >= 1 ? 'bg-red-600 border-red-700 text-white' : 'bg-gray-200 border-gray-300'}`}>1</div><span className=\"ml-2 font-semibold\">Leistungen</span></div>\n                    <div className={`h-0.5 w-16 ${step >= 2 ? 'bg-red-500' : 'bg-gray-200'}`}></div>\n                    <div className={`flex items-center ${step >= 2 ? 'text-red-600' : 'text-gray-400'}`}><div className={`w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 ${step >= 2 ? 'bg-red-600 border-red-700 text-white' : 'bg-gray-200 border-gray-300'}`}>2</div><span className=\"ml-2 font-semibold\">Dokumentation</span></div>\n                </div>\n\n                {step === 1 && (\n                    <div className=\"animate-fade-in space-y-4\">\n                        <div className=\"p-4 border rounded-lg bg-white\">\n                            <h3 className=\"font-semibold text-lg text-gray-800 mb-3\">Leistung hinzufügen</h3>\n                            <div className=\"relative\">\n                                <input type=\"text\" placeholder=\"EBM-Ziffer oder Titel suchen...\" value={ebmSearch} onChange={e => { setEbmSearch(e.target.value); setSelectedEbm(null); }} className={inputStyle} />\n                                {searchResults.length > 0 && ebmSearch && !selectedEbm && (\n                                    <ul className=\"absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 shadow-lg max-h-48 overflow-y-auto\">\n                                        {searchResults.map(item => <li key={item.Nummer} onClick={() => handleSelectEbm(item)} className=\"px-3 py-2 cursor-pointer hover:bg-red-50\">{item.Nummer} - {item.Titel}</li>)}\n                                    </ul>\n                                )}\n                            </div>\n                            <div className=\"grid grid-cols-3 gap-3 mt-3\">\n                                <div><label className=\"text-xs font-medium text-gray-600\">Anzahl</label><input type=\"number\" value={anzahl} onChange={e => setAnzahl(Math.max(1, parseInt(e.target.value, 10) || 1))} min=\"1\" className={`${inputStyle} text-center`} /></div>\n                                <div><label className=\"text-xs font-medium text-gray-600\">Faktor</label><input type=\"number\" step=\"0.1\" value={faktor} onChange={e => setFaktor(parseFloat(e.target.value) || 1)} min=\"1\" className={`${inputStyle} text-center`} /></div>\n                                <div className=\"self-end\"><button onClick={handleAddEbmEntry} disabled={!selectedEbm} className=\"w-full bg-gray-700 text-white p-2 rounded-md hover:bg-gray-800 disabled:bg-gray-300 flex items-center justify-center\"><PlusIcon className=\"w-4 h-4 mr-1\" /> Hinzufügen</button></div>\n                            </div>\n                        </div>\n                        <div className=\"p-4 border rounded-lg bg-white mt-4\">\n                            <h3 className=\"font-semibold text-lg text-gray-800 mb-3\">Abzurechnende Leistungen</h3>\n                            <div className=\"space-y-2\">\n                                {ebmEntries.map((entry, index) => (\n                                    <div key={index} className=\"flex justify-between items-center bg-gray-50 p-2 rounded-md\">\n                                        <div>\n                                            <p className=\"font-semibold\">{entry.Nummer} <span className=\"text-gray-600 font-normal\">({entry.Titel})</span></p>\n                                            <p className=\"text-xs text-gray-500\">Anzahl: {entry.anzahl}, Faktor: {entry.faktor}</p>\n                                        </div>\n                                        <div className=\"flex items-center\">\n                                            <span className=\"mr-4 font-mono text-gray-800\">{(parseInt(entry.Punkte, 10) * entry.anzahl * entry.faktor).toFixed(0)} Pkt.</span>\n                                            <button onClick={() => handleDeleteEbmEntry(index)} className=\"text-red-500 hover:text-red-700 p-1\"><TrashIcon /></button>\n                                        </div>\n                                    </div>\n                                ))}\n                                {ebmEntries.length === 0 && <p className=\"text-sm text-gray-500 text-center py-4\">Noch keine Leistungen hinzugefügt.</p>}\n                                <div className=\"text-right font-bold text-xl mt-4 pt-4 border-t\">Gesamt: {totalPoints.toFixed(0)} Punkte</div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {step === 2 && (\n                    <div className=\"animate-fade-in space-y-4\">\n                        <div className=\"flex justify-end\">\n                            <button onClick={() => setIsPasteModalOpen(true)} className=\"bg-gray-700 text-white py-2 px-3 text-sm rounded-md hover:bg-gray-800 flex items-center\">\n                                <WandSparkles className=\"mr-2\" />\n                                Textbaustein per KI einfügen\n                            </button>\n                        </div>\n                        <div className=\"p-4 border rounded-lg bg-white space-y-3\">\n                            <h3 className=\"font-semibold text-lg text-gray-800\">Strukturierte Dokumentation</h3>\n                            <div><label className=\"text-sm font-medium text-gray-600\">Thema der Sitzung</label><input name=\"thema\" value={notes.thema} onChange={handleNoteChange} className={inputStyle} /></div>\n                            <div><label className=\"text-sm font-medium text-gray-600\">Patientenbericht</label><textarea name=\"patientenbericht\" value={notes.patientenbericht} onChange={handleNoteChange} className={textareaStyle} /></div>\n                            <div><label className=\"text-sm font-medium text-gray-600\">Therapeutische Interventionen</label><textarea name=\"therapeutischeInterventionen\" value={notes.therapeutischeInterventionen} onChange={handleNoteChange} className={textareaStyle} /></div>\n                            <div><label className=\"text-sm font-medium text-gray-600\">Gesamteindruck</label><textarea name=\"gesamteindruck\" value={notes.gesamteindruck} onChange={handleNoteChange} className={textareaStyle} /></div>\n                            <div>\n                                <label className=\"text-sm font-medium text-gray-600\">Risikoabschätzung (Suizidalität)</label>\n                                <div className=\"flex items-center space-x-4 mt-1 mb-2\">\n                                    <label className=\"flex items-center\"><input type=\"radio\" checked={!isSuicidal} onChange={() => setIsSuicidal(false)} className=\"h-4 w-4 text-red-600 focus:ring-red-500\" /> <span className=\"ml-2 text-sm\">Nein</span></label>\n                                    <label className=\"flex items-center\"><input type=\"radio\" checked={isSuicidal} onChange={() => setIsSuicidal(true)} className=\"h-4 w-4 text-red-600 focus:ring-red-500\" /> <span className=\"ml-2 text-sm\">Ja, Interventionsbedarf</span></label>\n                                </div>\n                                <textarea name=\"risikoabschaetzung\" value={notes.risikoabschaetzung} onChange={handleNoteChange} disabled={!isSuicidal} className={`${textareaStyle} ${!isSuicidal ? 'bg-gray-100' : ''}`} />\n                            </div>\n                            <div><label className=\"text-sm font-medium text-gray-600\">Hausaufgaben</label><input name=\"hausaufgaben\" value={notes.hausaufgaben} onChange={handleNoteChange} className={inputStyle} /></div>\n                        </div>\n                    </div>\n                )}\n\n                {/* This empty line with a special character was likely the cause of the error. It has been removed. */}\n                <div className=\"flex justify-between pt-6 mt-6 border-t\">\n                    <button onClick={() => step > 1 ? setStep(step - 1) : onClose()} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300\">{step === 1 ? 'Abbrechen' : 'Zurück'}</button>\n                    {step === 1 && <button onClick={() => setStep(2)} className={accentButton}>Weiter</button>}\n                    {step === 2 && <button onClick={handleSave} className={`${accentButton} bg-green-600 hover:bg-green-700`}><SaveIcon className=\"mr-2\" /> Abrechnung speichern</button>}\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default BillingModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}