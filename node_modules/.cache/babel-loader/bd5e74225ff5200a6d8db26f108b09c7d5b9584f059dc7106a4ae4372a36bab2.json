{"ast":null,"code":"var _jsxFileName = \"/Users/julianrogowski/Desktop/patientenverwaltung-app/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef, useMemo } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from 'firebase/auth';\nimport { getFirestore, collection, doc, addDoc, getDocs, setDoc, deleteDoc, onSnapshot, query, writeBatch } from 'firebase/firestore';\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport { motion, AnimatePresence } from 'framer-motion';\n\n// Components\nimport SCL90RComponent from './components/SCL90R.js';\nimport FEP2Component from './components/FEP2.js';\nimport BDI2Component from './components/BDI2.js';\nimport HSCL11Component from './components/HSCL11.js';\nimport ICD11ECTBrowser from './components/ICD11ECTBrowser.js';\nimport EBMBrowser from './components/EBMBrowser.js';\nimport BillingModal from './components/BillingModal.js';\nimport AbrechnungsUebersicht from './components/AbrechnungsUebersicht.js';\nimport DiagnostikUebersicht from './components/DiagnostikUebersicht.js';\nimport AddTestFlowModal from './components/AddTestFlowModal.js';\nimport ManualBillingSetupModal from './components/ManualBillingSetupModal.js';\nimport BillTestModal from './components/BillTestModal.js';\nimport Profile from './components/Profile.js';\nimport Billing from './components/Billing.js';\n\n// --- ICONS ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserPlus = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 227\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"9\",\n    cy: \"7\",\n    r: \"4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 281\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"19\",\n    x2: \"19\",\n    y1: \"8\",\n    y2: \"14\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 311\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"22\",\n    x2: \"16\",\n    y1: \"11\",\n    y2: \"11\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 350\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 31,\n  columnNumber: 50\n}, this);\n_c = UserPlus;\nconst XCircle = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 226\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"15\",\n    y1: \"9\",\n    x2: \"9\",\n    y2: \"15\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 266\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"9\",\n    y1: \"9\",\n    x2: \"15\",\n    y2: \"15\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 309\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 32,\n  columnNumber: 49\n}, this);\n_c2 = XCircle;\nconst Save = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 223\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"17 21 17 13 7 13 7 21\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 299\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"7 3 7 8 15 8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 342\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 33,\n  columnNumber: 46\n}, this);\n_c3 = Save;\nconst AlertTriangle = ({\n  className = \"w-12 h-12\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 234\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"9\",\n    x2: \"12\",\n    y2: \"13\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 340\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"17\",\n    x2: \"12.01\",\n    y2: \"17\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 384\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 34,\n  columnNumber: 57\n}, this);\n_c4 = AlertTriangle;\nconst FileJson2 = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 228\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M14 2v6h6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 292\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 12h1.6a2 2 0 0 0 1.9-3.4L6 6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 314\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 18h1.6a2 2 0 0 1 1.9 3.4L6 24\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 358\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 12h1.6a2 2 0 0 1 1.9-3.4L14 6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 403\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 18h1.6a2 2 0 0 0 1.9 3.4L14 24\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 449\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 35,\n  columnNumber: 51\n}, this);\n_c5 = FileJson2;\nconst WandSparkles = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m9.5 2.55 1.294 1.294a1 1 0 0 0 1.414 0L13.5 2.55\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 231\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4.94 4.94 6.22 6.22a1 1 0 0 0 1.41 0l1.29-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 293\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M2.55 9.51 3.84 10.8a1 1 0 0 0 1.41 0l1.3-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 353\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m19.07 4.93-1.29 1.29a1 1 0 0 1-1.41 0l-1.29-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 412\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M21.45 9.51l-1.29 1.29a1 1 0 0 1-1.41 0l-1.3-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 474\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M14.5 12.94a1 1 0 0 0 0 1.41l1.29 1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 536\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M10.8 17.78a1 1 0 0 0 0 1.41l1.29 1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 587\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M17.78 10.8a1 1 0 0 0 0 1.41l1.29 1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 638\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 10.5V4.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 689\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 10.5C7 11 4 15 4 20\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 714\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 10.5c5 .5 8 4.5 8 9.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 750\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 36,\n  columnNumber: 54\n}, this);\n_c6 = WandSparkles;\nconst LogOut = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 225\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"16 17 21 12 16 7\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 277\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"21\",\n    y1: \"12\",\n    x2: \"9\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 315\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 37,\n  columnNumber: 48\n}, this);\n_c7 = LogOut;\nconst BookOpen = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 227\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 279\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 38,\n  columnNumber: 50\n}, this);\n_c8 = BookOpen;\nconst Users = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 224\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"9\",\n    cy: \"7\",\n    r: \"4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 277\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M22 21v-2a4 4 0 0 0-3-3.87\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 306\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16 3.13a4 4 0 0 1 0 7.75\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 344\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 39,\n  columnNumber: 47\n}, this);\n_c9 = Users;\nconst FileText = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 227\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"14 2 14 8 20 8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 308\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"16\",\n    y1: \"13\",\n    x2: \"8\",\n    y2: \"13\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 343\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"16\",\n    y1: \"17\",\n    x2: \"8\",\n    y2: \"17\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 381\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"10\",\n    y1: \"9\",\n    x2: \"8\",\n    y2: \"9\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 419\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 40,\n  columnNumber: 50\n}, this);\n_c0 = FileText;\nconst List = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"8\",\n    x2: \"21\",\n    y1: \"6\",\n    y2: \"6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 223\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"8\",\n    x2: \"21\",\n    y1: \"12\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 259\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"8\",\n    x2: \"21\",\n    y1: \"18\",\n    y2: \"18\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 297\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"3\",\n    x2: \"3.01\",\n    y1: \"6\",\n    y2: \"6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 335\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"3\",\n    x2: \"3.01\",\n    y1: \"12\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 373\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"3\",\n    x2: \"3.01\",\n    y1: \"18\",\n    y2: \"18\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 413\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 41,\n  columnNumber: 46\n}, this);\n_c1 = List;\nconst CalendarIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n    x: \"3\",\n    y: \"4\",\n    width: \"18\",\n    height: \"18\",\n    rx: \"2\",\n    ry: \"2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 231\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"16\",\n    y1: \"2\",\n    x2: \"16\",\n    y2: \"6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 293\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"8\",\n    y1: \"2\",\n    x2: \"8\",\n    y2: \"6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 336\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"3\",\n    y1: \"10\",\n    x2: \"21\",\n    y2: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 377\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 42,\n  columnNumber: 54\n}, this);\n_c10 = CalendarIcon;\nconst UploadCloudIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 234\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 12v9\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 302\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m16 16-4-4-4 4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 322\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 43,\n  columnNumber: 57\n}, this);\n_c11 = UploadCloudIcon;\nconst FileIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 227\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"14 2 14 8 20 8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 308\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 44,\n  columnNumber: 50\n}, this);\n_c12 = FileIcon;\nconst PaperclipIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.59a2 2 0 0 1-2.83-2.83l8.49-8.48\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 232\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 45,\n  columnNumber: 55\n}, this);\n_c13 = PaperclipIcon;\nconst SettingsIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l-.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 231\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"3\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 762\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 46,\n  columnNumber: 54\n}, this);\n_c14 = SettingsIcon;\nconst DollarSignIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"1\",\n    x2: \"12\",\n    y2: \"23\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 233\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 277\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 47,\n  columnNumber: 56\n}, this);\n\n// Firebase Config\n_c15 = DollarSignIcon;\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDZ_qqqKW7WDCZ9botek2VBwXNMQO3JYwU\",\n  authDomain: \"psychotherapie0512.firebaseapp.com\",\n  projectId: \"psychotherapie0512\",\n  storageBucket: \"psychotherapie0512.appspot.com\",\n  messagingSenderId: \"131279046361\",\n  appId: \"1:131279046361:web:e5dd2d18b206fb820b60c8\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst storage = getStorage(app);\nconst firestoreAppId = 'default-patient-app-v5';\n\n// --- KONSTANTEN ---\nconst homeworkFailureReasons = {\n  \"Motivational\": [\"Geringe Motivation\", \"Zweifel am Nutzen der Hausaufgabe\", \"Keine Einsicht in die Relevanz\"],\n  \"Emotional\": [\"Angst vor Versagen\", \"Scham oder Schuldgefühle\", \"Vermeidung unangenehmer Gefühle\"],\n  \"Kognitive\": [\"Negative automatische Gedanken\", \"Perfektionismus\"],\n  \"Organisatorisch/Praktisch\": [\"Zeitmangel\", \"Vergessen\", \"Keine klaren Anweisungen oder Verständnisprobleme\"],\n  \"Interaktion mit Therapeut\": [\"Widerstand gegen den Therapeuten\", \"Beziehungskonflikte\", \"Mangel an Vertrauen\"],\n  \"Psychopathologisch\": [\"Konzentrationsprobleme\", \"Antriebslosigkeit\", \"Überwältigende Symptome\"]\n};\nconst availableTests = [{\n  id: 'scl90r',\n  name: 'SCL-90-R - Symptom-Checklist-90-R',\n  ebm: '35601',\n  recommendation: 10\n}, {\n  id: 'fep2',\n  name: 'FEP-2 - Fragebogen zur Erfassung von Persönlichkeitsstörungen',\n  ebm: '35601',\n  recommendation: 12\n}, {\n  id: 'bdi2',\n  name: 'BDI-II - Beck-Depressions-Inventar II',\n  ebm: '35600',\n  recommendation: 2\n}, {\n  id: 'hscl11',\n  name: 'HSCL-11 - Hopkins Symptom Checklist-11',\n  ebm: '35600',\n  recommendation: 1\n}];\nconst availableTherapeuticMethods = [\"Kognitive Verhaltenstherapie (KVT)\", \"Schematherapie\", \"Acceptance and Commitment Therapy (ACT)\", \"Dialektisch-Behaviorale Therapie (DBT)\", \"Eye Movement Desensitization and Reprocessing (EMDR)\", \"Tiefenpsychologisch fundierte Psychotherapie\", \"Systemische Therapie\"];\nconst initialPatientsData = [{\n  name: \"Mustermann\",\n  geburtsdatum: \"1998-04-04\",\n  chiffre: \"M040498\",\n  therapeuticMethods: [\"Kognitive Verhaltenstherapie (KVT)\"],\n  approvedHours: 60,\n  krankenkasse: \"TK\",\n  versichertennummer: \"A123456789\",\n  diagnoses: [\"[G] F00.0*: Demenz bei Alzheimer-Krankheit, mit frühem Beginn (Typ 2)\", \"[V] F01.1: Multiinfarkt-Demenz\", \"[A] F20.0: Paranoide Schizophrenie\", \"[ZN] F32.1: Mittelgradige depressive Episode\", \"F40.0: Agoraphobie\"],\n  sessions: [{\n    id: `sess_${Date.now()}`,\n    date: \"2025-05-20\",\n    structuredNotes: {\n      sitzungsnummer: 1,\n      thema: \"Erste Sitzung\",\n      patientenbericht: \"Exploration der Hauptbeschwerden.\"\n    }\n  }],\n  hscl11Results: [],\n  bdi2Results: [],\n  fep2Results: [],\n  scl90rResults: [],\n  krankheitsanamnese: \"Patient berichtet über seit ca. 2 Jahren zunehmende Vergesslichkeit und Orientierungsprobleme.\",\n  lebensgeschichte: \"Geboren 1955, verheiratet, 2 Kinder, früher als Buchhalter tätig.\",\n  problemanalyseMakro: \"Kognitive Defizite im Vordergrund, affektive Belastung durch erlebten Kontrollverlust.\",\n  therapieplan: \"Supportive Gespräche, kognitives Training, Psychoedukation für Angehörige.\"\n}];\nconst DIAGNOSTIK_PUNKTE = {\n  '35600': 34,\n  '35601': 39,\n  '35602': 56\n};\nconst DIAGNOSTIK_LIMITS = {\n  PUNKTE_U22: 1636,\n  PUNKTE_UE22: 1092,\n  INSTANZEN_KZT: 3,\n  INSTANZEN_LZT: 7\n};\n\n// --- HILFSFUNKTIONEN & HOOKS ---\nconst Modal = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  size = \"lg\"\n}) => {\n  if (!isOpen) return null;\n  const sizeClasses = {\n    sm: 'max-w-sm',\n    md: 'max-w-md',\n    lg: 'max-w-lg',\n    xl: 'max-w-xl',\n    '2xl': 'max-w-2xl',\n    '3xl': 'max-w-3xl',\n    '4xl': 'max-w-4xl',\n    '5xl': 'max-w-5xl'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bg-white p-6 rounded-lg shadow-xl w-full ${sizeClasses[size]} max-h-[90vh] overflow-y-auto`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-gray-800\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 553\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-400 hover:text-gray-600\",\n          children: /*#__PURE__*/_jsxDEV(XCircle, {\n            className: \"w-7 h-7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 689\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 617\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 497\n      }, this), children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 387\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 274\n  }, this);\n};\n_c16 = Modal;\nconst ConfirmationModal = ({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  message\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onClose: onClose,\n    title: title,\n    size: \"md\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n        className: \"mx-auto mb-4 w-12 h-12 text-red-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 209\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-6\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 274\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none\",\n          children: \"Abbrechen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 368\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onConfirm,\n          className: \"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none\",\n          children: \"Best\\xE4tigen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 528\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 321\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 180\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 115\n  }, this);\n};\n_c17 = ConfirmationModal;\nconst PatientForm = ({\n  patient,\n  onSave,\n  onCancel\n}) => {\n  _s();\n  const [formData, setFormData] = useState(patient || {\n    name: '',\n    vorname: '',\n    chiffre: '',\n    geburtsdatum: '',\n    adresse: '',\n    email: '',\n    telefon: '',\n    krankenkasse: '',\n    versichertennummer: '',\n    therapeuticMethods: [],\n    approvedHours: 0,\n    diagnoses: [],\n    sessions: [],\n    hscl11Results: [],\n    bdi2Results: [],\n    fep2Results: [],\n    scl90rResults: [],\n    krankheitsanamnese: \"\",\n    lebensgeschichte: \"\",\n    problemanalyseMakro: \"\",\n    therapieplan: \"\"\n  });\n  const [newMethod, setNewMethod] = useState(\"\");\n  useEffect(() => {\n    if (patient) {\n      setFormData({\n        ...patient,\n        geburtsdatum: patient.geburtsdatum || '',\n        krankenkasse: patient.krankenkasse || '',\n        versichertennummer: patient.versichertennummer || '',\n        therapeuticMethods: patient.therapeuticMethods || [],\n        hscl11Results: patient.hscl11Results || [],\n        bdi2Results: patient.bdi2Results || [],\n        fep2Results: patient.fep2Results || [],\n        scl90rResults: patient.scl90rResults || [],\n        krankheitsanamnese: patient.krankheitsanamnese || \"\",\n        lebensgeschichte: patient.lebensgeschichte || \"\",\n        problemanalyseMakro: patient.problemanalyseMakro || \"\",\n        therapieplan: patient.therapieplan || \"\"\n      });\n    } else {\n      setFormData({\n        name: '',\n        vorname: '',\n        chiffre: '',\n        geburtsdatum: '',\n        adresse: '',\n        email: '',\n        telefon: '',\n        krankenkasse: '',\n        versichertennummer: '',\n        therapeuticMethods: [],\n        approvedHours: 0,\n        diagnoses: [],\n        sessions: [],\n        hscl11Results: [],\n        bdi2Results: [],\n        fep2Results: [],\n        scl90rResults: [],\n        krankheitsanamnese: \"\",\n        lebensgeschichte: \"\",\n        problemanalyseMakro: \"\",\n        therapieplan: \"\"\n      });\n    }\n  }, [patient]);\n  useEffect(() => {\n    const {\n      name,\n      geburtsdatum\n    } = formData;\n    if (name && geburtsdatum) {\n      try {\n        const firstLetter = name.charAt(0).toUpperCase();\n        const [year, month, day] = geburtsdatum.split('-');\n        if (year && month && day) {\n          const yy = year.slice(-2);\n          const newChiffre = `${firstLetter}${day}${month}${yy}`;\n          setFormData(prev => ({\n            ...prev,\n            chiffre: newChiffre\n          }));\n        }\n      } catch (e) {\n        console.error(\"Fehler bei der Chiffre-Generierung\", e);\n        setFormData(prev => ({\n          ...prev,\n          chiffre: ''\n        }));\n      }\n    } else {\n      if (formData.chiffre !== '') {\n        setFormData(prev => ({\n          ...prev,\n          chiffre: ''\n        }));\n      }\n    }\n  }, [formData.name, formData.geburtsdatum]);\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'number' ? parseInt(value, 10) || 0 : value\n    }));\n  };\n  const handleAddMethod = () => {\n    if (newMethod && !formData.therapeuticMethods.includes(newMethod)) {\n      setFormData(prev => ({\n        ...prev,\n        therapeuticMethods: [...prev.therapeuticMethods, newMethod]\n      }));\n      setNewMethod(\"\");\n    }\n  };\n  const handleRemoveMethod = methodToRemove => {\n    setFormData(prev => ({\n      ...prev,\n      therapeuticMethods: prev.therapeuticMethods.filter(m => m !== methodToRemove)\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSave(formData);\n  };\n  const inputStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm\";\n  const btnPrimary = \"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 flex items-center\";\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"vorname\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Vorname\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"vorname\",\n          id: \"vorname\",\n          value: formData.vorname,\n          onChange: handleChange,\n          required: true,\n          className: inputStd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 114\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Nachname\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          id: \"name\",\n          value: formData.name,\n          onChange: handleChange,\n          required: true,\n          className: inputStd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 112\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"geburtsdatum\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Geburtsdatum\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"geburtsdatum\",\n          id: \"geburtsdatum\",\n          value: formData.geburtsdatum,\n          onChange: handleChange,\n          required: true,\n          className: inputStd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 124\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"chiffre\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Chiffre\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"chiffre\",\n          id: \"chiffre\",\n          value: formData.chiffre,\n          readOnly: true,\n          className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100 sm:text-sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 114\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"adresse\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Adresse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"adresse\",\n        id: \"adresse\",\n        value: formData.adresse,\n        onChange: handleChange,\n        className: inputStd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 110\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"E-Mail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          id: \"email\",\n          value: formData.email,\n          onChange: handleChange,\n          className: inputStd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 111\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"telefon\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Telefon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"tel\",\n          name: \"telefon\",\n          id: \"telefon\",\n          value: formData.telefon,\n          onChange: handleChange,\n          className: inputStd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 114\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"krankenkasse\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Krankenkasse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"krankenkasse\",\n          id: \"krankenkasse\",\n          value: formData.krankenkasse,\n          onChange: handleChange,\n          className: inputStd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 124\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"versichertennummer\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Versichertennummer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"versichertennummer\",\n          id: \"versichertennummer\",\n          value: formData.versichertennummer,\n          onChange: handleChange,\n          className: inputStd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 136\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Therapieverfahren\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-1 flex flex-wrap gap-2\",\n        children: (formData.therapeuticMethods || []).map(method => /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"flex items-center bg-teal-100 text-teal-800 text-xs font-medium px-2.5 py-0.5 rounded-full\",\n          children: [method, /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => handleRemoveMethod(method),\n            className: \"ml-1.5 text-teal-500 hover:text-teal-700\",\n            children: /*#__PURE__*/_jsxDEV(XCircle, {\n              className: \"h-3 w-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 360\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 242\n          }, this)]\n        }, method, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 112\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: newMethod,\n          onChange: e => setNewMethod(e.target.value),\n          className: inputStd,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Verfahren ausw\\xE4hlen...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 115\n          }, this), availableTherapeuticMethods.filter(m => !(formData.therapeuticMethods || []).includes(m)).map(m => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: m,\n            children: m\n          }, m, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 263\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleAddMethod,\n          className: \"bg-gray-200 p-2 rounded-md hover:bg-gray-300\",\n          children: /*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n            className: \"h-5 w-5 text-gray-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 126\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"approvedHours\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Genehmigte Stunden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"approvedHours\",\n        id: \"approvedHours\",\n        value: formData.approvedHours,\n        onChange: handleChange,\n        min: \"0\",\n        className: inputStd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 127\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end space-x-3 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onCancel,\n        className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\",\n        children: \"Abbrechen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 62\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: btnPrimary,\n        children: [/*#__PURE__*/_jsxDEV(Save, {\n          className: \"w-4 h-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 335\n        }, this), \" Speichern\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 290\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 9\n  }, this);\n};\n_s(PatientForm, \"YjE8cNOuWkdmoQWRStWJ3EmBtiY=\");\n_c18 = PatientForm;\nasync function generateGeminiText(prompt) {\n  let chatHistory = [{\n    role: \"user\",\n    parts: [{\n      text: prompt\n    }]\n  }];\n  const payload = {\n    contents: chatHistory\n  };\n  const GEMINI_API_KEY = \"AIzaSyCWQFze_8cKDZ6W2DTqfqIcvhcsKWfuZLw\";\n  const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`;\n  try {\n    const response = await fetch(apiUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    });\n    if (!response.ok) {\n      var _errorData$error;\n      const errorData = await response.json();\n      console.error(\"Gemini API error details:\", errorData);\n      const errorMessage = ((_errorData$error = errorData.error) === null || _errorData$error === void 0 ? void 0 : _errorData$error.message) || `API request failed with status ${response.status}`;\n      throw new Error(errorMessage);\n    }\n    const result = await response.json();\n    if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\n      return result.candidates[0].content.parts[0].text;\n    } else if (result.candidates && result.candidates.length > 0 && result.candidates[0].finishReason === \"SAFETY\") {\n      console.warn(\"Gemini API response blocked due to safety reasons.\");\n      return \"Die Antwort wurde aufgrund von Sicherheitsrichtlinien blockiert.\";\n    } else {\n      console.error(\"Unexpected Gemini API response structure:\", result);\n      throw new Error(\"Unerwartete Antwortstruktur von der API.\");\n    }\n  } catch (error) {\n    console.error(\"Error calling Gemini API:\", error);\n    throw error;\n  }\n}\nconst calculateAge = birthdate => {\n  if (!birthdate) return 0;\n  const birthDate = new Date(birthdate);\n  const today = new Date();\n  let age = today.getFullYear() - birthDate.getFullYear();\n  const m = today.getMonth() - birthDate.getMonth();\n  if (m < 0 || m === 0 && today.getDate() < birthDate.getDate()) {\n    age--;\n  }\n  return age;\n};\nconst useDiagnostikAnalysis = patient => {\n  _s2();\n  return useMemo(() => {\n    if (!patient) {\n      return {\n        pointsLimit: 0,\n        instancesLimit: Infinity,\n        currentPhase: 'Unbekannt',\n        instancesInCurrentPhase: 0,\n        quarterlyAnalysis: {},\n        availableQuarters: [],\n        currentQuarterIdentifier: '',\n        age: 0\n      };\n    }\n    const age = calculateAge(patient.geburtsdatum);\n    const pointsLimit = age < 22 ? DIAGNOSTIK_LIMITS.PUNKTE_U22 : DIAGNOSTIK_LIMITS.PUNKTE_UE22;\n    const allTestSessions = (patient.sessions || []).filter(s => {\n      var _s$ebmEntries;\n      return (_s$ebmEntries = s.ebmEntries) === null || _s$ebmEntries === void 0 ? void 0 : _s$ebmEntries.some(e => DIAGNOSTIK_PUNKTE[e.nummer]);\n    });\n    const quarterlyAnalysis = {};\n    allTestSessions.forEach(session => {\n      const date = new Date(session.date);\n      const year = date.getFullYear();\n      const quarter = Math.floor(date.getMonth() / 3) + 1;\n      const quarterIdentifier = `${year}-Q${quarter}`;\n      if (!quarterlyAnalysis[quarterIdentifier]) {\n        quarterlyAnalysis[quarterIdentifier] = {\n          pointsUsed: 0,\n          instancesUsed: 0,\n          tests: []\n        };\n      }\n      quarterlyAnalysis[quarterIdentifier].instancesUsed += 1;\n      session.ebmEntries.forEach(entry => {\n        if (DIAGNOSTIK_PUNKTE[entry.nummer]) {\n          quarterlyAnalysis[quarterIdentifier].pointsUsed += DIAGNOSTIK_PUNKTE[entry.nummer];\n          quarterlyAnalysis[quarterIdentifier].tests.push({\n            ...entry,\n            date: session.date\n          });\n        }\n      });\n    });\n    const today = new Date();\n    const currentYear = today.getFullYear();\n    const currentQuarter = Math.floor(today.getMonth() / 3) + 1;\n    const currentQuarterIdentifier = `${currentYear}-Q${currentQuarter}`;\n    if (!quarterlyAnalysis[currentQuarterIdentifier]) {\n      quarterlyAnalysis[currentQuarterIdentifier] = {\n        pointsUsed: 0,\n        instancesUsed: 0,\n        tests: []\n      };\n    }\n    const availableQuarters = Object.keys(quarterlyAnalysis).sort().reverse();\n    let currentPhase = 'Probatorik';\n    let instancesLimit = Infinity;\n    let instancesInCurrentPhase = 0;\n    const lztSession = allTestSessions.find(s => {\n      var _s$structuredNotes;\n      return ((_s$structuredNotes = s.structuredNotes) === null || _s$structuredNotes === void 0 ? void 0 : _s$structuredNotes.Phase) === 'Langzeittherapie';\n    });\n    const kztSession = allTestSessions.find(s => {\n      var _s$structuredNotes2;\n      return ((_s$structuredNotes2 = s.structuredNotes) === null || _s$structuredNotes2 === void 0 ? void 0 : _s$structuredNotes2.Phase) === 'Kurzzeittherapie';\n    });\n    if (lztSession) {\n      currentPhase = 'Langzeittherapie';\n      instancesLimit = DIAGNOSTIK_LIMITS.INSTANZEN_LZT;\n      instancesInCurrentPhase = allTestSessions.filter(s => {\n        var _s$structuredNotes3, _s$structuredNotes4;\n        return ((_s$structuredNotes3 = s.structuredNotes) === null || _s$structuredNotes3 === void 0 ? void 0 : _s$structuredNotes3.Phase) === 'Langzeittherapie' || ((_s$structuredNotes4 = s.structuredNotes) === null || _s$structuredNotes4 === void 0 ? void 0 : _s$structuredNotes4.Phase) === 'Kurzzeittherapie';\n      }).length;\n    } else if (kztSession) {\n      currentPhase = 'Kurzzeittherapie';\n      instancesLimit = DIAGNOSTIK_LIMITS.INSTANZEN_KZT;\n      instancesInCurrentPhase = allTestSessions.filter(s => {\n        var _s$structuredNotes5;\n        return ((_s$structuredNotes5 = s.structuredNotes) === null || _s$structuredNotes5 === void 0 ? void 0 : _s$structuredNotes5.Phase) === 'Kurzzeittherapie';\n      }).length;\n    }\n    return {\n      pointsLimit,\n      instancesLimit,\n      currentPhase,\n      instancesInCurrentPhase,\n      quarterlyAnalysis,\n      availableQuarters,\n      currentQuarterIdentifier,\n      age\n    };\n  }, [patient]);\n};\n_s2(useDiagnostikAnalysis, \"nwk+m61qLgjDVUp4IGV/072DDN4=\");\nfunction App() {\n  _s4();\n  var _s3 = $RefreshSig$(),\n    _selectedPatient$sess,\n    _selectedPatient$sess2,\n    _diagnosisInfo$inkl,\n    _diagnosisInfo$exkl,\n    _diagnosisInfo$inclus,\n    _diagnosisInfo$exclus;\n  // --- States ---\n  const [mainView, setMainView] = useState('patients');\n  const [patients, setPatients] = useState([]);\n  const [selectedPatient, setSelectedPatient] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [authError, setAuthError] = useState(null);\n  const [appError, setAppError] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoginView, setIsLoginView] = useState(true);\n  const [isAuthLoading, setIsAuthLoading] = useState(false);\n  const [isPatientModalOpen, setIsPatientModalOpen] = useState(false);\n  const [editingPatient, setEditingPatient] = useState(null);\n  const [newDiagnosis, setNewDiagnosis] = useState('');\n  const [newDiagnosisCode, setNewDiagnosisCode] = useState('');\n  const [newDiagnosisSicherheit, setNewDiagnosisSicherheit] = useState('G');\n  const [lookedUpDiagnosisName, setLookedUpDiagnosisName] = useState('');\n  const [activeDetailTab, setActiveDetailTab] = useState('übersicht');\n  const [activeDiagnostikSubTab, setActiveDiagnostikSubTab] = useState('overview');\n  const [diagnosisInfo, setDiagnosisInfo] = useState({\n    code: '',\n    name: '',\n    beschreibung: '',\n    inkl: [],\n    exkl: [],\n    hinweise: [],\n    zusatz_info_code: '',\n    sicherheit: '',\n    isLoading: false,\n    error: null,\n    isOpen: false,\n    source: ''\n  });\n  const [localIcd10Data, setLocalIcd10Data] = useState({});\n  const [editableKrankheitsanamnese, setEditableKrankheitsanamnese] = useState(\"\");\n  const [editableLebensgeschichte, setEditableLebensgeschichte] = useState(\"\");\n  const [editableProblemanalyseMakro, setEditableProblemanalyseMakro] = useState(\"\");\n  const [editableTherapieplan, setEditableTherapieplan] = useState(\"\");\n  const [therapeutischeAssistenzOutput, setTherapeutischeAssistenzOutput] = useState(\"\");\n  const [isLoadingTherapeutischeAssistenz, setIsLoadingTherapeutischeAssistenz] = useState(false);\n  const [assistenzError, setAssistenzError] = useState(null);\n  const detailViewRef = useRef(null);\n  const [improvementState, setImprovementState] = useState({\n    isOpen: false,\n    isLoading: false,\n    originalText: '',\n    improvedText: '',\n    sessionIndex: null,\n    error: null\n  });\n  const [sortConfig, setSortConfig] = useState({\n    key: 'name',\n    direction: 'ascending'\n  });\n  const [nextAppointment, setNextAppointment] = useState({\n    isLoading: false,\n    text: null,\n    error: null\n  });\n  const [unbilledAppointments, setUnbilledAppointments] = useState([]);\n  const [isLoadingAppointments, setIsLoadingAppointments] = useState(false);\n  const [billingModalState, setBillingModalState] = useState({\n    isOpen: false,\n    event: null,\n    isEditing: false\n  });\n  const [ebmData, setEbmData] = useState([]);\n  const [isManualBillingSetupOpen, setIsManualBillingSetupOpen] = useState(false);\n  const [confirmDeleteState, setConfirmDeleteState] = useState({\n    isOpen: false,\n    onConfirm: null,\n    message: '',\n    title: ''\n  });\n  const [retroBillingState, setRetroBillingState] = useState({\n    isOpen: false,\n    test: null\n  });\n  const [isAddTestModalOpen, setIsAddTestModalOpen] = useState(false);\n  const [currentTestToAdd, setCurrentTestToAdd] = useState(null);\n  const [uploadedFiles, setUploadedFiles] = useState([]);\n  const [profile, setProfile] = useState({});\n  const [isUploading, setIsUploading] = useState(false);\n  const [selectedId, setSelectedId] = useState(null);\n  const [isCalendarLoading, setIsCalendarLoading] = useState(true);\n\n  // KORREKTUR: Alle Hooks werden jetzt vor den bedingten returns aufgerufen.\n  const diagnostikAnalysis = useDiagnostikAnalysis(selectedPatient);\n  const sortedPatients = useMemo(() => {\n    let sortablePatients = [...patients];\n    if (sortConfig !== null) {\n      sortablePatients.sort((a, b) => {\n        const valA = a[sortConfig.key] || '';\n        const valB = b[sortConfig.key] || '';\n        if (valA < valB) {\n          return sortConfig.direction === 'ascending' ? -1 : 1;\n        }\n        if (valA > valB) {\n          return sortConfig.direction === 'ascending' ? 1 : -1;\n        }\n        return 0;\n      });\n    }\n    return sortablePatients;\n  }, [patients, sortConfig]);\n  const selectedPatientData = useMemo(() => {\n    if (!selectedId) return null;\n    return patients.find(p => p.id === selectedId);\n  }, [selectedId, patients]);\n  const getHighestSessionNumber = sessions => {\n    if (!sessions) return 0;\n    const sessionNumbers = sessions.map(s => {\n      var _s$structuredNotes6;\n      return (_s$structuredNotes6 = s.structuredNotes) === null || _s$structuredNotes6 === void 0 ? void 0 : _s$structuredNotes6.sitzungsnummer;\n    }).filter(n => typeof n === 'number' && !isNaN(n));\n    return sessionNumbers.length > 0 ? Math.max(...sessionNumbers) : 0;\n  };\n  const handleStartRetroBilling = testToBill => {\n    setRetroBillingState({\n      isOpen: true,\n      test: testToBill\n    });\n  };\n  const handleSaveRetroactiveBilling = async (testToBill, billingData) => {\n    const {\n      sessionId,\n      multiplier,\n      date,\n      phase\n    } = billingData;\n    if (!selectedPatient || !testToBill) return;\n    const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n    const newTestEbmEntry = {\n      nummer: testToBill.ebm,\n      anzahl: multiplier || 1,\n      faktor: 1,\n      testInstanceId: testToBill.testInstanceId\n    };\n    let finalPatientData = {};\n    const updatedSessions = JSON.parse(JSON.stringify(selectedPatient.sessions || []));\n    try {\n      if (sessionId && sessionId !== 'new') {\n        const sessionIndex = updatedSessions.findIndex(s => s.id === sessionId);\n        if (sessionIndex === -1) throw new Error(\"Ausgewählte Sitzung nicht gefunden.\");\n        const sessionToUpdate = updatedSessions[sessionIndex];\n        sessionToUpdate.ebmEntries = [...(sessionToUpdate.ebmEntries || []), newTestEbmEntry];\n      } else {\n        const testBillingSession = {\n          id: `sess_${Date.now()}`,\n          date: new Date(date).toISOString(),\n          eventId: `retro_bill_${testToBill.testInstanceId}`,\n          ebmEntries: [newTestEbmEntry],\n          structuredNotes: {\n            thema: `Testdiagnostik (nachtr.): ${testToBill.name}`,\n            Phase: phase\n          }\n        };\n        updatedSessions.push(testBillingSession);\n      }\n      updatedSessions.sort((a, b) => new Date(b.date) - new Date(a.date));\n      finalPatientData.sessions = updatedSessions;\n      await setDoc(patientRef, finalPatientData, {\n        merge: true\n      });\n      alert(`Test \"${testToBill.name}\" wurde erfolgreich abgerechnet.`);\n    } catch (err) {\n      setAppError(`Fehler bei der nachträglichen Abrechnung: ${err.message}`);\n      console.error(\"Error during retroactive billing:\", err);\n    }\n  };\n  const handleDeleteEbmEntry = async (sessionDate, ebmIndexToDelete) => {\n    if (!selectedPatient || !userId) return;\n    const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n    const updatedSessions = JSON.parse(JSON.stringify(selectedPatient.sessions));\n    const sessionIndex = updatedSessions.findIndex(s => s.date === sessionDate);\n    if (sessionIndex === -1) {\n      setAppError(\"Sitzung zum Löschen des Eintrags nicht gefunden.\");\n      return;\n    }\n    const sessionToUpdate = updatedSessions[sessionIndex];\n    const entryToDelete = sessionToUpdate.ebmEntries[ebmIndexToDelete];\n    const linkedTest = availableTests.find(t => t.ebm === entryToDelete.nummer);\n    const performDelete = async () => {\n      sessionToUpdate.ebmEntries.splice(ebmIndexToDelete, 1);\n      let finalPatientData = {\n        sessions: updatedSessions\n      };\n      if (linkedTest && entryToDelete.testInstanceId) {\n        const resultKey = `${linkedTest.id}Results`;\n        const oldResults = selectedPatient[resultKey] || [];\n        const newResults = oldResults.filter(r => r.testInstanceId !== entryToDelete.testInstanceId);\n        finalPatientData[resultKey] = newResults;\n      }\n      try {\n        await setDoc(patientRef, finalPatientData, {\n          merge: true\n        });\n        setConfirmDeleteState({\n          isOpen: false\n        });\n      } catch (err) {\n        setAppError(`Fehler beim Löschen: ${err.message}`);\n      }\n    };\n    if (linkedTest) {\n      setConfirmDeleteState({\n        isOpen: true,\n        title: \"Eintrag wirklich löschen?\",\n        message: `Dieser Abrechnungseintrag ist mit dem Diagnostiktest \"${linkedTest.name}\" verknüpft. Wenn Sie ihn löschen, wird auch das zugehörige Testergebnis unwiderruflich entfernt. Fortfahren?`,\n        onConfirm: performDelete\n      });\n    } else {\n      await performDelete();\n    }\n  };\n  const handleStartManualBilling = (patientId, date, sessionNumber) => {\n    const patient = patients.find(p => p.id === patientId);\n    if (!patient) {\n      setAppError(\"Patient für manuelle Abrechnung nicht gefunden.\");\n      return;\n    }\n    let finalSessionNumber;\n    const manualNumber = Number(sessionNumber);\n    if (sessionNumber && !isNaN(manualNumber) && manualNumber > 0) {\n      finalSessionNumber = manualNumber;\n    } else {\n      finalSessionNumber = getHighestSessionNumber(patient.sessions) + 1;\n    }\n    const syntheticEvent = {\n      id: `manual_${Date.now()}`,\n      summary: `Manuelle Sitzung (${patient.chiffre})`,\n      start: {\n        dateTime: new Date(date).toISOString()\n      },\n      sitzungsnummer: finalSessionNumber,\n      isManual: true\n    };\n    handleStartBilling(syntheticEvent);\n  };\n  const fetchNextAppointment = useCallback(async chiffre => {\n    if (!chiffre) return;\n    setNextAppointment({\n      isLoading: true,\n      text: null,\n      error: null\n    });\n    try {\n      const response = await fetch(`http://localhost:3001/api/calendar/nextevent?chiffre=${chiffre}`);\n      if (response.status === 404) {\n        setNextAppointment({\n          isLoading: false,\n          text: 'Kein zukünftiger Termin gefunden.',\n          error: null\n        });\n        return;\n      }\n      if (!response.ok) {\n        throw new Error('Kalender-API-Anfrage fehlgeschlagen.');\n      }\n      const event = await response.json();\n      const startDate = new Date(event.start);\n      const endDate = new Date(event.end);\n      const dateOptions = {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric'\n      };\n      const timeOptions = {\n        hour: '2-digit',\n        minute: '2-digit'\n      };\n      const formattedDate = startDate.toLocaleDateString('de-DE', dateOptions);\n      const formattedStartTime = startDate.toLocaleTimeString('de-DE', timeOptions);\n      const formattedEndTime = endDate.toLocaleTimeString('de-DE', timeOptions);\n      setNextAppointment({\n        isLoading: false,\n        text: `Nächster Termin: ${formattedDate} um ${formattedStartTime} bis ${formattedEndTime} Uhr`,\n        error: null\n      });\n    } catch (error) {\n      console.error('Fehler beim Abrufen des Termins:', error);\n      setNextAppointment({\n        isLoading: false,\n        text: null,\n        error: 'Termin konnte nicht geladen werden.'\n      });\n    }\n  }, []);\n  const getPatientsCollectionPath = useCallback(() => {\n    if (!userId) return null;\n    return `/artifacts/${firestoreAppId}/users/${userId}/patients`;\n  }, [userId]);\n  const getProfileDocPath = useCallback(() => {\n    if (!userId) return null;\n    return `/artifacts/${firestoreAppId}/users/${userId}/profile/main`;\n  }, [userId]);\n  const findIcd10CodeLocal = useCallback(codeToFind => {\n    const upperCodeToFind = codeToFind.toUpperCase();\n    let found = localIcd10Data[upperCodeToFind];\n    if (found) return found;\n    const baseCode = upperCodeToFind.replace(/(\\.-[*]|\\.\\*|[*]|-)$/, '');\n    found = localIcd10Data[`${baseCode}.-*`] || localIcd10Data[`${baseCode}.*`] || localIcd10Data[baseCode];\n    if (found) return found;\n    const possibleCategoryCode = Object.keys(localIcd10Data).find(key => key.startsWith(upperCodeToFind) && (localIcd10Data[key].code_kategorie || localIcd10Data[key].code));\n    if (possibleCategoryCode) return localIcd10Data[possibleCategoryCode];\n    return null;\n  }, [localIcd10Data]);\n  const handleStartBilling = event => {\n    var _event$summary;\n    const chiffreMatch = (_event$summary = event.summary) === null || _event$summary === void 0 ? void 0 : _event$summary.match(/[A-Z][0-9]{6}/);\n    const chiffre = chiffreMatch ? chiffreMatch[0] : null;\n    const targetPatient = patients.find(p => p.chiffre === chiffre);\n    let nextSessionNumber;\n    if (event.sitzungsnummer) {\n      nextSessionNumber = event.sitzungsnummer;\n    } else {\n      nextSessionNumber = 1;\n      if (targetPatient) {\n        const highestSession = getHighestSessionNumber(targetPatient.sessions);\n        nextSessionNumber = highestSession + 1;\n      }\n    }\n    const eventWithSessionNumber = {\n      ...event,\n      sitzungsnummer: nextSessionNumber\n    };\n    setBillingModalState({\n      isOpen: true,\n      event: eventWithSessionNumber,\n      isEditing: false\n    });\n  };\n  const handleEditSession = session => {\n    var _session$structuredNo, _session$structuredNo2;\n    const event = {\n      id: session.id,\n      summary: `${((_session$structuredNo = session.structuredNotes) === null || _session$structuredNo === void 0 ? void 0 : _session$structuredNo.thema) || 'Sitzung'} (${selectedPatient.chiffre})`,\n      start: {\n        dateTime: session.date\n      },\n      sitzungsnummer: (_session$structuredNo2 = session.structuredNotes) === null || _session$structuredNo2 === void 0 ? void 0 : _session$structuredNo2.sitzungsnummer,\n      initialNotes: session.structuredNotes,\n      initialEbm: session.ebmEntries\n    };\n    setBillingModalState({\n      isOpen: true,\n      event,\n      isEditing: true\n    });\n  };\n  const handleDeleteSession = async sessionId => {\n    if (!selectedPatient) return;\n    const performDelete = async () => {\n      const updatedSessions = selectedPatient.sessions.filter(s => s.id !== sessionId);\n      const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n      try {\n        await setDoc(patientRef, {\n          sessions: updatedSessions\n        }, {\n          merge: true\n        });\n        setConfirmDeleteState({\n          isOpen: false\n        });\n      } catch (error) {\n        console.error(\"Error deleting session: \", error);\n        setAppError(\"Fehler beim Löschen der Sitzung.\");\n      }\n    };\n    setConfirmDeleteState({\n      isOpen: true,\n      title: \"Sitzung löschen?\",\n      message: \"Möchten Sie diese Sitzung und alle zugehörigen Abrechnungsdaten wirklich löschen?\",\n      onConfirm: performDelete\n    });\n  };\n  const handleSaveBilling = async (billingData, isEditing) => {\n    const {\n      chiffre,\n      eventId,\n      eventStart,\n      notes,\n      ebmEntries,\n      sessionId\n    } = billingData;\n    const targetPatient = patients.find(p => p.chiffre === chiffre);\n    if (!targetPatient) {\n      setAppError(`Patient mit Chiffre ${chiffre} nicht gefunden.`);\n      return;\n    }\n    const patientRef = doc(db, getPatientsCollectionPath(), targetPatient.id);\n    let updatedSessions;\n    if (isEditing) {\n      updatedSessions = targetPatient.sessions.map(session => {\n        if (session.id === sessionId) {\n          return {\n            ...session,\n            structuredNotes: notes,\n            ebmEntries: ebmEntries\n          };\n        }\n        return session;\n      });\n    } else {\n      const newSession = {\n        id: `sess_${Date.now()}`,\n        date: new Date(eventStart).toISOString(),\n        structuredNotes: notes,\n        ebmEntries: ebmEntries,\n        eventId: eventId,\n        homeworkStatus: (notes.hausaufgaben || []).filter(task => task.trim() !== '').map(taskText => ({\n          text: taskText,\n          done: false,\n          reason: ''\n        }))\n      };\n      updatedSessions = [...(targetPatient.sessions || []), newSession];\n    }\n    updatedSessions.sort((a, b) => new Date(b.date) - new Date(a.date));\n    try {\n      await setDoc(patientRef, {\n        sessions: updatedSessions\n      }, {\n        merge: true\n      });\n      setBillingModalState({\n        isOpen: false,\n        event: null,\n        isEditing: false\n      });\n      if (!isEditing) {\n        setActiveDetailTab('abrechnung');\n      }\n    } catch (err) {\n      setAppError(\"Fehler beim Speichern der Abrechnung.\");\n      console.error(\"Error saving billing:\", err);\n    }\n  };\n  const handleSaveTestAndResults = async testData => {\n    var _quarterlyAnalysis$cu;\n    const {\n      testId,\n      sessionId,\n      multiplier,\n      phase,\n      date,\n      results\n    } = testData;\n    if (!selectedPatient || !testId) {\n      setAppError(\"Fehler: Patient oder Test nicht spezifiziert.\");\n      return;\n    }\n    const testInfo = availableTests.find(t => t.id === testId);\n    if (!testInfo) {\n      setAppError(\"Testkonfiguration nicht gefunden.\");\n      return;\n    }\n    const {\n      pointsLimit,\n      instancesLimit,\n      instancesInCurrentPhase,\n      quarterlyAnalysis,\n      currentQuarterIdentifier\n    } = diagnostikAnalysis;\n    const currentQuarterPoints = ((_quarterlyAnalysis$cu = quarterlyAnalysis[currentQuarterIdentifier]) === null || _quarterlyAnalysis$cu === void 0 ? void 0 : _quarterlyAnalysis$cu.pointsUsed) || 0;\n    const newPoints = DIAGNOSTIK_PUNKTE[testInfo.ebm] || 0;\n    let warningMessages = [];\n    if (currentQuarterPoints + newPoints > pointsLimit) {\n      warningMessages.push(`Das Punktelimit von ${pointsLimit} für dieses Quartal wird überschritten.`);\n    }\n    if (phase !== 'Probatorik' && phase !== 'Schluss' && instancesInCurrentPhase + 1 > instancesLimit) {\n      warningMessages.push(`Das Instanzenlimit von ${instancesLimit} für die Phase \"${phase}\" wird überschritten.`);\n    }\n    if (warningMessages.length > 0) {\n      const confirmation = window.confirm(`Warnung:\\n\\n${warningMessages.join('\\n')}\\n\\nMöchten Sie trotzdem fortfahren?`);\n      if (!confirmation) {\n        return;\n      }\n    }\n    const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n    const testInstanceId = `test_${testId}_${Date.now()}`;\n    const newTestEbmEntry = {\n      nummer: testInfo.ebm,\n      anzahl: multiplier || 1,\n      faktor: 1,\n      testInstanceId\n    };\n    const resultKey = `${testId}Results`;\n    const newTestResult = {\n      date: new Date().toISOString(),\n      ...results,\n      testInstanceId\n    };\n    const updatedTestResults = [...(selectedPatient[resultKey] || []), newTestResult];\n    let finalPatientData = {\n      [resultKey]: updatedTestResults\n    };\n    try {\n      const updatedSessions = JSON.parse(JSON.stringify(selectedPatient.sessions || []));\n      if (sessionId && sessionId !== 'new') {\n        const sessionIndex = updatedSessions.findIndex(s => s.id === sessionId);\n        if (sessionIndex === -1) throw new Error(\"Die ausgewählte Sitzung zum Hinzufügen wurde nicht gefunden.\");\n        const sessionToUpdate = updatedSessions[sessionIndex];\n        sessionToUpdate.ebmEntries = [...(sessionToUpdate.ebmEntries || []), newTestEbmEntry];\n        finalPatientData.sessions = updatedSessions;\n      } else {\n        const testBillingSession = {\n          id: `sess_${Date.now()}`,\n          date: new Date(date).toISOString(),\n          eventId: `test_${testId}_${Date.now()}`,\n          ebmEntries: [newTestEbmEntry],\n          structuredNotes: {\n            thema: `Testdiagnostik: ${testInfo.name}`,\n            Phase: phase\n          }\n        };\n        updatedSessions.push(testBillingSession);\n        updatedSessions.sort((a, b) => new Date(b.date) - new Date(a.date));\n        finalPatientData.sessions = updatedSessions;\n      }\n      await setDoc(patientRef, finalPatientData, {\n        merge: true\n      });\n      alert(`Test \"${testInfo.name}\" wurde gespeichert und abgerechnet.`);\n      setActiveDiagnostikSubTab(testId);\n    } catch (err) {\n      setAppError(`Fehler beim Speichern der Testdaten: ${err.message}`);\n      console.error(\"Error saving test data:\", err);\n    }\n  };\n  const handleUpdateHomeworkStatus = async (sessionDate, homeworkIndex, newStatus) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    const updatedSessions = JSON.parse(JSON.stringify(selectedPatient.sessions));\n    const sessionToUpdate = updatedSessions.find(s => s.date === sessionDate);\n    if (sessionToUpdate && sessionToUpdate.homeworkStatus && sessionToUpdate.homeworkStatus[homeworkIndex]) {\n      Object.assign(sessionToUpdate.homeworkStatus[homeworkIndex], newStatus);\n    }\n    try {\n      await setDoc(patientRef, {\n        sessions: updatedSessions\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error updating homework status:\", err);\n      setAppError(\"Fehler beim Aktualisieren des Hausaufgabenstatus.\");\n    }\n  };\n\n  // --- useEffects ---\n  useEffect(() => {\n    if (ebmData.length === 0) {\n      fetch('/ebm_data_full.json').then(res => res.json()).then(setEbmData).catch(err => console.error(\"Failed to load EBM data\", err));\n    }\n  }, [ebmData.length]);\n  useEffect(() => {\n    if (mainView === 'abrechnung') {\n      setIsLoadingAppointments(true);\n      fetch('http://localhost:3001/api/calendar/past-events').then(res => {\n        if (!res.ok) {\n          return res.json().then(errorData => {\n            throw new Error(errorData.message || `Serverfehler: ${res.status}`);\n          });\n        }\n        return res.json();\n      }).then(calendarEvents => {\n        if (!Array.isArray(calendarEvents)) {\n          throw new Error(\"Unerwartetes Datenformat vom Server erhalten.\");\n        }\n        ;\n        const billedEventIds = new Set();\n        patients.forEach(p => {\n          (p.sessions || []).forEach(s => {\n            if (s.eventId) billedEventIds.add(s.eventId);\n          });\n        });\n        const unbilled = calendarEvents.filter(event => {\n          var _event$summary2;\n          return !billedEventIds.has(event.id) && ((_event$summary2 = event.summary) === null || _event$summary2 === void 0 ? void 0 : _event$summary2.match(/[A-Z][0-9]{6}/));\n        });\n        setUnbilledAppointments(unbilled);\n      }).catch(err => {\n        if (err.message && err.message.includes('Nicht bei Google authentifiziert')) {\n          setAppError(`Kalender-Fehler: Sie müssen sich erneut bei Google authentifizieren. Rufen Sie dazu im Browser auf: http://localhost:3001/auth/google`);\n        } else {\n          setAppError(`Offene Abrechnungen konnten nicht geladen werden: ${err.message}`);\n        }\n      }).finally(() => setIsLoadingAppointments(false));\n    }\n  }, [mainView, patients]);\n  useEffect(() => {\n    if (selectedPatient) {\n      fetchNextAppointment(selectedPatient.chiffre);\n    } else {\n      setNextAppointment({\n        isLoading: false,\n        text: null,\n        error: null\n      });\n    }\n  }, [selectedPatient, fetchNextAppointment]);\n  useEffect(() => {\n    fetch('/icd10f_data.json').then(response => {\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      return response.json();\n    }).then(data => {\n      const indexedData = {};\n      data.forEach(item => {\n        if (item.code) {\n          indexedData[item.code.toUpperCase()] = item;\n        }\n      });\n      setLocalIcd10Data(indexedData);\n    }).catch(error => {\n      console.error(\"Fehler beim Laden der lokalen ICD-10 Daten:\", error);\n      setAppError(\"Lokale ICD-10 Daten konnten nicht geladen werden. \" + error.message);\n    });\n  }, []);\n  useEffect(() => {\n    if (selectedPatient) {\n      setEditableKrankheitsanamnese(selectedPatient.krankheitsanamnese || \"\");\n      setEditableLebensgeschichte(selectedPatient.lebensgeschichte || \"\");\n      setEditableProblemanalyseMakro(selectedPatient.problemanalyseMakro || \"\");\n      setEditableTherapieplan(selectedPatient.therapieplan || \"\");\n      if (detailViewRef.current) {\n        setTimeout(() => {\n          detailViewRef.current.scrollIntoView({\n            behavior: 'smooth',\n            block: 'start'\n          });\n        }, 100);\n      }\n    } else {\n      setEditableKrankheitsanamnese(\"\");\n      setEditableLebensgeschichte(\"\");\n      setEditableProblemanalyseMakro(\"\");\n      setEditableTherapieplan(\"\");\n    }\n  }, [selectedPatient]);\n  useEffect(() => {\n    if (newDiagnosisCode.trim() !== '') {\n      const found = findIcd10CodeLocal(newDiagnosisCode.trim().toUpperCase());\n      if (found && found.name) {\n        setLookedUpDiagnosisName(found.name);\n      } else {\n        setLookedUpDiagnosisName('');\n      }\n    } else {\n      setLookedUpDiagnosisName('');\n    }\n  }, [newDiagnosisCode, findIcd10CodeLocal]);\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, user => {\n      if (user) {\n        setUserId(user.uid);\n      } else {\n        setUserId(null);\n      }\n      setIsAuthReady(true);\n      setIsLoading(false);\n    });\n    return () => unsubscribe();\n  }, []);\n  const seedInitialData = useCallback(async () => {\n    if (!userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    try {\n      const patientsCollection = collection(db, collectionPath);\n      const querySnapshot = await getDocs(patientsCollection);\n      if (querySnapshot.empty) {\n        const batch = writeBatch(db);\n        initialPatientsData.forEach(patientData => {\n          const newPatientRef = doc(patientsCollection);\n          batch.set(newPatientRef, {\n            ...patientData,\n            hscl11Results: patientData.hscl11Results || [],\n            bdi2Results: patientData.bdi2Results || [],\n            fep2Results: patientData.fep2Results || [],\n            scl90rResults: patientData.scl90rResults || [],\n            diagnoses_icd11: patientData.diagnoses_icd11 || [],\n            krankheitsanamnese: patientData.krankheitsanamnese || \"\",\n            lebensgeschichte: patientData.lebensgeschichte || \"\",\n            problemanalyseMakro: patientData.problemanalyseMakro || \"\",\n            therapieplan: patientData.therapieplan || \"\"\n          });\n        });\n        await batch.commit();\n      }\n    } catch (err) {\n      console.error(\"Error seeding initial data:\", err);\n      setAppError(\"Fehler beim Laden der initialen Daten.\");\n    }\n  }, [userId, getPatientsCollectionPath]);\n  useEffect(() => {\n    if (!isAuthReady || !userId) {\n      setPatients([]);\n      setProfile({});\n      return;\n    }\n    const patientsCollectionPath = getPatientsCollectionPath();\n    if (!patientsCollectionPath) return;\n    setIsLoading(true);\n    seedInitialData();\n    const patientsQuery = query(collection(db, patientsCollectionPath));\n    const unsubscribePatients = onSnapshot(patientsQuery, snapshot => {\n      let patientsData = snapshot.docs.map(docSnap => ({\n        id: docSnap.id,\n        ...docSnap.data(),\n        diagnoses_icd11: docSnap.data().diagnoses_icd11 || []\n      }));\n      patientsData.sort((a, b) => (a.name || \"\").localeCompare(b.name || \"\"));\n      setPatients(patientsData);\n      setIsLoading(false);\n    }, err => {\n      console.error(\"Error fetching patients:\", err);\n      setAppError(\"Fehler beim Laden der Patientendaten.\");\n      setIsLoading(false);\n    });\n    const profileDocPath = getProfileDocPath();\n    const unsubscribeProfile = onSnapshot(doc(db, profileDocPath), docSnap => {\n      if (docSnap.exists()) {\n        setProfile(docSnap.data());\n      } else {\n        setProfile({});\n      }\n    }, err => {\n      console.error(\"Error fetching profile:\", err);\n      setAppError(\"Fehler beim Laden der Profildaten.\");\n    });\n    return () => {\n      unsubscribePatients();\n      unsubscribeProfile();\n    };\n  }, [isAuthReady, userId, getPatientsCollectionPath, getProfileDocPath, seedInitialData]);\n  useEffect(() => {\n    if (selectedPatient && selectedPatient.id && patients.length > 0) {\n      const currentPatientDataFromList = patients.find(p => p.id === selectedPatient.id);\n      if (currentPatientDataFromList) {\n        if (JSON.stringify(currentPatientDataFromList) !== JSON.stringify(selectedPatient)) {\n          setSelectedPatient(currentPatientDataFromList);\n        }\n      } else {\n        setSelectedPatient(null);\n      }\n    }\n  }, [patients, selectedPatient]);\n  useEffect(() => {\n    const loadIcd10Data = async () => {\n      try {\n        const response = await fetch('/icd10f_data.json');\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        const indexedData = {};\n        data.forEach(item => {\n          if (item.code) {\n            indexedData[item.code.toUpperCase()] = item;\n            const baseCode = item.code.replace(/[*†]/, '').toUpperCase();\n            if (baseCode !== item.code.toUpperCase()) {\n              indexedData[baseCode] = item;\n            }\n          }\n        });\n        setLocalIcd10Data(indexedData);\n      } catch (error) {\n        console.error(\"Fehler beim Laden der lokalen ICD-10 Daten:\", error);\n        setAppError(\"Lokale ICD-10 Daten konnten nicht geladen werden. \" + error.message);\n      }\n    };\n    loadIcd10Data();\n  }, []);\n\n  // NEU: Lottie-Player-Skript dynamisch laden\n  useEffect(() => {\n    const scriptId = 'dotlottie-player-script';\n    if (!document.getElementById(scriptId)) {\n      const script = document.createElement('script');\n      script.id = scriptId;\n      script.src = \"https://unpkg.com/@dotlottie/player-component@2.7.12/dist/dotlottie-player.mjs\";\n      script.type = \"module\";\n      document.head.appendChild(script);\n    }\n  }, []);\n  const bdiCutoffs = [{\n    y1: 0,\n    y2: 8,\n    label: \"Keine Depression\",\n    color: \"rgba(75, 192, 192, 0.2)\"\n  }, {\n    y1: 9,\n    y2: 13,\n    label: \"Minimale Depression\",\n    color: \"rgba(54, 162, 235, 0.2)\"\n  }, {\n    y1: 14,\n    y2: 19,\n    label: \"Leichte Depression\",\n    color: \"rgba(255, 206, 86, 0.2)\"\n  }, {\n    y1: 20,\n    y2: 28,\n    label: \"Mittelschwere Depression\",\n    color: \"rgba(255, 159, 64, 0.2)\"\n  }, {\n    y1: 29,\n    y2: 63,\n    label: \"Schwere Depression\",\n    color: \"rgba(255, 99, 132, 0.2)\"\n  }];\n  const bdiAxisTicks = [0, 8, 13, 19, 28, 63];\n  const handleAuthAction = async isRegistering => {\n    setIsAuthLoading(true);\n    setAuthError(null);\n    try {\n      if (isRegistering) {\n        await createUserWithEmailAndPassword(auth, email, password);\n      } else {\n        await signInWithEmailAndPassword(auth, email, password);\n      }\n      setEmail(\"\");\n      setPassword(\"\");\n    } catch (error) {\n      console.error(\"Authentication error:\", error);\n      setAuthError(error.message);\n    } finally {\n      setIsAuthLoading(false);\n    }\n  };\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n      setSelectedPatient(null);\n      setPatients([]);\n    } catch (error) {\n      console.error(\"Error signing out: \", error);\n      setAppError(\"Fehler beim Abmelden.\");\n    }\n  };\n  const handleSavePatient = async patientData => {\n    if (!userId) {\n      setAppError(\"Benutzer nicht authentifiziert.\");\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const dataToSave = {\n      name: patientData.name || '',\n      vorname: patientData.vorname || '',\n      chiffre: patientData.chiffre || '',\n      geburtsdatum: patientData.geburtsdatum || '',\n      adresse: patientData.adresse || '',\n      email: patientData.email || '',\n      telefon: patientData.telefon || '',\n      krankenkasse: patientData.krankenkasse || '',\n      versichertennummer: patientData.versichertennummer || '',\n      approvedHours: patientData.approvedHours || 0,\n      therapeuticMethods: patientData.therapeuticMethods || [],\n      diagnoses: patientData.diagnoses || [],\n      diagnoses_icd11: patientData.diagnoses_icd11 || [],\n      sessions: patientData.sessions || [],\n      hscl11Results: patientData.hscl11Results || [],\n      bdi2Results: patientData.bdi2Results || [],\n      fep2Results: patientData.fep2Results || [],\n      scl90rResults: patientData.scl90rResults || [],\n      krankheitsanamnese: patientData.krankheitsanamnese || \"\",\n      lebensgeschichte: patientData.lebensgeschichte || \"\",\n      problemanalyseMakro: patientData.problemanalyseMakro || \"\",\n      therapieplan: patientData.therapieplan || \"\"\n    };\n    try {\n      if (editingPatient && editingPatient.id) {\n        const patientRef = doc(db, collectionPath, editingPatient.id);\n        await setDoc(patientRef, dataToSave, {\n          merge: true\n        });\n      } else {\n        await addDoc(collection(db, collectionPath), dataToSave);\n      }\n      setIsPatientModalOpen(false);\n      setEditingPatient(null);\n    } catch (err) {\n      console.error(\"Error saving patient:\", err);\n      setAppError(`Fehler beim Speichern des Patienten: ${err.message}`);\n    }\n  };\n  const confirmDeletePatient = async patientId => {\n    if (!patientId || !userId) {\n      setAppError(\"Löschvorgang fehlgeschlagen.\");\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    try {\n      const patientRef = doc(db, collectionPath, patientId);\n      await deleteDoc(patientRef);\n      if (selectedPatient && selectedPatient.id === patientId) {\n        setSelectedPatient(null);\n      }\n      setConfirmDeleteState({\n        isOpen: false\n      });\n    } catch (err) {\n      console.error(\"Error deleting patient:\", err);\n      setAppError(\"Fehler beim Löschen des Patienten.\");\n      setConfirmDeleteState({\n        isOpen: false\n      });\n    }\n  };\n  const openDeleteConfirmation = patientId => {\n    setConfirmDeleteState({\n      isOpen: true,\n      title: \"Patient wirklich löschen?\",\n      message: \"Möchten Sie diesen Patienten und alle zugehörigen Daten unwiderruflich löschen?\",\n      onConfirm: () => confirmDeletePatient(patientId)\n    });\n  };\n  const handleAddDiagnosis = async () => {\n    const codeToAdd = newDiagnosisCode.trim().toUpperCase();\n    if (!selectedPatient || !codeToAdd || !userId) {\n      setAppError(\"Bitte füllen Sie alle erforderlichen Felder aus.\");\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const sicherheitPrefix = newDiagnosisSicherheit ? `[${newDiagnosisSicherheit}] ` : \"\";\n    const beschreibung = newDiagnosis.trim() ? `: ${newDiagnosis.trim()}` : lookedUpDiagnosisName ? `: ${lookedUpDiagnosisName}` : \"\";\n    const diagnosisString = `${sicherheitPrefix}${codeToAdd}${beschreibung}`;\n    const updatedDiagnoses = [...(selectedPatient.diagnoses || []), diagnosisString];\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        diagnoses: updatedDiagnoses\n      }, {\n        merge: true\n      });\n      setNewDiagnosisCode('');\n      setNewDiagnosis('');\n      setLookedUpDiagnosisName('');\n      setNewDiagnosisSicherheit('G');\n    } catch (err) {\n      console.error(\"Error adding diagnosis:\", err);\n      setAppError(\"Fehler beim Hinzufügen der Diagnose.\");\n    }\n  };\n  const handleRemoveDiagnosis = async diagnosisStringToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedDiagnoses = selectedPatient.diagnoses.filter(d => d !== diagnosisStringToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        diagnoses: updatedDiagnoses\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing diagnosis:\", err);\n      setAppError(\"Fehler beim Entfernen der Diagnose.\");\n    }\n  };\n  const handleAddBdiResult = async newResult => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedBdiResults = [...(selectedPatient.bdi2Results || []), newResult];\n    updatedBdiResults.sort((a, b) => new Date(a.date) - new Date(b.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        bdi2Results: updatedBdiResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error adding BDI-II result:\", err);\n      setAppError(\"Fehler beim Hinzufügen des BDI-II Ergebnisses.\");\n    }\n  };\n  const handleAddHsclResult = async newResult => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedHsclResults = [...(selectedPatient.hscl11Results || []), newResult];\n    updatedHsclResults.sort((a, b) => new Date(a.date) - new Date(b.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        hscl11Results: updatedHsclResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error adding HSCL result:\", err);\n      setAppError(\"Fehler beim Hinzufügen des HSCL-Ergebnisses.\");\n    }\n  };\n  const handleRemoveHsclResult = async dateToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedHsclResults = selectedPatient.hscl11Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        hscl11Results: updatedHsclResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing HSCL result:\", err);\n      setAppError(\"Fehler beim Entfernen des HSCL-Ergebnisses.\");\n    }\n  };\n  const handleRemoveBdiResult = async dateToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedBdiResults = selectedPatient.bdi2Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        bdi2Results: updatedBdiResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing BDI-II result:\", err);\n      setAppError(\"Fehler beim Entfernen des BDI-II Ergebnisses.\");\n    }\n  };\n  const handleAddFepResult = async result => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedFepResults = [...(selectedPatient.fep2Results || []), result];\n    updatedFepResults.sort((a, b) => new Date(a.date) - new Date(b.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        fep2Results: updatedFepResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error adding FEP-2 result:\", err);\n      setAppError(\"Fehler beim Hinzufügen des FEP-2 Ergebnisses.\");\n    }\n  };\n  const handleRemoveFepResult = async dateToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedFepResults = selectedPatient.fep2Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        fep2Results: updatedFepResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing FEP-2 result:\", err);\n      setAppError(\"Fehler beim Entfernen des FEP-2 Ergebnisses.\");\n    }\n  };\n  const handleAddScl90rResult = async result => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const newResultToSave = {\n      rawScores: result.rawScores,\n      tScores: result.tScores,\n      globalScores: result.globalScores,\n      itemScores: result.itemScores,\n      date: result.date\n    };\n    const updatedScl90rResults = [...(selectedPatient.scl90rResults || []), newResultToSave];\n    updatedScl90rResults.sort((a, b) => new Date(b.date) - new Date(a.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        scl90rResults: updatedScl90rResults\n      }, {\n        merge: true\n      });\n      console.log(\"SCL-90-R-Ergebnis erfolgreich gespeichert mit itemScores.\");\n    } catch (err) {\n      console.error(\"Error adding SCL-90-R result:\", err);\n      setAppError(\"Fehler beim Speichern des SCL-90-R Ergebnisses.\");\n    }\n  };\n  const handleRemoveScl90rResult = async dateToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedScl90rResults = selectedPatient.scl90rResults.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        scl90rResults: updatedScl90rResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing SCL-90-R result:\", err);\n      setAppError(\"Fehler beim Entfernen des SCL-90-R Ergebnisses.\");\n    }\n  };\n  const handleKrankheitsmodellChange = async (fieldName, value) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        [fieldName]: value\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(`Error updating ${fieldName}:`, err);\n      setAppError(`Fehler beim Speichern von ${fieldName}.`);\n    }\n  };\n  const handleTherapeutischeAssistenzAnfordern = async () => {\n    if (!selectedPatient) {\n      setAssistenzError(\"Bitte wählen Sie zuerst einen Patienten aus.\");\n      return;\n    }\n    setIsLoadingTherapeutischeAssistenz(true);\n    setTherapeutischeAssistenzOutput(\"\");\n    setAssistenzError(null);\n    const conductedHours = getHighestSessionNumber(selectedPatient.sessions);\n    const patientenDatenText = `Hier sind die relevanten Patientendaten:\\n**Krankheitsanamnese:**\\n${selectedPatient.krankheitsanamnese || \"Keine Angaben.\"}\\n**Lebensgeschichte/Biografie:**\\n${selectedPatient.lebensgeschichte || \"Keine Angaben.\"}\\n**Problemanalyse auf Makroebene:**\\n${selectedPatient.problemanalyseMakro || \"Keine Angaben.\"}\\n**Therapieplanung (bisherig):**\\n${selectedPatient.therapieplan || \"Keine Angaben.\"}\\n**Verlaufsdokumentation (Sitzungsnotizen):**\\n${(selectedPatient.sessions || []).map((s, i) => {\n      var _s$structuredNotes7, _s$structuredNotes8;\n      return `Sitzung ${((_s$structuredNotes7 = s.structuredNotes) === null || _s$structuredNotes7 === void 0 ? void 0 : _s$structuredNotes7.sitzungsnummer) || i + 1} (${new Date(s.date).toLocaleDateString('de-DE')}): ${((_s$structuredNotes8 = s.structuredNotes) === null || _s$structuredNotes8 === void 0 ? void 0 : _s$structuredNotes8.patientenbericht) || s.notes}`;\n    }).join(\"\\n\\n\") || \"Keine Sitzungsnotizen vorhanden.\"}\\n**Diagnosen:**\\n${(selectedPatient.diagnoses || []).join(\", \") || \"Keine Diagnosen erfasst.\"}\\n**Genehmigte Stunden:** ${selectedPatient.approvedHours}\\n**Durchgeführte Stunden:** ${conductedHours}`;\n    const systemPrompt = `Du bist ein interdisziplinäres Expertenteam, bestehend aus erfahrenen Verhaltenstherapeuten wie Jürgen Margraf, Dr. Stavemann, Aaron T. Beck, Judith Beck und Jonathan S. Abramowitz sowie aus leitenden Chefärzten und Psychiatern wie Prof. Dr. Mathias Berger. Das Team verfügt über exzellente Fachkompetenz in der evidenzbasierten psychotherapeutischen Praxis und legt besonderen Wert auf präzise medizinische Dokumentation sowie therapeutische Qualität. Darüber hinaus gehören auch international anerkannte Experten wie David H. Barlow, Stefan G. Hofmann und Steven Hayes zum Team. Du verfügst über tiefgehendes Wissen in Ansätzen der sogenannten „dritten Welle“ der Verhaltenstherapie, insbesondere in ACT, Schematherapie und DBT.\\nDeine Aufgabe ist es, auf Grundlage folgender Elemente, welche du aus den bereitgestellten Patientendaten entnimmst:\\n- Krankheitsanamnese, Lebensgeschichte/Biografie, Problemanalyse auf Makroebene, Therapieplanung (bisherig), Verlaufsdokumentation (Sitzungsnotizen)\\neine strukturierte Rückmeldung zu geben mit dem Ziel:\\n1. Wesentliche Schwerpunkte in der weiteren Therapieplanung zu identifizieren.\\n2. Konkrete Interventionsideen zu formulieren, orientiert an den zugelassenen Stunden.\\n3. Hinweise zu geben, worauf in der Strukturierung der Sitzungen geachtet werden sollte (z.B. Themenfokus, Symptomschwere, Therapiezielorientierung).\\nBerücksichtige dabei:\\n• Die begrenzte Anzahl genehmigter Stunden. • Dass Themen nicht zu häufig gewechselt werden sollen. • Die Konsistenz und Nachvollziehbarkeit im Verlauf.\\nBitte plane deine Analyse gründlich und reflektiert. Handle in Etappen:\\n1. Diagnostische Schwerpunkte benennen, 2. Therapieziele definieren, 3. Interventionsvorschläge machen, 4. Hinweise zur Dokumentation geben\\nAtme einmal tief ein und aus und nehme dir Zeit für die Aufgabe. Mache bitte weiter, bis das Problem vollständig gelöst ist. Planen bitte ausführlich vor jeder Aktion.\\nHier sind die Daten des aktuellen Falls:\\n${patientenDatenText}\\nBitte gib deine strukturierte Rückmeldung.`;\n    try {\n      const assistenz = await generateGeminiText(systemPrompt);\n      setTherapeutischeAssistenzOutput(assistenz);\n    } catch (e) {\n      setAssistenzError(`Fehler bei der Anforderung der therapeutischen Assistenz: ${e.message}`);\n    } finally {\n      setIsLoadingTherapeutischeAssistenz(false);\n    }\n  };\n  const showDiagnosisInfo = diagnosisString => {\n    const sicherheitMatch = diagnosisString.match(/^\\[([AVGZN]+)\\]\\s*/i);\n    const sicherheit = sicherheitMatch ? sicherheitMatch[1].toUpperCase() : '';\n    const codeAndName = sicherheitMatch ? diagnosisString.substring(sicherheitMatch[0].length) : diagnosisString;\n    const codeMatch = codeAndName.match(/^([A-Z][0-9]{1,2}(\\.[0-9A-Z]{1,2})?[*†]?)/i);\n    const code = codeMatch ? codeMatch[0].toUpperCase() : codeAndName.split(':')[0].trim().toUpperCase();\n    const localData = findIcd10CodeLocal(code);\n    if (localData) {\n      setDiagnosisInfo({\n        code: localData.code || code,\n        name: localData.name || '',\n        beschreibung: localData.beschreibung || localData.beschreibung_kategorie || '',\n        inkl: localData.inkl || [],\n        exkl: localData.exkl || [],\n        hinweise: localData.hinweise || [],\n        zusatz_info_code: localData.zusatz_info_code || '',\n        sicherheit: sicherheit,\n        isLoading: false,\n        error: null,\n        isOpen: true,\n        source: 'local'\n      });\n    } else {\n      setDiagnosisInfo({\n        code: code,\n        name: \"Unbekannter ICD-10 Code\",\n        isLoading: false,\n        error: `Für den ICD-10 Code \"${code}\" wurden keine Informationen in der lokalen Datenbank gefunden.`,\n        isOpen: true,\n        source: 'error'\n      });\n    }\n  };\n  const fetchIcd11Details = async diagnosis => {\n    if (!diagnosis || !diagnosis.uri) {\n      setAppError(\"Keine gültige URI für die ICD-11 Diagnose vorhanden.\");\n      return;\n    }\n    const {\n      code,\n      title,\n      uri\n    } = diagnosis;\n    setDiagnosisInfo({\n      code: code,\n      name: title,\n      isLoading: true,\n      error: null,\n      isOpen: true,\n      source: 'api'\n    });\n    try {\n      var _fullData$title, _fullData$definition;\n      const response = await fetch(`http://localhost:3001/api/icd11-info?uri=${encodeURIComponent(uri)}`);\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'API-Anfrage fehlgeschlagen');\n      }\n      const fullData = await response.json();\n      setDiagnosisInfo({\n        code: fullData.code || code,\n        name: ((_fullData$title = fullData.title) === null || _fullData$title === void 0 ? void 0 : _fullData$title['@value']) || title,\n        beschreibung: ((_fullData$definition = fullData.definition) === null || _fullData$definition === void 0 ? void 0 : _fullData$definition['@value']) || '',\n        diagnosticCriteria: fullData.diagnosticCriteria,\n        inclusions: fullData.inclusion,\n        exclusions: fullData.exclusion,\n        isLoading: false,\n        error: null,\n        isOpen: true,\n        source: 'api_detail'\n      });\n    } catch (error) {\n      console.error('Fehler beim Abrufen der ICD-11 Details:', error);\n      setDiagnosisInfo({\n        code: code,\n        isLoading: false,\n        error: `Konnte Informationen für ${code} nicht laden: ${error.message}`,\n        isOpen: true,\n        source: 'api'\n      });\n    }\n  };\n  const handleAssignIcd11Diagnosis = async (patientId, icd11Entity) => {\n    if (!patientId || !icd11Entity || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const patientRef = doc(db, collectionPath, patientId);\n    const targetPatient = patients.find(p => p.id === patientId);\n    if (!targetPatient) {\n      setAppError(\"Ziel-Patient konnte nicht gefunden werden.\");\n      return;\n    }\n    const newDiagnosis = {\n      code: icd11Entity.code,\n      title: icd11Entity.selectedText,\n      uri: icd11Entity.linearizationUri || icd11Entity.foundationUri,\n      date: new Date().toISOString()\n    };\n    const updatedDiagnoses = [...(targetPatient.diagnoses_icd11 || []), newDiagnosis];\n    try {\n      await setDoc(patientRef, {\n        diagnoses_icd11: updatedDiagnoses\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error assigning ICD-11 diagnosis:\", err);\n      setAppError(\"Fehler beim Zuweisen der ICD-11 Diagnose.\");\n    }\n  };\n  const handleRemoveIcd11Diagnosis = async diagnosisToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedDiagnoses = selectedPatient.diagnoses_icd11.filter(d => d.date !== diagnosisToRemove.date);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        diagnoses_icd11: updatedDiagnoses\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing ICD-11 diagnosis:\", err);\n      setAppError(\"Fehler beim Entfernen der ICD-11 Diagnose.\");\n    }\n  };\n  const handleAcceptImprovement = async () => {\n    if (improvementState.sessionIndex === null || !selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedSessions = JSON.parse(JSON.stringify(selectedPatient.sessions));\n    updatedSessions[improvementState.sessionIndex].notes = improvementState.improvedText;\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        sessions: updatedSessions\n      }, {\n        merge: true\n      });\n      setImprovementState({\n        isOpen: false,\n        isLoading: false,\n        originalText: '',\n        improvedText: '',\n        sessionIndex: null,\n        error: null\n      });\n    } catch (err) {\n      console.error(\"Error updating session note:\", err);\n      setAppError(\"Fehler beim Aktualisieren der Sitzungsnotiz.\");\n    }\n  };\n  const handleFileUpload = event => {\n    const files = Array.from(event.target.files);\n    const newFiles = files.map(file => ({\n      name: file.name,\n      size: file.size,\n      type: file.type,\n      lastModified: file.lastModifiedDate.toLocaleDateString('de-DE')\n    }));\n    setUploadedFiles(prev => [...prev, ...newFiles]);\n    console.log(\"Dateien zum Hochladen ausgewählt:\", newFiles);\n    setAppError(\"Datei-Upload ist nur eine Demo. Die Dateien werden nicht permanent gespeichert.\");\n  };\n  const handleRemoveFile = fileName => {\n    setUploadedFiles(prev => prev.filter(f => f.name !== fileName));\n  };\n  const handleSaveProfile = async profileData => {\n    if (!userId) {\n      setAppError(\"Benutzer nicht authentifiziert.\");\n      return;\n    }\n    const profileDocRef = doc(db, getProfileDocPath());\n    try {\n      await setDoc(profileDocRef, profileData, {\n        merge: true\n      });\n      alert(\"Profil erfolgreich gespeichert!\");\n    } catch (err) {\n      console.error(\"Error saving profile:\", err);\n      setAppError(`Fehler beim Speichern des Profils: ${err.message}`);\n    }\n  };\n  const handleUploadFile = async (file, path) => {\n    if (!userId) throw new Error(\"Benutzer nicht authentifiziert.\");\n    setIsUploading(true);\n    const storageRef = ref(storage, `users/${userId}/${path}/${file.name}`);\n    try {\n      const snapshot = await uploadBytes(storageRef, file);\n      const downloadURL = await getDownloadURL(snapshot.ref);\n      return downloadURL;\n    } catch (error) {\n      console.error(\"Upload failed\", error);\n      throw error;\n    } finally {\n      setIsUploading(false);\n    }\n  };\n  const inputStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-teal-500 focus:border-teal-500 sm:text-sm\";\n  const btnPrimary = \"bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm flex items-center justify-center transition-colors\";\n  const btnDanger = \"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md flex items-center transition-colors\";\n  const btnInfo = \"bg-sky-500 hover:bg-sky-600 text-white font-semibold py-1 px-2 text-xs rounded-md flex items-center transition-colors\";\n  const textareaStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-teal-500 focus:border-teal-500 sm:text-sm min-h-[150px]\";\n  if (!isAuthReady) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center h-screen text-xl font-semibold text-gray-600 bg-slate-100\",\n    children: \"Authentifizierung wird initialisiert...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 512,\n    columnNumber: 30\n  }, this);\n  if (!userId) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-slate-100 flex flex-col justify-center items-center p-4\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-lg shadow-md w-full max-w-md border border-gray-200\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-center text-gray-800 mb-8\",\n          children: isLoginView ? \"Login Patientenverwaltung\" : \"Registrierung\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 210\n        }, this), \" \", authError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-sm\",\n          children: authError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 357\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => {\n            e.preventDefault();\n            handleAuthAction(!isLoginView);\n          },\n          className: \"space-y-6\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"E-Mail Adresse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 549\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              id: \"email\",\n              required: true,\n              value: email,\n              onChange: e => setEmail(e.target.value),\n              className: inputStd\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 646\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 544\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"Passwort\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 791\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              id: \"password\",\n              required: true,\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              className: inputStd\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 885\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 786\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: isAuthLoading,\n            className: `${btnPrimary} w-full py-2.5 text-base ${isAuthLoading ? 'opacity-50 cursor-not-allowed' : ''}`,\n            children: isAuthLoading ? isLoginView ? \"Anmelden...\" : \"Registrieren...\" : isLoginView ? \"Anmelden\" : \"Registrieren\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 1040\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 441\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setIsLoginView(!isLoginView);\n            setAuthError(null);\n          },\n          className: \"mt-6 text-sm text-teal-600 hover:text-teal-500 text-center w-full\",\n          children: isLoginView ? \"Noch kein Konto? Jetzt registrieren.\" : \"Bereits registriert? Zum Login.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 1326\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 119\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 29\n    }, this);\n  }\n  const Sidebar = ({\n    currentView,\n    setView\n  }) => {\n    const navItems = [{\n      id: 'profile',\n      label: 'Profil',\n      icon: /*#__PURE__*/_jsxDEV(SettingsIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 53\n      }, this),\n      type: 'item'\n    }, {\n      id: 'kalender',\n      label: 'Kalender',\n      icon: /*#__PURE__*/_jsxDEV(CalendarIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 56\n      }, this),\n      type: 'item'\n    }, {\n      type: 'heading',\n      label: 'Patienten'\n    }, {\n      id: 'patients',\n      label: 'Patientenübersicht',\n      icon: /*#__PURE__*/_jsxDEV(Users, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 66\n      }, this),\n      type: 'item'\n    }, {\n      id: 'patientenakte',\n      label: 'Patientenakte',\n      icon: /*#__PURE__*/_jsxDEV(FileText, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 66\n      }, this),\n      type: 'item'\n    }, {\n      type: 'heading',\n      label: 'Verwaltung'\n    }, {\n      id: 'abrechnung',\n      label: 'Abrechnung',\n      icon: /*#__PURE__*/_jsxDEV(DollarSignIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 60\n      }, this),\n      type: 'item'\n    }, {\n      id: 'formulare',\n      label: 'Formulare',\n      icon: /*#__PURE__*/_jsxDEV(PaperclipIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 58\n      }, this),\n      type: 'item'\n    }, {\n      type: 'heading',\n      label: 'Nachschlagewerke'\n    }, {\n      id: 'ebm',\n      label: 'EBM',\n      icon: /*#__PURE__*/_jsxDEV(List, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 46\n      }, this),\n      type: 'item'\n    }, {\n      id: 'icd11',\n      label: 'ICD-11',\n      icon: /*#__PURE__*/_jsxDEV(BookOpen, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 51\n      }, this),\n      type: 'item'\n    }];\n    return /*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"w-64 bg-slate-100 border-r border-slate-200 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b border-slate-200\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-bold text-teal-700 tracking-tight\",\n          children: \"Therapie-Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 64\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex-1 p-4 space-y-1\",\n        children: navItems.map((item, index) => item.type === 'heading' ? /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"px-3 pt-4 pb-1 text-xs font-semibold text-gray-500 uppercase tracking-wider\",\n          children: item.label\n        }, `heading-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setView(item.id);\n            setSelectedPatient(null);\n            setSelectedId(null);\n          },\n          className: `w-full flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${currentView === item.id ? 'bg-teal-100 text-teal-800' : 'text-slate-700 hover:bg-slate-200'}`,\n          children: [item.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n            children: item.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 29\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t border-slate-200\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-slate-500\",\n          children: [\"UserID: \", userId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 65\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 13\n    }, this);\n  };\n  const PatientDetailHeader = ({\n    patient,\n    onDeselect\n  }) => {\n    _s3();\n    const therapyStartDate = useMemo(() => {\n      if (!patient || !patient.sessions) return \"-\";\n      const firstSession = patient.sessions.filter(s => {\n        var _s$structuredNotes9;\n        return ((_s$structuredNotes9 = s.structuredNotes) === null || _s$structuredNotes9 === void 0 ? void 0 : _s$structuredNotes9.sitzungsnummer) === 1;\n      }).sort((a, b) => new Date(a.date) - new Date(b.date))[0];\n      return firstSession ? new Date(firstSession.date).toLocaleDateString('de-DE') : '-';\n    }, [patient]);\n    const conductedHours = useMemo(() => getHighestSessionNumber(patient === null || patient === void 0 ? void 0 : patient.sessions), [patient]);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-start mb-1\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-2xl font-semibold text-gray-800\",\n          children: [patient.vorname, \" \", patient.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 77\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onDeselect,\n          className: \"text-gray-400 hover:text-gray-600\",\n          children: /*#__PURE__*/_jsxDEV(XCircle, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 243\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 168\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 21\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 text-sm text-gray-500 grid grid-cols-2 md:grid-cols-4 gap-x-4 gap-y-1\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-semibold\",\n            children: \"Kasse:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 370\n          }, this), \" \", patient.krankenkasse || '-']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 364\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-semibold\",\n            children: \"Vers.-Nr.:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 463\n          }, this), \" \", patient.versichertennummer || '-']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 457\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-semibold\",\n            children: \"Therapiebeginn:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 566\n          }, this), \" \", therapyStartDate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 560\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-semibold\",\n            children: \"Stunden:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 657\n          }, this), \" \", conductedHours, \" / \", patient.approvedHours]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 651\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 271\n      }, this), \" \"]\n    }, void 0, true);\n  };\n  _s3(PatientDetailHeader, \"sZ392WPNluoTXDhZX3asjt0EIrI=\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen w-full bg-slate-50 font-sans flex overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      currentView: mainView,\n      setView: setMainView\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 557,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"bg-white border-b border-slate-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mx-auto px-6 py-3 flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-800 capitalize\",\n            children: mainView.replace('patientenakte', 'Patientenakte')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 141\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"text-gray-500 hover:text-red-600 hover:bg-red-50 p-2 rounded-md text-sm flex items-center transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(LogOut, {\n              className: \"mr-2 h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 412\n            }, this), \" Logout\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 261\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 72\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"flex-1 overflow-y-auto p-6 relative\",\n        children: [/*#__PURE__*/_jsxDEV(ConfirmationModal, {\n          isOpen: confirmDeleteState.isOpen,\n          onClose: () => setConfirmDeleteState({\n            isOpen: false\n          }),\n          onConfirm: confirmDeleteState.onConfirm,\n          title: confirmDeleteState.title,\n          message: confirmDeleteState.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          isOpen: isPatientModalOpen,\n          onClose: () => setIsPatientModalOpen(false),\n          title: editingPatient ? \"Patient bearbeiten\" : \"Neuen Patienten anlegen\",\n          children: /*#__PURE__*/_jsxDEV(PatientForm, {\n            patient: editingPatient,\n            onSave: handleSavePatient,\n            onCancel: () => setIsPatientModalOpen(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 175\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 21\n        }, this), mainView === 'profile' && /*#__PURE__*/_jsxDEV(Profile, {\n          initialProfile: profile,\n          onSave: handleSaveProfile,\n          onUploadFile: handleUploadFile,\n          isUploading: isUploading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 49\n        }, this), mainView === 'abrechnung' && /*#__PURE__*/_jsxDEV(Billing, {\n          unbilledAppointments: unbilledAppointments,\n          isLoading: isLoadingAppointments,\n          onStartBilling: handleStartBilling,\n          onStartManualBilling: () => setIsManualBillingSetupOpen(true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 52\n        }, this), mainView === 'patients' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-2xl font-semibold text-gray-800\",\n              children: \"Patienten\\xFCbersicht\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setEditingPatient(null);\n                setIsPatientModalOpen(true);\n              },\n              className: btnPrimary,\n              children: [/*#__PURE__*/_jsxDEV(UserPlus, {\n                className: \"w-5 h-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 37\n              }, this), \" Patient hinzuf\\xFCgen\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-200 p-4 rounded-lg shadow-inner h-[calc(100vh-200px)] overflow-y-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-center py-10 text-gray-500\",\n                children: \"Lade Patienten...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 577,\n                columnNumber: 52\n              }, this), !isLoading && sortedPatients.map(patient => /*#__PURE__*/_jsxDEV(motion.div, {\n                layoutId: patient.id,\n                onClick: () => setSelectedId(patient.id),\n                className: \"relative h-12 group cursor-pointer\",\n                style: {\n                  zIndex: selectedId === patient.id ? 100 : sortedPatients.length - sortedPatients.indexOf(patient)\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute top-0 left-4 w-64 h-12 bg-yellow-200 border-t-2 border-yellow-400 rounded-t-lg shadow-sm flex items-center px-4 transition-transform duration-200 ease-out group-hover:-translate-y-1\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-bold text-sm text-yellow-800 truncate\",\n                    children: [patient.name, \", \", patient.vorname]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 589,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 586,\n                  columnNumber: 45\n                }, this)\n              }, patient.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 579,\n                columnNumber: 41\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n          children: selectedId && selectedPatientData && /*#__PURE__*/_jsxDEV(motion.div, {\n            className: \"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center\",\n            onClick: () => setSelectedId(null),\n            initial: {\n              opacity: 0\n            },\n            animate: {\n              opacity: 1\n            },\n            exit: {\n              opacity: 0\n            },\n            children: /*#__PURE__*/_jsxDEV(motion.div, {\n              layoutId: selectedId,\n              className: \"w-[800px] max-w-[90vw] h-[600px] max-h-[80vh] bg-white rounded-lg shadow-2xl flex flex-col overflow-hidden\",\n              onClick: e => e.stopPropagation(),\n              transition: {\n                type: 'spring',\n                stiffness: 200,\n                damping: 25\n              },\n              children: [/*#__PURE__*/_jsxDEV(motion.div, {\n                className: \"p-6 border-b flex justify-between items-start\",\n                initial: {\n                  opacity: 0,\n                  y: -20\n                },\n                animate: {\n                  opacity: 1,\n                  y: 0,\n                  transition: {\n                    delay: 0.2\n                  }\n                },\n                exit: {\n                  opacity: 0\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-2xl font-semibold text-gray-800\",\n                    children: [selectedPatientData.vorname, \" \", selectedPatientData.name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 620,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500 font-mono\",\n                    children: selectedPatientData.chiffre\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 621,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 619,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setSelectedId(null),\n                  className: \"text-gray-400 hover:text-gray-600\",\n                  children: /*#__PURE__*/_jsxDEV(XCircle, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 623,\n                    columnNumber: 131\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 623,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 613,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n                className: \"flex-1 p-6 overflow-y-auto\",\n                initial: {\n                  opacity: 0\n                },\n                animate: {\n                  opacity: 1,\n                  transition: {\n                    delay: 0.3\n                  }\n                },\n                exit: {\n                  opacity: 0\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-x-6 gap-y-4 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold text-gray-500\",\n                      children: \"Geburtsdatum\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 632,\n                      columnNumber: 50\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: new Date(selectedPatientData.geburtsdatum).toLocaleDateString('de-DE')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 632,\n                      columnNumber: 109\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 632,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold text-gray-500\",\n                      children: \"Alter\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 633,\n                      columnNumber: 50\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: calculateAge(selectedPatientData.geburtsdatum)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 633,\n                      columnNumber: 102\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 633,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold text-gray-500\",\n                      children: \"Krankenkasse\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 634,\n                      columnNumber: 50\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: selectedPatientData.krankenkasse || '-'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 634,\n                      columnNumber: 109\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 634,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold text-gray-500\",\n                      children: \"Versichertennummer\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 635,\n                      columnNumber: 50\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: selectedPatientData.versichertennummer || '-'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 635,\n                      columnNumber: 115\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 635,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-span-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold text-gray-500\",\n                      children: \"Hauptdiagnose\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 636,\n                      columnNumber: 73\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: selectedPatientData.diagnoses && selectedPatientData.diagnoses[0] || 'Keine erfasst'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 636,\n                      columnNumber: 133\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 636,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 631,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n                className: \"p-4 bg-gray-50 border-t text-right\",\n                initial: {\n                  opacity: 0,\n                  y: 20\n                },\n                animate: {\n                  opacity: 1,\n                  y: 0,\n                  transition: {\n                    delay: 0.4\n                  }\n                },\n                exit: {\n                  opacity: 0\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    setSelectedPatient(selectedPatientData);\n                    setMainView('patientenakte');\n                    setSelectedId(null);\n                  },\n                  className: \"bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm\",\n                  children: \"Zur vollst\\xE4ndigen Akte\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 645,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 639,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 600,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 598,\n          columnNumber: 21\n        }, this), mainView === 'patientenakte' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full max-w-5xl mx-auto\",\n          children: !selectedPatient ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-20\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500\",\n              children: \"Bitte w\\xE4hlen Sie einen Patienten aus der \\xDCbersicht aus.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 659,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: detailViewRef,\n            className: \"bg-white border border-gray-200 shadow-sm rounded-lg p-6\",\n            children: [/*#__PURE__*/_jsxDEV(PatientDetailHeader, {\n              patient: selectedPatient,\n              onDeselect: () => {\n                setMainView('patients');\n                setSelectedPatient(null);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 663,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-b border-gray-200 mb-6\",\n              children: /*#__PURE__*/_jsxDEV(\"nav\", {\n                className: \"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto\",\n                \"aria-label\": \"Tabs\",\n                children: ['Übersicht', 'Diagnosen', 'Abrechnung', 'Krankheitsmodell', 'Diagnostik', 'Assistenz'].map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setActiveDetailTab(tab.toLowerCase()),\n                  className: `capitalize whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${activeDetailTab === tab.toLowerCase() ? 'border-teal-500 text-teal-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n                  children: tab\n                }, tab, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 664,\n                  columnNumber: 271\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 664,\n                columnNumber: 84\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 664,\n              columnNumber: 37\n            }, this), activeDetailTab === 'übersicht' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-span-1 md:col-span-2 p-3 bg-teal-50 border border-teal-200 rounded-lg\",\n                children: [nextAppointment.isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-teal-700\",\n                  children: \"Lade n\\xE4chsten Termin...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 223\n                }, this), nextAppointment.error && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-red-600\",\n                  children: nextAppointment.error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 314\n                }, this), nextAppointment.text && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-semibold text-teal-800\",\n                  children: nextAppointment.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 403\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 665,\n                columnNumber: 102\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-lg font-semibold text-gray-700 mb-3 border-b pb-2\",\n                  children: \"Stammdaten\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 492\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 md:grid-cols-3 gap-4 mt-3 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold text-gray-500\",\n                      children: \"Nachname\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 651\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: selectedPatient.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 706\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 665,\n                    columnNumber: 646\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold text-gray-500\",\n                      children: \"Vorname\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 746\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: selectedPatient.vorname\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 800\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 665,\n                    columnNumber: 741\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold text-gray-500\",\n                      children: \"Geburtsdatum\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 843\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: new Date(selectedPatient.geburtsdatum).toLocaleDateString('de-DE')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 902\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 665,\n                    columnNumber: 838\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold text-gray-500\",\n                      children: \"Alter\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 988\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: calculateAge(selectedPatient.geburtsdatum)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 1040\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 665,\n                    columnNumber: 983\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold text-gray-500\",\n                      children: \"E-Mail\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 1102\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: selectedPatient.email || '-'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 1155\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 665,\n                    columnNumber: 1097\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold text-gray-500\",\n                      children: \"Telefon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 1203\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: selectedPatient.telefon || '-'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 1257\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 665,\n                    columnNumber: 1198\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-span-2 md:col-span-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold text-gray-500\",\n                      children: \"Adresse\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 1344\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: selectedPatient.adresse || '-'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 1398\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 665,\n                    columnNumber: 1302\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 578\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 665,\n                columnNumber: 487\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-lg font-semibold text-gray-700 mb-3 border-b pb-2\",\n                  children: \"Letzte Hausaufgabe\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 1460\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-3 bg-gray-50 rounded-lg text-sm space-y-3\",\n                  children: (_selectedPatient$sess = selectedPatient.sessions) !== null && _selectedPatient$sess !== void 0 && (_selectedPatient$sess2 = _selectedPatient$sess[0]) !== null && _selectedPatient$sess2 !== void 0 && _selectedPatient$sess2.homeworkStatus && selectedPatient.sessions[0].homeworkStatus.length > 0 ? selectedPatient.sessions[0].homeworkStatus.map((task, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      className: \"h-5 w-5 rounded border-gray-300 text-teal-600 focus:ring-teal-500\",\n                      checked: task.done,\n                      onChange: e => handleUpdateHomeworkStatus(selectedPatient.sessions[0].date, index, {\n                        done: e.target.checked\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 1842\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `flex-grow ${task.done ? 'text-gray-500 line-through' : 'text-gray-800'}`,\n                      children: task.text\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 2079\n                    }, this), !task.done && /*#__PURE__*/_jsxDEV(\"select\", {\n                      className: \"text-xs border-gray-300 rounded-md shadow-sm focus:border-teal-300 focus:ring focus:ring-teal-200 focus:ring-opacity-50\",\n                      value: task.reason || '',\n                      onChange: e => handleUpdateHomeworkStatus(selectedPatient.sessions[0].date, index, {\n                        reason: e.target.value\n                      }),\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"\",\n                        children: \"Grund w\\xE4hlen...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 665,\n                        columnNumber: 2485\n                      }, this), Object.entries(homeworkFailureReasons).map(([category, reasons]) => /*#__PURE__*/_jsxDEV(\"optgroup\", {\n                        label: category,\n                        children: reasons.map(reason => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: reason,\n                          children: reason\n                        }, reason, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 665,\n                          columnNumber: 2661\n                        }, this))\n                      }, category, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 665,\n                        columnNumber: 2596\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 2205\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 665,\n                    columnNumber: 1789\n                  }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-500\",\n                    children: \"Keine Hausaufgabe f\\xFCr die letzte Sitzung erfasst.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 665,\n                    columnNumber: 2754\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 1554\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 665,\n                columnNumber: 1455\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 665,\n              columnNumber: 75\n            }, this), activeDetailTab === 'diagnosen' && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-xl font-semibold text-gray-700 mb-3\",\n                  children: \"ICD-10 F-Diagnosen\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 666,\n                  columnNumber: 101\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3 p-4 bg-gray-50 rounded-md border\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"newDiagnosisCode\",\n                        className: \"block text-xs font-medium text-gray-700\",\n                        children: \"Code (z.B. F32.2)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 666,\n                        columnNumber: 306\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        id: \"newDiagnosisCode\",\n                        value: newDiagnosisCode,\n                        onChange: e => setNewDiagnosisCode(e.target.value.toUpperCase()),\n                        placeholder: \"F-Code\",\n                        className: `${inputStd} mt-1`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 666,\n                        columnNumber: 417\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 666,\n                      columnNumber: 301\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"newDiagnosisSicherheit\",\n                        className: \"block text-xs font-medium text-gray-700\",\n                        children: \"Sicherheit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 666,\n                        columnNumber: 616\n                      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                        id: \"newDiagnosisSicherheit\",\n                        value: newDiagnosisSicherheit,\n                        onChange: e => setNewDiagnosisSicherheit(e.target.value),\n                        className: `${inputStd} mt-1`,\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"G\",\n                          children: \"G (Gesichert)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 666,\n                          columnNumber: 884\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"V\",\n                          children: \"V (Verdacht auf)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 666,\n                          columnNumber: 924\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"A\",\n                          children: \"A (Ausschluss)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 666,\n                          columnNumber: 967\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"ZN\",\n                          children: \"ZN (Zustand nach)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 666,\n                          columnNumber: 1008\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 666,\n                        columnNumber: 726\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 666,\n                      columnNumber: 611\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"md:col-span-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"newDiagnosisName\",\n                        className: \"block text-xs font-medium text-gray-700\",\n                        children: \"Manuelle Beschreibung (optional)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 666,\n                        columnNumber: 1099\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        id: \"newDiagnosisName\",\n                        value: newDiagnosis,\n                        onChange: e => setNewDiagnosis(e.target.value),\n                        placeholder: \"Eigene Beschreibung\",\n                        className: `${inputStd} mt-1`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 666,\n                        columnNumber: 1225\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 666,\n                      columnNumber: 1068\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: handleAddDiagnosis,\n                      className: `${btnPrimary} bg-green-500 hover:bg-green-600 py-2 px-3 h-10 md:self-end`,\n                      children: [/*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n                        className: \"w-5 h-5 mr-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 666,\n                        columnNumber: 1534\n                      }, this), \" Hinzuf\\xFCgen\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 666,\n                      columnNumber: 1410\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 666,\n                    columnNumber: 236\n                  }, this), lookedUpDiagnosisName && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-teal-600 mt-1\",\n                    children: [\"Gefunden: \", lookedUpDiagnosisName]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 666,\n                    columnNumber: 1629\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 666,\n                  columnNumber: 181\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"space-y-1 mb-3\",\n                  children: [(selectedPatient.diagnoses || []).map((diagString, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"flex justify-between items-center bg-gray-50 p-2 rounded-md\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-gray-700\",\n                      children: diagString\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 666,\n                      columnNumber: 1897\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => showDiagnosisInfo(diagString),\n                        className: `${btnInfo} p-1`,\n                        title: \"Info zu dieser Diagnose abrufen\",\n                        children: [/*#__PURE__*/_jsxDEV(FileJson2, {\n                          className: \"w-4 h-4 mr-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 666,\n                          columnNumber: 2124\n                        }, this), \" Info\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 666,\n                        columnNumber: 2001\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleRemoveDiagnosis(diagString),\n                        className: `${btnDanger} p-1 text-xs`,\n                        children: /*#__PURE__*/_jsxDEV(Trash2, {\n                          className: \"w-4 h-4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 666,\n                          columnNumber: 2273\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 666,\n                        columnNumber: 2176\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 666,\n                      columnNumber: 1956\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 666,\n                    columnNumber: 1809\n                  }, this)), (selectedPatient.diagnoses || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500\",\n                    children: \"Keine Diagnosen erfasst.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 666,\n                    columnNumber: 2377\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 666,\n                  columnNumber: 1715\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 666,\n                columnNumber: 79\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-xl font-semibold text-gray-700 mb-3\",\n                  children: \"ICD-11 Diagnosen\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 666,\n                  columnNumber: 2476\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"space-y-1\",\n                  children: [(selectedPatient.diagnoses_icd11 || []).map((diag, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"flex justify-between items-center bg-purple-50 p-2 rounded-md hover:bg-purple-100 cursor-pointer\",\n                    onClick: () => fetchIcd11Details(diag),\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-purple-800\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        className: \"font-mono\",\n                        children: diag.code\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 666,\n                        columnNumber: 2850\n                      }, this), \" - \", diag.title]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 666,\n                      columnNumber: 2808\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: e => {\n                        e.stopPropagation();\n                        handleRemoveIcd11Diagnosis(diag);\n                      },\n                      className: \"text-red-500 hover:text-red-700 p-1 text-xs\",\n                      title: \"ICD-11 Diagnose entfernen\",\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        className: \"w-4 h-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 666,\n                        columnNumber: 3096\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 666,\n                      columnNumber: 2922\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 666,\n                    columnNumber: 2643\n                  }, this)), (selectedPatient.diagnoses_icd11 || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500\",\n                    children: \"Keine ICD-11 Diagnosen erfasst.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 666,\n                    columnNumber: 3200\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 666,\n                  columnNumber: 2554\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 666,\n                columnNumber: 2454\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 666,\n              columnNumber: 74\n            }, this), activeDetailTab === 'abrechnung' && /*#__PURE__*/_jsxDEV(AbrechnungsUebersicht, {\n              patient: selectedPatient,\n              ebmData: ebmData,\n              onEditSession: handleEditSession,\n              onDeleteSession: handleDeleteSession\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 667,\n              columnNumber: 75\n            }, this), activeDetailTab === 'krankheitsmodell' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"krankheitsanamnese\",\n                  className: \"block text-lg font-semibold text-gray-700 mb-1\",\n                  children: \"Krankheitsanamnese\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 668,\n                  columnNumber: 113\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"krankheitsanamnese\",\n                  name: \"krankheitsanamnese\",\n                  rows: \"6\",\n                  className: textareaStd,\n                  value: editableKrankheitsanamnese,\n                  onChange: e => setEditableKrankheitsanamnese(e.target.value),\n                  onBlur: e => handleKrankheitsmodellChange('krankheitsanamnese', e.target.value),\n                  placeholder: \"Hier die Krankheitsanamnese eintragen...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 668,\n                  columnNumber: 234\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 668,\n                columnNumber: 108\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"lebensgeschichte\",\n                  className: \"block text-lg font-semibold text-gray-700 mb-1\",\n                  children: \"Lebensgeschichte / Biographie\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 668,\n                  columnNumber: 586\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"lebensgeschichte\",\n                  name: \"lebensgeschichte\",\n                  rows: \"6\",\n                  className: textareaStd,\n                  value: editableLebensgeschichte,\n                  onChange: e => setEditableLebensgeschichte(e.target.value),\n                  onBlur: e => handleKrankheitsmodellChange('lebensgeschichte', e.target.value),\n                  placeholder: \"Wichtige Aspekte der Lebensgeschichte...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 668,\n                  columnNumber: 716\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 668,\n                columnNumber: 581\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"problemanalyseMakro\",\n                  className: \"block text-lg font-semibold text-gray-700 mb-1\",\n                  children: \"Problemanalyse auf Makroebene\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 668,\n                  columnNumber: 1058\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"problemanalyseMakro\",\n                  name: \"problemanalyseMakro\",\n                  rows: \"6\",\n                  className: textareaStd,\n                  value: editableProblemanalyseMakro,\n                  onChange: e => setEditableProblemanalyseMakro(e.target.value),\n                  onBlur: e => handleKrankheitsmodellChange('problemanalyseMakro', e.target.value),\n                  placeholder: \"Analyse der \\xFCbergeordneten Problembereiche...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 668,\n                  columnNumber: 1191\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 668,\n                columnNumber: 1053\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"therapieplan\",\n                  className: \"block text-lg font-semibold text-gray-700 mb-1\",\n                  children: \"Therapieplan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 668,\n                  columnNumber: 1553\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"therapieplan\",\n                  name: \"therapieplan\",\n                  rows: \"6\",\n                  className: textareaStd,\n                  value: editableTherapieplan,\n                  onChange: e => setEditableTherapieplan(e.target.value),\n                  onBlur: e => handleKrankheitsmodellChange('therapieplan', e.target.value),\n                  placeholder: \"Therapieziele und -ma\\xDFnahmen...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 668,\n                  columnNumber: 1662\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 668,\n                columnNumber: 1548\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 81\n            }, this), activeDetailTab === 'diagnostik' && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-b border-gray-200 mb-4\",\n                children: /*#__PURE__*/_jsxDEV(\"nav\", {\n                  className: \"-mb-px flex space-x-6\",\n                  \"aria-label\": \"Diagnostik Sub-Tabs\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setActiveDiagnostikSubTab('overview'),\n                    className: `whitespace-nowrap pb-2 px-1 border-b-2 font-medium text-sm ${activeDiagnostikSubTab === 'overview' ? 'border-purple-500 text-purple-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n                    children: \"\\xDCbersicht\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 669,\n                    columnNumber: 199\n                  }, this), availableTests.map(test => {\n                    var _selectedPatient;\n                    return ((_selectedPatient = selectedPatient[`${test.id}Results`]) === null || _selectedPatient === void 0 ? void 0 : _selectedPatient.length) > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => setActiveDiagnostikSubTab(test.id),\n                      className: `whitespace-nowrap pb-2 px-1 border-b-2 font-medium text-sm ${activeDiagnostikSubTab === test.id ? 'border-purple-500 text-purple-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n                      children: test.id.toUpperCase()\n                    }, test.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 669,\n                      columnNumber: 593\n                    }, this);\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 669,\n                  columnNumber: 127\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 669,\n                columnNumber: 80\n              }, this), activeDiagnostikSubTab === 'overview' && /*#__PURE__*/_jsxDEV(DiagnostikUebersicht, {\n                patient: selectedPatient,\n                availableTests: availableTests,\n                onAddTest: test => {\n                  setCurrentTestToAdd(test);\n                  setIsAddTestModalOpen(true);\n                },\n                onShowTestDetails: testId => setActiveDiagnostikSubTab(testId),\n                onStartRetroBilling: handleStartRetroBilling,\n                diagnostikAnalysis: diagnostikAnalysis\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 670,\n                columnNumber: 80\n              }, this), activeDiagnostikSubTab === 'scl90r' && /*#__PURE__*/_jsxDEV(SCL90RComponent, {\n                patient: selectedPatient,\n                onAddResult: handleAddScl90rResult,\n                onDeleteResult: handleRemoveScl90rResult\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 671,\n                columnNumber: 77\n              }, this), activeDiagnostikSubTab === 'fep2' && /*#__PURE__*/_jsxDEV(FEP2Component, {\n                patient: selectedPatient,\n                onAddResult: handleAddFepResult,\n                onDeleteResult: handleRemoveFepResult\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 672,\n                columnNumber: 75\n              }, this), activeDiagnostikSubTab === 'bdi2' && /*#__PURE__*/_jsxDEV(BDI2Component, {\n                patient: selectedPatient,\n                onAddResult: handleAddBdiResult,\n                onDeleteResult: handleRemoveBdiResult,\n                bdiCutoffs: bdiCutoffs,\n                bdiAxisTicks: bdiAxisTicks,\n                CustomBdiLabel: CustomBdiLabel\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 673,\n                columnNumber: 75\n              }, this), activeDiagnostikSubTab === 'hscl11' && /*#__PURE__*/_jsxDEV(HSCL11Component, {\n                patient: selectedPatient,\n                onAddResult: handleAddHsclResult,\n                onDeleteResult: handleRemoveHsclResult\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 674,\n                columnNumber: 77\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 669,\n              columnNumber: 75\n            }, this), activeDetailTab === 'assistenz' && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-semibold text-gray-700 mb-4\",\n                children: \"Therapeutische Assistenz\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 675,\n                columnNumber: 79\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleTherapeutischeAssistenzAnfordern,\n                disabled: isLoadingTherapeutischeAssistenz,\n                className: `${btnPrimary} bg-purple-600 hover:bg-purple-700 mb-4 flex items-center`,\n                children: [/*#__PURE__*/_jsxDEV(WandSparkles, {\n                  className: \"mr-2 h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 675,\n                  columnNumber: 351\n                }, this), isLoadingTherapeutischeAssistenz ? \"Analysiere Daten...\" : \"Expertenfeedback anfordern\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 675,\n                columnNumber: 165\n              }, this), isLoadingTherapeutischeAssistenz && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center py-10\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-700 mx-auto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 675,\n                  columnNumber: 563\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-3 text-gray-600\",\n                  children: \"Bitte warten, die KI analysiert die Patientendaten...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 675,\n                  columnNumber: 659\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 675,\n                columnNumber: 528\n              }, this), assistenzError && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n                role: \"alert\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-bold\",\n                  children: \"Fehler bei der Assistenz\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 675,\n                  columnNumber: 862\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: assistenzError\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 675,\n                  columnNumber: 915\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 675,\n                columnNumber: 778\n              }, this), therapeutischeAssistenzOutput && !isLoadingTherapeutischeAssistenz && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4 p-4 bg-gray-50 rounded-md border\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"Vorschl\\xE4ge des Expertenteams:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 675,\n                  columnNumber: 1073\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed\",\n                  children: therapeutischeAssistenzOutput\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 675,\n                  columnNumber: 1164\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 675,\n                columnNumber: 1018\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 675,\n              columnNumber: 74\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 662,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 656,\n          columnNumber: 26\n        }, this), mainView === 'kalender' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-semibold text-gray-800 mb-4\",\n            children: \"Terminkalender\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 682,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-4 relative min-h-[600px]\",\n            children: [isCalendarLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 flex flex-col items-center justify-center bg-slate-50 z-10\",\n              children: [/*#__PURE__*/_jsxDEV(\"dotlottie-player\", {\n                src: \"https://lottie.host/5a99e4b7-42e6-47ae-9706-1e931f930492/HSS5faWD7S.lottie\",\n                background: \"transparent\",\n                speed: \"1\",\n                style: {\n                  width: \"300px\",\n                  height: \"300px\"\n                },\n                loop: true,\n                autoplay: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500 -mt-8\",\n                children: \"Kalender wird geladen...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 694,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 685,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n              title: \"Google Calendar\",\n              src: \"https://calendar.google.com/calendar/embed?src=julisycomorepsy%40gmail.com&ctz=Europe%2FBerlin\",\n              style: {\n                border: 0\n              },\n              width: \"100%\",\n              height: \"600\",\n              frameBorder: \"0\",\n              scrolling: \"no\",\n              onLoad: () => setIsCalendarLoading(false),\n              className: `transition-opacity duration-500 ${isCalendarLoading ? 'opacity-0' : 'opacity-100'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 683,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 681,\n          columnNumber: 25\n        }, this), mainView === 'formulare' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-semibold text-gray-800 mb-4\",\n            children: \"Formular- & Dokumentenverwaltung\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 711,\n            columnNumber: 57\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-6 border border-gray-200 rounded-lg shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"file-upload\",\n              className: \"mb-4 block w-full cursor-pointer\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-teal-400 transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(UploadCloudIcon, {\n                  className: \"mx-auto h-12 w-12 text-gray-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 711,\n                  columnNumber: 423\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"mt-2 block text-sm font-medium text-gray-900\",\n                  children: \"Dateien zum Hochladen ausw\\xE4hlen\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 711,\n                  columnNumber: 486\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"mt-1 block text-xs text-gray-500\",\n                  children: \"PDF, DOCX, etc.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 711,\n                  columnNumber: 587\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 711,\n                columnNumber: 300\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"file-upload\",\n                name: \"file-upload\",\n                type: \"file\",\n                className: \"sr-only\",\n                multiple: true,\n                onChange: handleFileUpload\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 711,\n                columnNumber: 666\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 711,\n              columnNumber: 226\n            }, this), uploadedFiles.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-lg font-medium text-gray-900 mb-2\",\n                children: \"Hochgeladene Dateien\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 711,\n                columnNumber: 823\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"divide-y divide-gray-200 border rounded-lg\",\n                children: uploadedFiles.map((file, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex items-center justify-between p-3 hover:bg-gray-50\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(FileIcon, {\n                      className: \"h-6 w-6 text-gray-400 mr-3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 711,\n                      columnNumber: 1117\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm font-medium text-gray-900\",\n                        children: file.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 711,\n                        columnNumber: 1172\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500\",\n                        children: [(file.size / 1024).toFixed(2), \" KB - Zuletzt ge\\xE4ndert: \", file.lastModified]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 711,\n                        columnNumber: 1236\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 711,\n                      columnNumber: 1167\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 711,\n                    columnNumber: 1082\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleRemoveFile(file.name),\n                    className: \"text-gray-400 hover:text-red-600\",\n                    children: /*#__PURE__*/_jsxDEV(Trash2, {\n                      className: \"h-5 w-5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 711,\n                      columnNumber: 1460\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 711,\n                    columnNumber: 1363\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 711,\n                  columnNumber: 999\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 711,\n                columnNumber: 903\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 711,\n              columnNumber: 818\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 711,\n            columnNumber: 152\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 711,\n          columnNumber: 52\n        }, this), mainView === 'ebm' && /*#__PURE__*/_jsxDEV(EBMBrowser, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 712,\n          columnNumber: 45\n        }, this), mainView === 'icd11' && /*#__PURE__*/_jsxDEV(ICD11ECTBrowser, {\n          patients: patients,\n          selectedPatient: selectedPatient,\n          onAssignDiagnosis: handleAssignIcd11Diagnosis\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 560,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 558,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: diagnosisInfo.isOpen,\n      onClose: () => setDiagnosisInfo(prev => ({\n        ...prev,\n        isOpen: false\n      })),\n      title: `Diagnose-Info: ${diagnosisInfo.code || ''}`,\n      size: \"3xl\",\n      children: [diagnosisInfo.isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center py-4\",\n        children: \"Informationen werden geladen...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 717,\n        columnNumber: 214\n      }, this), diagnosisInfo.error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-600 bg-red-100 p-3 rounded-md\",\n        children: [\"Fehler: \", diagnosisInfo.error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 717,\n        columnNumber: 308\n      }, this), !diagnosisInfo.isLoading && diagnosisInfo.source === 'local' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-700 leading-relaxed p-2 space-y-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-teal-700\",\n          children: [diagnosisInfo.name, /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500 text-base ml-2\",\n            children: [\"(\", diagnosisInfo.code, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 604\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 532\n        }, this), diagnosisInfo.beschreibung && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-medium text-gray-800 block mb-1\",\n            children: \"Beschreibung:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 722\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"whitespace-pre-wrap\",\n            children: diagnosisInfo.beschreibung\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 801\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 717\n        }, this), ((_diagnosisInfo$inkl = diagnosisInfo.inkl) === null || _diagnosisInfo$inkl === void 0 ? void 0 : _diagnosisInfo$inkl.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-medium text-gray-800 block mb-1\",\n            children: \"Inklusive:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 917\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc list-inside\",\n            children: diagnosisInfo.inkl.map((item, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: item\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 717,\n              columnNumber: 1071\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 993\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 912\n        }, this), ((_diagnosisInfo$exkl = diagnosisInfo.exkl) === null || _diagnosisInfo$exkl === void 0 ? void 0 : _diagnosisInfo$exkl.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-medium text-gray-800 block mb-1\",\n            children: \"Exklusive:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 1153\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc list-inside\",\n            children: diagnosisInfo.exkl.map((item, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: item\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 717,\n              columnNumber: 1307\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 1229\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 1148\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 717,\n        columnNumber: 463\n      }, this), !diagnosisInfo.isLoading && diagnosisInfo.source === 'api_detail' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-700 leading-relaxed p-2 space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-purple-700\",\n          children: [diagnosisInfo.name, /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500 text-base ml-2 font-mono\",\n            children: [\"(\", diagnosisInfo.code, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 1570\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 1496\n        }, this), diagnosisInfo.beschreibung && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-medium text-gray-800 block mb-1\",\n            children: \"Beschreibung (Definition):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 1698\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"whitespace-pre-wrap bg-gray-50 p-2 rounded-md\",\n            children: diagnosisInfo.beschreibung\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 1790\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 1693\n        }, this), ((_diagnosisInfo$inclus = diagnosisInfo.inclusions) === null || _diagnosisInfo$inclus === void 0 ? void 0 : _diagnosisInfo$inclus.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-medium text-gray-800 block mb-1\",\n            children: \"Inklusive:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 1938\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc list-inside pl-2 space-y-1\",\n            children: diagnosisInfo.inclusions.map((item, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: item.label['@value']\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 717,\n              columnNumber: 2113\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 2014\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 1933\n        }, this), ((_diagnosisInfo$exclus = diagnosisInfo.exclusions) === null || _diagnosisInfo$exclus === void 0 ? void 0 : _diagnosisInfo$exclus.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-medium text-gray-800 block mb-1\",\n            children: \"Exklusive:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 2217\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc list-inside pl-2 space-y-1\",\n            children: diagnosisInfo.exclusions.map((item, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [item.label['@value'], item.foundationReference && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-400 ml-2\",\n                children: [\"(\", item.linearizationReference.split('/').pop(), \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 717,\n                columnNumber: 2456\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 717,\n              columnNumber: 2392\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 2293\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 2212\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 717,\n        columnNumber: 1427\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 717,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: improvementState.isOpen,\n      onClose: () => setImprovementState({\n        ...improvementState,\n        isOpen: false\n      }),\n      title: \"Sitzungsdokumentation verbessern\",\n      size: \"5xl\",\n      children: [improvementState.error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 bg-red-100 p-3 rounded-md mb-4\",\n        children: improvementState.error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 718,\n        columnNumber: 208\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-lg text-gray-700 mb-2\",\n            children: \"Original\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 718,\n            columnNumber: 356\n          }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n            className: \"text-sm bg-gray-100 p-3 rounded-md whitespace-pre-wrap font-sans h-96 overflow-y-auto border\",\n            children: improvementState.originalText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 718,\n            columnNumber: 426\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 718,\n          columnNumber: 351\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-lg text-gray-700 mb-2\",\n            children: \"Vorschlag\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 718,\n            columnNumber: 584\n          }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n            className: \"text-sm bg-gray-800 text-green-300 font-mono p-3 rounded-md whitespace-pre-wrap h-96 overflow-y-auto\",\n            children: improvementState.improvedText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 718,\n            columnNumber: 655\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 718,\n          columnNumber: 579\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 718,\n        columnNumber: 296\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end space-x-4 mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setImprovementState({\n            ...improvementState,\n            isOpen: false\n          }),\n          className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300\",\n          children: \"Abbrechen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 718,\n          columnNumber: 871\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAcceptImprovement,\n          className: `${btnPrimary} flex items-center`,\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            className: \"w-4 h-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 718,\n            columnNumber: 1172\n          }, this), \" Original ersetzen\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 718,\n          columnNumber: 1084\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 718,\n        columnNumber: 822\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 718,\n      columnNumber: 13\n    }, this), appError && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-4 right-4 p-4 max-w-sm text-sm text-red-700 bg-red-100 border border-red-400 rounded-md shadow-lg z-[100]\",\n      children: [appError, /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setAppError(null),\n        className: \"ml-4 mt-2 sm:mt-0 sm:ml-2 px-2 py-1 text-red-900 underline rounded-md hover:bg-red-200 text-xs\",\n        children: \"Ok\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 719,\n        columnNumber: 173\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 27\n    }, this), /*#__PURE__*/_jsxDEV(AddTestFlowModal, {\n      isOpen: isAddTestModalOpen,\n      onClose: () => setIsAddTestModalOpen(false),\n      onSave: handleSaveTestAndResults,\n      testInfo: currentTestToAdd,\n      patient: selectedPatient\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 720,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ManualBillingSetupModal, {\n      isOpen: isManualBillingSetupOpen,\n      onClose: () => setIsManualBillingSetupOpen(false),\n      patients: sortedPatients,\n      onStart: handleStartManualBilling\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 721,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(BillTestModal, {\n      isOpen: retroBillingState.isOpen,\n      onClose: () => setRetroBillingState({\n        isOpen: false,\n        test: null\n      }),\n      onSave: handleSaveRetroactiveBilling,\n      testToBill: retroBillingState.test,\n      patientSessions: (selectedPatient === null || selectedPatient === void 0 ? void 0 : selectedPatient.sessions) || []\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 722,\n      columnNumber: 13\n    }, this), billingModalState.isOpen && /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: billingModalState.isOpen,\n      onClose: () => setBillingModalState({\n        isOpen: false,\n        event: null,\n        isEditing: false\n      }),\n      title: billingModalState.isEditing ? \"Sitzung bearbeiten\" : `Termin abrechnen: ${billingModalState.event.summary}`,\n      size: \"4xl\",\n      children: /*#__PURE__*/_jsxDEV(BillingModal, {\n        event: billingModalState.event,\n        ebmData: ebmData,\n        onSave: data => handleSaveBilling(data, billingModalState.isEditing),\n        onClose: () => setBillingModalState({\n          isOpen: false,\n          event: null,\n          isEditing: false\n        }),\n        generateGeminiText: generateGeminiText,\n        isEditing: billingModalState.isEditing\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 723,\n        columnNumber: 298\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 723,\n      columnNumber: 43\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 556,\n    columnNumber: 9\n  }, this);\n}\n_s4(App, \"mRz73A1XAjL3IxehXy+d6tM1Y+4=\", false, function () {\n  return [useDiagnostikAnalysis];\n});\n_c19 = App;\nconst CustomBdiLabel = props => {\n  const {\n    x,\n    y,\n    width,\n    text\n  } = props;\n  if (typeof x !== 'number' || isNaN(x) || typeof y !== 'number' || isNaN(y) || typeof width !== 'number' || isNaN(width) || width <= 0) {\n    return null;\n  }\n  const labelX = x + width / 2;\n  return /*#__PURE__*/_jsxDEV(\"text\", {\n    x: labelX,\n    y: y,\n    fill: \"#666\",\n    textAnchor: \"middle\",\n    dy: -4,\n    fontSize: \"10\",\n    children: text\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 728,\n    columnNumber: 264\n  }, this);\n};\n_c20 = CustomBdiLabel;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20;\n$RefreshReg$(_c, \"UserPlus\");\n$RefreshReg$(_c2, \"XCircle\");\n$RefreshReg$(_c3, \"Save\");\n$RefreshReg$(_c4, \"AlertTriangle\");\n$RefreshReg$(_c5, \"FileJson2\");\n$RefreshReg$(_c6, \"WandSparkles\");\n$RefreshReg$(_c7, \"LogOut\");\n$RefreshReg$(_c8, \"BookOpen\");\n$RefreshReg$(_c9, \"Users\");\n$RefreshReg$(_c0, \"FileText\");\n$RefreshReg$(_c1, \"List\");\n$RefreshReg$(_c10, \"CalendarIcon\");\n$RefreshReg$(_c11, \"UploadCloudIcon\");\n$RefreshReg$(_c12, \"FileIcon\");\n$RefreshReg$(_c13, \"PaperclipIcon\");\n$RefreshReg$(_c14, \"SettingsIcon\");\n$RefreshReg$(_c15, \"DollarSignIcon\");\n$RefreshReg$(_c16, \"Modal\");\n$RefreshReg$(_c17, \"ConfirmationModal\");\n$RefreshReg$(_c18, \"PatientForm\");\n$RefreshReg$(_c19, \"App\");\n$RefreshReg$(_c20, \"CustomBdiLabel\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","useMemo","initializeApp","getAuth","onAuthStateChanged","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","getFirestore","collection","doc","addDoc","getDocs","setDoc","deleteDoc","onSnapshot","query","writeBatch","getStorage","ref","uploadBytes","getDownloadURL","motion","AnimatePresence","SCL90RComponent","FEP2Component","BDI2Component","HSCL11Component","ICD11ECTBrowser","EBMBrowser","BillingModal","AbrechnungsUebersicht","DiagnostikUebersicht","AddTestFlowModal","ManualBillingSetupModal","BillTestModal","Profile","Billing","jsxDEV","_jsxDEV","Fragment","_Fragment","UserPlus","className","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","d","fileName","_jsxFileName","lineNumber","columnNumber","cx","cy","r","x1","x2","y1","y2","_c","XCircle","_c2","Save","points","_c3","AlertTriangle","_c4","FileJson2","_c5","WandSparkles","_c6","LogOut","_c7","BookOpen","_c8","Users","_c9","FileText","_c0","List","_c1","CalendarIcon","x","y","width","height","rx","ry","_c10","UploadCloudIcon","_c11","FileIcon","_c12","PaperclipIcon","_c13","SettingsIcon","_c14","DollarSignIcon","_c15","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","auth","db","storage","firestoreAppId","homeworkFailureReasons","availableTests","id","name","ebm","recommendation","availableTherapeuticMethods","initialPatientsData","geburtsdatum","chiffre","therapeuticMethods","approvedHours","krankenkasse","versichertennummer","diagnoses","sessions","Date","now","date","structuredNotes","sitzungsnummer","thema","patientenbericht","hscl11Results","bdi2Results","fep2Results","scl90rResults","krankheitsanamnese","lebensgeschichte","problemanalyseMakro","therapieplan","DIAGNOSTIK_PUNKTE","DIAGNOSTIK_LIMITS","PUNKTE_U22","PUNKTE_UE22","INSTANZEN_KZT","INSTANZEN_LZT","Modal","isOpen","onClose","title","size","sizeClasses","sm","md","lg","xl","onClick","_c16","ConfirmationModal","onConfirm","message","_c17","PatientForm","patient","onSave","onCancel","_s","formData","setFormData","vorname","adresse","email","telefon","newMethod","setNewMethod","firstLetter","charAt","toUpperCase","year","month","day","split","yy","slice","newChiffre","prev","e","console","error","handleChange","value","type","target","parseInt","handleAddMethod","includes","handleRemoveMethod","methodToRemove","filter","m","handleSubmit","preventDefault","inputStd","btnPrimary","onSubmit","htmlFor","onChange","required","readOnly","map","method","PlusCircleIcon","min","_c18","generateGeminiText","prompt","chatHistory","role","parts","text","payload","contents","GEMINI_API_KEY","apiUrl","response","fetch","headers","body","JSON","stringify","ok","_errorData$error","errorData","json","errorMessage","status","Error","result","candidates","length","content","finishReason","warn","calculateAge","birthdate","birthDate","today","age","getFullYear","getMonth","getDate","useDiagnostikAnalysis","_s2","pointsLimit","instancesLimit","Infinity","currentPhase","instancesInCurrentPhase","quarterlyAnalysis","availableQuarters","currentQuarterIdentifier","allTestSessions","s","_s$ebmEntries","ebmEntries","some","nummer","forEach","session","quarter","Math","floor","quarterIdentifier","pointsUsed","instancesUsed","tests","entry","push","currentYear","currentQuarter","Object","keys","sort","reverse","lztSession","find","_s$structuredNotes","Phase","kztSession","_s$structuredNotes2","_s$structuredNotes3","_s$structuredNotes4","_s$structuredNotes5","App","_s4","_s3","$RefreshSig$","_selectedPatient$sess","_selectedPatient$sess2","_diagnosisInfo$inkl","_diagnosisInfo$exkl","_diagnosisInfo$inclus","_diagnosisInfo$exclus","mainView","setMainView","patients","setPatients","selectedPatient","setSelectedPatient","isLoading","setIsLoading","authError","setAuthError","appError","setAppError","userId","setUserId","isAuthReady","setIsAuthReady","setEmail","password","setPassword","isLoginView","setIsLoginView","isAuthLoading","setIsAuthLoading","isPatientModalOpen","setIsPatientModalOpen","editingPatient","setEditingPatient","newDiagnosis","setNewDiagnosis","newDiagnosisCode","setNewDiagnosisCode","newDiagnosisSicherheit","setNewDiagnosisSicherheit","lookedUpDiagnosisName","setLookedUpDiagnosisName","activeDetailTab","setActiveDetailTab","activeDiagnostikSubTab","setActiveDiagnostikSubTab","diagnosisInfo","setDiagnosisInfo","code","beschreibung","inkl","exkl","hinweise","zusatz_info_code","sicherheit","source","localIcd10Data","setLocalIcd10Data","editableKrankheitsanamnese","setEditableKrankheitsanamnese","editableLebensgeschichte","setEditableLebensgeschichte","editableProblemanalyseMakro","setEditableProblemanalyseMakro","editableTherapieplan","setEditableTherapieplan","therapeutischeAssistenzOutput","setTherapeutischeAssistenzOutput","isLoadingTherapeutischeAssistenz","setIsLoadingTherapeutischeAssistenz","assistenzError","setAssistenzError","detailViewRef","improvementState","setImprovementState","originalText","improvedText","sessionIndex","sortConfig","setSortConfig","key","direction","nextAppointment","setNextAppointment","unbilledAppointments","setUnbilledAppointments","isLoadingAppointments","setIsLoadingAppointments","billingModalState","setBillingModalState","event","isEditing","ebmData","setEbmData","isManualBillingSetupOpen","setIsManualBillingSetupOpen","confirmDeleteState","setConfirmDeleteState","retroBillingState","setRetroBillingState","test","isAddTestModalOpen","setIsAddTestModalOpen","currentTestToAdd","setCurrentTestToAdd","uploadedFiles","setUploadedFiles","profile","setProfile","isUploading","setIsUploading","selectedId","setSelectedId","isCalendarLoading","setIsCalendarLoading","diagnostikAnalysis","sortedPatients","sortablePatients","a","b","valA","valB","selectedPatientData","p","getHighestSessionNumber","sessionNumbers","_s$structuredNotes6","n","isNaN","max","handleStartRetroBilling","testToBill","handleSaveRetroactiveBilling","billingData","sessionId","multiplier","phase","patientRef","getPatientsCollectionPath","newTestEbmEntry","anzahl","faktor","testInstanceId","finalPatientData","updatedSessions","parse","findIndex","sessionToUpdate","testBillingSession","toISOString","eventId","merge","alert","err","handleDeleteEbmEntry","sessionDate","ebmIndexToDelete","entryToDelete","linkedTest","t","performDelete","splice","resultKey","oldResults","newResults","handleStartManualBilling","patientId","sessionNumber","finalSessionNumber","manualNumber","Number","syntheticEvent","summary","start","dateTime","isManual","handleStartBilling","fetchNextAppointment","startDate","endDate","end","dateOptions","timeOptions","hour","minute","formattedDate","toLocaleDateString","formattedStartTime","toLocaleTimeString","formattedEndTime","getProfileDocPath","findIcd10CodeLocal","codeToFind","upperCodeToFind","found","baseCode","replace","possibleCategoryCode","startsWith","code_kategorie","_event$summary","chiffreMatch","match","targetPatient","nextSessionNumber","highestSession","eventWithSessionNumber","handleEditSession","_session$structuredNo","_session$structuredNo2","initialNotes","initialEbm","handleDeleteSession","handleSaveBilling","eventStart","notes","newSession","homeworkStatus","hausaufgaben","task","trim","taskText","done","reason","handleSaveTestAndResults","testData","_quarterlyAnalysis$cu","testId","results","testInfo","currentQuarterPoints","newPoints","warningMessages","confirmation","window","confirm","join","newTestResult","updatedTestResults","handleUpdateHomeworkStatus","homeworkIndex","newStatus","collectionPath","assign","then","res","catch","calendarEvents","Array","isArray","billedEventIds","Set","add","unbilled","_event$summary2","has","finally","data","indexedData","item","current","setTimeout","scrollIntoView","behavior","block","unsubscribe","user","uid","seedInitialData","patientsCollection","querySnapshot","empty","batch","patientData","newPatientRef","set","diagnoses_icd11","commit","patientsCollectionPath","patientsQuery","unsubscribePatients","snapshot","patientsData","docs","docSnap","localeCompare","profileDocPath","unsubscribeProfile","exists","currentPatientDataFromList","loadIcd10Data","scriptId","document","getElementById","script","createElement","src","head","appendChild","bdiCutoffs","label","color","bdiAxisTicks","handleAuthAction","isRegistering","handleLogout","handleSavePatient","dataToSave","confirmDeletePatient","openDeleteConfirmation","handleAddDiagnosis","codeToAdd","sicherheitPrefix","diagnosisString","updatedDiagnoses","handleRemoveDiagnosis","diagnosisStringToRemove","handleAddBdiResult","newResult","updatedBdiResults","handleAddHsclResult","updatedHsclResults","handleRemoveHsclResult","dateToRemove","handleRemoveBdiResult","handleAddFepResult","updatedFepResults","handleRemoveFepResult","handleAddScl90rResult","newResultToSave","rawScores","tScores","globalScores","itemScores","updatedScl90rResults","log","handleRemoveScl90rResult","handleKrankheitsmodellChange","fieldName","handleTherapeutischeAssistenzAnfordern","conductedHours","patientenDatenText","i","_s$structuredNotes7","_s$structuredNotes8","systemPrompt","assistenz","showDiagnosisInfo","sicherheitMatch","codeAndName","substring","codeMatch","localData","beschreibung_kategorie","fetchIcd11Details","diagnosis","uri","_fullData$title","_fullData$definition","encodeURIComponent","fullData","definition","diagnosticCriteria","inclusions","inclusion","exclusions","exclusion","handleAssignIcd11Diagnosis","icd11Entity","selectedText","linearizationUri","foundationUri","handleRemoveIcd11Diagnosis","diagnosisToRemove","handleAcceptImprovement","handleFileUpload","files","from","newFiles","file","lastModified","lastModifiedDate","handleRemoveFile","f","handleSaveProfile","profileData","profileDocRef","handleUploadFile","path","storageRef","downloadURL","btnDanger","btnInfo","textareaStd","disabled","Sidebar","currentView","setView","navItems","icon","index","PatientDetailHeader","onDeselect","therapyStartDate","firstSession","_s$structuredNotes9","initialProfile","onUploadFile","onStartBilling","onStartManualBilling","div","layoutId","style","zIndex","indexOf","initial","opacity","animate","exit","stopPropagation","transition","stiffness","damping","delay","tab","toLowerCase","checked","entries","category","reasons","placeholder","diagString","Trash2","diag","onEditSession","onDeleteSession","rows","onBlur","_selectedPatient","onAddTest","onShowTestDetails","onStartRetroBilling","onAddResult","onDeleteResult","CustomBdiLabel","background","speed","loop","autoplay","border","frameBorder","scrolling","onLoad","multiple","toFixed","onAssignDiagnosis","idx","foundationReference","linearizationReference","pop","onStart","patientSessions","_c19","props","labelX","textAnchor","dy","fontSize","_c20","$RefreshReg$"],"sources":["/Users/julianrogowski/Desktop/patientenverwaltung-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef, useMemo } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport {\n    getAuth,\n    onAuthStateChanged,\n    createUserWithEmailAndPassword,\n    signInWithEmailAndPassword,\n    signOut\n} from 'firebase/auth';\nimport { getFirestore, collection, doc, addDoc, getDocs, setDoc, deleteDoc, onSnapshot, query, writeBatch } from 'firebase/firestore';\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport { motion, AnimatePresence } from 'framer-motion';\n\n// Components\nimport SCL90RComponent from './components/SCL90R.js';\nimport FEP2Component from './components/FEP2.js';\nimport BDI2Component from './components/BDI2.js';\nimport HSCL11Component from './components/HSCL11.js';\nimport ICD11ECTBrowser from './components/ICD11ECTBrowser.js';\nimport EBMBrowser from './components/EBMBrowser.js';\nimport BillingModal from './components/BillingModal.js';\nimport AbrechnungsUebersicht from './components/AbrechnungsUebersicht.js';\nimport DiagnostikUebersicht from './components/DiagnostikUebersicht.js';\nimport AddTestFlowModal from './components/AddTestFlowModal.js';\nimport ManualBillingSetupModal from './components/ManualBillingSetupModal.js';\nimport BillTestModal from './components/BillTestModal.js';\nimport Profile from './components/Profile.js';\nimport Billing from './components/Billing.js';\n\n// --- ICONS ---\nconst UserPlus = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\" /><circle cx=\"9\" cy=\"7\" r=\"4\" /><line x1=\"19\" x2=\"19\" y1=\"8\" y2=\"14\" /><line x1=\"22\" x2=\"16\" y1=\"11\" y2=\"11\" /></svg>);\nconst XCircle = ({ className = \"w-6 h-6\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line><line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line></svg>);\nconst Save = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\" /><polyline points=\"17 21 17 13 7 13 7 21\" /><polyline points=\"7 3 7 8 15 8\" /></svg>);\nconst AlertTriangle = ({ className = \"w-12 h-12\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path><line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line><line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line></svg>);\nconst FileJson2 = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4\" /><path d=\"M14 2v6h6\" /><path d=\"M4 12h1.6a2 2 0 0 0 1.9-3.4L6 6\" /><path d=\"M4 18h1.6a2 2 0 0 1 1.9 3.4L6 24\" /><path d=\"M12 12h1.6a2 2 0 0 1 1.9-3.4L14 6\" /><path d=\"M12 18h1.6a2 2 0 0 0 1.9 3.4L14 24\" /></svg>);\nconst WandSparkles = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"m9.5 2.55 1.294 1.294a1 1 0 0 0 1.414 0L13.5 2.55\" /><path d=\"M4.94 4.94 6.22 6.22a1 1 0 0 0 1.41 0l1.29-1.29\" /><path d=\"M2.55 9.51 3.84 10.8a1 1 0 0 0 1.41 0l1.3-1.29\" /><path d=\"m19.07 4.93-1.29 1.29a1 1 0 0 1-1.41 0l-1.29-1.29\" /><path d=\"M21.45 9.51l-1.29 1.29a1 1 0 0 1-1.41 0l-1.3-1.29\" /><path d=\"M14.5 12.94a1 1 0 0 0 0 1.41l1.29 1.29\" /><path d=\"M10.8 17.78a1 1 0 0 0 0 1.41l1.29 1.29\" /><path d=\"M17.78 10.8a1 1 0 0 0 0 1.41l1.29 1.29\" /><path d=\"M12 10.5V4.5\" /><path d=\"M12 10.5C7 11 4 15 4 20\" /><path d=\"M12 10.5c5 .5 8 4.5 8 9.5\" /></svg>);\nconst LogOut = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\" /><polyline points=\"16 17 21 12 16 7\" /><line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\" /></svg>);\nconst BookOpen = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z\"/><path d=\"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z\"/></svg>);\nconst Users = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\"/><circle cx=\"9\" cy=\"7\" r=\"4\"/><path d=\"M22 21v-2a4 4 0 0 0-3-3.87\"/><path d=\"M16 3.13a4 4 0 0 1 0 7.75\"/></svg>);\nconst FileText = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\"/><polyline points=\"14 2 14 8 20 8\"/><line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\"/><line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\"/><line x1=\"10\" y1=\"9\" x2=\"8\" y2=\"9\"/></svg>);\nconst List = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><line x1=\"8\" x2=\"21\" y1=\"6\" y2=\"6\"/><line x1=\"8\" x2=\"21\" y1=\"12\" y2=\"12\"/><line x1=\"8\" x2=\"21\" y1=\"18\" y2=\"18\"/><line x1=\"3\" x2=\"3.01\" y1=\"6\" y2=\"6\"/><line x1=\"3\" x2=\"3.01\" y1=\"12\" y2=\"12\"/><line x1=\"3\" x2=\"3.01\" y1=\"18\" y2=\"18\"/></svg>);\nconst CalendarIcon = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect><line x1=\"16\" y1=\"2\" x2=\"16\" y2=\"6\"></line><line x1=\"8\" y1=\"2\" x2=\"8\" y2=\"6\"></line><line x1=\"3\" y1=\"10\" x2=\"21\" y2=\"10\"></line></svg>);\nconst UploadCloudIcon = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242\"/><path d=\"M12 12v9\"/><path d=\"m16 16-4-4-4 4\"/></svg>);\nconst FileIcon = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\"/><polyline points=\"14 2 14 8 20 8\"/></svg>);\nconst PaperclipIcon = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.59a2 2 0 0 1-2.83-2.83l8.49-8.48\"/></svg>);\nconst SettingsIcon = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l-.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\" /><circle cx=\"12\" cy=\"12\" r=\"3\" /></svg>);\nconst DollarSignIcon = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"23\"></line><path d=\"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\"></path></svg>);\n\n// Firebase Config\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDZ_qqqKW7WDCZ9botek2VBwXNMQO3JYwU\",\n    authDomain: \"psychotherapie0512.firebaseapp.com\",\n    projectId: \"psychotherapie0512\",\n    storageBucket: \"psychotherapie0512.appspot.com\",\n    messagingSenderId: \"131279046361\",\n    appId: \"1:131279046361:web:e5dd2d18b206fb820b60c8\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst storage = getStorage(app);\nconst firestoreAppId = 'default-patient-app-v5';\n\n// --- KONSTANTEN ---\nconst homeworkFailureReasons = { \"Motivational\": [\"Geringe Motivation\", \"Zweifel am Nutzen der Hausaufgabe\", \"Keine Einsicht in die Relevanz\"], \"Emotional\": [\"Angst vor Versagen\", \"Scham oder Schuldgefühle\", \"Vermeidung unangenehmer Gefühle\"], \"Kognitive\": [\"Negative automatische Gedanken\", \"Perfektionismus\"], \"Organisatorisch/Praktisch\": [\"Zeitmangel\", \"Vergessen\", \"Keine klaren Anweisungen oder Verständnisprobleme\"], \"Interaktion mit Therapeut\": [\"Widerstand gegen den Therapeuten\", \"Beziehungskonflikte\", \"Mangel an Vertrauen\"], \"Psychopathologisch\": [\"Konzentrationsprobleme\", \"Antriebslosigkeit\", \"Überwältigende Symptome\"] };\nconst availableTests = [ { id: 'scl90r', name: 'SCL-90-R - Symptom-Checklist-90-R', ebm: '35601', recommendation: 10 }, { id: 'fep2', name: 'FEP-2 - Fragebogen zur Erfassung von Persönlichkeitsstörungen', ebm: '35601', recommendation: 12 }, { id: 'bdi2', name: 'BDI-II - Beck-Depressions-Inventar II', ebm: '35600', recommendation: 2 }, { id: 'hscl11', name: 'HSCL-11 - Hopkins Symptom Checklist-11', ebm: '35600', recommendation: 1 }, ];\nconst availableTherapeuticMethods = [ \"Kognitive Verhaltenstherapie (KVT)\", \"Schematherapie\", \"Acceptance and Commitment Therapy (ACT)\", \"Dialektisch-Behaviorale Therapie (DBT)\", \"Eye Movement Desensitization and Reprocessing (EMDR)\", \"Tiefenpsychologisch fundierte Psychotherapie\", \"Systemische Therapie\" ];\nconst initialPatientsData = [ { name: \"Mustermann\", geburtsdatum: \"1998-04-04\", chiffre: \"M040498\", therapeuticMethods: [\"Kognitive Verhaltenstherapie (KVT)\"], approvedHours: 60, krankenkasse: \"TK\", versichertennummer: \"A123456789\", diagnoses: [\"[G] F00.0*: Demenz bei Alzheimer-Krankheit, mit frühem Beginn (Typ 2)\", \"[V] F01.1: Multiinfarkt-Demenz\", \"[A] F20.0: Paranoide Schizophrenie\", \"[ZN] F32.1: Mittelgradige depressive Episode\", \"F40.0: Agoraphobie\"], sessions: [{ id: `sess_${Date.now()}`, date: \"2025-05-20\", structuredNotes: { sitzungsnummer: 1, thema: \"Erste Sitzung\", patientenbericht: \"Exploration der Hauptbeschwerden.\" } }], hscl11Results: [], bdi2Results: [], fep2Results: [], scl90rResults: [], krankheitsanamnese: \"Patient berichtet über seit ca. 2 Jahren zunehmende Vergesslichkeit und Orientierungsprobleme.\", lebensgeschichte: \"Geboren 1955, verheiratet, 2 Kinder, früher als Buchhalter tätig.\", problemanalyseMakro: \"Kognitive Defizite im Vordergrund, affektive Belastung durch erlebten Kontrollverlust.\", therapieplan: \"Supportive Gespräche, kognitives Training, Psychoedukation für Angehörige.\" }, ];\nconst DIAGNOSTIK_PUNKTE = { '35600': 34, '35601': 39, '35602': 56, };\nconst DIAGNOSTIK_LIMITS = { PUNKTE_U22: 1636, PUNKTE_UE22: 1092, INSTANZEN_KZT: 3, INSTANZEN_LZT: 7, };\n\n// --- HILFSFUNKTIONEN & HOOKS ---\nconst Modal = ({ isOpen, onClose, title, children, size = \"lg\" }) => { if (!isOpen) return null; const sizeClasses = { sm: 'max-w-sm', md: 'max-w-md', lg: 'max-w-lg', xl: 'max-w-xl', '2xl': 'max-w-2xl', '3xl': 'max-w-3xl', '4xl': 'max-w-4xl', '5xl': 'max-w-5xl' }; return (<div className=\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4\"><div className={`bg-white p-6 rounded-lg shadow-xl w-full ${sizeClasses[size]} max-h-[90vh] overflow-y-auto`}><div className=\"flex justify-between items-center mb-4\"><h2 className=\"text-xl font-semibold text-gray-800\">{title}</h2><button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\"><XCircle className=\"w-7 h-7\" /></button></div>{children}</div></div>); };\nconst ConfirmationModal = ({ isOpen, onClose, onConfirm, title, message }) => { if (!isOpen) return null; return (<Modal isOpen={isOpen} onClose={onClose} title={title} size=\"md\"><div className=\"text-center\"><AlertTriangle className=\"mx-auto mb-4 w-12 h-12 text-red-500\" /><p className=\"text-gray-600 mb-6\">{message}</p><div className=\"flex justify-center space-x-4\"><button onClick={onClose} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none\">Abbrechen</button><button onClick={onConfirm} className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none\">Bestätigen</button></div></div></Modal>); }; const PatientForm = ({ patient, onSave, onCancel }) => {\n    const [formData, setFormData] = useState(\n        patient || {\n            name: '',\n            vorname: '',\n            chiffre: '',\n            geburtsdatum: '',\n            adresse: '',\n            email: '',\n            telefon: '',\n            krankenkasse: '',\n            versichertennummer: '',\n            therapeuticMethods: [],\n            approvedHours: 0,\n            diagnoses: [],\n            sessions: [],\n            hscl11Results: [],\n            bdi2Results: [],\n            fep2Results: [],\n            scl90rResults: [],\n            krankheitsanamnese: \"\",\n            lebensgeschichte: \"\",\n            problemanalyseMakro: \"\",\n            therapieplan: \"\"\n        }\n    );\n    \n    const [newMethod, setNewMethod] = useState(\"\");\n\n    useEffect(() => {\n        if (patient) {\n            setFormData({\n                ...patient,\n                geburtsdatum: patient.geburtsdatum || '',\n                krankenkasse: patient.krankenkasse || '',\n                versichertennummer: patient.versichertennummer || '',\n                therapeuticMethods: patient.therapeuticMethods || [],\n                hscl11Results: patient.hscl11Results || [],\n                bdi2Results: patient.bdi2Results || [],\n                fep2Results: patient.fep2Results || [],\n                scl90rResults: patient.scl90rResults || [],\n                krankheitsanamnese: patient.krankheitsanamnese || \"\",\n                lebensgeschichte: patient.lebensgeschichte || \"\",\n                problemanalyseMakro: patient.problemanalyseMakro || \"\",\n                therapieplan: patient.therapieplan || \"\"\n            });\n        } else {\n            setFormData({ name: '', vorname: '', chiffre: '', geburtsdatum: '', adresse: '', email: '', telefon: '', krankenkasse: '', versichertennummer: '', therapeuticMethods: [], approvedHours: 0, diagnoses: [], sessions: [], hscl11Results: [], bdi2Results: [], fep2Results: [], scl90rResults: [], krankheitsanamnese: \"\", lebensgeschichte: \"\", problemanalyseMakro: \"\", therapieplan: \"\" });\n        }\n    }, [patient]);\n\n    useEffect(() => {\n        const { name, geburtsdatum } = formData;\n        if (name && geburtsdatum) {\n            try {\n                const firstLetter = name.charAt(0).toUpperCase();\n                const [year, month, day] = geburtsdatum.split('-');\n                if (year && month && day) { const yy = year.slice(-2); const newChiffre = `${firstLetter}${day}${month}${yy}`; setFormData(prev => ({ ...prev, chiffre: newChiffre })); }\n            } catch (e) { console.error(\"Fehler bei der Chiffre-Generierung\", e); setFormData(prev => ({ ...prev, chiffre: '' })); }\n        } else { if (formData.chiffre !== '') { setFormData(prev => ({ ...prev, chiffre: '' })); } }\n    }, [formData.name, formData.geburtsdatum]); \n\n    const handleChange = (e) => { const { name, value, type } = e.target; setFormData((prev) => ({ ...prev, [name]: type === 'number' ? parseInt(value, 10) || 0 : value })); };\n    const handleAddMethod = () => { if (newMethod && !formData.therapeuticMethods.includes(newMethod)) { setFormData(prev => ({ ...prev, therapeuticMethods: [...prev.therapeuticMethods, newMethod] })); setNewMethod(\"\"); } };\n    const handleRemoveMethod = (methodToRemove) => { setFormData(prev => ({ ...prev, therapeuticMethods: prev.therapeuticMethods.filter(m => m !== methodToRemove) })); };\n    const handleSubmit = (e) => { e.preventDefault(); onSave(formData); };\n\n    const inputStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm\";\n    const btnPrimary = \"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 flex items-center\";\n\n    return (\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div><label htmlFor=\"vorname\" className=\"block text-sm font-medium text-gray-700\">Vorname</label><input type=\"text\" name=\"vorname\" id=\"vorname\" value={formData.vorname} onChange={handleChange} required className={inputStd} /></div>\n                <div><label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\">Nachname</label><input type=\"text\" name=\"name\" id=\"name\" value={formData.name} onChange={handleChange} required className={inputStd} /></div>\n                <div><label htmlFor=\"geburtsdatum\" className=\"block text-sm font-medium text-gray-700\">Geburtsdatum</label><input type=\"date\" name=\"geburtsdatum\" id=\"geburtsdatum\" value={formData.geburtsdatum} onChange={handleChange} required className={inputStd} /></div>\n                <div><label htmlFor=\"chiffre\" className=\"block text-sm font-medium text-gray-700\">Chiffre</label><input type=\"text\" name=\"chiffre\" id=\"chiffre\" value={formData.chiffre} readOnly className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100 sm:text-sm\" /></div>\n            </div>\n            <div><label htmlFor=\"adresse\" className=\"block text-sm font-medium text-gray-700\">Adresse</label><input type=\"text\" name=\"adresse\" id=\"adresse\" value={formData.adresse} onChange={handleChange} className={inputStd} /></div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div><label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">E-Mail</label><input type=\"email\" name=\"email\" id=\"email\" value={formData.email} onChange={handleChange} className={inputStd} /></div>\n                <div><label htmlFor=\"telefon\" className=\"block text-sm font-medium text-gray-700\">Telefon</label><input type=\"tel\" name=\"telefon\" id=\"telefon\" value={formData.telefon} onChange={handleChange} className={inputStd} /></div>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div><label htmlFor=\"krankenkasse\" className=\"block text-sm font-medium text-gray-700\">Krankenkasse</label><input type=\"text\" name=\"krankenkasse\" id=\"krankenkasse\" value={formData.krankenkasse} onChange={handleChange} className={inputStd} /></div>\n                <div><label htmlFor=\"versichertennummer\" className=\"block text-sm font-medium text-gray-700\">Versichertennummer</label><input type=\"text\" name=\"versichertennummer\" id=\"versichertennummer\" value={formData.versichertennummer} onChange={handleChange} className={inputStd} /></div>\n            </div>\n             <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Therapieverfahren</label>\n                <div className=\"mt-1 flex flex-wrap gap-2\">{(formData.therapeuticMethods || []).map(method => (<span key={method} className=\"flex items-center bg-teal-100 text-teal-800 text-xs font-medium px-2.5 py-0.5 rounded-full\">{method}<button type=\"button\" onClick={() => handleRemoveMethod(method)} className=\"ml-1.5 text-teal-500 hover:text-teal-700\"><XCircle className=\"h-3 w-3\" /></button></span>))}</div>\n                <div className=\"mt-2 flex items-center gap-2\">\n                    <select value={newMethod} onChange={(e) => setNewMethod(e.target.value)} className={inputStd}><option value=\"\">Verfahren auswählen...</option>{availableTherapeuticMethods.filter(m => !(formData.therapeuticMethods || []).includes(m)).map(m => <option key={m} value={m}>{m}</option>)}</select>\n                    <button type=\"button\" onClick={handleAddMethod} className=\"bg-gray-200 p-2 rounded-md hover:bg-gray-300\"><PlusCircleIcon className=\"h-5 w-5 text-gray-600\"/></button>\n                </div>\n            </div>\n            <div><label htmlFor=\"approvedHours\" className=\"block text-sm font-medium text-gray-700\">Genehmigte Stunden</label><input type=\"number\" name=\"approvedHours\" id=\"approvedHours\" value={formData.approvedHours} onChange={handleChange} min=\"0\" className={inputStd} /></div>\n            <div className=\"flex justify-end space-x-3 pt-4\"><button type=\"button\" onClick={onCancel} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\">Abbrechen</button><button type=\"submit\" className={btnPrimary}><Save className=\"w-4 h-4 mr-2\" /> Speichern</button></div>\n        </form>\n    );\n};\nasync function generateGeminiText(prompt) { let chatHistory = [{ role: \"user\", parts: [{ text: prompt }] }]; const payload = { contents: chatHistory }; const GEMINI_API_KEY = \"AIzaSyCWQFze_8cKDZ6W2DTqfqIcvhcsKWfuZLw\";  const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`; try { const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) }); if (!response.ok) { const errorData = await response.json(); console.error(\"Gemini API error details:\", errorData); const errorMessage = errorData.error?.message || `API request failed with status ${response.status}`; throw new Error(errorMessage); } const result = await response.json(); if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) { return result.candidates[0].content.parts[0].text; } else if (result.candidates && result.candidates.length > 0 && result.candidates[0].finishReason === \"SAFETY\") { console.warn(\"Gemini API response blocked due to safety reasons.\"); return \"Die Antwort wurde aufgrund von Sicherheitsrichtlinien blockiert.\"; } else { console.error(\"Unexpected Gemini API response structure:\", result); throw new Error(\"Unerwartete Antwortstruktur von der API.\"); } } catch (error) { console.error(\"Error calling Gemini API:\", error); throw error; } }\nconst calculateAge = (birthdate) => { if (!birthdate) return 0; const birthDate = new Date(birthdate); const today = new Date(); let age = today.getFullYear() - birthDate.getFullYear(); const m = today.getMonth() - birthDate.getMonth(); if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) { age--; } return age; };\nconst useDiagnostikAnalysis = (patient) => {\n    return useMemo(() => {\n        if (!patient) { return { pointsLimit: 0, instancesLimit: Infinity, currentPhase: 'Unbekannt', instancesInCurrentPhase: 0, quarterlyAnalysis: {}, availableQuarters: [], currentQuarterIdentifier: '', age: 0, }; }\n        const age = calculateAge(patient.geburtsdatum);\n        const pointsLimit = age < 22 ? DIAGNOSTIK_LIMITS.PUNKTE_U22 : DIAGNOSTIK_LIMITS.PUNKTE_UE22;\n        const allTestSessions = (patient.sessions || []).filter(s => s.ebmEntries?.some(e => DIAGNOSTIK_PUNKTE[e.nummer]));\n        const quarterlyAnalysis = {};\n        allTestSessions.forEach(session => {\n            const date = new Date(session.date);\n            const year = date.getFullYear();\n            const quarter = Math.floor(date.getMonth() / 3) + 1;\n            const quarterIdentifier = `${year}-Q${quarter}`;\n            if (!quarterlyAnalysis[quarterIdentifier]) { quarterlyAnalysis[quarterIdentifier] = { pointsUsed: 0, instancesUsed: 0, tests: [] }; }\n            quarterlyAnalysis[quarterIdentifier].instancesUsed += 1;\n            session.ebmEntries.forEach(entry => { if (DIAGNOSTIK_PUNKTE[entry.nummer]) { quarterlyAnalysis[quarterIdentifier].pointsUsed += DIAGNOSTIK_PUNKTE[entry.nummer]; quarterlyAnalysis[quarterIdentifier].tests.push({ ...entry, date: session.date }); } });\n        });\n        const today = new Date();\n        const currentYear = today.getFullYear();\n        const currentQuarter = Math.floor(today.getMonth() / 3) + 1;\n        const currentQuarterIdentifier = `${currentYear}-Q${currentQuarter}`;\n        if (!quarterlyAnalysis[currentQuarterIdentifier]) { quarterlyAnalysis[currentQuarterIdentifier] = { pointsUsed: 0, instancesUsed: 0, tests: [] }; }\n        const availableQuarters = Object.keys(quarterlyAnalysis).sort().reverse();\n        let currentPhase = 'Probatorik';\n        let instancesLimit = Infinity;\n        let instancesInCurrentPhase = 0;\n        const lztSession = allTestSessions.find(s => s.structuredNotes?.Phase === 'Langzeittherapie');\n        const kztSession = allTestSessions.find(s => s.structuredNotes?.Phase === 'Kurzzeittherapie');\n        if (lztSession) { currentPhase = 'Langzeittherapie'; instancesLimit = DIAGNOSTIK_LIMITS.INSTANZEN_LZT; instancesInCurrentPhase = allTestSessions.filter(s => s.structuredNotes?.Phase === 'Langzeittherapie' || s.structuredNotes?.Phase === 'Kurzzeittherapie').length; } else if (kztSession) { currentPhase = 'Kurzzeittherapie'; instancesLimit = DIAGNOSTIK_LIMITS.INSTANZEN_KZT; instancesInCurrentPhase = allTestSessions.filter(s => s.structuredNotes?.Phase === 'Kurzzeittherapie').length; }\n        return { pointsLimit, instancesLimit, currentPhase, instancesInCurrentPhase, quarterlyAnalysis, availableQuarters, currentQuarterIdentifier, age, };\n    }, [patient]);\n};\n\n\nfunction App() {\n    // --- States ---\n    const [mainView, setMainView] = useState('patients');\n    const [patients, setPatients] = useState([]);\n    const [selectedPatient, setSelectedPatient] = useState(null);\n    const [isLoading, setIsLoading] = useState(true);\n    const [authError, setAuthError] = useState(null);\n    const [appError, setAppError] = useState(null);\n    const [userId, setUserId] = useState(null);\n    const [isAuthReady, setIsAuthReady] = useState(false);\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [isLoginView, setIsLoginView] = useState(true);\n    const [isAuthLoading, setIsAuthLoading] = useState(false);\n    const [isPatientModalOpen, setIsPatientModalOpen] = useState(false);\n    const [editingPatient, setEditingPatient] = useState(null);\n    const [newDiagnosis, setNewDiagnosis] = useState('');\n    const [newDiagnosisCode, setNewDiagnosisCode] = useState('');\n    const [newDiagnosisSicherheit, setNewDiagnosisSicherheit] = useState('G');\n    const [lookedUpDiagnosisName, setLookedUpDiagnosisName] = useState('');\n    const [activeDetailTab, setActiveDetailTab] = useState('übersicht');\n    const [activeDiagnostikSubTab, setActiveDiagnostikSubTab] = useState('overview');\n    const [diagnosisInfo, setDiagnosisInfo] = useState({ code: '', name: '', beschreibung: '', inkl: [], exkl: [], hinweise: [], zusatz_info_code: '', sicherheit: '', isLoading: false, error: null, isOpen: false, source: '' });\n    const [localIcd10Data, setLocalIcd10Data] = useState({});\n    const [editableKrankheitsanamnese, setEditableKrankheitsanamnese] = useState(\"\");\n    const [editableLebensgeschichte, setEditableLebensgeschichte] = useState(\"\");\n    const [editableProblemanalyseMakro, setEditableProblemanalyseMakro] = useState(\"\");\n    const [editableTherapieplan, setEditableTherapieplan] = useState(\"\");\n    const [therapeutischeAssistenzOutput, setTherapeutischeAssistenzOutput] = useState(\"\");\n    const [isLoadingTherapeutischeAssistenz, setIsLoadingTherapeutischeAssistenz] = useState(false);\n    const [assistenzError, setAssistenzError] = useState(null);\n    const detailViewRef = useRef(null);\n    const [improvementState, setImprovementState] = useState({ isOpen: false, isLoading: false, originalText: '', improvedText: '', sessionIndex: null, error: null });\n    const [sortConfig, setSortConfig] = useState({ key: 'name', direction: 'ascending' });\n    const [nextAppointment, setNextAppointment] = useState({ isLoading: false, text: null, error: null });\n    const [unbilledAppointments, setUnbilledAppointments] = useState([]);\n    const [isLoadingAppointments, setIsLoadingAppointments] = useState(false);\n    const [billingModalState, setBillingModalState] = useState({ isOpen: false, event: null, isEditing: false });\n    const [ebmData, setEbmData] = useState([]);\n    const [isManualBillingSetupOpen, setIsManualBillingSetupOpen] = useState(false);\n    const [confirmDeleteState, setConfirmDeleteState] = useState({ isOpen: false, onConfirm: null, message: '', title: '' });\n    const [retroBillingState, setRetroBillingState] = useState({ isOpen: false, test: null });\n    const [isAddTestModalOpen, setIsAddTestModalOpen] = useState(false);\n    const [currentTestToAdd, setCurrentTestToAdd] = useState(null);\n    const [uploadedFiles, setUploadedFiles] = useState([]);\n    const [profile, setProfile] = useState({});\n    const [isUploading, setIsUploading] = useState(false);\n    const [selectedId, setSelectedId] = useState(null);\n    const [isCalendarLoading, setIsCalendarLoading] = useState(true);\n    \n    // KORREKTUR: Alle Hooks werden jetzt vor den bedingten returns aufgerufen.\n    const diagnostikAnalysis = useDiagnostikAnalysis(selectedPatient);\n    const sortedPatients = useMemo(() => { let sortablePatients = [...patients]; if (sortConfig !== null) { sortablePatients.sort((a, b) => { const valA = a[sortConfig.key] || ''; const valB = b[sortConfig.key] || ''; if (valA < valB) { return sortConfig.direction === 'ascending' ? -1 : 1; } if (valA > valB) { return sortConfig.direction === 'ascending' ? 1 : -1; } return 0; }); } return sortablePatients; }, [patients, sortConfig]);\n    const selectedPatientData = useMemo(() => {\n        if (!selectedId) return null;\n        return patients.find(p => p.id === selectedId);\n    }, [selectedId, patients]);\n\n    const getHighestSessionNumber = (sessions) => { if (!sessions) return 0; const sessionNumbers = sessions.map(s => s.structuredNotes?.sitzungsnummer).filter(n => typeof n === 'number' && !isNaN(n)); return sessionNumbers.length > 0 ? Math.max(...sessionNumbers) : 0; };\n    const handleStartRetroBilling = (testToBill) => { setRetroBillingState({ isOpen: true, test: testToBill }); };\n    const handleSaveRetroactiveBilling = async (testToBill, billingData) => {\n        const { sessionId, multiplier, date, phase } = billingData; if (!selectedPatient || !testToBill) return;\n        const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n        const newTestEbmEntry = { nummer: testToBill.ebm, anzahl: multiplier || 1, faktor: 1, testInstanceId: testToBill.testInstanceId };\n        let finalPatientData = {};\n        const updatedSessions = JSON.parse(JSON.stringify(selectedPatient.sessions || []));\n        try {\n            if (sessionId && sessionId !== 'new') { const sessionIndex = updatedSessions.findIndex(s => s.id === sessionId); if (sessionIndex === -1) throw new Error(\"Ausgewählte Sitzung nicht gefunden.\"); const sessionToUpdate = updatedSessions[sessionIndex]; sessionToUpdate.ebmEntries = [...(sessionToUpdate.ebmEntries || []), newTestEbmEntry];\n            } else { const testBillingSession = { id: `sess_${Date.now()}`, date: new Date(date).toISOString(), eventId: `retro_bill_${testToBill.testInstanceId}`, ebmEntries: [newTestEbmEntry], structuredNotes: { thema: `Testdiagnostik (nachtr.): ${testToBill.name}`, Phase: phase, } }; updatedSessions.push(testBillingSession); }\n            updatedSessions.sort((a, b) => new Date(b.date) - new Date(a.date));\n            finalPatientData.sessions = updatedSessions;\n            await setDoc(patientRef, finalPatientData, { merge: true });\n            alert(`Test \"${testToBill.name}\" wurde erfolgreich abgerechnet.`);\n        } catch (err) { setAppError(`Fehler bei der nachträglichen Abrechnung: ${err.message}`); console.error(\"Error during retroactive billing:\", err); }\n    };\n    const handleDeleteEbmEntry = async (sessionDate, ebmIndexToDelete) => {\n        if (!selectedPatient || !userId) return;\n        const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n        const updatedSessions = JSON.parse(JSON.stringify(selectedPatient.sessions));\n        const sessionIndex = updatedSessions.findIndex(s => s.date === sessionDate);\n        if (sessionIndex === -1) { setAppError(\"Sitzung zum Löschen des Eintrags nicht gefunden.\"); return; }\n        const sessionToUpdate = updatedSessions[sessionIndex];\n        const entryToDelete = sessionToUpdate.ebmEntries[ebmIndexToDelete];\n        const linkedTest = availableTests.find(t => t.ebm === entryToDelete.nummer);\n        const performDelete = async () => {\n            sessionToUpdate.ebmEntries.splice(ebmIndexToDelete, 1);\n            let finalPatientData = { sessions: updatedSessions };\n            if (linkedTest && entryToDelete.testInstanceId) { const resultKey = `${linkedTest.id}Results`; const oldResults = selectedPatient[resultKey] || []; const newResults = oldResults.filter(r => r.testInstanceId !== entryToDelete.testInstanceId); finalPatientData[resultKey] = newResults; }\n            try { await setDoc(patientRef, finalPatientData, { merge: true }); setConfirmDeleteState({ isOpen: false }); } catch (err) { setAppError(`Fehler beim Löschen: ${err.message}`); }\n        };\n        if (linkedTest) { setConfirmDeleteState({ isOpen: true, title: \"Eintrag wirklich löschen?\", message: `Dieser Abrechnungseintrag ist mit dem Diagnostiktest \"${linkedTest.name}\" verknüpft. Wenn Sie ihn löschen, wird auch das zugehörige Testergebnis unwiderruflich entfernt. Fortfahren?`, onConfirm: performDelete });\n        } else { await performDelete(); }\n    };\n    const handleStartManualBilling = (patientId, date, sessionNumber) => {\n        const patient = patients.find(p => p.id === patientId); if (!patient) { setAppError(\"Patient für manuelle Abrechnung nicht gefunden.\"); return; }\n        let finalSessionNumber; const manualNumber = Number(sessionNumber);\n        if (sessionNumber && !isNaN(manualNumber) && manualNumber > 0) { finalSessionNumber = manualNumber; } else { finalSessionNumber = getHighestSessionNumber(patient.sessions) + 1; }\n        const syntheticEvent = { id: `manual_${Date.now()}`, summary: `Manuelle Sitzung (${patient.chiffre})`, start: { dateTime: new Date(date).toISOString() }, sitzungsnummer: finalSessionNumber, isManual: true };\n        handleStartBilling(syntheticEvent);\n    };\n    const fetchNextAppointment = useCallback(async (chiffre) => {\n        if (!chiffre) return;\n        setNextAppointment({ isLoading: true, text: null, error: null });\n        try {\n            const response = await fetch(`http://localhost:3001/api/calendar/nextevent?chiffre=${chiffre}`);\n            if (response.status === 404) { setNextAppointment({ isLoading: false, text: 'Kein zukünftiger Termin gefunden.', error: null }); return; }\n            if (!response.ok) { throw new Error('Kalender-API-Anfrage fehlgeschlagen.'); }\n            const event = await response.json();\n            const startDate = new Date(event.start); const endDate = new Date(event.end); const dateOptions = { day: '2-digit', month: '2-digit', year: 'numeric' }; const timeOptions = { hour: '2-digit', minute: '2-digit' };\n            const formattedDate = startDate.toLocaleDateString('de-DE', dateOptions); const formattedStartTime = startDate.toLocaleTimeString('de-DE', timeOptions); const formattedEndTime = endDate.toLocaleTimeString('de-DE', timeOptions);\n            setNextAppointment({ isLoading: false, text: `Nächster Termin: ${formattedDate} um ${formattedStartTime} bis ${formattedEndTime} Uhr`, error: null });\n        } catch (error) { console.error('Fehler beim Abrufen des Termins:', error); setNextAppointment({ isLoading: false, text: null, error: 'Termin konnte nicht geladen werden.' }); }\n    }, []);\n    const getPatientsCollectionPath = useCallback(() => { if (!userId) return null; return `/artifacts/${firestoreAppId}/users/${userId}/patients`; }, [userId]);\n    const getProfileDocPath = useCallback(() => { if (!userId) return null; return `/artifacts/${firestoreAppId}/users/${userId}/profile/main`; }, [userId]);\n    const findIcd10CodeLocal = useCallback((codeToFind) => { const upperCodeToFind = codeToFind.toUpperCase(); let found = localIcd10Data[upperCodeToFind]; if (found) return found; const baseCode = upperCodeToFind.replace(/(\\.-[*]|\\.\\*|[*]|-)$/, ''); found = localIcd10Data[`${baseCode}.-*`] || localIcd10Data[`${baseCode}.*`] || localIcd10Data[baseCode]; if (found) return found; const possibleCategoryCode = Object.keys(localIcd10Data).find(key => key.startsWith(upperCodeToFind) && (localIcd10Data[key].code_kategorie || localIcd10Data[key].code)); if (possibleCategoryCode) return localIcd10Data[possibleCategoryCode]; return null; }, [localIcd10Data]);\n    const handleStartBilling = (event) => {\n        const chiffreMatch = event.summary?.match(/[A-Z][0-9]{6}/); const chiffre = chiffreMatch ? chiffreMatch[0] : null; const targetPatient = patients.find(p => p.chiffre === chiffre);\n        let nextSessionNumber;\n        if (event.sitzungsnummer) { nextSessionNumber = event.sitzungsnummer; } else { nextSessionNumber = 1; if (targetPatient) { const highestSession = getHighestSessionNumber(targetPatient.sessions); nextSessionNumber = highestSession + 1; } }\n        const eventWithSessionNumber = { ...event, sitzungsnummer: nextSessionNumber };\n        setBillingModalState({ isOpen: true, event: eventWithSessionNumber, isEditing: false });\n    };\n    const handleEditSession = (session) => { const event = { id: session.id, summary: `${session.structuredNotes?.thema || 'Sitzung'} (${selectedPatient.chiffre})`, start: { dateTime: session.date }, sitzungsnummer: session.structuredNotes?.sitzungsnummer, initialNotes: session.structuredNotes, initialEbm: session.ebmEntries, }; setBillingModalState({ isOpen: true, event, isEditing: true }); };\n    const handleDeleteSession = async (sessionId) => {\n        if (!selectedPatient) return;\n        const performDelete = async () => {\n            const updatedSessions = selectedPatient.sessions.filter(s => s.id !== sessionId);\n            const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n            try { await setDoc(patientRef, { sessions: updatedSessions }, { merge: true }); setConfirmDeleteState({ isOpen: false }); } catch (error) { console.error(\"Error deleting session: \", error); setAppError(\"Fehler beim Löschen der Sitzung.\"); }\n        };\n        setConfirmDeleteState({ isOpen: true, title: \"Sitzung löschen?\", message: \"Möchten Sie diese Sitzung und alle zugehörigen Abrechnungsdaten wirklich löschen?\", onConfirm: performDelete, });\n    };\n    const handleSaveBilling = async (billingData, isEditing) => {\n        const { chiffre, eventId, eventStart, notes, ebmEntries, sessionId } = billingData;\n        const targetPatient = patients.find(p => p.chiffre === chiffre); if (!targetPatient) { setAppError(`Patient mit Chiffre ${chiffre} nicht gefunden.`); return; }\n        const patientRef = doc(db, getPatientsCollectionPath(), targetPatient.id);\n        let updatedSessions;\n        if (isEditing) { updatedSessions = targetPatient.sessions.map(session => { if (session.id === sessionId) { return { ...session, structuredNotes: notes, ebmEntries: ebmEntries }; } return session; });\n        } else { const newSession = { id: `sess_${Date.now()}`, date: new Date(eventStart).toISOString(), structuredNotes: notes, ebmEntries: ebmEntries, eventId: eventId, homeworkStatus: (notes.hausaufgaben || []).filter(task => task.trim() !== '').map(taskText => ({ text: taskText, done: false, reason: '' })) }; updatedSessions = [...(targetPatient.sessions || []), newSession]; }\n        updatedSessions.sort((a, b) => new Date(b.date) - new Date(a.date));\n        try { await setDoc(patientRef, { sessions: updatedSessions }, { merge: true }); setBillingModalState({ isOpen: false, event: null, isEditing: false }); if (!isEditing) { setActiveDetailTab('abrechnung'); }\n        } catch (err) { setAppError(\"Fehler beim Speichern der Abrechnung.\"); console.error(\"Error saving billing:\", err); }\n    };\n    const handleSaveTestAndResults = async (testData) => {\n        const { testId, sessionId, multiplier, phase, date, results } = testData; if (!selectedPatient || !testId) { setAppError(\"Fehler: Patient oder Test nicht spezifiziert.\"); return; }\n        const testInfo = availableTests.find(t => t.id === testId); if (!testInfo) { setAppError(\"Testkonfiguration nicht gefunden.\"); return; }\n        const { pointsLimit, instancesLimit, instancesInCurrentPhase, quarterlyAnalysis, currentQuarterIdentifier } = diagnostikAnalysis;\n        const currentQuarterPoints = quarterlyAnalysis[currentQuarterIdentifier]?.pointsUsed || 0;\n        const newPoints = DIAGNOSTIK_PUNKTE[testInfo.ebm] || 0;\n        let warningMessages = [];\n        if (currentQuarterPoints + newPoints > pointsLimit) { warningMessages.push(`Das Punktelimit von ${pointsLimit} für dieses Quartal wird überschritten.`); }\n        if (phase !== 'Probatorik' && phase !== 'Schluss' && instancesInCurrentPhase + 1 > instancesLimit) { warningMessages.push(`Das Instanzenlimit von ${instancesLimit} für die Phase \"${phase}\" wird überschritten.`); }\n        if (warningMessages.length > 0) { const confirmation = window.confirm(`Warnung:\\n\\n${warningMessages.join('\\n')}\\n\\nMöchten Sie trotzdem fortfahren?`); if (!confirmation) { return; } }\n        const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n        const testInstanceId = `test_${testId}_${Date.now()}`;\n        const newTestEbmEntry = { nummer: testInfo.ebm, anzahl: multiplier || 1, faktor: 1, testInstanceId };\n        const resultKey = `${testId}Results`;\n        const newTestResult = { date: new Date().toISOString(), ...results, testInstanceId };\n        const updatedTestResults = [...(selectedPatient[resultKey] || []), newTestResult];\n        let finalPatientData = { [resultKey]: updatedTestResults };\n        try {\n            const updatedSessions = JSON.parse(JSON.stringify(selectedPatient.sessions || []));\n            if (sessionId && sessionId !== 'new') { const sessionIndex = updatedSessions.findIndex(s => s.id === sessionId); if (sessionIndex === -1) throw new Error(\"Die ausgewählte Sitzung zum Hinzufügen wurde nicht gefunden.\"); const sessionToUpdate = updatedSessions[sessionIndex]; sessionToUpdate.ebmEntries = [...(sessionToUpdate.ebmEntries || []), newTestEbmEntry]; finalPatientData.sessions = updatedSessions;\n            } else { const testBillingSession = { id: `sess_${Date.now()}`, date: new Date(date).toISOString(), eventId: `test_${testId}_${Date.now()}`, ebmEntries: [newTestEbmEntry], structuredNotes: { thema: `Testdiagnostik: ${testInfo.name}`, Phase: phase, } }; updatedSessions.push(testBillingSession); updatedSessions.sort((a, b) => new Date(b.date) - new Date(a.date)); finalPatientData.sessions = updatedSessions; }\n            await setDoc(patientRef, finalPatientData, { merge: true });\n            alert(`Test \"${testInfo.name}\" wurde gespeichert und abgerechnet.`);\n            setActiveDiagnostikSubTab(testId);\n        } catch (err) { setAppError(`Fehler beim Speichern der Testdaten: ${err.message}`); console.error(\"Error saving test data:\", err); }\n    };\n    const handleUpdateHomeworkStatus = async (sessionDate, homeworkIndex, newStatus) => {\n        if (!selectedPatient || !userId) return;\n        const collectionPath = getPatientsCollectionPath();\n        const patientRef = doc(db, collectionPath, selectedPatient.id);\n        const updatedSessions = JSON.parse(JSON.stringify(selectedPatient.sessions));\n        const sessionToUpdate = updatedSessions.find(s => s.date === sessionDate);\n        if (sessionToUpdate && sessionToUpdate.homeworkStatus && sessionToUpdate.homeworkStatus[homeworkIndex]) { Object.assign(sessionToUpdate.homeworkStatus[homeworkIndex], newStatus); }\n        try { await setDoc(patientRef, { sessions: updatedSessions }, { merge: true }); } catch (err) { console.error(\"Error updating homework status:\", err); setAppError(\"Fehler beim Aktualisieren des Hausaufgabenstatus.\"); }\n    };\n\n    // --- useEffects ---\n    useEffect(() => { if (ebmData.length === 0) { fetch('/ebm_data_full.json').then(res => res.json()).then(setEbmData).catch(err => console.error(\"Failed to load EBM data\", err)); } }, [ebmData.length]);\n    useEffect(() => {\n        if (mainView === 'abrechnung') {\n            setIsLoadingAppointments(true);\n            fetch('http://localhost:3001/api/calendar/past-events')\n                .then(res => { if (!res.ok) { return res.json().then(errorData => { throw new Error(errorData.message || `Serverfehler: ${res.status}`); }); } return res.json(); })\n                .then(calendarEvents => {\n                    if (!Array.isArray(calendarEvents)) { throw new Error(\"Unerwartetes Datenformat vom Server erhalten.\"); };\n                    const billedEventIds = new Set();\n                    patients.forEach(p => { (p.sessions || []).forEach(s => { if (s.eventId) billedEventIds.add(s.eventId); }); });\n                    const unbilled = calendarEvents.filter(event => !billedEventIds.has(event.id) && event.summary?.match(/[A-Z][0-9]{6}/) );\n                    setUnbilledAppointments(unbilled);\n                })\n                .catch(err => { if (err.message && err.message.includes('Nicht bei Google authentifiziert')) { setAppError(`Kalender-Fehler: Sie müssen sich erneut bei Google authentifizieren. Rufen Sie dazu im Browser auf: http://localhost:3001/auth/google`); } else { setAppError(`Offene Abrechnungen konnten nicht geladen werden: ${err.message}`); } })\n                .finally(() => setIsLoadingAppointments(false));\n        }\n    }, [mainView, patients]);\n    useEffect(() => { if (selectedPatient) { fetchNextAppointment(selectedPatient.chiffre); } else { setNextAppointment({ isLoading: false, text: null, error: null }); } }, [selectedPatient, fetchNextAppointment]);\n    useEffect(() => { fetch('/icd10f_data.json').then(response => { if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`); return response.json(); }).then(data => { const indexedData = {}; data.forEach(item => { if (item.code) { indexedData[item.code.toUpperCase()] = item; } }); setLocalIcd10Data(indexedData); }).catch(error => { console.error(\"Fehler beim Laden der lokalen ICD-10 Daten:\", error); setAppError(\"Lokale ICD-10 Daten konnten nicht geladen werden. \" + error.message); }); }, []);\n    useEffect(() => { if (selectedPatient) { setEditableKrankheitsanamnese(selectedPatient.krankheitsanamnese || \"\"); setEditableLebensgeschichte(selectedPatient.lebensgeschichte || \"\"); setEditableProblemanalyseMakro(selectedPatient.problemanalyseMakro || \"\"); setEditableTherapieplan(selectedPatient.therapieplan || \"\"); if (detailViewRef.current) { setTimeout(() => { detailViewRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' }); }, 100); } } else { setEditableKrankheitsanamnese(\"\"); setEditableLebensgeschichte(\"\"); setEditableProblemanalyseMakro(\"\"); setEditableTherapieplan(\"\"); } }, [selectedPatient]);\n    useEffect(() => { if (newDiagnosisCode.trim() !== '') { const found = findIcd10CodeLocal(newDiagnosisCode.trim().toUpperCase()); if (found && found.name) { setLookedUpDiagnosisName(found.name); } else { setLookedUpDiagnosisName(''); } } else { setLookedUpDiagnosisName(''); } }, [newDiagnosisCode, findIcd10CodeLocal]);\n    useEffect(() => { const unsubscribe = onAuthStateChanged(auth, (user) => { if (user) { setUserId(user.uid); } else { setUserId(null); } setIsAuthReady(true); setIsLoading(false); }); return () => unsubscribe(); }, []);\n    const seedInitialData = useCallback(async () => {\n        if (!userId) return; const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n        try {\n            const patientsCollection = collection(db, collectionPath);\n            const querySnapshot = await getDocs(patientsCollection);\n            if (querySnapshot.empty) { const batch = writeBatch(db); initialPatientsData.forEach(patientData => { const newPatientRef = doc(patientsCollection); batch.set(newPatientRef, { ...patientData, hscl11Results: patientData.hscl11Results || [], bdi2Results: patientData.bdi2Results || [], fep2Results: patientData.fep2Results || [], scl90rResults: patientData.scl90rResults || [], diagnoses_icd11: patientData.diagnoses_icd11 || [], krankheitsanamnese: patientData.krankheitsanamnese || \"\", lebensgeschichte: patientData.lebensgeschichte || \"\", problemanalyseMakro: patientData.problemanalyseMakro || \"\", therapieplan: patientData.therapieplan || \"\" }); }); await batch.commit(); }\n        } catch (err) { console.error(\"Error seeding initial data:\", err); setAppError(\"Fehler beim Laden der initialen Daten.\"); }\n    }, [userId, getPatientsCollectionPath]);\n    useEffect(() => {\n        if (!isAuthReady || !userId) { setPatients([]); setProfile({}); return; }\n        const patientsCollectionPath = getPatientsCollectionPath(); if (!patientsCollectionPath) return;\n        setIsLoading(true);\n        seedInitialData();\n        const patientsQuery = query(collection(db, patientsCollectionPath));\n        const unsubscribePatients = onSnapshot(patientsQuery, (snapshot) => { let patientsData = snapshot.docs.map(docSnap => ({ id: docSnap.id, ...docSnap.data(), diagnoses_icd11: docSnap.data().diagnoses_icd11 || [] })); patientsData.sort((a, b) => (a.name || \"\").localeCompare(b.name || \"\")); setPatients(patientsData); setIsLoading(false); }, (err) => { console.error(\"Error fetching patients:\", err); setAppError(\"Fehler beim Laden der Patientendaten.\"); setIsLoading(false); });\n        const profileDocPath = getProfileDocPath();\n        const unsubscribeProfile = onSnapshot(doc(db, profileDocPath), (docSnap) => { if (docSnap.exists()) { setProfile(docSnap.data()); } else { setProfile({}); } }, (err) => { console.error(\"Error fetching profile:\", err); setAppError(\"Fehler beim Laden der Profildaten.\"); });\n        return () => { unsubscribePatients(); unsubscribeProfile(); };\n    }, [isAuthReady, userId, getPatientsCollectionPath, getProfileDocPath, seedInitialData]);\n    useEffect(() => { if (selectedPatient && selectedPatient.id && patients.length > 0) { const currentPatientDataFromList = patients.find(p => p.id === selectedPatient.id); if (currentPatientDataFromList) { if (JSON.stringify(currentPatientDataFromList) !== JSON.stringify(selectedPatient)) { setSelectedPatient(currentPatientDataFromList); } } else { setSelectedPatient(null); } } }, [patients, selectedPatient]);\n    useEffect(() => { const loadIcd10Data = async () => { try { const response = await fetch('/icd10f_data.json'); if (!response.ok) { throw new Error(`HTTP error! status: ${response.status}`); } const data = await response.json(); const indexedData = {}; data.forEach(item => { if (item.code) { indexedData[item.code.toUpperCase()] = item; const baseCode = item.code.replace(/[*†]/, '').toUpperCase(); if (baseCode !== item.code.toUpperCase()) { indexedData[baseCode] = item; } } }); setLocalIcd10Data(indexedData); } catch (error) { console.error(\"Fehler beim Laden der lokalen ICD-10 Daten:\", error); setAppError(\"Lokale ICD-10 Daten konnten nicht geladen werden. \" + error.message); } }; loadIcd10Data(); }, []);\n    \n    // NEU: Lottie-Player-Skript dynamisch laden\n    useEffect(() => {\n        const scriptId = 'dotlottie-player-script';\n        if (!document.getElementById(scriptId)) {\n            const script = document.createElement('script');\n            script.id = scriptId;\n            script.src = \"https://unpkg.com/@dotlottie/player-component@2.7.12/dist/dotlottie-player.mjs\";\n            script.type = \"module\";\n            document.head.appendChild(script);\n        }\n    }, []);\n\n\n    const bdiCutoffs = [ { y1: 0, y2: 8, label: \"Keine Depression\", color: \"rgba(75, 192, 192, 0.2)\" }, { y1: 9, y2: 13, label: \"Minimale Depression\", color: \"rgba(54, 162, 235, 0.2)\" }, { y1: 14, y2: 19, label: \"Leichte Depression\", color: \"rgba(255, 206, 86, 0.2)\" }, { y1: 20, y2: 28, label: \"Mittelschwere Depression\", color: \"rgba(255, 159, 64, 0.2)\" }, { y1: 29, y2: 63, label: \"Schwere Depression\", color: \"rgba(255, 99, 132, 0.2)\" } ];\n    const bdiAxisTicks = [0, 8, 13, 19, 28, 63];\n\n    const handleAuthAction = async (isRegistering) => { setIsAuthLoading(true); setAuthError(null); try { if (isRegistering) { await createUserWithEmailAndPassword(auth, email, password); } else { await signInWithEmailAndPassword(auth, email, password); } setEmail(\"\"); setPassword(\"\"); } catch (error) { console.error(\"Authentication error:\", error); setAuthError(error.message); } finally { setIsAuthLoading(false); } };\n    const handleLogout = async () => { try { await signOut(auth); setSelectedPatient(null); setPatients([]); } catch (error) { console.error(\"Error signing out: \", error); setAppError(\"Fehler beim Abmelden.\"); } };\n    const handleSavePatient = async (patientData) => {\n        if (!userId) { setAppError(\"Benutzer nicht authentifiziert.\"); return; }\n        const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n        const dataToSave = { name: patientData.name || '', vorname: patientData.vorname || '', chiffre: patientData.chiffre || '', geburtsdatum: patientData.geburtsdatum || '', adresse: patientData.adresse || '', email: patientData.email || '', telefon: patientData.telefon || '', krankenkasse: patientData.krankenkasse || '', versichertennummer: patientData.versichertennummer || '', approvedHours: patientData.approvedHours || 0, therapeuticMethods: patientData.therapeuticMethods || [], diagnoses: patientData.diagnoses || [], diagnoses_icd11: patientData.diagnoses_icd11 || [], sessions: patientData.sessions || [], hscl11Results: patientData.hscl11Results || [], bdi2Results: patientData.bdi2Results || [], fep2Results: patientData.fep2Results || [], scl90rResults: patientData.scl90rResults || [], krankheitsanamnese: patientData.krankheitsanamnese || \"\", lebensgeschichte: patientData.lebensgeschichte || \"\", problemanalyseMakro: patientData.problemanalyseMakro || \"\", therapieplan: patientData.therapieplan || \"\" };\n        try { if (editingPatient && editingPatient.id) { const patientRef = doc(db, collectionPath, editingPatient.id); await setDoc(patientRef, dataToSave, { merge: true }); } else { await addDoc(collection(db, collectionPath), dataToSave); } setIsPatientModalOpen(false); setEditingPatient(null); } catch (err) { console.error(\"Error saving patient:\", err); setAppError(`Fehler beim Speichern des Patienten: ${err.message}`); }\n    };\n    const confirmDeletePatient = async (patientId) => {\n        if (!patientId || !userId) { setAppError(\"Löschvorgang fehlgeschlagen.\"); return; }\n        const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n        try { const patientRef = doc(db, collectionPath, patientId); await deleteDoc(patientRef); if (selectedPatient && selectedPatient.id === patientId) { setSelectedPatient(null); } setConfirmDeleteState({ isOpen: false });\n        } catch (err) { console.error(\"Error deleting patient:\", err); setAppError(\"Fehler beim Löschen des Patienten.\"); setConfirmDeleteState({ isOpen: false }); }\n    };\n    const openDeleteConfirmation = (patientId) => { setConfirmDeleteState({ isOpen: true, title: \"Patient wirklich löschen?\", message: \"Möchten Sie diesen Patienten und alle zugehörigen Daten unwiderruflich löschen?\", onConfirm: () => confirmDeletePatient(patientId) }); };\n    const handleAddDiagnosis = async () => {\n        const codeToAdd = newDiagnosisCode.trim().toUpperCase(); if (!selectedPatient || !codeToAdd || !userId) { setAppError(\"Bitte füllen Sie alle erforderlichen Felder aus.\"); return; }\n        const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n        const sicherheitPrefix = newDiagnosisSicherheit ? `[${newDiagnosisSicherheit}] ` : \"\";\n        const beschreibung = newDiagnosis.trim() ? `: ${newDiagnosis.trim()}` : (lookedUpDiagnosisName ? `: ${lookedUpDiagnosisName}` : \"\");\n        const diagnosisString = `${sicherheitPrefix}${codeToAdd}${beschreibung}`;\n        const updatedDiagnoses = [...(selectedPatient.diagnoses || []), diagnosisString];\n        const patientRef = doc(db, collectionPath, selectedPatient.id);\n        try { await setDoc(patientRef, { diagnoses: updatedDiagnoses }, { merge: true }); setNewDiagnosisCode(''); setNewDiagnosis(''); setLookedUpDiagnosisName(''); setNewDiagnosisSicherheit('G');\n        } catch (err) { console.error(\"Error adding diagnosis:\", err); setAppError(\"Fehler beim Hinzufügen der Diagnose.\"); }\n    };\n    const handleRemoveDiagnosis = async (diagnosisStringToRemove) => { if (!selectedPatient || !userId) return; const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return; const updatedDiagnoses = selectedPatient.diagnoses.filter(d => d !== diagnosisStringToRemove); const patientRef = doc(db, collectionPath, selectedPatient.id); try { await setDoc(patientRef, { diagnoses: updatedDiagnoses }, { merge: true }); } catch (err) { console.error(\"Error removing diagnosis:\", err); setAppError(\"Fehler beim Entfernen der Diagnose.\"); } };\n    const handleAddBdiResult = async (newResult) => { if (!selectedPatient || !userId) return; const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return; const updatedBdiResults = [...(selectedPatient.bdi2Results || []), newResult]; updatedBdiResults.sort((a, b) => new Date(a.date) - new Date(b.date)); const patientRef = doc(db, collectionPath, selectedPatient.id); try { await setDoc(patientRef, { bdi2Results: updatedBdiResults }, { merge: true }); } catch (err) { console.error(\"Error adding BDI-II result:\", err); setAppError(\"Fehler beim Hinzufügen des BDI-II Ergebnisses.\"); } };\n    const handleAddHsclResult = async (newResult) => { if (!selectedPatient || !userId) return; const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return; const updatedHsclResults = [...(selectedPatient.hscl11Results || []), newResult]; updatedHsclResults.sort((a, b) => new Date(a.date) - new Date(b.date)); const patientRef = doc(db, collectionPath, selectedPatient.id); try { await setDoc(patientRef, { hscl11Results: updatedHsclResults }, { merge: true }); } catch (err) { console.error(\"Error adding HSCL result:\", err); setAppError(\"Fehler beim Hinzufügen des HSCL-Ergebnisses.\"); } };\n    const handleRemoveHsclResult = async (dateToRemove) => { if (!selectedPatient || !userId) return; const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return; const updatedHsclResults = selectedPatient.hscl11Results.filter(r => r.date !== dateToRemove); const patientRef = doc(db, collectionPath, selectedPatient.id); try { await setDoc(patientRef, { hscl11Results: updatedHsclResults }, { merge: true }); } catch (err) { console.error(\"Error removing HSCL result:\", err); setAppError(\"Fehler beim Entfernen des HSCL-Ergebnisses.\"); } };\n    const handleRemoveBdiResult = async (dateToRemove) => { if (!selectedPatient || !userId) return; const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return; const updatedBdiResults = selectedPatient.bdi2Results.filter(r => r.date !== dateToRemove); const patientRef = doc(db, collectionPath, selectedPatient.id); try { await setDoc(patientRef, { bdi2Results: updatedBdiResults }, { merge: true }); } catch (err) { console.error(\"Error removing BDI-II result:\", err); setAppError(\"Fehler beim Entfernen des BDI-II Ergebnisses.\"); } };\n    const handleAddFepResult = async (result) => {  if (!selectedPatient || !userId) return; const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return; const updatedFepResults = [...(selectedPatient.fep2Results || []), result]; updatedFepResults.sort((a, b) => new Date(a.date) - new Date(b.date)); const patientRef = doc(db, collectionPath, selectedPatient.id); try { await setDoc(patientRef, { fep2Results: updatedFepResults }, { merge: true }); } catch (err) { console.error(\"Error adding FEP-2 result:\", err); setAppError(\"Fehler beim Hinzufügen des FEP-2 Ergebnisses.\"); } };\n    const handleRemoveFepResult = async (dateToRemove) => { if (!selectedPatient || !userId) return; const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return; const updatedFepResults = selectedPatient.fep2Results.filter(r => r.date !== dateToRemove); const patientRef = doc(db, collectionPath, selectedPatient.id); try { await setDoc(patientRef, { fep2Results: updatedFepResults }, { merge: true }); } catch (err) { console.error(\"Error removing FEP-2 result:\", err); setAppError(\"Fehler beim Entfernen des FEP-2 Ergebnisses.\"); } };\n    const handleAddScl90rResult = async (result) => { if (!selectedPatient || !userId) return; const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return; const newResultToSave = { rawScores: result.rawScores, tScores: result.tScores, globalScores: result.globalScores, itemScores: result.itemScores,  date: result.date  }; const updatedScl90rResults = [...(selectedPatient.scl90rResults || []), newResultToSave]; updatedScl90rResults.sort((a, b) => new Date(b.date) - new Date(a.date)); const patientRef = doc(db, collectionPath, selectedPatient.id); try { await setDoc(patientRef, { scl90rResults: updatedScl90rResults }, { merge: true }); console.log(\"SCL-90-R-Ergebnis erfolgreich gespeichert mit itemScores.\"); } catch (err) { console.error(\"Error adding SCL-90-R result:\", err); setAppError(\"Fehler beim Speichern des SCL-90-R Ergebnisses.\"); } };\n    const handleRemoveScl90rResult = async (dateToRemove) => { if (!selectedPatient || !userId) return; const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return; const updatedScl90rResults = selectedPatient.scl90rResults.filter(r => r.date !== dateToRemove); const patientRef = doc(db, collectionPath, selectedPatient.id); try { await setDoc(patientRef, { scl90rResults: updatedScl90rResults }, { merge: true }); } catch (err) { console.error(\"Error removing SCL-90-R result:\", err); setAppError(\"Fehler beim Entfernen des SCL-90-R Ergebnisses.\"); } };\n    const handleKrankheitsmodellChange = async (fieldName, value) => { if (!selectedPatient || !userId) return; const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return; const patientRef = doc(db, collectionPath, selectedPatient.id); try { await setDoc(patientRef, { [fieldName]: value }, { merge: true }); } catch (err) { console.error(`Error updating ${fieldName}:`, err); setAppError(`Fehler beim Speichern von ${fieldName}.`); } };\n    const handleTherapeutischeAssistenzAnfordern = async () => {\n        if (!selectedPatient) { setAssistenzError(\"Bitte wählen Sie zuerst einen Patienten aus.\"); return; }\n        setIsLoadingTherapeutischeAssistenz(true); setTherapeutischeAssistenzOutput(\"\"); setAssistenzError(null);\n        const conductedHours = getHighestSessionNumber(selectedPatient.sessions);\n        const patientenDatenText = `Hier sind die relevanten Patientendaten:\\n**Krankheitsanamnese:**\\n${selectedPatient.krankheitsanamnese || \"Keine Angaben.\"}\\n**Lebensgeschichte/Biografie:**\\n${selectedPatient.lebensgeschichte || \"Keine Angaben.\"}\\n**Problemanalyse auf Makroebene:**\\n${selectedPatient.problemanalyseMakro || \"Keine Angaben.\"}\\n**Therapieplanung (bisherig):**\\n${selectedPatient.therapieplan || \"Keine Angaben.\"}\\n**Verlaufsdokumentation (Sitzungsnotizen):**\\n${(selectedPatient.sessions || []).map((s, i) => `Sitzung ${s.structuredNotes?.sitzungsnummer || i + 1} (${new Date(s.date).toLocaleDateString('de-DE')}): ${s.structuredNotes?.patientenbericht || s.notes}`).join(\"\\n\\n\") || \"Keine Sitzungsnotizen vorhanden.\"}\\n**Diagnosen:**\\n${(selectedPatient.diagnoses || []).join(\", \") || \"Keine Diagnosen erfasst.\"}\\n**Genehmigte Stunden:** ${selectedPatient.approvedHours}\\n**Durchgeführte Stunden:** ${conductedHours}`;\n        const systemPrompt = `Du bist ein interdisziplinäres Expertenteam, bestehend aus erfahrenen Verhaltenstherapeuten wie Jürgen Margraf, Dr. Stavemann, Aaron T. Beck, Judith Beck und Jonathan S. Abramowitz sowie aus leitenden Chefärzten und Psychiatern wie Prof. Dr. Mathias Berger. Das Team verfügt über exzellente Fachkompetenz in der evidenzbasierten psychotherapeutischen Praxis und legt besonderen Wert auf präzise medizinische Dokumentation sowie therapeutische Qualität. Darüber hinaus gehören auch international anerkannte Experten wie David H. Barlow, Stefan G. Hofmann und Steven Hayes zum Team. Du verfügst über tiefgehendes Wissen in Ansätzen der sogenannten „dritten Welle“ der Verhaltenstherapie, insbesondere in ACT, Schematherapie und DBT.\\nDeine Aufgabe ist es, auf Grundlage folgender Elemente, welche du aus den bereitgestellten Patientendaten entnimmst:\\n- Krankheitsanamnese, Lebensgeschichte/Biografie, Problemanalyse auf Makroebene, Therapieplanung (bisherig), Verlaufsdokumentation (Sitzungsnotizen)\\neine strukturierte Rückmeldung zu geben mit dem Ziel:\\n1. Wesentliche Schwerpunkte in der weiteren Therapieplanung zu identifizieren.\\n2. Konkrete Interventionsideen zu formulieren, orientiert an den zugelassenen Stunden.\\n3. Hinweise zu geben, worauf in der Strukturierung der Sitzungen geachtet werden sollte (z.B. Themenfokus, Symptomschwere, Therapiezielorientierung).\\nBerücksichtige dabei:\\n• Die begrenzte Anzahl genehmigter Stunden. • Dass Themen nicht zu häufig gewechselt werden sollen. • Die Konsistenz und Nachvollziehbarkeit im Verlauf.\\nBitte plane deine Analyse gründlich und reflektiert. Handle in Etappen:\\n1. Diagnostische Schwerpunkte benennen, 2. Therapieziele definieren, 3. Interventionsvorschläge machen, 4. Hinweise zur Dokumentation geben\\nAtme einmal tief ein und aus und nehme dir Zeit für die Aufgabe. Mache bitte weiter, bis das Problem vollständig gelöst ist. Planen bitte ausführlich vor jeder Aktion.\\nHier sind die Daten des aktuellen Falls:\\n${patientenDatenText}\\nBitte gib deine strukturierte Rückmeldung.`;\n        try { const assistenz = await generateGeminiText(systemPrompt); setTherapeutischeAssistenzOutput(assistenz); } catch (e) { setAssistenzError(`Fehler bei der Anforderung der therapeutischen Assistenz: ${e.message}`); } finally { setIsLoadingTherapeutischeAssistenz(false); }\n    };\n    const showDiagnosisInfo = (diagnosisString) => { const sicherheitMatch = diagnosisString.match(/^\\[([AVGZN]+)\\]\\s*/i); const sicherheit = sicherheitMatch ? sicherheitMatch[1].toUpperCase() : ''; const codeAndName = sicherheitMatch ? diagnosisString.substring(sicherheitMatch[0].length) : diagnosisString; const codeMatch = codeAndName.match(/^([A-Z][0-9]{1,2}(\\.[0-9A-Z]{1,2})?[*†]?)/i); const code = codeMatch ? codeMatch[0].toUpperCase() : codeAndName.split(':')[0].trim().toUpperCase(); const localData = findIcd10CodeLocal(code); if (localData) { setDiagnosisInfo({ code: localData.code || code, name: localData.name || '', beschreibung: localData.beschreibung || localData.beschreibung_kategorie || '', inkl: localData.inkl || [], exkl: localData.exkl || [], hinweise: localData.hinweise || [], zusatz_info_code: localData.zusatz_info_code || '', sicherheit: sicherheit, isLoading: false, error: null, isOpen: true, source: 'local' }); } else { setDiagnosisInfo({ code: code, name: \"Unbekannter ICD-10 Code\", isLoading: false, error: `Für den ICD-10 Code \"${code}\" wurden keine Informationen in der lokalen Datenbank gefunden.`, isOpen: true, source: 'error' }); } };\n    const fetchIcd11Details = async (diagnosis) => { if (!diagnosis || !diagnosis.uri) { setAppError(\"Keine gültige URI für die ICD-11 Diagnose vorhanden.\"); return; } const { code, title, uri } = diagnosis; setDiagnosisInfo({ code: code, name: title, isLoading: true, error: null, isOpen: true, source: 'api' }); try { const response = await fetch(`http://localhost:3001/api/icd11-info?uri=${encodeURIComponent(uri)}`); if (!response.ok) { const errorData = await response.json(); throw new Error(errorData.message || 'API-Anfrage fehlgeschlagen'); } const fullData = await response.json(); setDiagnosisInfo({ code: fullData.code || code, name: fullData.title?.['@value'] || title, beschreibung: fullData.definition?.['@value'] || '', diagnosticCriteria: fullData.diagnosticCriteria, inclusions: fullData.inclusion, exclusions: fullData.exclusion, isLoading: false, error: null, isOpen: true, source: 'api_detail' }); } catch (error) { console.error('Fehler beim Abrufen der ICD-11 Details:', error); setDiagnosisInfo({ code: code, isLoading: false, error: `Konnte Informationen für ${code} nicht laden: ${error.message}`, isOpen: true, source: 'api' }); } };\n    const handleAssignIcd11Diagnosis = async (patientId, icd11Entity) => { if (!patientId || !icd11Entity || !userId) return; const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return; const patientRef = doc(db, collectionPath, patientId); const targetPatient = patients.find(p => p.id === patientId); if (!targetPatient) { setAppError(\"Ziel-Patient konnte nicht gefunden werden.\"); return; } const newDiagnosis = { code: icd11Entity.code, title: icd11Entity.selectedText, uri: icd11Entity.linearizationUri || icd11Entity.foundationUri, date: new Date().toISOString() }; const updatedDiagnoses = [...(targetPatient.diagnoses_icd11 || []), newDiagnosis]; try { await setDoc(patientRef, { diagnoses_icd11: updatedDiagnoses }, { merge: true }); } catch (err) { console.error(\"Error assigning ICD-11 diagnosis:\", err); setAppError(\"Fehler beim Zuweisen der ICD-11 Diagnose.\"); } };\n    const handleRemoveIcd11Diagnosis = async (diagnosisToRemove) => { if (!selectedPatient || !userId) return; const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return; const updatedDiagnoses = selectedPatient.diagnoses_icd11.filter(d => d.date !== diagnosisToRemove.date); const patientRef = doc(db, collectionPath, selectedPatient.id); try { await setDoc(patientRef, { diagnoses_icd11: updatedDiagnoses }, { merge: true }); } catch (err) { console.error(\"Error removing ICD-11 diagnosis:\", err); setAppError(\"Fehler beim Entfernen der ICD-11 Diagnose.\"); } };\n    const handleAcceptImprovement = async () => { if (improvementState.sessionIndex === null || !selectedPatient || !userId) return; const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return; const updatedSessions = JSON.parse(JSON.stringify(selectedPatient.sessions)); updatedSessions[improvementState.sessionIndex].notes = improvementState.improvedText; const patientRef = doc(db, collectionPath, selectedPatient.id); try { await setDoc(patientRef, { sessions: updatedSessions }, { merge: true }); setImprovementState({ isOpen: false, isLoading: false, originalText: '', improvedText: '', sessionIndex: null, error: null }); } catch (err) { console.error(\"Error updating session note:\", err); setAppError(\"Fehler beim Aktualisieren der Sitzungsnotiz.\"); } };\n    const handleFileUpload = (event) => { const files = Array.from(event.target.files); const newFiles = files.map(file => ({ name: file.name, size: file.size, type: file.type, lastModified: file.lastModifiedDate.toLocaleDateString('de-DE') })); setUploadedFiles(prev => [...prev, ...newFiles]); console.log(\"Dateien zum Hochladen ausgewählt:\", newFiles); setAppError(\"Datei-Upload ist nur eine Demo. Die Dateien werden nicht permanent gespeichert.\"); };\n    const handleRemoveFile = (fileName) => { setUploadedFiles(prev => prev.filter(f => f.name !== fileName)); };\n    const handleSaveProfile = async (profileData) => { if (!userId) { setAppError(\"Benutzer nicht authentifiziert.\"); return; } const profileDocRef = doc(db, getProfileDocPath()); try { await setDoc(profileDocRef, profileData, { merge: true }); alert(\"Profil erfolgreich gespeichert!\"); } catch (err) { console.error(\"Error saving profile:\", err); setAppError(`Fehler beim Speichern des Profils: ${err.message}`); } };\n    const handleUploadFile = async (file, path) => { if (!userId) throw new Error(\"Benutzer nicht authentifiziert.\"); setIsUploading(true); const storageRef = ref(storage, `users/${userId}/${path}/${file.name}`); try { const snapshot = await uploadBytes(storageRef, file); const downloadURL = await getDownloadURL(snapshot.ref); return downloadURL; } catch (error) { console.error(\"Upload failed\", error); throw error; } finally { setIsUploading(false); } };\n    \n    const inputStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-teal-500 focus:border-teal-500 sm:text-sm\";\n    const btnPrimary = \"bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm flex items-center justify-center transition-colors\";\n    const btnDanger = \"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md flex items-center transition-colors\";\n    const btnInfo = \"bg-sky-500 hover:bg-sky-600 text-white font-semibold py-1 px-2 text-xs rounded-md flex items-center transition-colors\";\n    const textareaStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-teal-500 focus:border-teal-500 sm:text-sm min-h-[150px]\";\n\n    if (!isAuthReady) return <div className=\"flex justify-center items-center h-screen text-xl font-semibold text-gray-600 bg-slate-100\">Authentifizierung wird initialisiert...</div>;\n    if (!userId) { return ( <div className=\"min-h-screen bg-slate-100 flex flex-col justify-center items-center p-4\"> <div className=\"bg-white p-8 rounded-lg shadow-md w-full max-w-md border border-gray-200\"> <h1 className=\"text-2xl font-bold text-center text-gray-800 mb-8\">{isLoginView ? \"Login Patientenverwaltung\" : \"Registrierung\"}</h1> {authError && <p className=\"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-sm\">{authError}</p>} <form onSubmit={(e) => { e.preventDefault(); handleAuthAction(!isLoginView); }} className=\"space-y-6\"> <div><label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">E-Mail Adresse</label><input type=\"email\" name=\"email\" id=\"email\" required value={email} onChange={(e) => setEmail(e.target.value)} className={inputStd} /></div> <div><label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">Passwort</label><input type=\"password\" name=\"password\" id=\"password\" required value={password} onChange={(e) => setPassword(e.target.value)} className={inputStd} /></div> <button type=\"submit\" disabled={isAuthLoading} className={`${btnPrimary} w-full py-2.5 text-base ${isAuthLoading ? 'opacity-50 cursor-not-allowed' : ''}`}>{isAuthLoading ? (isLoginView ? \"Anmelden...\" : \"Registrieren...\") : (isLoginView ? \"Anmelden\" : \"Registrieren\")}</button> </form> <button onClick={() => { setIsLoginView(!isLoginView); setAuthError(null); }} className=\"mt-6 text-sm text-teal-600 hover:text-teal-500 text-center w-full\">{isLoginView ? \"Noch kein Konto? Jetzt registrieren.\" : \"Bereits registriert? Zum Login.\"}</button> </div> </div> ); }\n    \n    const Sidebar = ({ currentView, setView }) => {\n        const navItems = [\n            { id: 'profile', label: 'Profil', icon: <SettingsIcon />, type: 'item' },\n            { id: 'kalender', label: 'Kalender', icon: <CalendarIcon />, type: 'item' },\n            { type: 'heading', label: 'Patienten' },\n            { id: 'patients', label: 'Patientenübersicht', icon: <Users />, type: 'item' },\n            { id: 'patientenakte', label: 'Patientenakte', icon: <FileText />, type: 'item' },\n            { type: 'heading', label: 'Verwaltung' },\n            { id: 'abrechnung', label: 'Abrechnung', icon: <DollarSignIcon />, type: 'item' },\n            { id: 'formulare', label: 'Formulare', icon: <PaperclipIcon />, type: 'item' },\n            { type: 'heading', label: 'Nachschlagewerke' },\n            { id: 'ebm', label: 'EBM', icon: <List />, type: 'item' },\n            { id: 'icd11', label: 'ICD-11', icon: <BookOpen />, type: 'item' },\n        ];\n        \n        return (\n            <aside className=\"w-64 bg-slate-100 border-r border-slate-200 flex flex-col\">\n                <div className=\"p-4 border-b border-slate-200\"><h1 className=\"text-xl font-bold text-teal-700 tracking-tight\">Therapie-Dashboard</h1></div>\n                <nav className=\"flex-1 p-4 space-y-1\">\n                    {navItems.map((item, index) =>\n                        item.type === 'heading' ? (\n                            <h3 key={`heading-${index}`} className=\"px-3 pt-4 pb-1 text-xs font-semibold text-gray-500 uppercase tracking-wider\">{item.label}</h3>\n                        ) : (\n                        <button key={item.id} onClick={() => { setView(item.id); setSelectedPatient(null); setSelectedId(null); }} className={`w-full flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${ currentView === item.id ? 'bg-teal-100 text-teal-800' : 'text-slate-700 hover:bg-slate-200' }`}>\n                            {item.icon}\n                            <span>{item.label}</span>\n                        </button>\n                    ))}\n                </nav>\n                 <div className=\"p-4 border-t border-slate-200\"><p className=\"text-xs text-slate-500\">UserID: {userId}</p></div>\n            </aside>\n        );\n    };\n\n    const PatientDetailHeader = ({ patient, onDeselect }) => {\n        const therapyStartDate = useMemo(() => { if (!patient || !patient.sessions) return \"-\"; const firstSession = patient.sessions.filter(s => s.structuredNotes?.sitzungsnummer === 1).sort((a,b) => new Date(a.date) - new Date(b.date))[0]; return firstSession ? new Date(firstSession.date).toLocaleDateString('de-DE') : '-'; }, [patient]);\n        const conductedHours = useMemo(() => getHighestSessionNumber(patient?.sessions), [patient]);\n        return ( <> <div className=\"flex justify-between items-start mb-1\"> <h3 className=\"text-2xl font-semibold text-gray-800\">{patient.vorname} {patient.name}</h3> <button onClick={onDeselect} className=\"text-gray-400 hover:text-gray-600\"><XCircle /></button> </div> <div className=\"mb-4 text-sm text-gray-500 grid grid-cols-2 md:grid-cols-4 gap-x-4 gap-y-1\"> <span><strong className=\"font-semibold\">Kasse:</strong> {patient.krankenkasse || '-'}</span> <span><strong className=\"font-semibold\">Vers.-Nr.:</strong> {patient.versichertennummer || '-'}</span> <span><strong className=\"font-semibold\">Therapiebeginn:</strong> {therapyStartDate}</span> <span><strong className=\"font-semibold\">Stunden:</strong> {conductedHours} / {patient.approvedHours}</span> </div> </> );\n    };\n    \n    return (\n        <div className=\"h-screen w-full bg-slate-50 font-sans flex overflow-hidden\">\n            <Sidebar currentView={mainView} setView={setMainView} />\n            <div className=\"flex-1 flex flex-col\">\n                <header className=\"bg-white border-b border-slate-200\"><div className=\"mx-auto px-6 py-3 flex justify-between items-center\"><h2 className=\"text-xl font-semibold text-gray-800 capitalize\">{mainView.replace('patientenakte', 'Patientenakte')}</h2><button onClick={handleLogout} className=\"text-gray-500 hover:text-red-600 hover:bg-red-50 p-2 rounded-md text-sm flex items-center transition-colors\"><LogOut className=\"mr-2 h-4 w-4\" /> Logout</button></div></header>\n                <main className=\"flex-1 overflow-y-auto p-6 relative\">\n                    <ConfirmationModal isOpen={confirmDeleteState.isOpen} onClose={() => setConfirmDeleteState({ isOpen: false })} onConfirm={confirmDeleteState.onConfirm} title={confirmDeleteState.title} message={confirmDeleteState.message} />\n                    <Modal isOpen={isPatientModalOpen} onClose={() => setIsPatientModalOpen(false)} title={editingPatient ? \"Patient bearbeiten\" : \"Neuen Patienten anlegen\"}><PatientForm patient={editingPatient} onSave={handleSavePatient} onCancel={() => setIsPatientModalOpen(false)} /></Modal>\n                    \n                    {mainView === 'profile' && (<Profile initialProfile={profile} onSave={handleSaveProfile} onUploadFile={handleUploadFile} isUploading={isUploading} />)}\n                    {mainView === 'abrechnung' && (<Billing unbilledAppointments={unbilledAppointments} isLoading={isLoadingAppointments} onStartBilling={handleStartBilling} onStartManualBilling={() => setIsManualBillingSetupOpen(true)} />)}\n                    \n                    {mainView === 'patients' && (\n                        <div>\n                            <div className=\"mb-4 flex justify-between items-center\">\n                                <h3 className=\"text-2xl font-semibold text-gray-800\">Patientenübersicht</h3>\n                                <button onClick={() => { setEditingPatient(null); setIsPatientModalOpen(true); }} className={btnPrimary}>\n                                    <UserPlus className=\"w-5 h-5 mr-2\" /> Patient hinzufügen\n                                </button>\n                            </div>\n                            <div className=\"bg-gray-200 p-4 rounded-lg shadow-inner h-[calc(100vh-200px)] overflow-y-auto\">\n                                <div className=\"relative\">\n                                     {isLoading && <p className=\"text-center py-10 text-gray-500\">Lade Patienten...</p>}\n                                     {!isLoading && sortedPatients.map((patient) => (\n                                        <motion.div\n                                            key={patient.id}\n                                            layoutId={patient.id}\n                                            onClick={() => setSelectedId(patient.id)}\n                                            className=\"relative h-12 group cursor-pointer\"\n                                            style={{ zIndex: selectedId === patient.id ? 100 : sortedPatients.length - sortedPatients.indexOf(patient) }}\n                                        >\n                                            <div \n                                                className=\"absolute top-0 left-4 w-64 h-12 bg-yellow-200 border-t-2 border-yellow-400 rounded-t-lg shadow-sm flex items-center px-4 transition-transform duration-200 ease-out group-hover:-translate-y-1\"\n                                            >\n                                                <span className=\"font-bold text-sm text-yellow-800 truncate\">{patient.name}, {patient.vorname}</span>\n                                            </div>\n                                        </motion.div>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n                    )}\n\n                    <AnimatePresence>\n                        {selectedId && selectedPatientData && (\n                            <motion.div\n                                className=\"fixed inset-0 bg-black/50 z-[100] flex items-center justify-center\"\n                                onClick={() => setSelectedId(null)}\n                                initial={{ opacity: 0 }}\n                                animate={{ opacity: 1 }}\n                                exit={{ opacity: 0 }}\n                            >\n                                <motion.div\n                                    layoutId={selectedId}\n                                    className=\"w-[800px] max-w-[90vw] h-[600px] max-h-[80vh] bg-white rounded-lg shadow-2xl flex flex-col overflow-hidden\"\n                                    onClick={(e) => e.stopPropagation()}\n                                    transition={{ type: 'spring', stiffness: 200, damping: 25 }}\n                                >\n                                    <motion.div\n                                        className=\"p-6 border-b flex justify-between items-start\"\n                                        initial={{ opacity: 0, y: -20 }}\n                                        animate={{ opacity: 1, y: 0, transition: { delay: 0.2 } }}\n                                        exit={{opacity: 0}}\n                                    >\n                                        <div>\n                                            <h3 className=\"text-2xl font-semibold text-gray-800\">{selectedPatientData.vorname} {selectedPatientData.name}</h3>\n                                            <p className=\"text-sm text-gray-500 font-mono\">{selectedPatientData.chiffre}</p>\n                                        </div>\n                                        <button onClick={() => setSelectedId(null)} className=\"text-gray-400 hover:text-gray-600\"><XCircle /></button>\n                                    </motion.div>\n                                    <motion.div \n                                        className=\"flex-1 p-6 overflow-y-auto\"\n                                        initial={{ opacity: 0 }}\n                                        animate={{ opacity: 1, transition: { delay: 0.3 } }}\n                                        exit={{opacity: 0}}\n                                    >\n                                        <div className=\"grid grid-cols-2 gap-x-6 gap-y-4 text-sm\">\n                                            <div><p className=\"font-semibold text-gray-500\">Geburtsdatum</p><p>{new Date(selectedPatientData.geburtsdatum).toLocaleDateString('de-DE')}</p></div>\n                                            <div><p className=\"font-semibold text-gray-500\">Alter</p><p>{calculateAge(selectedPatientData.geburtsdatum)}</p></div>\n                                            <div><p className=\"font-semibold text-gray-500\">Krankenkasse</p><p>{selectedPatientData.krankenkasse || '-'}</p></div>\n                                            <div><p className=\"font-semibold text-gray-500\">Versichertennummer</p><p>{selectedPatientData.versichertennummer || '-'}</p></div>\n                                            <div className=\"col-span-2\"><p className=\"font-semibold text-gray-500\">Hauptdiagnose</p><p>{(selectedPatientData.diagnoses && selectedPatientData.diagnoses[0]) || 'Keine erfasst'}</p></div>\n                                        </div>\n                                    </motion.div>\n                                    <motion.div \n                                        className=\"p-4 bg-gray-50 border-t text-right\"\n                                        initial={{ opacity: 0, y: 20 }}\n                                        animate={{ opacity: 1, y: 0, transition: { delay: 0.4 } }}\n                                        exit={{opacity: 0}}\n                                    >\n                                        <button onClick={() => { setSelectedPatient(selectedPatientData); setMainView('patientenakte'); setSelectedId(null); }} className=\"bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm\">\n                                            Zur vollständigen Akte\n                                        </button>\n                                    </motion.div>\n                                </motion.div>\n                            </motion.div>\n                        )}\n                    </AnimatePresence>\n\n\n                    {mainView === 'patientenakte' && (\n                         <div className=\"w-full max-w-5xl mx-auto\">\n                            {!selectedPatient ? (\n                                <div className=\"text-center py-20\">\n                                    <p className=\"text-gray-500\">Bitte wählen Sie einen Patienten aus der Übersicht aus.</p>\n                                </div>\n                            ) : (\n                                <div ref={detailViewRef} className=\"bg-white border border-gray-200 shadow-sm rounded-lg p-6\">\n                                    <PatientDetailHeader patient={selectedPatient} onDeselect={() => { setMainView('patients'); setSelectedPatient(null); }} />\n                                    <div className=\"border-b border-gray-200 mb-6\"><nav className=\"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto\" aria-label=\"Tabs\">{['Übersicht', 'Diagnosen', 'Abrechnung', 'Krankheitsmodell', 'Diagnostik', 'Assistenz'].map(tab => (<button key={tab} onClick={() => setActiveDetailTab(tab.toLowerCase())} className={`capitalize whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${activeDetailTab === tab.toLowerCase() ? 'border-teal-500 text-teal-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`}>{tab}</button>))}</nav></div>\n                                    {activeDetailTab === 'übersicht' && ( <div className=\"space-y-6\"><div className=\"col-span-1 md:col-span-2 p-3 bg-teal-50 border border-teal-200 rounded-lg\">{nextAppointment.isLoading && <p className=\"text-sm text-teal-700\">Lade nächsten Termin...</p>}{nextAppointment.error && <p className=\"text-sm text-red-600\">{nextAppointment.error}</p>}{nextAppointment.text && <p className=\"text-sm font-semibold text-teal-800\">{nextAppointment.text}</p>}</div><div><h4 className=\"text-lg font-semibold text-gray-700 mb-3 border-b pb-2\">Stammdaten</h4><div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 mt-3 text-sm\"><div><p className=\"font-semibold text-gray-500\">Nachname</p><p>{selectedPatient.name}</p></div><div><p className=\"font-semibold text-gray-500\">Vorname</p><p>{selectedPatient.vorname}</p></div><div><p className=\"font-semibold text-gray-500\">Geburtsdatum</p><p>{new Date(selectedPatient.geburtsdatum).toLocaleDateString('de-DE')}</p></div><div><p className=\"font-semibold text-gray-500\">Alter</p><p>{calculateAge(selectedPatient.geburtsdatum)}</p></div><div><p className=\"font-semibold text-gray-500\">E-Mail</p><p>{selectedPatient.email || '-'}</p></div><div><p className=\"font-semibold text-gray-500\">Telefon</p><p>{selectedPatient.telefon || '-'}</p></div><div className=\"col-span-2 md:col-span-3\"><p className=\"font-semibold text-gray-500\">Adresse</p><p>{selectedPatient.adresse || '-'}</p></div></div></div><div><h4 className=\"text-lg font-semibold text-gray-700 mb-3 border-b pb-2\">Letzte Hausaufgabe</h4><div className=\"p-3 bg-gray-50 rounded-lg text-sm space-y-3\">{(selectedPatient.sessions?.[0]?.homeworkStatus && selectedPatient.sessions[0].homeworkStatus.length > 0) ? (selectedPatient.sessions[0].homeworkStatus.map((task, index) => (<div key={index} className=\"flex items-center gap-4\"><input type=\"checkbox\" className=\"h-5 w-5 rounded border-gray-300 text-teal-600 focus:ring-teal-500\" checked={task.done} onChange={(e) => handleUpdateHomeworkStatus(selectedPatient.sessions[0].date, index, { done: e.target.checked })} /><span className={`flex-grow ${task.done ? 'text-gray-500 line-through' : 'text-gray-800'}`}>{task.text}</span>{!task.done && (<select className=\"text-xs border-gray-300 rounded-md shadow-sm focus:border-teal-300 focus:ring focus:ring-teal-200 focus:ring-opacity-50\" value={task.reason || ''} onChange={(e) => handleUpdateHomeworkStatus(selectedPatient.sessions[0].date, index, { reason: e.target.value })}><option value=\"\">Grund wählen...</option>{Object.entries(homeworkFailureReasons).map(([category, reasons]) => (<optgroup label={category} key={category}>{reasons.map(reason => <option key={reason} value={reason}>{reason}</option>)}</optgroup>))}</select>)}</div>))) : (<p className=\"text-gray-500\">Keine Hausaufgabe für die letzte Sitzung erfasst.</p>)}</div></div></div> )}\n                                    {activeDetailTab === 'diagnosen' && (<div><div className=\"mb-6\"><h4 className=\"text-xl font-semibold text-gray-700 mb-3\">ICD-10 F-Diagnosen</h4><div className=\"mb-3 p-4 bg-gray-50 rounded-md border\"><div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\"><div><label htmlFor=\"newDiagnosisCode\" className=\"block text-xs font-medium text-gray-700\">Code (z.B. F32.2)</label><input type=\"text\" id=\"newDiagnosisCode\" value={newDiagnosisCode} onChange={(e) => setNewDiagnosisCode(e.target.value.toUpperCase())} placeholder=\"F-Code\" className={`${inputStd} mt-1`} /></div><div><label htmlFor=\"newDiagnosisSicherheit\" className=\"block text-xs font-medium text-gray-700\">Sicherheit</label><select id=\"newDiagnosisSicherheit\" value={newDiagnosisSicherheit} onChange={(e) => setNewDiagnosisSicherheit(e.target.value)} className={`${inputStd} mt-1`}><option value=\"G\">G (Gesichert)</option><option value=\"V\">V (Verdacht auf)</option><option value=\"A\">A (Ausschluss)</option><option value=\"ZN\">ZN (Zustand nach)</option></select></div><div className=\"md:col-span-1\"><label htmlFor=\"newDiagnosisName\" className=\"block text-xs font-medium text-gray-700\">Manuelle Beschreibung (optional)</label><input type=\"text\" id=\"newDiagnosisName\" value={newDiagnosis} onChange={(e) => setNewDiagnosis(e.target.value)} placeholder=\"Eigene Beschreibung\" className={`${inputStd} mt-1`} /></div><button onClick={handleAddDiagnosis} className={`${btnPrimary} bg-green-500 hover:bg-green-600 py-2 px-3 h-10 md:self-end`}><PlusCircleIcon className=\"w-5 h-5 mr-1\" /> Hinzufügen</button></div>{lookedUpDiagnosisName && <p className=\"text-xs text-teal-600 mt-1\">Gefunden: {lookedUpDiagnosisName}</p>}</div><ul className=\"space-y-1 mb-3\">{(selectedPatient.diagnoses || []).map((diagString, index) => (<li key={index} className=\"flex justify-between items-center bg-gray-50 p-2 rounded-md\"><span className=\"text-sm text-gray-700\">{diagString}</span><div className=\"flex items-center space-x-2\"><button onClick={() => showDiagnosisInfo(diagString)} className={`${btnInfo} p-1`} title=\"Info zu dieser Diagnose abrufen\"><FileJson2 className=\"w-4 h-4 mr-1\" /> Info</button><button onClick={() => handleRemoveDiagnosis(diagString)} className={`${btnDanger} p-1 text-xs`}><Trash2 className=\"w-4 h-4\" /></button></div></li>))}{(selectedPatient.diagnoses || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine Diagnosen erfasst.</p>}</ul></div><div className=\"mb-6\"><h4 className=\"text-xl font-semibold text-gray-700 mb-3\">ICD-11 Diagnosen</h4><ul className=\"space-y-1\">{(selectedPatient.diagnoses_icd11 || []).map((diag, index) => (<li key={index} className=\"flex justify-between items-center bg-purple-50 p-2 rounded-md hover:bg-purple-100 cursor-pointer\" onClick={() => fetchIcd11Details(diag)}><span className=\"text-sm text-purple-800\"><strong className=\"font-mono\">{diag.code}</strong> - {diag.title}</span><button onClick={(e) => { e.stopPropagation(); handleRemoveIcd11Diagnosis(diag); }} className=\"text-red-500 hover:text-red-700 p-1 text-xs\" title=\"ICD-11 Diagnose entfernen\"><Trash2 className=\"w-4 h-4\" /></button></li>))}{(selectedPatient.diagnoses_icd11 || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine ICD-11 Diagnosen erfasst.</p>}</ul></div></div>)}\n                                    {activeDetailTab === 'abrechnung' && (<AbrechnungsUebersicht patient={selectedPatient} ebmData={ebmData} onEditSession={handleEditSession} onDeleteSession={handleDeleteSession} />)}\n                                    {activeDetailTab === 'krankheitsmodell' && (<div className=\"space-y-6\"><div><label htmlFor=\"krankheitsanamnese\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Krankheitsanamnese</label><textarea id=\"krankheitsanamnese\" name=\"krankheitsanamnese\" rows=\"6\" className={textareaStd} value={editableKrankheitsanamnese} onChange={(e) => setEditableKrankheitsanamnese(e.target.value)} onBlur={(e) => handleKrankheitsmodellChange('krankheitsanamnese', e.target.value)} placeholder=\"Hier die Krankheitsanamnese eintragen...\"></textarea></div><div><label htmlFor=\"lebensgeschichte\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Lebensgeschichte / Biographie</label><textarea id=\"lebensgeschichte\" name=\"lebensgeschichte\" rows=\"6\" className={textareaStd} value={editableLebensgeschichte} onChange={(e) => setEditableLebensgeschichte(e.target.value)} onBlur={(e) => handleKrankheitsmodellChange('lebensgeschichte', e.target.value)} placeholder=\"Wichtige Aspekte der Lebensgeschichte...\"></textarea></div><div><label htmlFor=\"problemanalyseMakro\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Problemanalyse auf Makroebene</label><textarea id=\"problemanalyseMakro\" name=\"problemanalyseMakro\" rows=\"6\" className={textareaStd} value={editableProblemanalyseMakro} onChange={(e) => setEditableProblemanalyseMakro(e.target.value)} onBlur={(e) => handleKrankheitsmodellChange('problemanalyseMakro', e.target.value)} placeholder=\"Analyse der übergeordneten Problembereiche...\"></textarea></div><div><label htmlFor=\"therapieplan\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Therapieplan</label><textarea id=\"therapieplan\" name=\"therapieplan\" rows=\"6\" className={textareaStd} value={editableTherapieplan} onChange={(e) => setEditableTherapieplan(e.target.value)} onBlur={(e) => handleKrankheitsmodellChange('therapieplan', e.target.value)} placeholder=\"Therapieziele und -maßnahmen...\"></textarea></div></div>)}\n                                    {activeDetailTab === 'diagnostik' && (<div><div className=\"border-b border-gray-200 mb-4\"><nav className=\"-mb-px flex space-x-6\" aria-label=\"Diagnostik Sub-Tabs\"><button onClick={() => setActiveDiagnostikSubTab('overview')} className={`whitespace-nowrap pb-2 px-1 border-b-2 font-medium text-sm ${activeDiagnostikSubTab === 'overview' ? 'border-purple-500 text-purple-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`}>Übersicht</button>{availableTests.map(test => ((selectedPatient[`${test.id}Results`]?.length > 0) && <button key={test.id} onClick={() => setActiveDiagnostikSubTab(test.id)} className={`whitespace-nowrap pb-2 px-1 border-b-2 font-medium text-sm ${activeDiagnostikSubTab === test.id ? 'border-purple-500 text-purple-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`}>{test.id.toUpperCase()}</button>))}</nav></div>\n                                    {activeDiagnostikSubTab === 'overview' && (<DiagnostikUebersicht patient={selectedPatient} availableTests={availableTests} onAddTest={(test) => { setCurrentTestToAdd(test); setIsAddTestModalOpen(true); }} onShowTestDetails={(testId) => setActiveDiagnostikSubTab(testId)} onStartRetroBilling={handleStartRetroBilling} diagnostikAnalysis={diagnostikAnalysis} />)}\n                                    {activeDiagnostikSubTab === 'scl90r' && <SCL90RComponent patient={selectedPatient} onAddResult={handleAddScl90rResult} onDeleteResult={handleRemoveScl90rResult} />}\n                                    {activeDiagnostikSubTab === 'fep2' && <FEP2Component patient={selectedPatient} onAddResult={handleAddFepResult} onDeleteResult={handleRemoveFepResult} />}\n                                    {activeDiagnostikSubTab === 'bdi2' && <BDI2Component patient={selectedPatient} onAddResult={handleAddBdiResult} onDeleteResult={handleRemoveBdiResult} bdiCutoffs={bdiCutoffs} bdiAxisTicks={bdiAxisTicks} CustomBdiLabel={CustomBdiLabel} />}\n                                    {activeDiagnostikSubTab === 'hscl11' && <HSCL11Component patient={selectedPatient} onAddResult={handleAddHsclResult} onDeleteResult={handleRemoveHsclResult} />}</div>)}\n                                    {activeDetailTab === 'assistenz' && (<div><h3 className=\"text-xl font-semibold text-gray-700 mb-4\">Therapeutische Assistenz</h3><button onClick={handleTherapeutischeAssistenzAnfordern} disabled={isLoadingTherapeutischeAssistenz} className={`${btnPrimary} bg-purple-600 hover:bg-purple-700 mb-4 flex items-center`}><WandSparkles className=\"mr-2 h-5 w-5\" />{isLoadingTherapeutischeAssistenz ? \"Analysiere Daten...\" : \"Expertenfeedback anfordern\"}</button>{isLoadingTherapeutischeAssistenz && (<div className=\"text-center py-10\"><div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-700 mx-auto\"></div><p className=\"mt-3 text-gray-600\">Bitte warten, die KI analysiert die Patientendaten...</p></div>)}{assistenzError && (<div className=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4\" role=\"alert\"><p className=\"font-bold\">Fehler bei der Assistenz</p><p>{assistenzError}</p></div>)}{therapeutischeAssistenzOutput && !isLoadingTherapeutischeAssistenz && (<div className=\"mt-4 p-4 bg-gray-50 rounded-md border\"><h4 className=\"text-lg font-semibold text-gray-800 mb-2\">Vorschläge des Expertenteams:</h4><div className=\"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed\">{therapeutischeAssistenzOutput}</div></div>)}</div>)}\n                                </div>\n                            )}\n                        </div>\n                    )}\n                    {mainView === 'kalender' && ( \n                        <div>\n                            <h3 className=\"text-2xl font-semibold text-gray-800 mb-4\">Terminkalender</h3>\n                            <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4 relative min-h-[600px]\">\n                                {isCalendarLoading && (\n                                    <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-slate-50 z-10\">\n                                        <dotlottie-player \n                                            src=\"https://lottie.host/5a99e4b7-42e6-47ae-9706-1e931f930492/HSS5faWD7S.lottie\" \n                                            background=\"transparent\" \n                                            speed=\"1\" \n                                            style={{width: \"300px\", height: \"300px\"}} \n                                            loop \n                                            autoplay>\n                                        </dotlottie-player>\n                                        <p className=\"text-gray-500 -mt-8\">Kalender wird geladen...</p>\n                                    </div>\n                                )}\n                                <iframe \n                                    title=\"Google Calendar\" \n                                    src=\"https://calendar.google.com/calendar/embed?src=julisycomorepsy%40gmail.com&ctz=Europe%2FBerlin\" \n                                    style={{ border: 0 }} \n                                    width=\"100%\" \n                                    height=\"600\" \n                                    frameBorder=\"0\" \n                                    scrolling=\"no\"\n                                    onLoad={() => setIsCalendarLoading(false)}\n                                    className={`transition-opacity duration-500 ${isCalendarLoading ? 'opacity-0' : 'opacity-100'}`}\n                                ></iframe>\n                            </div>\n                        </div> \n                    )}\n                    {mainView === 'formulare' && ( <div><h3 className=\"text-2xl font-semibold text-gray-800 mb-4\">Formular- & Dokumentenverwaltung</h3><div className=\"bg-white p-6 border border-gray-200 rounded-lg shadow-sm\"><label htmlFor=\"file-upload\" className=\"mb-4 block w-full cursor-pointer\"><div className=\"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-teal-400 transition-colors\"><UploadCloudIcon className=\"mx-auto h-12 w-12 text-gray-400\" /><span className=\"mt-2 block text-sm font-medium text-gray-900\">Dateien zum Hochladen auswählen</span><span className=\"mt-1 block text-xs text-gray-500\">PDF, DOCX, etc.</span></div><input id=\"file-upload\" name=\"file-upload\" type=\"file\" className=\"sr-only\" multiple onChange={handleFileUpload} /></label>{uploadedFiles.length > 0 && (<div><h4 className=\"text-lg font-medium text-gray-900 mb-2\">Hochgeladene Dateien</h4><ul className=\"divide-y divide-gray-200 border rounded-lg\">{uploadedFiles.map((file, index) => (<li key={index} className=\"flex items-center justify-between p-3 hover:bg-gray-50\"><div className=\"flex items-center\"><FileIcon className=\"h-6 w-6 text-gray-400 mr-3\"/><div><p className=\"text-sm font-medium text-gray-900\">{file.name}</p><p className=\"text-xs text-gray-500\">{(file.size / 1024).toFixed(2)} KB - Zuletzt geändert: {file.lastModified}</p></div></div><button onClick={() => handleRemoveFile(file.name)} className=\"text-gray-400 hover:text-red-600\"><Trash2 className=\"h-5 w-5\"/></button></li>))}</ul></div>)}</div></div> )}\n                    {mainView === 'ebm' && (<EBMBrowser />)}\n                    {mainView === 'icd11' && (<ICD11ECTBrowser patients={patients} selectedPatient={selectedPatient} onAssignDiagnosis={handleAssignIcd11Diagnosis} />)}\n                </main>\n            </div>\n            {/* MODALS AND GLOBAL ELEMENTS */}\n            <Modal isOpen={diagnosisInfo.isOpen} onClose={() => setDiagnosisInfo(prev => ({ ...prev, isOpen: false }))} title={`Diagnose-Info: ${diagnosisInfo.code || ''}`} size=\"3xl\">{diagnosisInfo.isLoading && (<p className=\"text-center py-4\">Informationen werden geladen...</p>)}{diagnosisInfo.error && (<p className=\"text-red-600 bg-red-100 p-3 rounded-md\">Fehler: {diagnosisInfo.error}</p>)}{!diagnosisInfo.isLoading && diagnosisInfo.source === 'local' && (<div className=\"text-sm text-gray-700 leading-relaxed p-2 space-y-3\"><h3 className=\"text-lg font-semibold text-teal-700\">{diagnosisInfo.name}<span className=\"text-gray-500 text-base ml-2\">({diagnosisInfo.code})</span></h3>{diagnosisInfo.beschreibung && (<div><strong className=\"font-medium text-gray-800 block mb-1\">Beschreibung:</strong><p className=\"whitespace-pre-wrap\">{diagnosisInfo.beschreibung}</p></div>)}{diagnosisInfo.inkl?.length > 0 && (<div><strong className=\"font-medium text-gray-800 block mb-1\">Inklusive:</strong><ul className=\"list-disc list-inside\">{diagnosisInfo.inkl.map((item, idx) => (<li key={idx}>{item}</li>))}</ul></div>)}{diagnosisInfo.exkl?.length > 0 && (<div><strong className=\"font-medium text-gray-800 block mb-1\">Exklusive:</strong><ul className=\"list-disc list-inside\">{diagnosisInfo.exkl.map((item, idx) => (<li key={idx}>{item}</li>))}</ul></div>)}</div>)}{!diagnosisInfo.isLoading && diagnosisInfo.source === 'api_detail' && (<div className=\"text-sm text-gray-700 leading-relaxed p-2 space-y-4\"><h3 className=\"text-lg font-semibold text-purple-700\">{diagnosisInfo.name}<span className=\"text-gray-500 text-base ml-2 font-mono\">({diagnosisInfo.code})</span></h3>{diagnosisInfo.beschreibung && (<div><strong className=\"font-medium text-gray-800 block mb-1\">Beschreibung (Definition):</strong><p className=\"whitespace-pre-wrap bg-gray-50 p-2 rounded-md\">{diagnosisInfo.beschreibung}</p></div>)}{diagnosisInfo.inclusions?.length > 0 && (<div><strong className=\"font-medium text-gray-800 block mb-1\">Inklusive:</strong><ul className=\"list-disc list-inside pl-2 space-y-1\">{diagnosisInfo.inclusions.map((item, idx) => (<li key={idx}>{item.label['@value']}</li>))}</ul></div>)}{diagnosisInfo.exclusions?.length > 0 && (<div><strong className=\"font-medium text-gray-800 block mb-1\">Exklusive:</strong><ul className=\"list-disc list-inside pl-2 space-y-1\">{diagnosisInfo.exclusions.map((item, idx) => (<li key={idx}>{item.label['@value']}{item.foundationReference &&<span className=\"text-xs text-gray-400 ml-2\">({item.linearizationReference.split('/').pop()})</span>}</li>))}</ul></div>)}</div>)}</Modal>\n            <Modal isOpen={improvementState.isOpen} onClose={() => setImprovementState({ ...improvementState, isOpen: false })} title=\"Sitzungsdokumentation verbessern\" size=\"5xl\">{improvementState.error && <p className=\"text-red-500 bg-red-100 p-3 rounded-md mb-4\">{improvementState.error}</p>}<div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"><div><h4 className=\"font-semibold text-lg text-gray-700 mb-2\">Original</h4><pre className=\"text-sm bg-gray-100 p-3 rounded-md whitespace-pre-wrap font-sans h-96 overflow-y-auto border\">{improvementState.originalText}</pre></div><div><h4 className=\"font-semibold text-lg text-gray-700 mb-2\">Vorschlag</h4><pre className=\"text-sm bg-gray-800 text-green-300 font-mono p-3 rounded-md whitespace-pre-wrap h-96 overflow-y-auto\">{improvementState.improvedText}</pre></div></div><div className=\"flex justify-end space-x-4 mt-6\"><button type=\"button\" onClick={() => setImprovementState({ ...improvementState, isOpen: false })} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300\">Abbrechen</button><button onClick={handleAcceptImprovement} className={`${btnPrimary} flex items-center`}><Save className=\"w-4 h-4 mr-2\" /> Original ersetzen</button></div></Modal>\n            {appError && (<div className=\"fixed bottom-4 right-4 p-4 max-w-sm text-sm text-red-700 bg-red-100 border border-red-400 rounded-md shadow-lg z-[100]\">{appError}<button onClick={() => setAppError(null)} className=\"ml-4 mt-2 sm:mt-0 sm:ml-2 px-2 py-1 text-red-900 underline rounded-md hover:bg-red-200 text-xs\">Ok</button></div>)}\n            <AddTestFlowModal isOpen={isAddTestModalOpen} onClose={() => setIsAddTestModalOpen(false)} onSave={handleSaveTestAndResults} testInfo={currentTestToAdd} patient={selectedPatient} />\n            <ManualBillingSetupModal isOpen={isManualBillingSetupOpen} onClose={() => setIsManualBillingSetupOpen(false)} patients={sortedPatients} onStart={handleStartManualBilling} />\n            <BillTestModal isOpen={retroBillingState.isOpen} onClose={() => setRetroBillingState({ isOpen: false, test: null })} onSave={handleSaveRetroactiveBilling} testToBill={retroBillingState.test} patientSessions={selectedPatient?.sessions || []} />\n            {billingModalState.isOpen && (<Modal isOpen={billingModalState.isOpen} onClose={() => setBillingModalState({ isOpen: false, event: null, isEditing: false })} title={billingModalState.isEditing ? \"Sitzung bearbeiten\" : `Termin abrechnen: ${billingModalState.event.summary}`} size=\"4xl\"><BillingModal event={billingModalState.event} ebmData={ebmData} onSave={(data) => handleSaveBilling(data, billingModalState.isEditing)} onClose={() => setBillingModalState({ isOpen: false, event: null, isEditing: false })} generateGeminiText={generateGeminiText} isEditing={billingModalState.isEditing} /></Modal>)}\n        </div>\n    );\n}\n\nconst CustomBdiLabel = (props) => { const { x, y, width, text } = props; if (typeof x !== 'number' || isNaN(x) || typeof y !== 'number' || isNaN(y) || typeof width !== 'number' || isNaN(width) || width <= 0) { return null; } const labelX = x + width / 2; return (<text x={labelX} y={y} fill=\"#666\" textAnchor=\"middle\" dy={-4} fontSize=\"10\">{text}</text>); };\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}