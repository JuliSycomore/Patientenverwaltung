{"ast":null,"code":"var _jsxFileName = \"/Users/julianrogowski/Desktop/patientenverwaltung-app/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n/* global __firebase_config, __app_id, __initial_auth_token, __GEMINI_API_KEY__ */\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken } from 'firebase/auth';\nimport { getFirestore, collection, doc, addDoc, getDocs, setDoc, deleteDoc, onSnapshot, query, writeBatch } from 'firebase/firestore';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, ReferenceArea } from 'recharts';\n\n// Lucide-React Icons (wie zuvor)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserPlus = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 228\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"9\",\n    cy: \"7\",\n    r: \"4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 282\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"19\",\n    x2: \"19\",\n    y1: \"8\",\n    y2: \"14\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 312\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"22\",\n    x2: \"16\",\n    y1: \"11\",\n    y2: \"11\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 351\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 9,\n  columnNumber: 51\n}, this);\n_c = UserPlus;\nconst Edit3 = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 20h9\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 225\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 246\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 10,\n  columnNumber: 48\n}, this);\n_c2 = Edit3;\nconst Trash2 = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"3 6 5 6 21 6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 226\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 260\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"10\",\n    y1: \"11\",\n    x2: \"10\",\n    y2: \"17\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 351\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"14\",\n    y1: \"11\",\n    x2: \"14\",\n    y2: \"17\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 391\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 11,\n  columnNumber: 49\n}, this);\n_c3 = Trash2;\nconst PlusCircle = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 230\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"8\",\n    x2: \"12\",\n    y2: \"16\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 263\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"8\",\n    y1: \"12\",\n    x2: \"16\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 302\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 12,\n  columnNumber: 53\n}, this);\n_c4 = PlusCircle;\nconst XCircle = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 227\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"15\",\n    y1: \"9\",\n    x2: \"9\",\n    y2: \"15\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 267\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"9\",\n    y1: \"9\",\n    x2: \"15\",\n    y2: \"15\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 310\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 13,\n  columnNumber: 50\n}, this);\n_c5 = XCircle;\nconst Save = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 224\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"17 21 17 13 7 13 7 21\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 300\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"7 3 7 8 15 8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 343\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 14,\n  columnNumber: 47\n}, this);\n_c6 = Save;\nconst AlertTriangle = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 233\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"9\",\n    x2: \"12\",\n    y2: \"13\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 339\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"17\",\n    x2: \"12.01\",\n    y2: \"17\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 383\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 15,\n  columnNumber: 56\n}, this);\n_c7 = AlertTriangle;\nconst InfoIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 228\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"16\",\n    x2: \"12\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 268\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"8\",\n    x2: \"12.01\",\n    y2: \"8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 313\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 16,\n  columnNumber: 51\n}, this);\n_c8 = InfoIcon;\nconst FileJson2 = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 228\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M14 2v6h6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 291\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 12h1.6a2 2 0 0 0 1.9-3.4L6 6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 312\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 18h1.6a2 2 0 0 1 1.9 3.4L6 24\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 355\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 12h1.6a2 2 0 0 1 1.9-3.4L14 6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 399\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 18h1.6a2 2 0 0 0 1.9 3.4L14 24\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 444\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 17,\n  columnNumber: 51\n}, this);\n\n// Firebase configuration\n_c9 = FileJson2;\nconst firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {\n  apiKey: \"AIzaSyDZ_qqqKW7WDCZ9botek2VBwXNMQO3JYwU\",\n  authDomain: \"psychotherapie0512.firebaseapp.com\",\n  projectId: \"psychotherapie0512\",\n  storageBucket: \"psychotherapie0512.firebasestorage.app\",\n  messagingSenderId: \"131279046361\",\n  appId: \"1:131279046361:web:e5dd2d18b206fb820b60c8\"\n};\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst appId = typeof __app_id !== 'undefined' ? __app_id : 'default-patient-app-v3';\n\n// Beispiel ICD-10 F0 Daten (normalerweise würden Sie dies aus einer JSON-Datei laden)\nconst icd10F0SampleData = [{\n  \"code_kategorie\": \"F00-F09\",\n  \"name_kategorie\": \"Organische, einschließlich symptomatischer psychischer Störungen\",\n  \"beschreibung_kategorie\": \"Dieser Abschnitt umfasst eine Reihe psychischer Krankheiten mit nachweisbarer Ätiologie in einer zerebralen Krankheit, einer Hirnverletzung oder einer anderen Schädigung, die zu einer Hirnfunktionsstörung führt. Die Funktionsstörung kann primär sein, wie bei Krankheiten, Verletzungen oder Störungen, die das Gehirn direkt oder in besonderem Maße betreffen; oder sekundär wie bei systemischen Krankheiten oder Störungen, die das Gehirn als eines von vielen anderen Organen oder Körpersystemen betreffen.\"\n}, {\n  \"code_kategorie\": \"F00-F03\",\n  \"name_kategorie\": \"Demenz\",\n  \"beschreibung_kategorie\": \"Demenz (F00-F03) ist ein Syndrom als Folge einer meist chronischen oder fortschreitenden Krankheit des Gehirns mit Störung vieler höherer kortikaler Funktionen, einschließlich Gedächtnis, Denken, Orientierung, Auffassung, Rechnen, Lernfähigkeit, Sprache und Urteilsvermögen. Das Bewusstsein ist nicht getrübt. Die kognitiven Beeinträchtigungen werden gewöhnlich von Veränderungen der emotionalen Kontrolle, des Sozialverhaltens oder der Motivation begleitet, gelegentlich treten diese auch eher auf. Dieses Syndrom kommt bei Alzheimer-Krankheit, bei zerebrovaskulären Störungen und bei anderen Zustandsbildern vor, die primär oder sekundär das Gehirn betreffen.\",\n  \"hinweise_kategorie\": [\"Soll eine zugrunde liegende Krankheit angegeben werden, ist eine zusätzliche Schlüsselnummer zu benutzen.\"]\n}, {\n  \"code\": \"F00.-*\",\n  \"name\": \"Demenz bei Alzheimer-Krankheit\",\n  \"zusatz_info_code\": \"(G30.-†)\",\n  \"beschreibung\": \"Die Alzheimer-Krankheit ist eine primär degenerative zerebrale Krankheit mit unbekannter Ätiologie und charakteristischen neuropathologischen und neurochemischen Merkmalen. Sie beginnt meist schleichend und entwickelt sich langsam aber stetig über einen Zeitraum von mehreren Jahren.\",\n  \"hinweise\": [\"Soll das Vorliegen von psychischen oder Verhaltensstörungen spezifisch angegeben werden, so sind sekundäre Schlüsselnummern (U63.-!) zu benutzen.\", \"Hinweis von F00-F03: Soll eine zugrunde liegende Krankheit angegeben werden, ist eine zusätzliche Schlüsselnummer zu benutzen.\"]\n}, {\n  \"code\": \"F00.0*\",\n  \"name\": \"Demenz bei Alzheimer-Krankheit, mit frühem Beginn (Typ 2)\",\n  \"zusatz_info_code\": \"(G30.0†)\",\n  \"beschreibung\": \"Demenz bei Alzheimer-Krankheit mit Beginn vor dem 65. Lebensjahr. Der Verlauf weist eine vergleichsweise rasche Verschlechterung auf, es bestehen deutliche und vielfältige Störungen der höheren kortikalen Funktionen.\",\n  \"inkl\": [\"Alzheimer-Krankheit, Typ 2\", \"Präsenile Demenz vom Alzheimer-Typ\", \"Primär degenerative Demenz vom Alzheimer-Typ, präseniler Beginn\"],\n  \"hinweise\": [\"Hinweis von F00.-*: Soll das Vorliegen von psychischen oder Verhaltensstörungen spezifisch angegeben werden, so sind sekundäre Schlüsselnummern (U63.-!) zu benutzen.\", \"Hinweis von F00-F03: Soll eine zugrunde liegende Krankheit angegeben werden, ist eine zusätzliche Schlüsselnummer zu benutzen.\"]\n}, {\n  \"code\": \"F00.1*\",\n  \"name\": \"Demenz bei Alzheimer-Krankheit, mit spätem Beginn (Typ 1)\",\n  \"zusatz_info_code\": \"(G30.1†)\",\n  \"beschreibung\": \"Demenz bei Alzheimer-Krankheit mit Beginn ab dem 65. Lebensjahr, meist in den späten 70er Jahren oder danach, mit langsamer Progredienz und mit Gedächtnisstörungen als Hauptmerkmal.\",\n  \"inkl\": [\"Alzheimer-Krankheit, Typ 1\", \"Primär degenerative Demenz vom Alzheimer-Typ, seniler Beginn\", \"Senile Demenz vom Alzheimer-Typ (SDAT)\"],\n  \"hinweise\": [\"Hinweis von F00.-*: Soll das Vorliegen von psychischen oder Verhaltensstörungen spezifisch angegeben werden, so sind sekundäre Schlüsselnummern (U63.-!) zu benutzen.\", \"Hinweis von F00-F03: Soll eine zugrunde liegende Krankheit angegeben werden, ist eine zusätzliche Schlüsselnummer zu benutzen.\"]\n},\n// ... (weitere F0 Einträge aus Ihrem Beispiel könnten hier folgen)\n{\n  \"code\": \"F01.-\",\n  \"name\": \"Vaskuläre Demenz\",\n  \"beschreibung\": \"Die vaskuläre Demenz ist das Ergebnis einer Infarzierung des Gehirns als Folge einer vaskulären Krankheit...\",\n  \"inkl\": [\"Arteriosklerotische Demenz\"],\n  \"hinweise\": [\"...\"]\n}, {\n  \"code\": \"F01.0\",\n  \"name\": \"Vaskuläre Demenz mit akutem Beginn\",\n  \"beschreibung\": \"Diese entwickelt sich meist sehr schnell nach einer Reihe von Schlaganfällen...\",\n  \"hinweise\": [\"...\"]\n}];\n\n// Initial patient data\nconst initialPatientsData = [{\n  name: \"Kern\",\n  chiffre: \"K040498\",\n  therapyType: \"LZT\",\n  approvedHours: 60,\n  conductedHours: 24,\n  diagnoses: [\"F00.0*\"],\n  sessions: [],\n  hscl11Results: [],\n  bdi2Results: [],\n  fep2Results: []\n}];\n\n// Modal, ConfirmationModal, PatientForm (wie zuvor)\nconst Modal = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  size = \"lg\"\n}) => {\n  if (!isOpen) return null;\n  const sizeClasses = {\n    sm: 'max-w-sm',\n    md: 'max-w-md',\n    lg: 'max-w-lg',\n    xl: 'max-w-xl',\n    '2xl': 'max-w-2xl',\n    '3xl': 'max-w-3xl',\n    '4xl': 'max-w-4xl',\n    '5xl': 'max-w-5xl'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex justify-center items-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bg-white p-6 rounded-lg shadow-xl w-full ${sizeClasses[size]} max-h-[90vh] overflow-y-auto`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-gray-800\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 551\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-500 hover:text-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(XCircle, {\n            className: \"w-7 h-7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 688\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 616\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 495\n      }, this), children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 385\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 272\n  }, this);\n};\n_c0 = Modal;\nconst ConfirmationModal = ({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  message\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onClose: onClose,\n    title: title,\n    size: \"sm\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n        className: \"mx-auto mb-4 w-12 h-12 text-red-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 209\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-700 mb-6\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 274\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none\",\n          children: \"Abbrechen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 368\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onConfirm,\n          className: \"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none\",\n          children: \"Best\\xE4tigen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 528\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 321\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 180\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 115\n  }, this);\n};\n_c1 = ConfirmationModal;\nconst PatientForm = ({\n  patient,\n  onSave,\n  onCancel\n}) => {\n  _s();\n  const [formData, setFormData] = useState(patient || {\n    name: '',\n    chiffre: '',\n    therapyType: 'LZT',\n    approvedHours: 0,\n    conductedHours: 0,\n    diagnoses: [],\n    sessions: [],\n    hscl11Results: [],\n    bdi2Results: [],\n    fep2Results: []\n  });\n  useEffect(() => {\n    if (patient) {\n      setFormData({\n        ...patient,\n        hscl11Results: patient.hscl11Results || [],\n        bdi2Results: patient.bdi2Results || [],\n        fep2Results: patient.fep2Results || []\n      });\n    } else {\n      setFormData({\n        name: '',\n        chiffre: '',\n        therapyType: 'LZT',\n        approvedHours: 0,\n        conductedHours: 0,\n        diagnoses: [],\n        sessions: [],\n        hscl11Results: [],\n        bdi2Results: [],\n        fep2Results: []\n      });\n    }\n  }, [patient]);\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'number' ? parseInt(value, 10) || 0 : value\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSave(formData);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 69\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        id: \"name\",\n        value: formData.name,\n        onChange: handleChange,\n        required: true,\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 155\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 64\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"chiffre\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Chiffre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 424\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"chiffre\",\n        id: \"chiffre\",\n        value: formData.chiffre,\n        onChange: handleChange,\n        required: true,\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 516\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 419\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"therapyType\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Therapieform\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 794\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"therapyType\",\n        id: \"therapyType\",\n        value: formData.therapyType,\n        onChange: handleChange,\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"LZT\",\n          children: \"Langzeittherapie (LZT)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 1152\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"KZT\",\n          children: \"Kurzzeittherapie (KZT)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 1203\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 895\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 789\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"approvedHours\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Genehmigte Stunden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 1274\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"approvedHours\",\n        id: \"approvedHours\",\n        value: formData.approvedHours,\n        onChange: handleChange,\n        min: \"0\",\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 1383\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 1269\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"conductedHours\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Durchgef\\xFChrte Stunden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 1680\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"conductedHours\",\n        id: \"conductedHours\",\n        value: formData.conductedHours,\n        onChange: handleChange,\n        min: \"0\",\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 1793\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 1675\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end space-x-3 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onCancel,\n        className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\",\n        children: \"Abbrechen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 2137\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Save, {\n          className: \"w-4 h-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 2577\n        }, this), \" Speichern\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 2365\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 2088\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 12\n  }, this);\n};\n\n// FEP-2 Definitionen und Berechnungslogik (wie zuvor)\n_s(PatientForm, \"/ziV1gc05sqM0pj62pnxyMqbmlU=\");\n_c10 = PatientForm;\nconst FEP2_ITEMS_TO_REVERSE = [1, 2, 5, 9, 14, 15, 19, 21, 22, 27, 29, 30, 39];\nconst FEP2_SKALEN_DEFINITION = {\n  WOHLBEFINDEN: {\n    items: [1, 5, 9, 14, 22, 30, 39],\n    minItemsRequired: 7\n  },\n  BESCHWERDEN: {\n    items: [4, 6, 7, 8, 10, 12, 23, 24, 31, 34, 38],\n    minItemsRequired: 10\n  },\n  BESCHWERDEN_ANGST: {\n    items: [4, 8, 12, 23],\n    minItemsRequired: 4\n  },\n  BESCHWERDEN_DEPRESSIVITAET: {\n    items: [7, 10, 24, 31, 34, 38],\n    minItemsRequired: 5\n  },\n  INTERPERSONALE_BEZIEHUNG: {\n    items: [11, 13, 16, 18, 20, 25, 26, 28, 32, 33, 36, 40],\n    minItemsRequired: 11\n  },\n  INTERPERSONALE_INTROVERTIERT_SCHEU: {\n    items: [28, 36, 40],\n    minItemsRequired: 3\n  },\n  INTERPERSONALE_AUSNUTZBAR_NACHGIEBIG: {\n    items: [13, 20, 26],\n    minItemsRequired: 3\n  },\n  INTERPERSONALE_KONKURRIEREND_UNTERSTUETZEND: {\n    items: [11, 16, 33],\n    minItemsRequired: 3\n  },\n  INTERPERSONALE_SELBSTUNSICHER_ZURUECKHALTEND: {\n    items: [18, 25, 32],\n    minItemsRequired: 3\n  },\n  KONGRUENZ: {\n    items: [2, 3, 15, 17, 19, 21, 27, 29, 35, 37],\n    minItemsRequired: 8\n  }\n};\nconst calculateFep2Scores = itemScoresRaw => {\n  const itemScores = itemScoresRaw.map((score, index) => {\n    const itemNum = index + 1;\n    if (FEP2_ITEMS_TO_REVERSE.includes(itemNum) && score > 0 && score <= 5) {\n      return 6 - score;\n    }\n    return score;\n  });\n  const answeredItemsCount = itemScores.filter(score => score > 0 && score <= 5).length;\n  const calculatedScales = {};\n  if (answeredItemsCount >= 32) {\n    const sum = itemScores.reduce((acc, score) => acc + (score > 0 && score <= 5 ? score : 0), 0);\n    calculatedScales.gesamtbelastung = answeredItemsCount > 0 ? parseFloat((sum / answeredItemsCount).toFixed(2)) : null;\n  } else {\n    calculatedScales.gesamtbelastung = null;\n  }\n  for (const skalaName in FEP2_SKALEN_DEFINITION) {\n    const def = FEP2_SKALEN_DEFINITION[skalaName];\n    let sum = 0;\n    let count = 0;\n    def.items.forEach(itemNum => {\n      const score = itemScores[itemNum - 1];\n      if (score > 0 && score <= 5) {\n        sum += score;\n        count++;\n      }\n    });\n    if (count >= def.minItemsRequired) {\n      calculatedScales[skalaName.toLowerCase()] = parseFloat((sum / count).toFixed(2));\n    } else {\n      calculatedScales[skalaName.toLowerCase()] = null;\n    }\n  }\n  return calculatedScales;\n};\n\n// Gemini API Hilfsfunktion (wie zuvor)\nasync function generateGeminiText(prompt) {\n  let chatHistory = [{\n    role: \"user\",\n    parts: [{\n      text: prompt\n    }]\n  }];\n  const payload = {\n    contents: chatHistory\n  };\n  const GEMINI_API_KEY = typeof __GEMINI_API_KEY__ !== 'undefined' ? __GEMINI_API_KEY__ : \"\";\n  const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`;\n  try {\n    const response = await fetch(apiUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    });\n    if (!response.ok) {\n      var _errorData$error;\n      const errorData = await response.json();\n      console.error(\"Gemini API error details:\", errorData);\n      const errorMessage = ((_errorData$error = errorData.error) === null || _errorData$error === void 0 ? void 0 : _errorData$error.message) || `API request failed with status ${response.status}`;\n      throw new Error(errorMessage);\n    }\n    const result = await response.json();\n    if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\n      return result.candidates[0].content.parts[0].text;\n    } else if (result.candidates && result.candidates.length > 0 && result.candidates[0].finishReason === \"SAFETY\") {\n      console.warn(\"Gemini API response blocked due to safety reasons.\");\n      return \"Die Antwort wurde aufgrund von Sicherheitsrichtlinien blockiert.\";\n    } else {\n      console.error(\"Unexpected Gemini API response structure:\", result);\n      throw new Error(\"Unerwartete Antwortstruktur von der API.\");\n    }\n  } catch (error) {\n    console.error(\"Error calling Gemini API:\", error);\n    throw error;\n  }\n}\n\n// Haupt-App Komponente\nfunction App() {\n  _s2();\n  const [patients, setPatients] = useState([]);\n  const [selectedPatient, setSelectedPatient] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [isPatientModalOpen, setIsPatientModalOpen] = useState(false);\n  const [editingPatient, setEditingPatient] = useState(null);\n  const [isConfirmDeleteModalOpen, setIsConfirmDeleteModalOpen] = useState(false);\n  const [patientToDeleteId, setPatientToDeleteId] = useState(null);\n  const [newDiagnosis, setNewDiagnosis] = useState('');\n  const [newDiagnosisCode, setNewDiagnosisCode] = useState(''); // Für den Code-Teil der Diagnose\n  const [lookedUpDiagnosisName, setLookedUpDiagnosisName] = useState(''); // Für den Namen aus JSON\n\n  const [newSessionDate, setNewSessionDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newSessionNotes, setNewSessionNotes] = useState('');\n  const [activeDetailTab, setActiveDetailTab] = useState('details');\n  const [newHsclDate, setNewHsclDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newHsclAngst, setNewHsclAngst] = useState('');\n  const [newHsclDepression, setNewHsclDepression] = useState('');\n  const [newBdiDate, setNewBdiDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newBdiScore, setNewBdiScore] = useState('');\n  const [newFepDate, setNewFepDate] = useState(new Date().toISOString().split('T')[0]);\n  const [fepItemScores, setFepItemScores] = useState(Array(40).fill(0));\n  const [sessionSummaries, setSessionSummaries] = useState({});\n  const [diagnosisInfo, setDiagnosisInfo] = useState({\n    code: '',\n    name: '',\n    beschreibung: '',\n    inkl: [],\n    exkl: [],\n    hinweise: [],\n    zusatz_info_code: '',\n    isLoading: false,\n    error: null,\n    isOpen: false,\n    source: ''\n  });\n  const [localIcd10Data, setLocalIcd10Data] = useState({}); // Wird mit { code: details } gefüllt\n\n  // Lokale ICD-10 Daten laden und indizieren\n  useEffect(() => {\n    // In einer echten lokalen App würden Sie hier Ihre JSON-Datei laden, z.B. mit fetch('/icd10f_data.json')\n    // Für dieses Beispiel verwenden wir die eingebetteten icd10F0SampleData\n    const indexedData = {};\n    icd10F0SampleData.forEach(item => {\n      if (item.code) {\n        // Nur Einträge mit einem spezifischen 'code' indizieren\n        indexedData[item.code] = item;\n      }\n      // Optional: Kategorien auch indizieren, falls benötigt\n      if (item.code_kategorie) {\n        // Um Überschreibungen zu vermeiden, wenn mehrere Einträge dieselbe code_kategorie haben,\n        // könnte man hier eine komplexere Logik oder ein Array verwenden.\n        // Für eine einfache Suche nach spezifischen Codes ist dies erstmal nicht primär.\n        // indexedData[item.code_kategorie] = item; \n      }\n    });\n    setLocalIcd10Data(indexedData);\n    console.log(\"Lokale ICD-10 Daten indiziert:\", indexedData);\n  }, []);\n\n  // Funktion zum Suchen eines ICD-10 Codes in den lokalen Daten\n  const findIcd10CodeLocal = useCallback(codeToFind => {\n    // Versuche exakte Übereinstimmung\n    let found = localIcd10Data[codeToFind];\n    if (found) return found;\n\n    // Versuche Übereinstimmung ohne Suffixe wie \".-*\" oder \"*\"\n    const baseCode = codeToFind.replace(/(\\.-\\*|\\.\\*|\\*|-)$/, '');\n    found = localIcd10Data[`${baseCode}.-*`] || localIcd10Data[`${baseCode}.*`] || localIcd10Data[baseCode];\n    if (found) return found;\n\n    // Fallback: Suche nach Codes, die mit dem eingegebenen Code beginnen (für breitere Kategorien)\n    // Dies ist nützlich, wenn der Benutzer z.B. \"F00\" eingibt und Infos zu \"F00.-*\" sehen möchte.\n    const possibleCategoryCode = Object.keys(localIcd10Data).find(key => key.startsWith(codeToFind) && (localIcd10Data[key].code_kategorie || localIcd10Data[key].code) // Sicherstellen, dass es ein relevanter Eintrag ist\n    );\n    if (possibleCategoryCode) return localIcd10Data[possibleCategoryCode];\n    return null;\n  }, [localIcd10Data]);\n\n  // Effekt für die Suche bei Eingabe einer neuen Diagnose\n  useEffect(() => {\n    if (newDiagnosisCode.trim() !== '') {\n      const found = findIcd10CodeLocal(newDiagnosisCode.trim().toUpperCase());\n      if (found && found.name) {\n        setLookedUpDiagnosisName(found.name);\n      } else {\n        setLookedUpDiagnosisName('');\n      }\n    } else {\n      setLookedUpDiagnosisName('');\n    }\n  }, [newDiagnosisCode, findIcd10CodeLocal]);\n  const getPatientsCollectionPath = useCallback(() => {\n    if (!userId) return null;\n    return `/artifacts/${appId}/users/${userId}/patients`;\n  }, [userId]);\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async user => {\n      if (user) {\n        setUserId(user.uid);\n      } else {\n        try {\n          if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {\n            await signInWithCustomToken(auth, __initial_auth_token);\n          } else {\n            await signInAnonymously(auth);\n          }\n        } catch (e) {\n          console.error(\"Error signing in: \", e);\n          setError(\"Fehler bei der Authentifizierung.\");\n        }\n      }\n      setIsAuthReady(true);\n    });\n    return () => unsubscribe();\n  }, []);\n  const seedInitialData = useCallback(async () => {\n    if (!userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    try {\n      const patientsCollection = collection(db, collectionPath);\n      const querySnapshot = await getDocs(patientsCollection);\n      if (querySnapshot.empty) {\n        const batch = writeBatch(db);\n        initialPatientsData.forEach(patientData => {\n          const newPatientRef = doc(patientsCollection);\n          batch.set(newPatientRef, {\n            ...patientData,\n            hscl11Results: patientData.hscl11Results || [],\n            bdi2Results: patientData.bdi2Results || [],\n            fep2Results: patientData.fep2Results || []\n          });\n        });\n        await batch.commit();\n        console.log(\"Initiale Daten erfolgreich geschrieben.\");\n      } else {\n        console.log(\"Vorhandene Patientendaten gefunden, Seed wird übersprungen.\");\n      }\n    } catch (err) {\n      console.error(\"Error seeding initial data:\", err);\n      setError(\"Fehler beim Laden der initialen Daten.\");\n    }\n  }, [userId, getPatientsCollectionPath]);\n  useEffect(() => {\n    if (!isAuthReady || !userId) {\n      if (isAuthReady && !userId) setError(\"Authentifizierung fehlgeschlagen. Bitte laden Sie die Seite neu.\");\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) {\n      console.log(\"Collection path ist nicht verfügbar für Firestore Listener.\");\n      return;\n    }\n    setIsLoading(true);\n    seedInitialData();\n    const patientsQuery = query(collection(db, collectionPath));\n    const unsubscribe = onSnapshot(patientsQuery, snapshot => {\n      let patientsData = snapshot.docs.map(docSnap => ({\n        id: docSnap.id,\n        ...docSnap.data(),\n        hscl11Results: docSnap.data().hscl11Results || [],\n        bdi2Results: docSnap.data().bdi2Results || [],\n        fep2Results: docSnap.data().fep2Results || []\n      }));\n      patientsData.sort((a, b) => a.name.localeCompare(b.name));\n      setPatients(patientsData);\n      setIsLoading(false);\n    }, err => {\n      console.error(\"Error fetching patients:\", err);\n      setError(\"Fehler beim Laden der Patientendaten. Stellen Sie sicher, dass Firestore korrekt konfiguriert ist.\");\n      setIsLoading(false);\n    });\n    return () => unsubscribe();\n  }, [isAuthReady, userId, getPatientsCollectionPath, seedInitialData]);\n  useEffect(() => {\n    if (selectedPatient && selectedPatient.id && patients.length > 0) {\n      const currentPatientDataFromList = patients.find(p => p.id === selectedPatient.id);\n      if (currentPatientDataFromList) {\n        if (JSON.stringify(currentPatientDataFromList) !== JSON.stringify(selectedPatient)) {\n          setSelectedPatient(currentPatientDataFromList);\n        }\n      } else {\n        setSelectedPatient(null);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps \n  }, [patients, selectedPatient === null || selectedPatient === void 0 ? void 0 : selectedPatient.id]);\n  const handleSavePatient = async patientData => {\n    if (!userId) {\n      setError(\"Benutzer nicht authentifiziert.\");\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const dataToSave = {\n      ...patientData,\n      hscl11Results: patientData.hscl11Results || [],\n      bdi2Results: patientData.bdi2Results || [],\n      fep2Results: patientData.fep2Results || []\n    };\n    try {\n      if (editingPatient && editingPatient.id) {\n        const patientRef = doc(db, collectionPath, editingPatient.id);\n        await setDoc(patientRef, dataToSave, {\n          merge: true\n        });\n      } else {\n        await addDoc(collection(db, collectionPath), dataToSave);\n      }\n      setIsPatientModalOpen(false);\n      setEditingPatient(null);\n    } catch (err) {\n      console.error(\"Error saving patient:\", err);\n      setError(\"Fehler beim Speichern des Patienten.\");\n    }\n  };\n  const openDeleteConfirmation = patientId => {\n    setPatientToDeleteId(patientId);\n    setIsConfirmDeleteModalOpen(true);\n  };\n  const confirmDeletePatient = async () => {\n    if (!patientToDeleteId || !userId) {\n      setError(\"Löschvorgang fehlgeschlagen.\");\n      setIsConfirmDeleteModalOpen(false);\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    try {\n      const patientRef = doc(db, collectionPath, patientToDeleteId);\n      await deleteDoc(patientRef);\n      if (selectedPatient && selectedPatient.id === patientToDeleteId) {\n        setSelectedPatient(null);\n      }\n      setPatientToDeleteId(null);\n      setIsConfirmDeleteModalOpen(false);\n    } catch (err) {\n      console.error(\"Error deleting patient:\", err);\n      setError(\"Fehler beim Löschen des Patienten.\");\n      setIsConfirmDeleteModalOpen(false);\n    }\n  };\n  const handleAddDiagnosis = async () => {\n    const codeToAdd = newDiagnosisCode.trim().toUpperCase();\n    if (!selectedPatient || !codeToAdd || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n\n    // Verwende den Code, optional mit dem gefundenen Namen, wenn der Benutzer keinen eigenen Namen eingegeben hat\n    const diagnosisString = newDiagnosis.trim() ? `${codeToAdd}: ${newDiagnosis.trim()}` : lookedUpDiagnosisName ? `${codeToAdd}: ${lookedUpDiagnosisName}` : codeToAdd;\n    const updatedDiagnoses = [...(selectedPatient.diagnoses || []), diagnosisString];\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        diagnoses: updatedDiagnoses\n      }, {\n        merge: true\n      });\n      setNewDiagnosisCode(''); // Feld für Code zurücksetzen\n      setNewDiagnosis(''); // Feld für manuelle Beschreibung zurücksetzen\n      setLookedUpDiagnosisName(''); // Nachschlagefeld zurücksetzen\n    } catch (err) {\n      console.error(\"Error adding diagnosis:\", err);\n      setError(\"Fehler beim Hinzufügen der Diagnose.\");\n    }\n  };\n  const handleRemoveDiagnosis = async diagnosisStringToRemove => {\n    // Nimmt jetzt den ganzen String\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedDiagnoses = selectedPatient.diagnoses.filter(d => d !== diagnosisStringToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        diagnoses: updatedDiagnoses\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing diagnosis:\", err);\n      setError(\"Fehler beim Entfernen der Diagnose.\");\n    }\n  };\n  const handleAddSession = async () => {/* ... wie zuvor ... */};\n  const handleUpdateConductedHours = async (patient, hoursStr) => {/* ... wie zuvor ... */};\n  const handleAddHsclResult = async () => {/* ... wie zuvor ... */};\n  const handleRemoveHsclResult = async dateToRemove => {/* ... wie zuvor ... */};\n  const handleAddBdiResult = async () => {/* ... wie zuvor ... */};\n  const handleRemoveBdiResult = async dateToRemove => {/* ... wie zuvor ... */};\n  const handleFepItemChange = (index, value) => {/* ... wie zuvor ... */};\n  const handleAddFepResult = async () => {/* ... wie zuvor ... */};\n  const handleRemoveFepResult = async dateToRemove => {/* ... wie zuvor ... */};\n  const fetchSessionSummary = async (sessionNotes, sessionIndex) => {/* ... wie zuvor ... */};\n\n  // Modifizierte Funktion, um lokale ICD-10 Daten anzuzeigen\n  const showDiagnosisInfo = diagnosisString => {\n    const codeMatch = diagnosisString.match(/^([A-Z][0-9]{1,2}(\\.[0-9A-Z]{1,2})?[\\*\\-\\!]?)/i); // Extrahiert den Code am Anfang\n    const code = codeMatch ? codeMatch[0].toUpperCase() : diagnosisString.toUpperCase();\n    const localData = findIcd10CodeLocal(code);\n    if (localData) {\n      setDiagnosisInfo({\n        code: localData.code || code,\n        name: localData.name || '',\n        beschreibung: localData.beschreibung || localData.beschreibung_kategorie || '',\n        inkl: localData.inkl || [],\n        exkl: localData.exkl || [],\n        hinweise: localData.hinweise || localData.hinweise_kategorie || [],\n        zusatz_info_code: localData.zusatz_info_code || '',\n        isLoading: false,\n        error: null,\n        isOpen: true,\n        source: 'local'\n      });\n    } else {\n      // Fallback zur Gemini API, wenn lokal nichts gefunden wurde\n      fetchDiagnosisInfoGemini(code);\n    }\n  };\n  const fetchDiagnosisInfoGemini = async diagnosisCode => {\n    setDiagnosisInfo({\n      code: diagnosisCode,\n      info: '',\n      isLoading: true,\n      error: null,\n      isOpen: true,\n      source: 'gemini'\n    });\n    const prompt = `Erkläre die ICD-10 Diagnose '${diagnosisCode}' kurz und verständlich für einen Laien. Nenne auch typische Symptome und ggf. wichtige Differentialdiagnosen oder Komorbiditäten, falls relevant. Antworte auf Deutsch.`;\n    try {\n      const info = await generateGeminiText(prompt);\n      setDiagnosisInfo(prev => ({\n        ...prev,\n        info: info,\n        isLoading: false\n      }));\n    } catch (e) {\n      setDiagnosisInfo(prev => ({\n        ...prev,\n        isLoading: false,\n        error: e.message\n      }));\n      setError(`Fehler beim Abrufen der Diagnose-Info via Gemini: ${e.message}`);\n    }\n  };\n  const totalApprovedHours = patients.reduce((sum, p) => sum + (p.approvedHours || 0), 0);\n  const totalConductedHours = patients.reduce((sum, p) => sum + (p.conductedHours || 0), 0);\n  const overallProgressTarget = 600;\n  const overallProgress = overallProgressTarget > 0 ? totalConductedHours / overallProgressTarget * 100 : 0;\n  if (!isAuthReady) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center h-screen text-xl font-semibold text-gray-700\",\n    children: \"Authentifizierung wird initialisiert...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 393,\n    columnNumber: 28\n  }, this);\n  if (isLoading && isAuthReady && userId) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center h-screen text-xl font-semibold text-gray-700\",\n    children: \"Lade Patientendaten...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 394,\n    columnNumber: 50\n  }, this);\n  const bdiCutoffs = [{\n    y1: 0,\n    y2: 8,\n    label: \"Keine Depression\",\n    color: \"rgba(75, 192, 192, 0.2)\"\n  }, {\n    y1: 9,\n    y2: 13,\n    label: \"Minimale Depression\",\n    color: \"rgba(54, 162, 235, 0.2)\"\n  }, {\n    y1: 14,\n    y2: 19,\n    label: \"Leichte Depression\",\n    color: \"rgba(255, 206, 86, 0.2)\"\n  }, {\n    y1: 20,\n    y2: 28,\n    label: \"Mittelschwere Depression\",\n    color: \"rgba(255, 159, 64, 0.2)\"\n  }, {\n    y1: 29,\n    y2: 63,\n    label: \"Schwere Depression\",\n    color: \"rgba(255, 99, 132, 0.2)\"\n  }];\n  const bdiAxisTicks = [0, 8, 13, 19, 28, 63];\n  const inputStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\";\n  const btnPrimary = \"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm flex items-center justify-center\";\n  const btnDanger = \"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md flex items-center\";\n  const btnInfo = \"bg-sky-500 hover:bg-sky-600 text-white font-semibold py-1 px-2 text-xs rounded-md flex items-center\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-indigo-700 text-white shadow-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold tracking-tight\",\n          children: \"Patientenverwaltung\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 157\n        }, this), userId && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs opacity-75\",\n          children: [\"UserID: \", userId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 242\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 62\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"container mx-auto p-4 sm:p-6 lg:p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-gray-800\",\n          children: \"Patienten\\xFCbersicht\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 65\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setEditingPatient(null);\n            setIsPatientModalOpen(true);\n          },\n          className: `${btnPrimary} py-2 px-4`,\n          children: [/*#__PURE__*/_jsxDEV(UserPlus, {\n            className: \"w-5 h-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 261\n          }, this), \" Patient hinzuf\\xFCgen\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 141\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow-xl rounded-lg overflow-hidden mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full min-w-max table-auto text-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-100 border-b border-gray-300\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: ['Name', 'Chiffre', 'Therapie', 'Genehm. Std.', 'Durchgef. Std.', 'Fortschritt', 'Aktionen'].map(header => /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-3 px-4 text-sm font-semibold text-gray-600 uppercase tracking-wider\",\n                  children: header\n                }, header, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 182\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 69\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"divide-y divide-gray-200\",\n              children: [patients.length === 0 && !isLoading && /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"7\",\n                  className: \"text-center py-10 text-gray-500\",\n                  children: \"Keine Patienten gefunden. F\\xFCgen Sie einen neuen Patienten hinzu.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 62\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 58\n              }, this), patients.map(patient => {\n                const progress = patient.approvedHours > 0 ? patient.conductedHours / patient.approvedHours * 100 : 0;\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: `hover:bg-indigo-50 cursor-pointer ${(selectedPatient === null || selectedPatient === void 0 ? void 0 : selectedPatient.id) === patient.id ? 'bg-indigo-100' : ''}`,\n                  onClick: () => {\n                    setSelectedPatient(patient);\n                    setActiveDetailTab('details');\n                    setSessionSummaries({});\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm font-medium text-gray-800\",\n                    children: patient.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 415,\n                    columnNumber: 396\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm text-gray-600\",\n                    children: patient.chiffre\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 415,\n                    columnNumber: 493\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm text-gray-600\",\n                    children: patient.therapyType\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 415,\n                    columnNumber: 581\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm text-gray-600 text-center\",\n                    children: patient.approvedHours\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 415,\n                    columnNumber: 673\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm text-gray-600 text-center\",\n                    children: patient.conductedHours\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 415,\n                    columnNumber: 779\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-full bg-gray-200 rounded-full h-2.5\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `h-2.5 rounded-full ${progress > 80 ? 'bg-red-500' : progress > 50 ? 'bg-yellow-400' : 'bg-green-500'}`,\n                        style: {\n                          width: `${Math.min(progress, 100)}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 415,\n                        columnNumber: 985\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 415,\n                      columnNumber: 930\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-500 block text-center mt-1\",\n                      children: [Math.round(progress), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 415,\n                      columnNumber: 1167\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 415,\n                    columnNumber: 886\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: e => {\n                        e.stopPropagation();\n                        setEditingPatient(patient);\n                        setIsPatientModalOpen(true);\n                      },\n                      className: \"text-indigo-600 hover:text-indigo-800 transition duration-150 p-1 rounded hover:bg-indigo-100\",\n                      title: \"Bearbeiten\",\n                      children: /*#__PURE__*/_jsxDEV(Edit3, {\n                        className: \"w-5 h-5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 415,\n                        columnNumber: 1559\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 415,\n                      columnNumber: 1327\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: e => {\n                        e.stopPropagation();\n                        openDeleteConfirmation(patient.id);\n                      },\n                      className: \"text-red-500 hover:text-red-700 transition duration-150 p-1 rounded hover:bg-red-100\",\n                      title: \"L\\xF6schen\",\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        className: \"w-5 h-5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 415,\n                        columnNumber: 1796\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 415,\n                      columnNumber: 1597\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 415,\n                    columnNumber: 1265\n                  }, this)]\n                }, patient.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 160\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n              className: \"bg-gray-50 border-t-2 border-gray-300\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"3\",\n                  className: \"py-3 px-4 text-sm font-semibold text-gray-700 text-right\",\n                  children: \"Gesamt:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 74\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-3 px-4 text-sm font-semibold text-gray-700 text-center\",\n                  children: totalApprovedHours\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 171\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-3 px-4 text-sm font-semibold text-gray-700 text-center\",\n                  children: totalConductedHours\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 270\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-3 px-4 whitespace-nowrap\",\n                  colSpan: \"2\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-600 mr-2 w-28\",\n                      children: \"Fortschritt (600 Std.):\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 417,\n                      columnNumber: 461\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-full bg-gray-200 rounded-full h-2.5 flex-grow\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-blue-500 h-2.5 rounded-full\",\n                        style: {\n                          width: `${Math.min(overallProgress, 100)}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 417,\n                        columnNumber: 606\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 417,\n                      columnNumber: 541\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-600 ml-2\",\n                      children: [Math.round(overallProgress), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 417,\n                      columnNumber: 722\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 417,\n                    columnNumber: 426\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 370\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 70\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 110\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 77\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this), selectedPatient && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow-xl rounded-lg p-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-semibold text-indigo-700\",\n            children: selectedPatient.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 69\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setSelectedPatient(null);\n              setSessionSummaries({});\n            },\n            className: \"text-gray-500 hover:text-gray-700\",\n            children: /*#__PURE__*/_jsxDEV(XCircle, {\n              className: \"w-7 h-7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 275\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 151\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b border-gray-200 mb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"nav\", {\n            className: \"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto\",\n            \"aria-label\": \"Tabs\",\n            children: ['details', 'testdiagnostik', 'bdi2', 'fep2'].map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveDetailTab(tab),\n              className: `whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${activeDetailTab === tab ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n              children: [tab === 'details' && 'Stammdaten & Sitzungen', tab === 'testdiagnostik' && 'HSCL-11', tab === 'bdi2' && 'BDI-II', tab === 'fep2' && 'FEP-2']\n            }, tab, true, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 25\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }, this), activeDetailTab === 'details' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Chiffre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 26\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg text-gray-800\",\n                children: selectedPatient.chiffre\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 74\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Therapieform\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 26\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg text-gray-800\",\n                children: selectedPatient.therapyType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 79\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Genehmigte Stunden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 26\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg text-gray-800\",\n                children: selectedPatient.approvedHours\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 85\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"conductedHoursDetail\",\n                className: \"block text-sm font-medium text-gray-500\",\n                children: \"Durchgef\\xFChrte Stunden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  id: \"conductedHoursDetail\",\n                  value: selectedPatient.conductedHours,\n                  onChange: e => setSelectedPatient(prev => ({\n                    ...prev,\n                    conductedHours: e.target.value\n                  })),\n                  onBlur: e => handleUpdateConductedHours(selectedPatient, e.target.value),\n                  min: \"0\",\n                  max: selectedPatient.approvedHours,\n                  className: inputStd + \" w-24\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 text-sm text-gray-600\",\n                  children: [\"/ \", selectedPatient.approvedHours]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-xl font-semibold text-gray-700 mb-3\",\n              children: \"ICD-10 F-Diagnosen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-end space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-grow\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"newDiagnosisCode\",\n                    className: \"block text-xs font-medium text-gray-700\",\n                    children: \"Code (z.B. F32.2)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 460,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"newDiagnosisCode\",\n                    value: newDiagnosisCode,\n                    onChange: e => setNewDiagnosisCode(e.target.value.toUpperCase()),\n                    placeholder: \"F-Code\",\n                    className: `${inputStd} mt-1`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 461,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-grow\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"newDiagnosisName\",\n                    className: \"block text-xs font-medium text-gray-700\",\n                    children: \"Manuelle Beschreibung (optional)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 464,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"newDiagnosisName\",\n                    value: newDiagnosis,\n                    onChange: e => setNewDiagnosis(e.target.value),\n                    placeholder: \"Eigene Beschreibung\",\n                    className: `${inputStd} mt-1`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 465,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleAddDiagnosis,\n                  className: `${btnPrimary} bg-green-500 hover:bg-green-600 py-2 px-3 h-10`,\n                  children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n                    className: \"w-5 h-5 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 467,\n                    columnNumber: 137\n                  }, this), \" Hinzuf\\xFCgen\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 21\n              }, this), lookedUpDiagnosisName && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-indigo-600 mt-1\",\n                children: [\"Gefunden: \", lookedUpDiagnosisName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 47\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-1 mb-3\",\n              children: [(selectedPatient.diagnoses || []).map((diagString, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex justify-between items-center bg-gray-50 p-2 rounded-md\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-700\",\n                  children: diagString\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => showDiagnosisInfo(diagString),\n                    className: `${btnInfo} p-1`,\n                    title: \"Info zu dieser Diagnose abrufen\",\n                    children: [/*#__PURE__*/_jsxDEV(FileJson2, {\n                      className: \"w-4 h-4 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 477,\n                      columnNumber: 37\n                    }, this), \" Info\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 476,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleRemoveDiagnosis(diagString),\n                    className: `${btnDanger} p-1 text-xs`,\n                    children: /*#__PURE__*/_jsxDEV(Trash2, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 479,\n                      columnNumber: 130\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 479,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 29\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 25\n              }, this)), (selectedPatient.diagnoses || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Keine Diagnosen erfasst.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 72\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-xl font-semibold text-gray-700 mb-3\",\n              children: \"Sitzungsdokumentation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 p-4 rounded-lg mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"sessionDate\",\n                    className: \"block text-sm font-medium text-gray-700\",\n                    children: \"Datum\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 132\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"sessionDate\",\n                    value: newSessionDate,\n                    onChange: e => setNewSessionDate(e.target.value),\n                    className: inputStd\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 226\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 127\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"md:col-span-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"sessionNotes\",\n                    className: \"block text-sm font-medium text-gray-700\",\n                    children: \"Notizen\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 396\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    id: \"sessionNotes\",\n                    value: newSessionNotes,\n                    onChange: e => setNewSessionNotes(e.target.value),\n                    rows: \"3\",\n                    placeholder: \"Sitzungsnotizen...\",\n                    className: inputStd\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 493\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 365\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 67\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleAddSession,\n                className: `${btnPrimary} bg-blue-500 hover:bg-blue-600`,\n                children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n                  className: \"w-5 h-5 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 777\n                }, this), \" Sitzung hinzuf\\xFCgen\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 684\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-md font-semibold text-gray-600 mb-2\",\n              children: \"Protokollierte Sitzungen:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3 max-h-96 overflow-y-auto pr-2\",\n              children: [(selectedPatient.sessions || []).map((session, index) => {\n                var _sessionSummaries$ind, _sessionSummaries$ind2, _sessionSummaries$ind3, _sessionSummaries$ind4, _sessionSummaries$ind5;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white border border-gray-200 p-3 rounded-md shadow-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-start\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm font-semibold text-gray-700\",\n                      children: [\"Datum: \", new Date(session.date).toLocaleDateString('de-DE')]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 494,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => fetchSessionSummary(session.notes, index),\n                      disabled: (_sessionSummaries$ind = sessionSummaries[index]) === null || _sessionSummaries$ind === void 0 ? void 0 : _sessionSummaries$ind.isLoading,\n                      className: `${btnInfo} text-xs`,\n                      title: \"Sitzungsnotizen zusammenfassen\",\n                      children: (_sessionSummaries$ind2 = sessionSummaries[index]) !== null && _sessionSummaries$ind2 !== void 0 && _sessionSummaries$ind2.isLoading ? 'Lädt...' : '✨ Zusammenf.'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 495,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 493,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 whitespace-pre-wrap mt-1\",\n                    children: session.notes\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 501,\n                    columnNumber: 29\n                  }, this), ((_sessionSummaries$ind3 = sessionSummaries[index]) === null || _sessionSummaries$ind3 === void 0 ? void 0 : _sessionSummaries$ind3.summary) && !((_sessionSummaries$ind4 = sessionSummaries[index]) !== null && _sessionSummaries$ind4 !== void 0 && _sessionSummaries$ind4.isLoading) && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-2 p-2 bg-sky-50 border border-sky-200 rounded-md text-sm text-sky-700\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold\",\n                      children: \"Zusammenfassung:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 504,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"whitespace-pre-wrap\",\n                      children: sessionSummaries[index].summary\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 505,\n                      columnNumber: 37\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 503,\n                    columnNumber: 33\n                  }, this), ((_sessionSummaries$ind5 = sessionSummaries[index]) === null || _sessionSummaries$ind5 === void 0 ? void 0 : _sessionSummaries$ind5.error) && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-xs text-red-500\",\n                    children: [\"Fehler bei Zusammenfassung: \", sessionSummaries[index].error]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 509,\n                    columnNumber: 33\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 25\n                }, this);\n              }), (selectedPatient.sessions || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Keine Sitzungen dokumentiert.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 71\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 15\n        }, this), activeDetailTab === 'testdiagnostik' &&\n        /*#__PURE__*/\n        /* HSCL-11 Tab Inhalt */\n        _jsxDEV(\"div\", {\n          children: [\" \", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 81\n        }, this), activeDetailTab === 'bdi2' &&\n        /*#__PURE__*/\n        /* BDI-II Tab Inhalt */\n        _jsxDEV(\"div\", {\n          children: [\" \", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 70\n        }, this), activeDetailTab === 'fep2' &&\n        /*#__PURE__*/\n        /* FEP-2 Tab Inhalt */\n        _jsxDEV(\"div\", {\n          children: [\" \", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 69\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: isPatientModalOpen,\n        onClose: () => {\n          setIsPatientModalOpen(false);\n          setEditingPatient(null);\n        },\n        title: editingPatient ? 'Patient bearbeiten' : 'Neuen Patienten anlegen',\n        children: /*#__PURE__*/_jsxDEV(PatientForm, {\n          patient: editingPatient,\n          onSave: handleSavePatient,\n          onCancel: () => {\n            setIsPatientModalOpen(false);\n            setEditingPatient(null);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 193\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ConfirmationModal, {\n        isOpen: isConfirmDeleteModalOpen,\n        onClose: () => setIsConfirmDeleteModalOpen(false),\n        onConfirm: confirmDeletePatient,\n        title: \"Patient l\\xF6schen\",\n        message: `Möchten Sie den Patienten wirklich endgültig löschen?`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: diagnosisInfo.isOpen,\n        onClose: () => setDiagnosisInfo(prev => ({\n          ...prev,\n          isOpen: false\n        })),\n        title: `${diagnosisInfo.source === 'local' ? 'Lokale ICD-10 Info' : 'Gemini ICD-10 Info'}: ${diagnosisInfo.code || ''}`,\n        size: \"3xl\",\n        children: [diagnosisInfo.isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center py-4\",\n          children: \"Informationen werden geladen...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 41\n        }, this), diagnosisInfo.error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-600 bg-red-100 p-3 rounded-md\",\n          children: [\"Fehler: \", diagnosisInfo.error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 37\n        }, this), !diagnosisInfo.isLoading && diagnosisInfo.source === 'gemini' && diagnosisInfo.info && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed p-2\",\n          children: diagnosisInfo.info\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 17\n        }, this), !diagnosisInfo.isLoading && diagnosisInfo.source === 'local' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-700 leading-relaxed p-2 space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-indigo-700\",\n            children: [diagnosisInfo.name, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500 text-base\",\n              children: [\"(\", diagnosisInfo.code, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 96\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 21\n          }, this), diagnosisInfo.zusatz_info_code && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500\",\n            children: [\"Zusatz: \", diagnosisInfo.zusatz_info_code]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 56\n          }, this), diagnosisInfo.beschreibung && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"font-medium text-gray-800\",\n              children: \"Beschreibung:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 55\n            }, this), \" \", diagnosisInfo.beschreibung]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 52\n          }, this), diagnosisInfo.inkl && diagnosisInfo.inkl.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"font-medium text-gray-800\",\n              children: \"Inklusionen:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc list-inside ml-4\",\n              children: diagnosisInfo.inkl.map((item, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: item\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 177\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 97\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 25\n          }, this), diagnosisInfo.exkl && diagnosisInfo.exkl.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"font-medium text-gray-800\",\n              children: \"Exklusionen:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc list-inside ml-4\",\n              children: diagnosisInfo.exkl.map((item, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: item\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 177\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 97\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 25\n          }, this), diagnosisInfo.hinweise && diagnosisInfo.hinweise.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"font-medium text-gray-800\",\n              children: \"Hinweise:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc list-inside ml-4\",\n              children: diagnosisInfo.hinweise.map((item, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: item\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 178\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 94\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed bottom-4 right-4 p-4 max-w-sm text-sm text-red-700 bg-red-100 border border-red-400 rounded-md shadow-lg z-[100]\",\n        children: [error, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setError(null),\n          className: \"ml-4 mt-2 sm:mt-0 sm:ml-2 px-2 py-1 text-red-900 underline rounded-md hover:bg-red-200 text-xs\",\n          children: \"Ok\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 163\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 20\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"text-center py-6 text-sm text-gray-500 border-t border-gray-200 mt-10\",\n      children: [\"Patientenverwaltung \\xA9 \", new Date().getFullYear()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 554,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 406,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"/cSowM6OblAa4erqkY3tf8q9SBQ=\");\n_c11 = App;\nconst CustomBdiLabel = props => {\n  const {\n    x,\n    y,\n    width,\n    text\n  } = props;\n  if (typeof x !== 'number' || isNaN(x) || typeof y !== 'number' || isNaN(y) || typeof width !== 'number' || isNaN(width) || width <= 0) {\n    return null;\n  }\n  const labelX = x + width / 2;\n  return /*#__PURE__*/_jsxDEV(\"text\", {\n    x: labelX,\n    y: y,\n    fill: \"#666\",\n    textAnchor: \"middle\",\n    dy: -4,\n    fontSize: \"10\",\n    children: text\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 567,\n    columnNumber: 14\n  }, this);\n};\n_c12 = CustomBdiLabel;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12;\n$RefreshReg$(_c, \"UserPlus\");\n$RefreshReg$(_c2, \"Edit3\");\n$RefreshReg$(_c3, \"Trash2\");\n$RefreshReg$(_c4, \"PlusCircle\");\n$RefreshReg$(_c5, \"XCircle\");\n$RefreshReg$(_c6, \"Save\");\n$RefreshReg$(_c7, \"AlertTriangle\");\n$RefreshReg$(_c8, \"InfoIcon\");\n$RefreshReg$(_c9, \"FileJson2\");\n$RefreshReg$(_c0, \"Modal\");\n$RefreshReg$(_c1, \"ConfirmationModal\");\n$RefreshReg$(_c10, \"PatientForm\");\n$RefreshReg$(_c11, \"App\");\n$RefreshReg$(_c12, \"CustomBdiLabel\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","initializeApp","getAuth","signInAnonymously","onAuthStateChanged","signInWithCustomToken","getFirestore","collection","doc","addDoc","getDocs","setDoc","deleteDoc","onSnapshot","query","writeBatch","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","ReferenceArea","jsxDEV","_jsxDEV","UserPlus","className","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","d","fileName","_jsxFileName","lineNumber","columnNumber","cx","cy","r","x1","x2","y1","y2","_c","Edit3","_c2","Trash2","points","_c3","PlusCircle","_c4","XCircle","_c5","Save","_c6","AlertTriangle","_c7","InfoIcon","_c8","FileJson2","_c9","firebaseConfig","__firebase_config","JSON","parse","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","auth","db","__app_id","icd10F0SampleData","initialPatientsData","name","chiffre","therapyType","approvedHours","conductedHours","diagnoses","sessions","hscl11Results","bdi2Results","fep2Results","Modal","isOpen","onClose","title","size","sizeClasses","sm","md","lg","xl","onClick","_c0","ConfirmationModal","onConfirm","message","_c1","PatientForm","patient","onSave","onCancel","_s","formData","setFormData","handleChange","e","value","type","target","prev","parseInt","handleSubmit","preventDefault","onSubmit","htmlFor","id","onChange","required","min","_c10","FEP2_ITEMS_TO_REVERSE","FEP2_SKALEN_DEFINITION","WOHLBEFINDEN","items","minItemsRequired","BESCHWERDEN","BESCHWERDEN_ANGST","BESCHWERDEN_DEPRESSIVITAET","INTERPERSONALE_BEZIEHUNG","INTERPERSONALE_INTROVERTIERT_SCHEU","INTERPERSONALE_AUSNUTZBAR_NACHGIEBIG","INTERPERSONALE_KONKURRIEREND_UNTERSTUETZEND","INTERPERSONALE_SELBSTUNSICHER_ZURUECKHALTEND","KONGRUENZ","calculateFep2Scores","itemScoresRaw","itemScores","map","score","index","itemNum","includes","answeredItemsCount","filter","length","calculatedScales","sum","reduce","acc","gesamtbelastung","parseFloat","toFixed","skalaName","def","count","forEach","toLowerCase","generateGeminiText","prompt","chatHistory","role","parts","text","payload","contents","GEMINI_API_KEY","__GEMINI_API_KEY__","apiUrl","response","fetch","method","headers","body","stringify","ok","_errorData$error","errorData","json","console","error","errorMessage","status","Error","result","candidates","content","finishReason","warn","App","_s2","patients","setPatients","selectedPatient","setSelectedPatient","isLoading","setIsLoading","setError","userId","setUserId","isAuthReady","setIsAuthReady","isPatientModalOpen","setIsPatientModalOpen","editingPatient","setEditingPatient","isConfirmDeleteModalOpen","setIsConfirmDeleteModalOpen","patientToDeleteId","setPatientToDeleteId","newDiagnosis","setNewDiagnosis","newDiagnosisCode","setNewDiagnosisCode","lookedUpDiagnosisName","setLookedUpDiagnosisName","newSessionDate","setNewSessionDate","Date","toISOString","split","newSessionNotes","setNewSessionNotes","activeDetailTab","setActiveDetailTab","newHsclDate","setNewHsclDate","newHsclAngst","setNewHsclAngst","newHsclDepression","setNewHsclDepression","newBdiDate","setNewBdiDate","newBdiScore","setNewBdiScore","newFepDate","setNewFepDate","fepItemScores","setFepItemScores","Array","sessionSummaries","setSessionSummaries","diagnosisInfo","setDiagnosisInfo","code","beschreibung","inkl","exkl","hinweise","zusatz_info_code","source","localIcd10Data","setLocalIcd10Data","indexedData","item","code_kategorie","log","findIcd10CodeLocal","codeToFind","found","baseCode","replace","possibleCategoryCode","Object","keys","find","key","startsWith","trim","toUpperCase","getPatientsCollectionPath","unsubscribe","user","uid","__initial_auth_token","seedInitialData","collectionPath","patientsCollection","querySnapshot","empty","batch","patientData","newPatientRef","set","commit","err","patientsQuery","snapshot","patientsData","docs","docSnap","data","sort","a","b","localeCompare","currentPatientDataFromList","p","handleSavePatient","dataToSave","patientRef","merge","openDeleteConfirmation","patientId","confirmDeletePatient","handleAddDiagnosis","codeToAdd","diagnosisString","updatedDiagnoses","handleRemoveDiagnosis","diagnosisStringToRemove","handleAddSession","handleUpdateConductedHours","hoursStr","handleAddHsclResult","handleRemoveHsclResult","dateToRemove","handleAddBdiResult","handleRemoveBdiResult","handleFepItemChange","handleAddFepResult","handleRemoveFepResult","fetchSessionSummary","sessionNotes","sessionIndex","showDiagnosisInfo","codeMatch","match","localData","beschreibung_kategorie","hinweise_kategorie","fetchDiagnosisInfoGemini","diagnosisCode","info","totalApprovedHours","totalConductedHours","overallProgressTarget","overallProgress","bdiCutoffs","label","color","bdiAxisTicks","inputStd","btnPrimary","btnDanger","btnInfo","header","colSpan","progress","style","width","Math","round","stopPropagation","tab","onBlur","max","placeholder","diagString","rows","session","_sessionSummaries$ind","_sessionSummaries$ind2","_sessionSummaries$ind3","_sessionSummaries$ind4","_sessionSummaries$ind5","date","toLocaleDateString","notes","disabled","summary","i","getFullYear","_c11","CustomBdiLabel","props","x","y","isNaN","labelX","textAnchor","dy","fontSize","_c12","$RefreshReg$"],"sources":["/Users/julianrogowski/Desktop/patientenverwaltung-app/src/App.js"],"sourcesContent":["/* global __firebase_config, __app_id, __initial_auth_token, __GEMINI_API_KEY__ */\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken } from 'firebase/auth';\nimport { getFirestore, collection, doc, addDoc, getDocs, setDoc, deleteDoc, onSnapshot, query, writeBatch } from 'firebase/firestore';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, ReferenceArea } from 'recharts';\n\n// Lucide-React Icons (wie zuvor)\nconst UserPlus = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\" /><circle cx=\"9\" cy=\"7\" r=\"4\" /><line x1=\"19\" x2=\"19\" y1=\"8\" y2=\"14\" /><line x1=\"22\" x2=\"16\" y1=\"11\" y2=\"11\" /></svg>);\nconst Edit3 = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M12 20h9\" /><path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\" /></svg>);\nconst Trash2 = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><polyline points=\"3 6 5 6 21 6\" /><path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\" /><line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\" /><line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\" /></svg>);\nconst PlusCircle = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"10\" /><line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\" /><line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\" /></svg>);\nconst XCircle = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line><line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line></svg>);\nconst Save = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\" /><polyline points=\"17 21 17 13 7 13 7 21\" /><polyline points=\"7 3 7 8 15 8\" /></svg>);\nconst AlertTriangle = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path><line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line><line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line></svg>);\nconst InfoIcon = ({ className = \"w-5 h-5\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>);\nconst FileJson2 = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4\"/><path d=\"M14 2v6h6\"/><path d=\"M4 12h1.6a2 2 0 0 0 1.9-3.4L6 6\"/><path d=\"M4 18h1.6a2 2 0 0 1 1.9 3.4L6 24\"/><path d=\"M12 12h1.6a2 2 0 0 1 1.9-3.4L14 6\"/><path d=\"M12 18h1.6a2 2 0 0 0 1.9 3.4L14 24\"/></svg>);\n\n\n// Firebase configuration\nconst firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : { \n  apiKey: \"AIzaSyDZ_qqqKW7WDCZ9botek2VBwXNMQO3JYwU\",\n  authDomain: \"psychotherapie0512.firebaseapp.com\",\n  projectId: \"psychotherapie0512\",\n  storageBucket: \"psychotherapie0512.firebasestorage.app\",\n  messagingSenderId: \"131279046361\",\n  appId: \"1:131279046361:web:e5dd2d18b206fb820b60c8\"\n};\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst appId = typeof __app_id !== 'undefined' ? __app_id : 'default-patient-app-v3'; \n\n// Beispiel ICD-10 F0 Daten (normalerweise würden Sie dies aus einer JSON-Datei laden)\nconst icd10F0SampleData = [\n  { \"code_kategorie\": \"F00-F09\", \"name_kategorie\": \"Organische, einschließlich symptomatischer psychischer Störungen\", \"beschreibung_kategorie\": \"Dieser Abschnitt umfasst eine Reihe psychischer Krankheiten mit nachweisbarer Ätiologie in einer zerebralen Krankheit, einer Hirnverletzung oder einer anderen Schädigung, die zu einer Hirnfunktionsstörung führt. Die Funktionsstörung kann primär sein, wie bei Krankheiten, Verletzungen oder Störungen, die das Gehirn direkt oder in besonderem Maße betreffen; oder sekundär wie bei systemischen Krankheiten oder Störungen, die das Gehirn als eines von vielen anderen Organen oder Körpersystemen betreffen.\" },\n  { \"code_kategorie\": \"F00-F03\", \"name_kategorie\": \"Demenz\", \"beschreibung_kategorie\": \"Demenz (F00-F03) ist ein Syndrom als Folge einer meist chronischen oder fortschreitenden Krankheit des Gehirns mit Störung vieler höherer kortikaler Funktionen, einschließlich Gedächtnis, Denken, Orientierung, Auffassung, Rechnen, Lernfähigkeit, Sprache und Urteilsvermögen. Das Bewusstsein ist nicht getrübt. Die kognitiven Beeinträchtigungen werden gewöhnlich von Veränderungen der emotionalen Kontrolle, des Sozialverhaltens oder der Motivation begleitet, gelegentlich treten diese auch eher auf. Dieses Syndrom kommt bei Alzheimer-Krankheit, bei zerebrovaskulären Störungen und bei anderen Zustandsbildern vor, die primär oder sekundär das Gehirn betreffen.\", \"hinweise_kategorie\": [ \"Soll eine zugrunde liegende Krankheit angegeben werden, ist eine zusätzliche Schlüsselnummer zu benutzen.\" ] },\n  { \"code\": \"F00.-*\", \"name\": \"Demenz bei Alzheimer-Krankheit\", \"zusatz_info_code\": \"(G30.-†)\", \"beschreibung\": \"Die Alzheimer-Krankheit ist eine primär degenerative zerebrale Krankheit mit unbekannter Ätiologie und charakteristischen neuropathologischen und neurochemischen Merkmalen. Sie beginnt meist schleichend und entwickelt sich langsam aber stetig über einen Zeitraum von mehreren Jahren.\", \"hinweise\": [ \"Soll das Vorliegen von psychischen oder Verhaltensstörungen spezifisch angegeben werden, so sind sekundäre Schlüsselnummern (U63.-!) zu benutzen.\", \"Hinweis von F00-F03: Soll eine zugrunde liegende Krankheit angegeben werden, ist eine zusätzliche Schlüsselnummer zu benutzen.\" ] },\n  { \"code\": \"F00.0*\", \"name\": \"Demenz bei Alzheimer-Krankheit, mit frühem Beginn (Typ 2)\", \"zusatz_info_code\": \"(G30.0†)\", \"beschreibung\": \"Demenz bei Alzheimer-Krankheit mit Beginn vor dem 65. Lebensjahr. Der Verlauf weist eine vergleichsweise rasche Verschlechterung auf, es bestehen deutliche und vielfältige Störungen der höheren kortikalen Funktionen.\", \"inkl\": [ \"Alzheimer-Krankheit, Typ 2\", \"Präsenile Demenz vom Alzheimer-Typ\", \"Primär degenerative Demenz vom Alzheimer-Typ, präseniler Beginn\" ], \"hinweise\": [ \"Hinweis von F00.-*: Soll das Vorliegen von psychischen oder Verhaltensstörungen spezifisch angegeben werden, so sind sekundäre Schlüsselnummern (U63.-!) zu benutzen.\", \"Hinweis von F00-F03: Soll eine zugrunde liegende Krankheit angegeben werden, ist eine zusätzliche Schlüsselnummer zu benutzen.\" ] },\n  { \"code\": \"F00.1*\", \"name\": \"Demenz bei Alzheimer-Krankheit, mit spätem Beginn (Typ 1)\", \"zusatz_info_code\": \"(G30.1†)\", \"beschreibung\": \"Demenz bei Alzheimer-Krankheit mit Beginn ab dem 65. Lebensjahr, meist in den späten 70er Jahren oder danach, mit langsamer Progredienz und mit Gedächtnisstörungen als Hauptmerkmal.\", \"inkl\": [ \"Alzheimer-Krankheit, Typ 1\", \"Primär degenerative Demenz vom Alzheimer-Typ, seniler Beginn\", \"Senile Demenz vom Alzheimer-Typ (SDAT)\" ], \"hinweise\": [ \"Hinweis von F00.-*: Soll das Vorliegen von psychischen oder Verhaltensstörungen spezifisch angegeben werden, so sind sekundäre Schlüsselnummern (U63.-!) zu benutzen.\", \"Hinweis von F00-F03: Soll eine zugrunde liegende Krankheit angegeben werden, ist eine zusätzliche Schlüsselnummer zu benutzen.\" ] },\n  // ... (weitere F0 Einträge aus Ihrem Beispiel könnten hier folgen)\n  { \"code\": \"F01.-\", \"name\": \"Vaskuläre Demenz\", \"beschreibung\": \"Die vaskuläre Demenz ist das Ergebnis einer Infarzierung des Gehirns als Folge einer vaskulären Krankheit...\", \"inkl\": [\"Arteriosklerotische Demenz\"], \"hinweise\": [\"...\"] },\n  { \"code\": \"F01.0\", \"name\": \"Vaskuläre Demenz mit akutem Beginn\", \"beschreibung\": \"Diese entwickelt sich meist sehr schnell nach einer Reihe von Schlaganfällen...\", \"hinweise\": [\"...\"] }\n];\n\n\n// Initial patient data\nconst initialPatientsData = [\n  { name: \"Kern\", chiffre: \"K040498\", therapyType: \"LZT\", approvedHours: 60, conductedHours: 24, diagnoses: [\"F00.0*\"], sessions: [], hscl11Results: [], bdi2Results: [], fep2Results: [] },\n];\n\n// Modal, ConfirmationModal, PatientForm (wie zuvor)\nconst Modal = ({ isOpen, onClose, title, children, size = \"lg\" }) => { if (!isOpen) return null; const sizeClasses = {sm: 'max-w-sm', md: 'max-w-md', lg: 'max-w-lg', xl: 'max-w-xl', '2xl': 'max-w-2xl', '3xl': 'max-w-3xl', '4xl': 'max-w-4xl', '5xl': 'max-w-5xl'}; return (<div className=\"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex justify-center items-center z-50 p-4\"><div className={`bg-white p-6 rounded-lg shadow-xl w-full ${sizeClasses[size]} max-h-[90vh] overflow-y-auto`}><div className=\"flex justify-between items-center mb-4\"><h2 className=\"text-2xl font-semibold text-gray-800\">{title}</h2><button onClick={onClose} className=\"text-gray-500 hover:text-gray-700\"><XCircle className=\"w-7 h-7\" /></button></div>{children}</div></div>);};\nconst ConfirmationModal = ({ isOpen, onClose, onConfirm, title, message }) => { if (!isOpen) return null; return (<Modal isOpen={isOpen} onClose={onClose} title={title} size=\"sm\"><div className=\"text-center\"><AlertTriangle className=\"mx-auto mb-4 w-12 h-12 text-red-500\" /><p className=\"text-gray-700 mb-6\">{message}</p><div className=\"flex justify-center space-x-4\"><button onClick={onClose} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none\">Abbrechen</button><button onClick={onConfirm} className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none\">Bestätigen</button></div></div></Modal>);};\nconst PatientForm = ({ patient, onSave, onCancel }) => {\n  const [formData, setFormData] = useState(\n    patient || { name: '', chiffre: '', therapyType: 'LZT', approvedHours: 0, conductedHours: 0, diagnoses: [], sessions: [], hscl11Results: [], bdi2Results: [], fep2Results: [] }\n  );\n  useEffect(() => {\n    if (patient) {\n      setFormData({ ...patient, hscl11Results: patient.hscl11Results || [], bdi2Results: patient.bdi2Results || [], fep2Results: patient.fep2Results || [] });\n    } else {\n      setFormData({ name: '', chiffre: '', therapyType: 'LZT', approvedHours: 0, conductedHours: 0, diagnoses: [], sessions: [], hscl11Results: [], bdi2Results: [], fep2Results: [] });\n    }\n  }, [patient]);\n  const handleChange = (e) => { const { name, value, type } = e.target; setFormData((prev) => ({ ...prev, [name]: type === 'number' ? parseInt(value, 10) || 0 : value })); };\n  const handleSubmit = (e) => { e.preventDefault(); onSave(formData); };\n  return ( <form onSubmit={handleSubmit} className=\"space-y-4\"><div><label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\">Name</label><input type=\"text\" name=\"name\" id=\"name\" value={formData.name} onChange={handleChange} required className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" /></div><div><label htmlFor=\"chiffre\" className=\"block text-sm font-medium text-gray-700\">Chiffre</label><input type=\"text\" name=\"chiffre\" id=\"chiffre\" value={formData.chiffre} onChange={handleChange} required className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" /></div><div><label htmlFor=\"therapyType\" className=\"block text-sm font-medium text-gray-700\">Therapieform</label><select name=\"therapyType\" id=\"therapyType\" value={formData.therapyType} onChange={handleChange} className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"><option value=\"LZT\">Langzeittherapie (LZT)</option><option value=\"KZT\">Kurzzeittherapie (KZT)</option></select></div><div><label htmlFor=\"approvedHours\" className=\"block text-sm font-medium text-gray-700\">Genehmigte Stunden</label><input type=\"number\" name=\"approvedHours\" id=\"approvedHours\" value={formData.approvedHours} onChange={handleChange} min=\"0\" className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" /></div><div><label htmlFor=\"conductedHours\" className=\"block text-sm font-medium text-gray-700\">Durchgeführte Stunden</label><input type=\"number\" name=\"conductedHours\" id=\"conductedHours\" value={formData.conductedHours} onChange={handleChange} min=\"0\" className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" /></div><div className=\"flex justify-end space-x-3 pt-4\"><button type=\"button\" onClick={onCancel} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\">Abbrechen</button><button type=\"submit\" className=\"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 flex items-center\"><Save className=\"w-4 h-4 mr-2\" /> Speichern</button></div></form>);\n};\n\n// FEP-2 Definitionen und Berechnungslogik (wie zuvor)\nconst FEP2_ITEMS_TO_REVERSE = [1, 2, 5, 9, 14, 15, 19, 21, 22, 27, 29, 30, 39]; \nconst FEP2_SKALEN_DEFINITION = { WOHLBEFINDEN: { items: [1, 5, 9, 14, 22, 30, 39], minItemsRequired: 7 }, BESCHWERDEN: { items: [4, 6, 7, 8, 10, 12, 23, 24, 31, 34, 38], minItemsRequired: 10 }, BESCHWERDEN_ANGST: { items: [4, 8, 12, 23], minItemsRequired: 4 }, BESCHWERDEN_DEPRESSIVITAET: { items: [7, 10, 24, 31, 34, 38], minItemsRequired: 5 }, INTERPERSONALE_BEZIEHUNG: { items: [11, 13, 16, 18, 20, 25, 26, 28, 32, 33, 36, 40], minItemsRequired: 11 }, INTERPERSONALE_INTROVERTIERT_SCHEU: { items: [28, 36, 40], minItemsRequired: 3 }, INTERPERSONALE_AUSNUTZBAR_NACHGIEBIG: { items: [13, 20, 26], minItemsRequired: 3 }, INTERPERSONALE_KONKURRIEREND_UNTERSTUETZEND: { items: [11, 16, 33], minItemsRequired: 3 }, INTERPERSONALE_SELBSTUNSICHER_ZURUECKHALTEND: { items: [18, 25, 32], minItemsRequired: 3 }, KONGRUENZ: { items: [2, 3, 15, 17, 19, 21, 27, 29, 35, 37], minItemsRequired: 8 }, };\nconst calculateFep2Scores = (itemScoresRaw) => { const itemScores = itemScoresRaw.map((score, index) => { const itemNum = index + 1; if (FEP2_ITEMS_TO_REVERSE.includes(itemNum) && score > 0 && score <=5) { return 6 - score; } return score; }); const answeredItemsCount = itemScores.filter(score => score > 0 && score <= 5).length; const calculatedScales = {}; if (answeredItemsCount >= 32) { const sum = itemScores.reduce((acc, score) => acc + (score > 0 && score <=5 ? score : 0), 0); calculatedScales.gesamtbelastung = answeredItemsCount > 0 ? parseFloat((sum / answeredItemsCount).toFixed(2)) : null; } else { calculatedScales.gesamtbelastung = null; } for (const skalaName in FEP2_SKALEN_DEFINITION) { const def = FEP2_SKALEN_DEFINITION[skalaName]; let sum = 0; let count = 0; def.items.forEach(itemNum => { const score = itemScores[itemNum - 1]; if (score > 0 && score <= 5) { sum += score; count++; } }); if (count >= def.minItemsRequired) { calculatedScales[skalaName.toLowerCase()] = parseFloat((sum / count).toFixed(2)); } else { calculatedScales[skalaName.toLowerCase()] = null; } } return calculatedScales; };\n\n// Gemini API Hilfsfunktion (wie zuvor)\nasync function generateGeminiText(prompt) { let chatHistory = [{ role: \"user\", parts: [{ text: prompt }] }]; const payload = { contents: chatHistory }; const GEMINI_API_KEY = typeof __GEMINI_API_KEY__ !== 'undefined' ? __GEMINI_API_KEY__ : \"\"; const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`; try { const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) }); if (!response.ok) { const errorData = await response.json(); console.error(\"Gemini API error details:\", errorData); const errorMessage = errorData.error?.message || `API request failed with status ${response.status}`; throw new Error(errorMessage); } const result = await response.json(); if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) { return result.candidates[0].content.parts[0].text; } else if (result.candidates && result.candidates.length > 0 && result.candidates[0].finishReason === \"SAFETY\") { console.warn(\"Gemini API response blocked due to safety reasons.\"); return \"Die Antwort wurde aufgrund von Sicherheitsrichtlinien blockiert.\"; } else { console.error(\"Unexpected Gemini API response structure:\", result); throw new Error(\"Unerwartete Antwortstruktur von der API.\"); } } catch (error) { console.error(\"Error calling Gemini API:\", error); throw error; } }\n\n// Haupt-App Komponente\nfunction App() {\n  const [patients, setPatients] = useState([]);\n  const [selectedPatient, setSelectedPatient] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null); \n  const [userId, setUserId] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [isPatientModalOpen, setIsPatientModalOpen] = useState(false);\n  const [editingPatient, setEditingPatient] = useState(null);\n  const [isConfirmDeleteModalOpen, setIsConfirmDeleteModalOpen] = useState(false);\n  const [patientToDeleteId, setPatientToDeleteId] = useState(null);\n  \n  const [newDiagnosis, setNewDiagnosis] = useState('');\n  const [newDiagnosisCode, setNewDiagnosisCode] = useState(''); // Für den Code-Teil der Diagnose\n  const [lookedUpDiagnosisName, setLookedUpDiagnosisName] = useState(''); // Für den Namen aus JSON\n\n  const [newSessionDate, setNewSessionDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newSessionNotes, setNewSessionNotes] = useState('');\n  const [activeDetailTab, setActiveDetailTab] = useState('details');\n  const [newHsclDate, setNewHsclDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newHsclAngst, setNewHsclAngst] = useState(''); \n  const [newHsclDepression, setNewHsclDepression] = useState(''); \n\n  const [newBdiDate, setNewBdiDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newBdiScore, setNewBdiScore] = useState(''); \n\n  const [newFepDate, setNewFepDate] = useState(new Date().toISOString().split('T')[0]);\n  const [fepItemScores, setFepItemScores] = useState(Array(40).fill(0)); \n\n  const [sessionSummaries, setSessionSummaries] = useState({}); \n  const [diagnosisInfo, setDiagnosisInfo] = useState({ code: '', name: '', beschreibung: '', inkl: [], exkl: [], hinweise: [], zusatz_info_code: '', isLoading: false, error: null, isOpen: false, source: '' });\n  \n  const [localIcd10Data, setLocalIcd10Data] = useState({}); // Wird mit { code: details } gefüllt\n\n  // Lokale ICD-10 Daten laden und indizieren\n  useEffect(() => {\n    // In einer echten lokalen App würden Sie hier Ihre JSON-Datei laden, z.B. mit fetch('/icd10f_data.json')\n    // Für dieses Beispiel verwenden wir die eingebetteten icd10F0SampleData\n    const indexedData = {};\n    icd10F0SampleData.forEach(item => {\n        if (item.code) { // Nur Einträge mit einem spezifischen 'code' indizieren\n            indexedData[item.code] = item;\n        }\n        // Optional: Kategorien auch indizieren, falls benötigt\n        if (item.code_kategorie) {\n            // Um Überschreibungen zu vermeiden, wenn mehrere Einträge dieselbe code_kategorie haben,\n            // könnte man hier eine komplexere Logik oder ein Array verwenden.\n            // Für eine einfache Suche nach spezifischen Codes ist dies erstmal nicht primär.\n            // indexedData[item.code_kategorie] = item; \n        }\n    });\n    setLocalIcd10Data(indexedData);\n    console.log(\"Lokale ICD-10 Daten indiziert:\", indexedData);\n  }, []);\n\n  // Funktion zum Suchen eines ICD-10 Codes in den lokalen Daten\n  const findIcd10CodeLocal = useCallback((codeToFind) => {\n    // Versuche exakte Übereinstimmung\n    let found = localIcd10Data[codeToFind];\n    if (found) return found;\n\n    // Versuche Übereinstimmung ohne Suffixe wie \".-*\" oder \"*\"\n    const baseCode = codeToFind.replace(/(\\.-\\*|\\.\\*|\\*|-)$/, '');\n    found = localIcd10Data[`${baseCode}.-*`] || localIcd10Data[`${baseCode}.*`] || localIcd10Data[baseCode];\n    if (found) return found;\n    \n    // Fallback: Suche nach Codes, die mit dem eingegebenen Code beginnen (für breitere Kategorien)\n    // Dies ist nützlich, wenn der Benutzer z.B. \"F00\" eingibt und Infos zu \"F00.-*\" sehen möchte.\n    const possibleCategoryCode = Object.keys(localIcd10Data).find(\n        key => key.startsWith(codeToFind) && (localIcd10Data[key].code_kategorie || localIcd10Data[key].code) // Sicherstellen, dass es ein relevanter Eintrag ist\n    );\n    if (possibleCategoryCode) return localIcd10Data[possibleCategoryCode];\n\n    return null;\n  }, [localIcd10Data]);\n\n  // Effekt für die Suche bei Eingabe einer neuen Diagnose\n  useEffect(() => {\n    if (newDiagnosisCode.trim() !== '') {\n        const found = findIcd10CodeLocal(newDiagnosisCode.trim().toUpperCase());\n        if (found && found.name) {\n            setLookedUpDiagnosisName(found.name);\n        } else {\n            setLookedUpDiagnosisName('');\n        }\n    } else {\n        setLookedUpDiagnosisName('');\n    }\n  }, [newDiagnosisCode, findIcd10CodeLocal]);\n\n\n  const getPatientsCollectionPath = useCallback(() => { \n    if (!userId) return null; \n    return `/artifacts/${appId}/users/${userId}/patients`; \n  }, [userId]);\n\n  useEffect(() => { \n    const unsubscribe = onAuthStateChanged(auth, async (user) => { \n      if (user) { \n        setUserId(user.uid); \n      } else { \n        try { \n          if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) { \n            await signInWithCustomToken(auth, __initial_auth_token); \n          } else { \n            await signInAnonymously(auth); \n          } \n        } catch (e) { \n          console.error(\"Error signing in: \", e); \n          setError(\"Fehler bei der Authentifizierung.\"); \n        } \n      } \n      setIsAuthReady(true); \n    }); \n    return () => unsubscribe(); \n  }, []);\n\n  const seedInitialData = useCallback(async () => { \n    if (!userId) return; \n    const collectionPath = getPatientsCollectionPath(); \n    if (!collectionPath) return; \n    try { \n      const patientsCollection = collection(db, collectionPath); \n      const querySnapshot = await getDocs(patientsCollection); \n      if (querySnapshot.empty) { \n        const batch = writeBatch(db); \n        initialPatientsData.forEach(patientData => { \n          const newPatientRef = doc(patientsCollection); \n          batch.set(newPatientRef, { ...patientData, hscl11Results: patientData.hscl11Results || [], bdi2Results: patientData.bdi2Results || [], fep2Results: patientData.fep2Results || [] }); \n        }); \n        await batch.commit(); \n        console.log(\"Initiale Daten erfolgreich geschrieben.\");\n      } else {\n        console.log(\"Vorhandene Patientendaten gefunden, Seed wird übersprungen.\");\n      }\n    } catch (err) { \n      console.error(\"Error seeding initial data:\", err); \n      setError(\"Fehler beim Laden der initialen Daten.\"); \n    } \n  }, [userId, getPatientsCollectionPath]);\n  \n  useEffect(() => {\n    if (!isAuthReady || !userId) { \n      if(isAuthReady && !userId) setError(\"Authentifizierung fehlgeschlagen. Bitte laden Sie die Seite neu.\");\n      return; \n    }\n    const collectionPath = getPatientsCollectionPath(); \n    if (!collectionPath) {\n        console.log(\"Collection path ist nicht verfügbar für Firestore Listener.\");\n        return;\n    }\n    \n    setIsLoading(true); \n    seedInitialData(); \n\n    const patientsQuery = query(collection(db, collectionPath));\n    const unsubscribe = onSnapshot(patientsQuery, (snapshot) => {\n      let patientsData = snapshot.docs.map(docSnap => ({ \n        id: docSnap.id, \n        ...docSnap.data(), \n        hscl11Results: docSnap.data().hscl11Results || [], \n        bdi2Results: docSnap.data().bdi2Results || [], \n        fep2Results: docSnap.data().fep2Results || [] \n      }));\n      patientsData.sort((a, b) => a.name.localeCompare(b.name)); \n      setPatients(patientsData); \n      setIsLoading(false); \n    }, (err) => {\n      console.error(\"Error fetching patients:\", err);\n      setError(\"Fehler beim Laden der Patientendaten. Stellen Sie sicher, dass Firestore korrekt konfiguriert ist.\");\n      setIsLoading(false);\n    });\n\n    return () => unsubscribe(); \n  }, [isAuthReady, userId, getPatientsCollectionPath, seedInitialData]); \n\n  useEffect(() => {\n    if (selectedPatient && selectedPatient.id && patients.length > 0) {\n        const currentPatientDataFromList = patients.find(p => p.id === selectedPatient.id);\n        if (currentPatientDataFromList) {\n            if (JSON.stringify(currentPatientDataFromList) !== JSON.stringify(selectedPatient)) {\n                 setSelectedPatient(currentPatientDataFromList);\n            }\n        } else {\n            setSelectedPatient(null);\n        }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps \n  }, [patients, selectedPatient?.id]); \n\n\n  const handleSavePatient = async (patientData) => { \n    if (!userId) { setError(\"Benutzer nicht authentifiziert.\"); return; } \n    const collectionPath = getPatientsCollectionPath(); \n    if (!collectionPath) return; \n    const dataToSave = { ...patientData, hscl11Results: patientData.hscl11Results || [], bdi2Results: patientData.bdi2Results || [], fep2Results: patientData.fep2Results || [] }; \n    try { \n      if (editingPatient && editingPatient.id) { \n        const patientRef = doc(db, collectionPath, editingPatient.id); \n        await setDoc(patientRef, dataToSave, { merge: true }); \n      } else { \n        await addDoc(collection(db, collectionPath), dataToSave); \n      } \n      setIsPatientModalOpen(false); \n      setEditingPatient(null); \n    } catch (err) { \n      console.error(\"Error saving patient:\", err); \n      setError(\"Fehler beim Speichern des Patienten.\"); \n    } \n  };\n  const openDeleteConfirmation = (patientId) => { setPatientToDeleteId(patientId); setIsConfirmDeleteModalOpen(true); };\n  const confirmDeletePatient = async () => { \n    if (!patientToDeleteId || !userId) { setError(\"Löschvorgang fehlgeschlagen.\"); setIsConfirmDeleteModalOpen(false); return; } \n    const collectionPath = getPatientsCollectionPath(); \n    if (!collectionPath) return; \n    try { \n      const patientRef = doc(db, collectionPath, patientToDeleteId); \n      await deleteDoc(patientRef); \n      if (selectedPatient && selectedPatient.id === patientToDeleteId) { \n        setSelectedPatient(null); \n      } \n      setPatientToDeleteId(null); \n      setIsConfirmDeleteModalOpen(false); \n    } catch (err) { \n      console.error(\"Error deleting patient:\", err); \n      setError(\"Fehler beim Löschen des Patienten.\"); \n      setIsConfirmDeleteModalOpen(false); \n    } \n  };\n  \n  const handleAddDiagnosis = async () => {\n    const codeToAdd = newDiagnosisCode.trim().toUpperCase();\n    if (!selectedPatient || !codeToAdd || !userId) return;\n    \n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    \n    // Verwende den Code, optional mit dem gefundenen Namen, wenn der Benutzer keinen eigenen Namen eingegeben hat\n    const diagnosisString = newDiagnosis.trim() ? `${codeToAdd}: ${newDiagnosis.trim()}` : (lookedUpDiagnosisName ? `${codeToAdd}: ${lookedUpDiagnosisName}` : codeToAdd);\n\n    const updatedDiagnoses = [...(selectedPatient.diagnoses || []), diagnosisString];\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { \n        await setDoc(patientRef, { diagnoses: updatedDiagnoses }, { merge: true }); \n        setNewDiagnosisCode(''); // Feld für Code zurücksetzen\n        setNewDiagnosis('');      // Feld für manuelle Beschreibung zurücksetzen\n        setLookedUpDiagnosisName(''); // Nachschlagefeld zurücksetzen\n    } \n    catch (err) { console.error(\"Error adding diagnosis:\", err); setError(\"Fehler beim Hinzufügen der Diagnose.\");}\n  };\n  const handleRemoveDiagnosis = async (diagnosisStringToRemove) => { // Nimmt jetzt den ganzen String\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const updatedDiagnoses = selectedPatient.diagnoses.filter(d => d !== diagnosisStringToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { diagnoses: updatedDiagnoses }, { merge: true }); }\n    catch (err) { console.error(\"Error removing diagnosis:\", err); setError(\"Fehler beim Entfernen der Diagnose.\");}\n  };\n\n  const handleAddSession = async () => { /* ... wie zuvor ... */ };\n  const handleUpdateConductedHours = async (patient, hoursStr) => { /* ... wie zuvor ... */ };\n  const handleAddHsclResult = async () => { /* ... wie zuvor ... */ };\n  const handleRemoveHsclResult = async (dateToRemove) => { /* ... wie zuvor ... */ };\n  const handleAddBdiResult = async () => { /* ... wie zuvor ... */ };\n  const handleRemoveBdiResult = async (dateToRemove) => { /* ... wie zuvor ... */ };\n  const handleFepItemChange = (index, value) => { /* ... wie zuvor ... */ };\n  const handleAddFepResult = async () => { /* ... wie zuvor ... */ };\n  const handleRemoveFepResult = async (dateToRemove) => { /* ... wie zuvor ... */ };\n  const fetchSessionSummary = async (sessionNotes, sessionIndex) => { /* ... wie zuvor ... */ };\n\n  // Modifizierte Funktion, um lokale ICD-10 Daten anzuzeigen\n  const showDiagnosisInfo = (diagnosisString) => {\n    const codeMatch = diagnosisString.match(/^([A-Z][0-9]{1,2}(\\.[0-9A-Z]{1,2})?[\\*\\-\\!]?)/i); // Extrahiert den Code am Anfang\n    const code = codeMatch ? codeMatch[0].toUpperCase() : diagnosisString.toUpperCase();\n\n    const localData = findIcd10CodeLocal(code);\n    if (localData) {\n        setDiagnosisInfo({\n            code: localData.code || code,\n            name: localData.name || '',\n            beschreibung: localData.beschreibung || localData.beschreibung_kategorie || '',\n            inkl: localData.inkl || [],\n            exkl: localData.exkl || [],\n            hinweise: localData.hinweise || localData.hinweise_kategorie || [],\n            zusatz_info_code: localData.zusatz_info_code || '',\n            isLoading: false,\n            error: null,\n            isOpen: true,\n            source: 'local'\n        });\n    } else {\n        // Fallback zur Gemini API, wenn lokal nichts gefunden wurde\n        fetchDiagnosisInfoGemini(code);\n    }\n  };\n\n  const fetchDiagnosisInfoGemini = async (diagnosisCode) => {\n    setDiagnosisInfo({ code: diagnosisCode, info: '', isLoading: true, error: null, isOpen: true, source: 'gemini' });\n    const prompt = `Erkläre die ICD-10 Diagnose '${diagnosisCode}' kurz und verständlich für einen Laien. Nenne auch typische Symptome und ggf. wichtige Differentialdiagnosen oder Komorbiditäten, falls relevant. Antworte auf Deutsch.`;\n    try {\n        const info = await generateGeminiText(prompt);\n        setDiagnosisInfo(prev => ({ ...prev, info: info, isLoading: false }));\n    } catch (e) {\n        setDiagnosisInfo(prev => ({ ...prev, isLoading: false, error: e.message }));\n        setError(`Fehler beim Abrufen der Diagnose-Info via Gemini: ${e.message}`);\n    }\n  };\n\n\n  const totalApprovedHours = patients.reduce((sum, p) => sum + (p.approvedHours || 0), 0);\n  const totalConductedHours = patients.reduce((sum, p) => sum + (p.conductedHours || 0), 0);\n  const overallProgressTarget = 600;\n  const overallProgress = overallProgressTarget > 0 ? (totalConductedHours / overallProgressTarget) * 100 : 0;\n\n  if (!isAuthReady) return <div className=\"flex justify-center items-center h-screen text-xl font-semibold text-gray-700\">Authentifizierung wird initialisiert...</div>;\n  if (isLoading && isAuthReady && userId) return <div className=\"flex justify-center items-center h-screen text-xl font-semibold text-gray-700\">Lade Patientendaten...</div>;\n  \n  const bdiCutoffs = [ { y1: 0, y2: 8, label: \"Keine Depression\", color: \"rgba(75, 192, 192, 0.2)\" }, { y1: 9, y2: 13, label: \"Minimale Depression\", color: \"rgba(54, 162, 235, 0.2)\" }, { y1: 14, y2: 19, label: \"Leichte Depression\", color: \"rgba(255, 206, 86, 0.2)\" }, { y1: 20, y2: 28, label: \"Mittelschwere Depression\", color: \"rgba(255, 159, 64, 0.2)\" }, { y1: 29, y2: 63, label: \"Schwere Depression\", color: \"rgba(255, 99, 132, 0.2)\" }, ];\n  const bdiAxisTicks = [0, 8, 13, 19, 28, 63]; \n  \n  const inputStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\";\n  const btnPrimary = \"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm flex items-center justify-center\";\n  const btnDanger = \"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md flex items-center\";\n  const btnInfo = \"bg-sky-500 hover:bg-sky-600 text-white font-semibold py-1 px-2 text-xs rounded-md flex items-center\";\n\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 font-sans\">\n      <header className=\"bg-indigo-700 text-white shadow-lg\"><div className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center\"><h1 className=\"text-3xl font-bold tracking-tight\">Patientenverwaltung</h1>{userId && <p className=\"text-xs opacity-75\">UserID: {userId}</p>}</div></header>\n      <main className=\"container mx-auto p-4 sm:p-6 lg:p-8\">\n        <div className=\"mb-6 flex justify-between items-center\"><h2 className=\"text-2xl font-semibold text-gray-800\">Patientenübersicht</h2><button onClick={() => { setEditingPatient(null); setIsPatientModalOpen(true); }} className={`${btnPrimary} py-2 px-4`}><UserPlus className=\"w-5 h-5 mr-2\" /> Patient hinzufügen</button></div>\n        \n        <div className=\"bg-white shadow-xl rounded-lg overflow-hidden mb-8\"><div className=\"overflow-x-auto\"><table className=\"w-full min-w-max table-auto text-left\">\n            <thead className=\"bg-gray-100 border-b border-gray-300\"><tr>{['Name', 'Chiffre', 'Therapie', 'Genehm. Std.', 'Durchgef. Std.', 'Fortschritt', 'Aktionen'].map(header => (<th key={header} className=\"py-3 px-4 text-sm font-semibold text-gray-600 uppercase tracking-wider\">{header}</th>))}</tr></thead>\n            <tbody className=\"divide-y divide-gray-200\">\n                {patients.length === 0 && !isLoading && (<tr><td colSpan=\"7\" className=\"text-center py-10 text-gray-500\">Keine Patienten gefunden. Fügen Sie einen neuen Patienten hinzu.</td></tr>)}\n                {patients.map((patient) => { const progress = patient.approvedHours > 0 ? (patient.conductedHours / patient.approvedHours) * 100 : 0; return ( <tr key={patient.id} className={`hover:bg-indigo-50 cursor-pointer ${selectedPatient?.id === patient.id ? 'bg-indigo-100' : ''}`} onClick={() => { setSelectedPatient(patient); setActiveDetailTab('details'); setSessionSummaries({});  }}><td className=\"py-3 px-4 whitespace-nowrap text-sm font-medium text-gray-800\">{patient.name}</td><td className=\"py-3 px-4 whitespace-nowrap text-sm text-gray-600\">{patient.chiffre}</td><td className=\"py-3 px-4 whitespace-nowrap text-sm text-gray-600\">{patient.therapyType}</td><td className=\"py-3 px-4 whitespace-nowrap text-sm text-gray-600 text-center\">{patient.approvedHours}</td><td className=\"py-3 px-4 whitespace-nowrap text-sm text-gray-600 text-center\">{patient.conductedHours}</td><td className=\"py-3 px-4 whitespace-nowrap\"><div className=\"w-full bg-gray-200 rounded-full h-2.5\"><div className={`h-2.5 rounded-full ${progress > 80 ? 'bg-red-500' : progress > 50 ? 'bg-yellow-400' : 'bg-green-500'}`} style={{ width: `${Math.min(progress, 100)}%` }}></div></div><span className=\"text-xs text-gray-500 block text-center mt-1\">{Math.round(progress)}%</span></td><td className=\"py-3 px-4 whitespace-nowrap text-sm space-x-2\"><button onClick={(e) => { e.stopPropagation(); setEditingPatient(patient); setIsPatientModalOpen(true); }} className=\"text-indigo-600 hover:text-indigo-800 transition duration-150 p-1 rounded hover:bg-indigo-100\" title=\"Bearbeiten\"><Edit3 className=\"w-5 h-5\" /></button><button onClick={(e) => { e.stopPropagation(); openDeleteConfirmation(patient.id); }} className=\"text-red-500 hover:text-red-700 transition duration-150 p-1 rounded hover:bg-red-100\" title=\"Löschen\"><Trash2 className=\"w-5 h-5\" /></button></td></tr>);})}\n            </tbody>\n            <tfoot className=\"bg-gray-50 border-t-2 border-gray-300\"><tr><td colSpan=\"3\" className=\"py-3 px-4 text-sm font-semibold text-gray-700 text-right\">Gesamt:</td><td className=\"py-3 px-4 text-sm font-semibold text-gray-700 text-center\">{totalApprovedHours}</td><td className=\"py-3 px-4 text-sm font-semibold text-gray-700 text-center\">{totalConductedHours}</td><td className=\"py-3 px-4 whitespace-nowrap\" colSpan=\"2\"><div className=\"flex items-center\"><span className=\"text-xs text-gray-600 mr-2 w-28\">Fortschritt (600 Std.):</span><div className=\"w-full bg-gray-200 rounded-full h-2.5 flex-grow\"><div className=\"bg-blue-500 h-2.5 rounded-full\" style={{ width: `${Math.min(overallProgress, 100)}%` }}></div></div><span className=\"text-xs text-gray-600 ml-2\">{Math.round(overallProgress)}%</span></div></td></tr></tfoot>\n        </table></div></div>\n\n        {selectedPatient && (\n          <div className=\"bg-white shadow-xl rounded-lg p-6 mb-8\">\n            <div className=\"flex justify-between items-center mb-1\"><h3 className=\"text-2xl font-semibold text-indigo-700\">{selectedPatient.name}</h3><button onClick={() => {setSelectedPatient(null); setSessionSummaries({}); }} className=\"text-gray-500 hover:text-gray-700\"><XCircle className=\"w-7 h-7\" /></button></div>\n            \n            <div className=\"border-b border-gray-200 mb-6\">\n                <nav className=\"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto\" aria-label=\"Tabs\">\n                    {['details', 'testdiagnostik', 'bdi2', 'fep2'].map(tab => (\n                        <button key={tab} onClick={() => setActiveDetailTab(tab)}\n                            className={`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${activeDetailTab === tab ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`}>\n                            {tab === 'details' && 'Stammdaten & Sitzungen'} \n                            {tab === 'testdiagnostik' && 'HSCL-11'} \n                            {tab === 'bdi2' && 'BDI-II'} \n                            {tab === 'fep2' && 'FEP-2'}\n                        </button>\n                    ))}\n                </nav>\n            </div>\n\n            {activeDetailTab === 'details' && (\n              <div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n                    <div><p className=\"text-sm text-gray-500\">Chiffre</p><p className=\"text-lg text-gray-800\">{selectedPatient.chiffre}</p></div>\n                    <div><p className=\"text-sm text-gray-500\">Therapieform</p><p className=\"text-lg text-gray-800\">{selectedPatient.therapyType}</p></div>\n                    <div><p className=\"text-sm text-gray-500\">Genehmigte Stunden</p><p className=\"text-lg text-gray-800\">{selectedPatient.approvedHours}</p></div>\n                    <div>\n                        <label htmlFor=\"conductedHoursDetail\" className=\"block text-sm font-medium text-gray-500\">Durchgeführte Stunden</label>\n                        <div className=\"flex items-center mt-1\">\n                            <input type=\"number\" id=\"conductedHoursDetail\" value={selectedPatient.conductedHours} \n                                   onChange={(e) => setSelectedPatient(prev => ({...prev, conductedHours: e.target.value }))} \n                                   onBlur={(e) => handleUpdateConductedHours(selectedPatient, e.target.value)} \n                                   min=\"0\" max={selectedPatient.approvedHours} className={inputStd + \" w-24\"}/>\n                            <span className=\"ml-2 text-sm text-gray-600\">/ {selectedPatient.approvedHours}</span>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"mb-6\"> \n                  <h4 className=\"text-xl font-semibold text-gray-700 mb-3\">ICD-10 F-Diagnosen</h4>\n                  <div className=\"mb-3\">\n                    <div className=\"flex items-end space-x-2\">\n                        <div className=\"flex-grow\">\n                            <label htmlFor=\"newDiagnosisCode\" className=\"block text-xs font-medium text-gray-700\">Code (z.B. F32.2)</label>\n                            <input type=\"text\" id=\"newDiagnosisCode\" value={newDiagnosisCode} onChange={(e) => setNewDiagnosisCode(e.target.value.toUpperCase())} placeholder=\"F-Code\" className={`${inputStd} mt-1`}/>\n                        </div>\n                        <div className=\"flex-grow\">\n                            <label htmlFor=\"newDiagnosisName\" className=\"block text-xs font-medium text-gray-700\">Manuelle Beschreibung (optional)</label>\n                            <input type=\"text\" id=\"newDiagnosisName\" value={newDiagnosis} onChange={(e) => setNewDiagnosis(e.target.value)} placeholder=\"Eigene Beschreibung\" className={`${inputStd} mt-1`}/>\n                        </div>\n                        <button onClick={handleAddDiagnosis} className={`${btnPrimary} bg-green-500 hover:bg-green-600 py-2 px-3 h-10`}><PlusCircle className=\"w-5 h-5 mr-1\" /> Hinzufügen</button>\n                    </div>\n                    {lookedUpDiagnosisName && <p className=\"text-xs text-indigo-600 mt-1\">Gefunden: {lookedUpDiagnosisName}</p>}\n                  </div>\n                  <ul className=\"space-y-1 mb-3\">\n                    {(selectedPatient.diagnoses || []).map((diagString, index) => ( \n                        <li key={index} className=\"flex justify-between items-center bg-gray-50 p-2 rounded-md\">\n                            <span className=\"text-sm text-gray-700\">{diagString}</span>\n                            <div className=\"flex items-center space-x-2\">\n                                <button onClick={() => showDiagnosisInfo(diagString)} className={`${btnInfo} p-1`} title=\"Info zu dieser Diagnose abrufen\">\n                                    <FileJson2 className=\"w-4 h-4 mr-1\"/> Info\n                                </button>\n                                <button onClick={() => handleRemoveDiagnosis(diagString)} className={`${btnDanger} p-1 text-xs`}><Trash2 className=\"w-4 h-4\" /></button>\n                            </div>\n                        </li>\n                    ))}\n                    {(selectedPatient.diagnoses || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine Diagnosen erfasst.</p>}\n                  </ul>\n                </div>\n                <div> \n                  <h4 className=\"text-xl font-semibold text-gray-700 mb-3\">Sitzungsdokumentation</h4>\n                  <div className=\"bg-gray-50 p-4 rounded-lg mb-4\"><div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3\"><div><label htmlFor=\"sessionDate\" className=\"block text-sm font-medium text-gray-700\">Datum</label><input type=\"date\" id=\"sessionDate\" value={newSessionDate} onChange={(e) => setNewSessionDate(e.target.value)} className={inputStd}/></div><div className=\"md:col-span-2\"><label htmlFor=\"sessionNotes\" className=\"block text-sm font-medium text-gray-700\">Notizen</label><textarea id=\"sessionNotes\" value={newSessionNotes} onChange={(e) => setNewSessionNotes(e.target.value)} rows=\"3\" placeholder=\"Sitzungsnotizen...\" className={inputStd}></textarea></div></div><button onClick={handleAddSession} className={`${btnPrimary} bg-blue-500 hover:bg-blue-600`}><PlusCircle className=\"w-5 h-5 mr-2\" /> Sitzung hinzufügen</button></div>\n                  <h5 className=\"text-md font-semibold text-gray-600 mb-2\">Protokollierte Sitzungen:</h5>\n                  <div className=\"space-y-3 max-h-96 overflow-y-auto pr-2\"> \n                    {(selectedPatient.sessions || []).map((session, index) => (\n                        <div key={index} className=\"bg-white border border-gray-200 p-3 rounded-md shadow-sm\">\n                            <div className=\"flex justify-between items-start\">\n                                <p className=\"text-sm font-semibold text-gray-700\">Datum: {new Date(session.date).toLocaleDateString('de-DE')}</p>\n                                <button onClick={() => fetchSessionSummary(session.notes, index)} \n                                        disabled={sessionSummaries[index]?.isLoading}\n                                        className={`${btnInfo} text-xs`} title=\"Sitzungsnotizen zusammenfassen\">\n                                    {sessionSummaries[index]?.isLoading ? 'Lädt...' : '✨ Zusammenf.'}\n                                </button>\n                            </div>\n                            <p className=\"text-sm text-gray-600 whitespace-pre-wrap mt-1\">{session.notes}</p>\n                            {sessionSummaries[index]?.summary && !sessionSummaries[index]?.isLoading && (\n                                <div className=\"mt-2 p-2 bg-sky-50 border border-sky-200 rounded-md text-sm text-sky-700\">\n                                    <p className=\"font-semibold\">Zusammenfassung:</p>\n                                    <p className=\"whitespace-pre-wrap\">{sessionSummaries[index].summary}</p>\n                                </div>\n                            )}\n                            {sessionSummaries[index]?.error && (\n                                <p className=\"mt-2 text-xs text-red-500\">Fehler bei Zusammenfassung: {sessionSummaries[index].error}</p>\n                            )}\n                        </div>\n                    ))} \n                    {(selectedPatient.sessions || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine Sitzungen dokumentiert.</p>}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {activeDetailTab === 'testdiagnostik' && ( /* HSCL-11 Tab Inhalt */ <div> {/* ... (Inhalt wie zuvor) ... */} </div>)}\n            {activeDetailTab === 'bdi2' && ( /* BDI-II Tab Inhalt */ <div> {/* ... (Inhalt wie zuvor) ... */} </div>)}\n            {activeDetailTab === 'fep2' && ( /* FEP-2 Tab Inhalt */ <div> {/* ... (Inhalt wie zuvor) ... */} </div>)}\n          </div>\n        )}\n\n        <Modal isOpen={isPatientModalOpen} onClose={() => { setIsPatientModalOpen(false); setEditingPatient(null); }} title={editingPatient ? 'Patient bearbeiten' : 'Neuen Patienten anlegen'}><PatientForm patient={editingPatient} onSave={handleSavePatient} onCancel={() => { setIsPatientModalOpen(false); setEditingPatient(null); }} /></Modal>\n        <ConfirmationModal isOpen={isConfirmDeleteModalOpen} onClose={() => setIsConfirmDeleteModalOpen(false)} onConfirm={confirmDeletePatient} title=\"Patient löschen\" message={`Möchten Sie den Patienten wirklich endgültig löschen?`} />\n        \n        <Modal isOpen={diagnosisInfo.isOpen} onClose={() => setDiagnosisInfo(prev => ({...prev, isOpen: false}))} title={`${diagnosisInfo.source === 'local' ? 'Lokale ICD-10 Info' : 'Gemini ICD-10 Info'}: ${diagnosisInfo.code || ''}`} size=\"3xl\">\n            {diagnosisInfo.isLoading && <p className=\"text-center py-4\">Informationen werden geladen...</p>}\n            {diagnosisInfo.error && <p className=\"text-red-600 bg-red-100 p-3 rounded-md\">Fehler: {diagnosisInfo.error}</p>}\n            {!diagnosisInfo.isLoading && diagnosisInfo.source === 'gemini' && diagnosisInfo.info && (\n                <div className=\"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed p-2\">{diagnosisInfo.info}</div>\n            )}\n            {!diagnosisInfo.isLoading && diagnosisInfo.source === 'local' && (\n                <div className=\"text-sm text-gray-700 leading-relaxed p-2 space-y-3\">\n                    <h3 className=\"text-lg font-semibold text-indigo-700\">{diagnosisInfo.name} <span className=\"text-gray-500 text-base\">({diagnosisInfo.code})</span></h3>\n                    {diagnosisInfo.zusatz_info_code && <p className=\"text-xs text-gray-500\">Zusatz: {diagnosisInfo.zusatz_info_code}</p>}\n                    {diagnosisInfo.beschreibung && <p><strong className=\"font-medium text-gray-800\">Beschreibung:</strong> {diagnosisInfo.beschreibung}</p>}\n                    {diagnosisInfo.inkl && diagnosisInfo.inkl.length > 0 && (\n                        <div><strong className=\"font-medium text-gray-800\">Inklusionen:</strong><ul className=\"list-disc list-inside ml-4\">{diagnosisInfo.inkl.map((item, i) => <li key={i}>{item}</li>)}</ul></div>\n                    )}\n                    {diagnosisInfo.exkl && diagnosisInfo.exkl.length > 0 && (\n                        <div><strong className=\"font-medium text-gray-800\">Exklusionen:</strong><ul className=\"list-disc list-inside ml-4\">{diagnosisInfo.exkl.map((item, i) => <li key={i}>{item}</li>)}</ul></div>\n                    )}\n                    {diagnosisInfo.hinweise && diagnosisInfo.hinweise.length > 0 && (\n                        <div><strong className=\"font-medium text-gray-800\">Hinweise:</strong><ul className=\"list-disc list-inside ml-4\">{diagnosisInfo.hinweise.map((item, i) => <li key={i}>{item}</li>)}</ul></div>\n                    )}\n                </div>\n            )}\n        </Modal>\n\n        {error && (<div className=\"fixed bottom-4 right-4 p-4 max-w-sm text-sm text-red-700 bg-red-100 border border-red-400 rounded-md shadow-lg z-[100]\">{error}<button onClick={() => setError(null)} className=\"ml-4 mt-2 sm:mt-0 sm:ml-2 px-2 py-1 text-red-900 underline rounded-md hover:bg-red-200 text-xs\">Ok</button></div>)}\n      </main>\n      <footer className=\"text-center py-6 text-sm text-gray-500 border-t border-gray-200 mt-10\">Patientenverwaltung &copy; {new Date().getFullYear()}</footer>\n    </div>\n  );\n}\n\nconst CustomBdiLabel = (props) => {\n    const { x, y, width, text } = props;\n    if (typeof x !== 'number' || isNaN(x) || \n        typeof y !== 'number' || isNaN(y) ||\n        typeof width !== 'number' || isNaN(width) || width <= 0) {\n        return null; \n    }\n    const labelX = x + width / 2;\n    return ( <text x={labelX} y={y} fill=\"#666\" textAnchor=\"middle\" dy={-4} fontSize=\"10\">{text}</text> );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}