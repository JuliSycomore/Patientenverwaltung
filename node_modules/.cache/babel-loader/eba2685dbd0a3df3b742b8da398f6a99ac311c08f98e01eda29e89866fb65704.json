{"ast":null,"code":"var _jsxFileName = \"/Users/julianrogowski/Desktop/patientenverwaltung-app/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n/* global __GEMINI_API_KEY__ */\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from 'firebase/auth';\nimport { getFirestore, collection, doc, addDoc, getDocs, setDoc, deleteDoc, onSnapshot, query, writeBatch } from 'firebase/firestore';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, ReferenceArea } from 'recharts';\nimport SCL90RComponent from './components/SCL90R.js';\n\n// Lucide-React Icons\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserPlus = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 228\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"9\",\n    cy: \"7\",\n    r: \"4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 282\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"19\",\n    x2: \"19\",\n    y1: \"8\",\n    y2: \"14\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 312\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"22\",\n    x2: \"16\",\n    y1: \"11\",\n    y2: \"11\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 351\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 16,\n  columnNumber: 51\n}, this);\n_c = UserPlus;\nconst Edit3 = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 20h9\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 225\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 246\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 17,\n  columnNumber: 48\n}, this);\n_c2 = Edit3;\nconst Trash2 = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"3 6 5 6 21 6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 226\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 260\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"10\",\n    y1: \"11\",\n    x2: \"10\",\n    y2: \"17\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 351\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"14\",\n    y1: \"11\",\n    x2: \"14\",\n    y2: \"17\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 391\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 18,\n  columnNumber: 49\n}, this);\n_c3 = Trash2;\nconst PlusCircleIcon = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 234\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"8\",\n    x2: \"12\",\n    y2: \"16\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 267\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"8\",\n    y1: \"12\",\n    x2: \"16\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 306\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 19,\n  columnNumber: 57\n}, this);\n_c4 = PlusCircleIcon;\nconst XCircle = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 227\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"15\",\n    y1: \"9\",\n    x2: \"9\",\n    y2: \"15\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 267\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"9\",\n    y1: \"9\",\n    x2: \"15\",\n    y2: \"15\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 310\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 20,\n  columnNumber: 50\n}, this);\n_c5 = XCircle;\nconst Save = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 224\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"17 21 17 13 7 13 7 21\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 300\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"7 3 7 8 15 8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 343\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 21,\n  columnNumber: 47\n}, this);\n_c6 = Save;\nconst AlertTriangle = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 233\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"9\",\n    x2: \"12\",\n    y2: \"13\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 339\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"17\",\n    x2: \"12.01\",\n    y2: \"17\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 383\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 22,\n  columnNumber: 56\n}, this);\n_c7 = AlertTriangle;\nconst InfoIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 228\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"16\",\n    x2: \"12\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 268\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"8\",\n    x2: \"12.01\",\n    y2: \"8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 313\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 23,\n  columnNumber: 51\n}, this);\n_c8 = InfoIcon;\nconst FileJson2 = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 228\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M14 2v6h6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 291\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 12h1.6a2 2 0 0 0 1.9-3.4L6 6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 312\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 18h1.6a2 2 0 0 1 1.9 3.4L6 24\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 355\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 12h1.6a2 2 0 0 1 1.9-3.4L14 6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 399\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 18h1.6a2 2 0 0 0 1.9 3.4L14 24\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 444\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 24,\n  columnNumber: 51\n}, this);\n_c9 = FileJson2;\nconst WandSparkles = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m9.5 2.55 1.294 1.294a1 1 0 0 0 1.414 0L13.5 2.55\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 231\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4.94 4.94 6.22 6.22a1 1 0 0 0 1.41 0l1.29-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 292\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M2.55 9.51 3.84 10.8a1 1 0 0 0 1.41 0l1.3-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 351\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m19.07 4.93-1.29 1.29a1 1 0 0 1-1.41 0l-1.29-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 409\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M21.45 9.51_3.84 10.8a1 1 0 0 1-1.41 0l-1.3-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 470\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M14.5 12.94a1 1 0 0 0 0 1.41l1.29 1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 530\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M10.8 17.78a1 1 0 0 0 0 1.41l1.29 1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 580\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M17.78 10.8a1 1 0 0 0 0 1.41l1.29 1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 630\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 10.5V4.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 680\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 10.5C7 11 4 15 4 20\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 704\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 10.5c5 .5 8 4.5 8 9.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 739\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 25,\n  columnNumber: 54\n}, this);\n_c0 = WandSparkles;\nconst LogOut = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 223\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"16 17 21 12 16 7\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 274\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"21\",\n    y1: \"12\",\n    x2: \"9\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 311\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 26,\n  columnNumber: 46\n}, this);\n\n// Ihre Firebase Konfiguration:\n_c1 = LogOut;\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDZ_qqqKW7WDCZ9botek2VBwXNMQO3JYwU\",\n  authDomain: \"psychotherapie0512.firebaseapp.com\",\n  projectId: \"psychotherapie0512\",\n  storageBucket: \"psychotherapie0512.firebasestorage.app\",\n  messagingSenderId: \"131279046361\",\n  appId: \"1:131279046361:web:e5dd2d18b206fb820b60c8\"\n};\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst firestoreAppId = 'default-patient-app-v5';\nconst initialPatientsData = [{\n  name: \"Kern\",\n  chiffre: \"K040498\",\n  therapyType: \"LZT\",\n  approvedHours: 60,\n  conductedHours: 24,\n  diagnoses: [\"[G] F00.0*: Demenz bei Alzheimer-Krankheit, mit frühem Beginn (Typ 2)\", \"[V] F01.1: Multiinfarkt-Demenz\", \"[A] F20.0: Paranoide Schizophrenie\", \"[ZN] F32.1: Mittelgradige depressive Episode\", \"F40.0: Agoraphobie\"],\n  sessions: [{\n    date: \"2025-05-20\",\n    notes: \"Erste Sitzung, Exploration der Hauptbeschwerden.\"\n  }, {\n    date: \"2025-05-27\",\n    notes: \"Vertiefung der Anamnese, erste Verhaltensanalysen.\"\n  }],\n  hscl11Results: [],\n  bdi2Results: [],\n  fep2Results: [],\n  scl90rResults: [],\n  krankheitsanamnese: \"Patient berichtet über seit ca. 2 Jahren zunehmende Vergesslichkeit und Orientierungsprobleme.\",\n  lebensgeschichte: \"Geboren 1955, verheiratet, 2 Kinder, früher als Buchhalter tätig.\",\n  problemanalyseMakro: \"Kognitive Defizite im Vordergrund, affektive Belastung durch erlebten Kontrollverlust.\",\n  therapieplan: \"Supportive Gespräche, kognitives Training, Psychoedukation für Angehörige.\"\n}];\nconst Modal = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  size = \"lg\"\n}) => {\n  if (!isOpen) return null;\n  const sizeClasses = {\n    sm: 'max-w-sm',\n    md: 'max-w-md',\n    lg: 'max-w-lg',\n    xl: 'max-w-xl',\n    '2xl': 'max-w-2xl',\n    '3xl': 'max-w-3xl',\n    '4xl': 'max-w-4xl',\n    '5xl': 'max-w-5xl'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex justify-center items-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bg-white p-6 rounded-lg shadow-xl w-full ${sizeClasses[size]} max-h-[90vh] overflow-y-auto`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-gray-800\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 551\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-500 hover:text-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(XCircle, {\n            className: \"w-7 h-7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 688\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 616\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 495\n      }, this), children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 385\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 272\n  }, this);\n};\n_c10 = Modal;\nconst ConfirmationModal = ({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  message\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onClose: onClose,\n    title: title,\n    size: \"sm\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n        className: \"mx-auto mb-4 w-12 h-12 text-red-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 209\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-700 mb-6\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 274\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none\",\n          children: \"Abbrechen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 368\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onConfirm,\n          className: \"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none\",\n          children: \"Best\\xE4tigen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 528\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 321\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 180\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 115\n  }, this);\n};\n_c11 = ConfirmationModal;\nconst PatientForm = ({\n  patient,\n  onSave,\n  onCancel\n}) => {\n  _s();\n  const [formData, setFormData] = useState(patient || {\n    name: '',\n    chiffre: '',\n    therapyType: 'LZT',\n    approvedHours: 0,\n    conductedHours: 0,\n    diagnoses: [],\n    sessions: [],\n    hscl11Results: [],\n    bdi2Results: [],\n    fep2Results: [],\n    scl90rResults: [],\n    krankheitsanamnese: \"\",\n    lebensgeschichte: \"\",\n    problemanalyseMakro: \"\",\n    therapieplan: \"\"\n  });\n  useEffect(() => {\n    if (patient) {\n      setFormData({\n        ...patient,\n        hscl11Results: patient.hscl11Results || [],\n        bdi2Results: patient.bdi2Results || [],\n        fep2Results: patient.fep2Results || [],\n        scl90rResults: patient.scl90rResults || [],\n        krankheitsanamnese: patient.krankheitsanamnese || \"\",\n        lebensgeschichte: patient.lebensgeschichte || \"\",\n        problemanalyseMakro: patient.problemanalyseMakro || \"\",\n        therapieplan: patient.therapieplan || \"\"\n      });\n    } else {\n      setFormData({\n        name: '',\n        chiffre: '',\n        therapyType: 'LZT',\n        approvedHours: 0,\n        conductedHours: 0,\n        diagnoses: [],\n        sessions: [],\n        hscl11Results: [],\n        bdi2Results: [],\n        fep2Results: [],\n        scl90rResults: [],\n        krankheitsanamnese: \"\",\n        lebensgeschichte: \"\",\n        problemanalyseMakro: \"\",\n        therapieplan: \"\"\n      });\n    }\n  }, [patient]);\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'number' ? parseInt(value, 10) || 0 : value\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSave(formData);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 69\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        id: \"name\",\n        value: formData.name,\n        onChange: handleChange,\n        required: true,\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 155\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 64\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"chiffre\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Chiffre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 424\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"chiffre\",\n        id: \"chiffre\",\n        value: formData.chiffre,\n        onChange: handleChange,\n        required: true,\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 516\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 419\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"therapyType\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Therapieform\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 794\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"therapyType\",\n        id: \"therapyType\",\n        value: formData.therapyType,\n        onChange: handleChange,\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"LZT\",\n          children: \"Langzeittherapie (LZT)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 1152\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"KZT\",\n          children: \"Kurzzeittherapie (KZT)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 1203\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 895\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 789\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"approvedHours\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Genehmigte Stunden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 1274\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"approvedHours\",\n        id: \"approvedHours\",\n        value: formData.approvedHours,\n        onChange: handleChange,\n        min: \"0\",\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 1383\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 1269\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"conductedHours\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Durchgef\\xFChrte Stunden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 1680\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"conductedHours\",\n        id: \"conductedHours\",\n        value: formData.conductedHours,\n        onChange: handleChange,\n        min: \"0\",\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 1793\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 1675\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end space-x-3 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onCancel,\n        className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\",\n        children: \"Abbrechen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 2137\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Save, {\n          className: \"w-4 h-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 2577\n        }, this), \" Speichern\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 2365\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 2088\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 12\n  }, this);\n};\n_s(PatientForm, \"IIpmEmJnZpo8OnF0Yp68Q2fWC8o=\");\n_c12 = PatientForm;\nconst FEP2_ITEMS_TO_REVERSE = [1, 2, 5, 9, 14, 15, 19, 21, 22, 27, 29, 30, 39];\nconst FEP2_SKALEN_DEFINITION = {\n  WOHLBEFINDEN: {\n    items: [1, 5, 9, 14, 22, 30, 39],\n    minItemsRequired: 7\n  },\n  BESCHWERDEN: {\n    items: [4, 6, 7, 8, 10, 12, 23, 24, 31, 34, 38],\n    minItemsRequired: 10\n  },\n  BESCHWERDEN_ANGST: {\n    items: [4, 8, 12, 23],\n    minItemsRequired: 4\n  },\n  BESCHWERDEN_DEPRESSIVITAET: {\n    items: [7, 10, 24, 31, 34, 38],\n    minItemsRequired: 5\n  },\n  INTERPERSONALE_BEZIEHUNG: {\n    items: [11, 13, 16, 18, 20, 25, 26, 28, 32, 33, 36, 40],\n    minItemsRequired: 11\n  },\n  INTERPERSONALE_INTROVERTIERT_SCHEU: {\n    items: [28, 36, 40],\n    minItemsRequired: 3\n  },\n  INTERPERSONALE_AUSNUTZBAR_NACHGIEBIG: {\n    items: [13, 20, 26],\n    minItemsRequired: 3\n  },\n  INTERPERSONALE_KONKURRIEREND_UNTERSTUETZEND: {\n    items: [11, 16, 33],\n    minItemsRequired: 3\n  },\n  INTERPERSONALE_SELBSTUNSICHER_ZURUECKHALTEND: {\n    items: [18, 25, 32],\n    minItemsRequired: 3\n  },\n  KONGRUENZ: {\n    items: [2, 3, 15, 17, 19, 21, 27, 29, 35, 37],\n    minItemsRequired: 8\n  }\n};\nconst calculateFep2Scores = itemScoresRaw => {\n  const itemScores = itemScoresRaw.map((score, index) => {\n    const itemNum = index + 1;\n    if (FEP2_ITEMS_TO_REVERSE.includes(itemNum) && score > 0 && score <= 5) {\n      return 6 - score;\n    }\n    return score;\n  });\n  const answeredItemsCount = itemScores.filter(score => score > 0 && score <= 5).length;\n  const calculatedScales = {};\n  if (answeredItemsCount >= 32) {\n    const sum = itemScores.reduce((acc, score) => acc + (score > 0 && score <= 5 ? score : 0), 0);\n    calculatedScales.gesamtbelastung = answeredItemsCount > 0 ? parseFloat((sum / answeredItemsCount).toFixed(2)) : null;\n  } else {\n    calculatedScales.gesamtbelastung = null;\n  }\n  for (const skalaName in FEP2_SKALEN_DEFINITION) {\n    const def = FEP2_SKALEN_DEFINITION[skalaName];\n    let sum = 0;\n    let count = 0;\n    def.items.forEach(itemNum => {\n      const score = itemScores[itemNum - 1];\n      if (score > 0 && score <= 5) {\n        sum += score;\n        count++;\n      }\n    });\n    if (count >= def.minItemsRequired) {\n      calculatedScales[skalaName.toLowerCase()] = parseFloat((sum / count).toFixed(2));\n    } else {\n      calculatedScales[skalaName.toLowerCase()] = null;\n    }\n  }\n  return calculatedScales;\n};\nasync function generateGeminiText(prompt) {\n  let chatHistory = [{\n    role: \"user\",\n    parts: [{\n      text: prompt\n    }]\n  }];\n  const payload = {\n    contents: chatHistory\n  };\n  const GEMINI_API_KEY = typeof __GEMINI_API_KEY__ !== 'undefined' ? __GEMINI_API_KEY__ : \"YOUR_LOCAL_GEMINI_API_KEY\"; // Tragen Sie hier Ihren lokalen Schlüssel ein\n  const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`;\n  try {\n    const response = await fetch(apiUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    });\n    if (!response.ok) {\n      var _errorData$error;\n      const errorData = await response.json();\n      console.error(\"Gemini API error details:\", errorData);\n      const errorMessage = ((_errorData$error = errorData.error) === null || _errorData$error === void 0 ? void 0 : _errorData$error.message) || `API request failed with status ${response.status}`;\n      throw new Error(errorMessage);\n    }\n    const result = await response.json();\n    if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\n      return result.candidates[0].content.parts[0].text;\n    } else if (result.candidates && result.candidates.length > 0 && result.candidates[0].finishReason === \"SAFETY\") {\n      console.warn(\"Gemini API response blocked due to safety reasons.\");\n      return \"Die Antwort wurde aufgrund von Sicherheitsrichtlinien blockiert.\";\n    } else {\n      console.error(\"Unexpected Gemini API response structure:\", result);\n      throw new Error(\"Unerwartete Antwortstruktur von der API.\");\n    }\n  } catch (error) {\n    console.error(\"Error calling Gemini API:\", error);\n    throw error;\n  }\n}\nfunction App() {\n  _s2();\n  const [patients, setPatients] = useState([]);\n  const [selectedPatient, setSelectedPatient] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [authError, setAuthError] = useState(null);\n  const [appError, setAppError] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoginView, setIsLoginView] = useState(true);\n  const [isAuthLoading, setIsAuthLoading] = useState(false);\n  const [isPatientModalOpen, setIsPatientModalOpen] = useState(false);\n  const [editingPatient, setEditingPatient] = useState(null);\n  const [isConfirmDeleteModalOpen, setIsConfirmDeleteModalOpen] = useState(false);\n  const [patientToDeleteId, setPatientToDeleteId] = useState(null);\n  const [newDiagnosis, setNewDiagnosis] = useState('');\n  const [newDiagnosisCode, setNewDiagnosisCode] = useState('');\n  const [newDiagnosisSicherheit, setNewDiagnosisSicherheit] = useState('G');\n  const [lookedUpDiagnosisName, setLookedUpDiagnosisName] = useState('');\n  const [newSessionDate, setNewSessionDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newSessionNotes, setNewSessionNotes] = useState('');\n  const [activeDetailTab, setActiveDetailTab] = useState('details');\n  const [activeDiagnostikSubTab, setActiveDiagnostikSubTab] = useState('scl90r');\n  const [newHsclDate, setNewHsclDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newHsclAngst, setNewHsclAngst] = useState('');\n  const [newHsclDepression, setNewHsclDepression] = useState('');\n  const [newBdiDate, setNewBdiDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newBdiScore, setNewBdiScore] = useState('');\n  const [newFepDate, setNewFepDate] = useState(new Date().toISOString().split('T')[0]);\n  const [fepItemScores, setFepItemScores] = useState(Array(40).fill(0));\n  const [sessionSummaries, setSessionSummaries] = useState({});\n  const [diagnosisInfo, setDiagnosisInfo] = useState({\n    code: '',\n    name: '',\n    beschreibung: '',\n    inkl: [],\n    exkl: [],\n    hinweise: [],\n    zusatz_info_code: '',\n    sicherheit: '',\n    isLoading: false,\n    error: null,\n    isOpen: false,\n    source: ''\n  });\n  const [localIcd10Data, setLocalIcd10Data] = useState({});\n  const [editableConductedHours, setEditableConductedHours] = useState(\"\");\n  const [editableKrankheitsanamnese, setEditableKrankheitsanamnese] = useState(\"\");\n  const [editableLebensgeschichte, setEditableLebensgeschichte] = useState(\"\");\n  const [editableProblemanalyseMakro, setEditableProblemanalyseMakro] = useState(\"\");\n  const [editableTherapieplan, setEditableTherapieplan] = useState(\"\");\n  const [therapeutischeAssistenzOutput, setTherapeutischeAssistenzOutput] = useState(\"\");\n  const [isLoadingTherapeutischeAssistenz, setIsLoadingTherapeutischeAssistenz] = useState(false);\n  const [assistenzError, setAssistenzError] = useState(null);\n  const detailViewRef = useRef(null);\n  const overviewRef = useRef(null);\n  useEffect(() => {\n    fetch('/icd10f_data.json').then(response => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status} - Stellen Sie sicher, dass 'icd10f_data.json' im 'public' Ordner liegt.`);\n      }\n      return response.json();\n    }).then(data => {\n      const indexedData = {};\n      data.forEach(item => {\n        if (item.code) {\n          indexedData[item.code.toUpperCase()] = item;\n        }\n      });\n      setLocalIcd10Data(indexedData);\n      console.log(\"Lokale ICD-10 Daten geladen und indiziert.\");\n    }).catch(error => {\n      console.error(\"Fehler beim Laden der lokalen ICD-10 Daten:\", error);\n      setAppError(\"Lokale ICD-10 Daten konnten nicht geladen werden. \" + error.message);\n    });\n  }, []);\n  useEffect(() => {\n    if (selectedPatient) {\n      setEditableConductedHours(selectedPatient.conductedHours !== null && selectedPatient.conductedHours !== undefined ? String(selectedPatient.conductedHours) : \"\");\n      setEditableKrankheitsanamnese(selectedPatient.krankheitsanamnese || \"\");\n      setEditableLebensgeschichte(selectedPatient.lebensgeschichte || \"\");\n      setEditableProblemanalyseMakro(selectedPatient.problemanalyseMakro || \"\");\n      setEditableTherapieplan(selectedPatient.therapieplan || \"\");\n      if (detailViewRef.current) {\n        setTimeout(() => {\n          detailViewRef.current.scrollIntoView({\n            behavior: 'smooth',\n            block: 'start'\n          });\n        }, 100);\n      }\n    } else {\n      setEditableConductedHours(\"\");\n      setEditableKrankheitsanamnese(\"\");\n      setEditableLebensgeschichte(\"\");\n      setEditableProblemanalyseMakro(\"\");\n      setEditableTherapieplan(\"\");\n    }\n  }, [selectedPatient]);\n  const findIcd10CodeLocal = useCallback(codeToFind => {\n    const upperCodeToFind = codeToFind.toUpperCase();\n    let found = localIcd10Data[upperCodeToFind];\n    if (found) return found;\n    const baseCode = upperCodeToFind.replace(/(\\.-[*]|\\.\\*|[*]|-)$/, '');\n    found = localIcd10Data[`${baseCode}.-*`] || localIcd10Data[`${baseCode}.*`] || localIcd10Data[baseCode];\n    if (found) return found;\n    const possibleCategoryCode = Object.keys(localIcd10Data).find(key => key.startsWith(upperCodeToFind) && (localIcd10Data[key].code_kategorie || localIcd10Data[key].code));\n    if (possibleCategoryCode) return localIcd10Data[possibleCategoryCode];\n    return null;\n  }, [localIcd10Data]);\n  useEffect(() => {\n    if (newDiagnosisCode.trim() !== '') {\n      const found = findIcd10CodeLocal(newDiagnosisCode.trim().toUpperCase());\n      if (found && found.name) {\n        setLookedUpDiagnosisName(found.name);\n      } else {\n        setLookedUpDiagnosisName('');\n      }\n    } else {\n      setLookedUpDiagnosisName('');\n    }\n  }, [newDiagnosisCode, findIcd10CodeLocal]);\n  const getPatientsCollectionPath = useCallback(() => {\n    if (!userId) return null;\n    return `/artifacts/${firestoreAppId}/users/${userId}/patients`;\n  }, [userId]);\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, user => {\n      if (user) {\n        setUserId(user.uid);\n      } else {\n        setUserId(null);\n      }\n      setIsAuthReady(true);\n      setIsLoading(false);\n    });\n    return () => unsubscribe();\n  }, []);\n  const seedInitialData = useCallback(async () => {\n    if (!userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    try {\n      const patientsCollection = collection(db, collectionPath);\n      const querySnapshot = await getDocs(patientsCollection);\n      if (querySnapshot.empty) {\n        const batch = writeBatch(db);\n        initialPatientsData.forEach(patientData => {\n          const newPatientRef = doc(patientsCollection);\n          batch.set(newPatientRef, {\n            ...patientData,\n            hscl11Results: patientData.hscl11Results || [],\n            bdi2Results: patientData.bdi2Results || [],\n            fep2Results: patientData.fep2Results || [],\n            scl90rResults: patientData.scl90rResults || [],\n            krankheitsanamnese: patientData.krankheitsanamnese || \"\",\n            lebensgeschichte: patientData.lebensgeschichte || \"\",\n            problemanalyseMakro: patientData.problemanalyseMakro || \"\",\n            therapieplan: patientData.therapieplan || \"\"\n          });\n        });\n        await batch.commit();\n        console.log(\"Initiale Daten erfolgreich geschrieben.\");\n      } else {\n        console.log(\"Vorhandene Patientendaten gefunden, Seed wird übersprungen.\");\n      }\n    } catch (err) {\n      console.error(\"Error seeding initial data:\", err);\n      setAppError(\"Fehler beim Laden der initialen Daten.\");\n    }\n  }, [userId, getPatientsCollectionPath]);\n  useEffect(() => {\n    if (!isAuthReady || !userId) {\n      setPatients([]);\n      if (isAuthReady && !userId) console.log(\"Kein Benutzer angemeldet, warte auf Login/Registrierung.\");\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) {\n      console.log(\"Collection path ist nicht verfügbar für Firestore Listener.\");\n      return;\n    }\n    setIsLoading(true);\n    seedInitialData();\n    const patientsQuery = query(collection(db, collectionPath));\n    const unsubscribe = onSnapshot(patientsQuery, snapshot => {\n      let patientsData = snapshot.docs.map(docSnap => ({\n        id: docSnap.id,\n        ...docSnap.data(),\n        hscl11Results: docSnap.data().hscl11Results || [],\n        bdi2Results: docSnap.data().bdi2Results || [],\n        fep2Results: docSnap.data().fep2Results || [],\n        scl90rResults: docSnap.data().scl90rResults || [],\n        krankheitsanamnese: docSnap.data().krankheitsanamnese || \"\",\n        lebensgeschichte: docSnap.data().lebensgeschichte || \"\",\n        problemanalyseMakro: docSnap.data().problemanalyseMakro || \"\",\n        therapieplan: docSnap.data().therapieplan || \"\"\n      }));\n      patientsData.sort((a, b) => a.name.localeCompare(b.name));\n      setPatients(patientsData);\n      setIsLoading(false);\n    }, err => {\n      console.error(\"Error fetching patients:\", err);\n      setAppError(\"Fehler beim Laden der Patientendaten. Stellen Sie sicher, dass Firestore korrekt konfiguriert ist.\");\n      setIsLoading(false);\n    });\n    return () => unsubscribe();\n  }, [isAuthReady, userId, getPatientsCollectionPath, seedInitialData]);\n  useEffect(() => {\n    if (selectedPatient && selectedPatient.id && patients.length > 0) {\n      const currentPatientDataFromList = patients.find(p => p.id === selectedPatient.id);\n      if (currentPatientDataFromList) {\n        if (JSON.stringify(currentPatientDataFromList) !== JSON.stringify(selectedPatient)) {\n          setSelectedPatient(currentPatientDataFromList);\n        }\n      } else {\n        setSelectedPatient(null);\n      }\n    }\n  }, [patients, selectedPatient]);\n  const handleAuthAction = async isRegistering => {\n    setIsAuthLoading(true);\n    setAuthError(null);\n    try {\n      if (isRegistering) {\n        await createUserWithEmailAndPassword(auth, email, password);\n      } else {\n        await signInWithEmailAndPassword(auth, email, password);\n      }\n      setEmail(\"\");\n      setPassword(\"\");\n    } catch (error) {\n      console.error(\"Firebase auth error:\", error);\n      let message = \"Ein Fehler ist aufgetreten.\";\n      if (error.code === 'auth/email-already-in-use') {\n        message = \"Diese E-Mail-Adresse wird bereits verwendet.\";\n      } else if (error.code === 'auth/invalid-email') {\n        message = \"Ungültige E-Mail-Adresse.\";\n      } else if (error.code === 'auth/weak-password') {\n        message = \"Das Passwort ist zu schwach. Es sollte mindestens 6 Zeichen lang sein.\";\n      } else if (error.code === 'auth/user-not-found' || error.code === 'auth/wrong-password' || error.code === 'auth/invalid-credential') {\n        message = \"E-Mail oder Passwort ist ungültig.\";\n      }\n      setAuthError(message);\n    } finally {\n      setIsAuthLoading(false);\n    }\n  };\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n      setSelectedPatient(null);\n      setPatients([]);\n    } catch (error) {\n      console.error(\"Error signing out: \", error);\n      setAppError(\"Fehler beim Abmelden.\");\n    }\n  };\n  const handleSavePatient = async patientData => {\n    if (!userId) {\n      setAppError(\"Benutzer nicht authentifiziert.\");\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const dataToSave = {\n      ...patientData,\n      hscl11Results: patientData.hscl11Results || [],\n      bdi2Results: patientData.bdi2Results || [],\n      fep2Results: patientData.fep2Results || [],\n      scl90rResults: patientData.scl90rResults || [],\n      krankheitsanamnese: patientData.krankheitsanamnese || \"\",\n      lebensgeschichte: patientData.lebensgeschichte || \"\",\n      problemanalyseMakro: patientData.problemanalyseMakro || \"\",\n      therapieplan: patientData.therapieplan || \"\"\n    };\n    try {\n      if (editingPatient && editingPatient.id) {\n        const patientRef = doc(db, collectionPath, editingPatient.id);\n        await setDoc(patientRef, dataToSave, {\n          merge: true\n        });\n      } else {\n        await addDoc(collection(db, collectionPath), dataToSave);\n      }\n      setIsPatientModalOpen(false);\n      setEditingPatient(null);\n    } catch (err) {\n      console.error(\"Error saving patient:\", err);\n      setAppError(\"Fehler beim Speichern des Patienten.\");\n    }\n  };\n  const openDeleteConfirmation = patientId => {\n    setPatientToDeleteId(patientId);\n    setIsConfirmDeleteModalOpen(true);\n  };\n  const confirmDeletePatient = async () => {\n    if (!patientToDeleteId || !userId) {\n      setAppError(\"Löschvorgang fehlgeschlagen.\");\n      setIsConfirmDeleteModalOpen(false);\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    try {\n      const patientRef = doc(db, collectionPath, patientToDeleteId);\n      await deleteDoc(patientRef);\n      if (selectedPatient && selectedPatient.id === patientToDeleteId) {\n        setSelectedPatient(null);\n      }\n      setPatientToDeleteId(null);\n      setIsConfirmDeleteModalOpen(false);\n    } catch (err) {\n      console.error(\"Error deleting patient:\", err);\n      setAppError(\"Fehler beim Löschen des Patienten.\");\n      setIsConfirmDeleteModalOpen(false);\n    }\n  };\n  const handleAddDiagnosis = async () => {\n    const codeToAdd = newDiagnosisCode.trim().toUpperCase();\n    if (!selectedPatient || !codeToAdd || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const sicherheitPrefix = newDiagnosisSicherheit ? `[${newDiagnosisSicherheit}] ` : \"\";\n    const beschreibung = newDiagnosis.trim() ? `: ${newDiagnosis.trim()}` : lookedUpDiagnosisName ? `: ${lookedUpDiagnosisName}` : \"\";\n    const diagnosisString = `${sicherheitPrefix}${codeToAdd}${beschreibung}`;\n    const updatedDiagnoses = [...(selectedPatient.diagnoses || []), diagnosisString];\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        diagnoses: updatedDiagnoses\n      }, {\n        merge: true\n      });\n      setNewDiagnosisCode('');\n      setNewDiagnosis('');\n      setLookedUpDiagnosisName('');\n      setNewDiagnosisSicherheit('G');\n    } catch (err) {\n      console.error(\"Error adding diagnosis:\", err);\n      setAppError(\"Fehler beim Hinzufügen der Diagnose.\");\n    }\n  };\n  const handleRemoveDiagnosis = async diagnosisStringToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedDiagnoses = selectedPatient.diagnoses.filter(d => d !== diagnosisStringToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        diagnoses: updatedDiagnoses\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing diagnosis:\", err);\n      setAppError(\"Fehler beim Entfernen der Diagnose.\");\n    }\n  };\n  const handleAddSession = async () => {\n    if (!selectedPatient || !newSessionNotes.trim() || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const newSession = {\n      date: newSessionDate,\n      notes: newSessionNotes.trim()\n    };\n    const updatedSessions = [...(selectedPatient.sessions || []), newSession];\n    updatedSessions.sort((a, b) => new Date(b.date) - new Date(a.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        sessions: updatedSessions\n      }, {\n        merge: true\n      });\n      setNewSessionNotes('');\n    } catch (err) {\n      console.error(\"Error adding session:\", err);\n      setAppError(\"Fehler beim Hinzufügen der Sitzung.\");\n    }\n  };\n  const handleUpdateConductedHours = async (patientId, hours) => {\n    if (!patientId || !userId) return;\n    if (isNaN(hours) || hours < 0) {\n      console.error(\"Ungültige Stundenzahl für Firestore-Update:\", hours);\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const patientRef = doc(db, collectionPath, patientId);\n    try {\n      await setDoc(patientRef, {\n        conductedHours: hours\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error updating conducted hours:\", err);\n      setAppError(\"Fehler beim Aktualisieren der Stunden.\");\n    }\n  };\n  const handleAddHsclResult = async () => {\n    if (!selectedPatient || !newHsclDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const angst = parseInt(newHsclAngst, 10);\n    const depression = parseInt(newHsclDepression, 10);\n    if (isNaN(angst) || angst < 0 || angst > 20 || isNaN(depression) || depression < 0 || depression > 24) {\n      setAppError(\"Ungültige HSCL-Werte. Angst (0-20), Depression (0-24).\");\n      return;\n    }\n    const newResult = {\n      date: newHsclDate,\n      angst: angst,\n      depression: depression,\n      cumulative: angst + depression\n    };\n    const updatedHsclResults = [...(selectedPatient.hscl11Results || []), newResult];\n    updatedHsclResults.sort((a, b) => new Date(a.date) - new Date(b.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        hscl11Results: updatedHsclResults\n      }, {\n        merge: true\n      });\n      setNewHsclAngst('');\n      setNewHsclDepression('');\n      setAppError(null);\n    } catch (err) {\n      console.error(\"Error adding HSCL result:\", err);\n      setAppError(\"Fehler beim Hinzufügen des HSCL-Ergebnisses.\");\n    }\n  };\n  const handleRemoveHsclResult = async dateToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedHsclResults = selectedPatient.hscl11Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        hscl11Results: updatedHsclResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing HSCL result:\", err);\n      setAppError(\"Fehler beim Entfernen des HSCL-Ergebnisses.\");\n    }\n  };\n  const handleAddBdiResult = async () => {\n    if (!selectedPatient || !newBdiDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const score = parseInt(newBdiScore, 10);\n    if (isNaN(score) || score < 0 || score > 63) {\n      setAppError(\"Ungültiger BDI-II Wert (0-63).\");\n      return;\n    }\n    const newResult = {\n      date: newBdiDate,\n      score: score\n    };\n    const updatedBdiResults = [...(selectedPatient.bdi2Results || []), newResult];\n    updatedBdiResults.sort((a, b) => new Date(a.date) - new Date(b.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        bdi2Results: updatedBdiResults\n      }, {\n        merge: true\n      });\n      setNewBdiScore('');\n      setAppError(null);\n    } catch (err) {\n      console.error(\"Error adding BDI-II result:\", err);\n      setAppError(\"Fehler beim Hinzufügen des BDI-II Ergebnisses.\");\n    }\n  };\n  const handleRemoveBdiResult = async dateToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedBdiResults = selectedPatient.bdi2Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        bdi2Results: updatedBdiResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing BDI-II result:\", err);\n      setAppError(\"Fehler beim Entfernen des BDI-II Ergebnisses.\");\n    }\n  };\n  const handleFepItemChange = (index, value) => {\n    const newScores = [...fepItemScores];\n    newScores[index] = value === '' ? 0 : parseInt(value, 10);\n    if (isNaN(newScores[index]) || newScores[index] < 0 || newScores[index] > 5) newScores[index] = 0;\n    setFepItemScores(newScores);\n  };\n  const handleAddFepResult = async () => {\n    if (!selectedPatient || !newFepDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const answeredCount = fepItemScores.filter(s => s >= 1 && s <= 5).length;\n    if (answeredCount < 32) {\n      setAppError(\"Bitte beantworten Sie mindestens 80% (32) der FEP-2 Items.\");\n      return;\n    }\n    const calculatedScales = calculateFep2Scores(fepItemScores);\n    const newResult = {\n      date: newFepDate,\n      itemScores: [...fepItemScores],\n      calculatedScales\n    };\n    const updatedFepResults = [...(selectedPatient.fep2Results || []), newResult];\n    updatedFepResults.sort((a, b) => new Date(a.date) - new Date(b.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        fep2Results: updatedFepResults\n      }, {\n        merge: true\n      });\n      setFepItemScores(Array(40).fill(0));\n      setAppError(null);\n    } catch (err) {\n      console.error(\"Error adding FEP-2 result:\", err);\n      setAppError(\"Fehler beim Hinzufügen des FEP-2 Ergebnisses.\");\n    }\n  };\n  const handleRemoveFepResult = async dateToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedFepResults = selectedPatient.fep2Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        fep2Results: updatedFepResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing FEP-2 result:\", err);\n      setAppError(\"Fehler beim Entfernen des FEP-2 Ergebnisses.\");\n    }\n  };\n  const fetchSessionSummary = async (sessionNotes, sessionIndex) => {\n    setSessionSummaries(prev => ({\n      ...prev,\n      [sessionIndex]: {\n        ...prev[sessionIndex],\n        isLoading: true,\n        error: null\n      }\n    }));\n    const prompt = `Fasse die folgenden Therapiesitzungsnotizen prägnant zusammen. Konzentriere dich auf die wichtigsten Themen, Interventionen und den Fortschritt des Patienten:\\n\\n\"${sessionNotes}\"`;\n    try {\n      const summary = await generateGeminiText(prompt);\n      setSessionSummaries(prev => ({\n        ...prev,\n        [sessionIndex]: {\n          summary: summary,\n          isLoading: false,\n          error: null\n        }\n      }));\n    } catch (e) {\n      setSessionSummaries(prev => ({\n        ...prev,\n        [sessionIndex]: {\n          ...prev[sessionIndex],\n          isLoading: false,\n          error: e.message\n        }\n      }));\n      setAppError(`Fehler bei der Zusammenfassung: ${e.message}`);\n    }\n  };\n  const showDiagnosisInfo = diagnosisString => {\n    const sicherheitMatch = diagnosisString.match(/^\\[([AVGZN]+)\\]\\s*/i);\n    const sicherheit = sicherheitMatch ? sicherheitMatch[1].toUpperCase() : '';\n    const codeAndName = sicherheitMatch ? diagnosisString.substring(sicherheitMatch[0].length) : diagnosisString;\n    const codeMatch = codeAndName.match(/^([A-Z][0-9]{1,2}(\\.[0-9A-Z]{1,2})?[\\*\\-\\!]?)/i);\n    const code = codeMatch ? codeMatch[0].toUpperCase() : codeAndName.split(':')[0].trim().toUpperCase();\n    const localData = findIcd10CodeLocal(code);\n    if (localData) {\n      setDiagnosisInfo({\n        code: localData.code || code,\n        name: localData.name || '',\n        beschreibung: localData.beschreibung || localData.beschreibung_kategorie || '',\n        inkl: localData.inkl || [],\n        exkl: localData.exkl || [],\n        hinweise: localData.hinweise || localData.hinweise_kategorie || [],\n        zusatz_info_code: localData.zusatz_info_code || '',\n        sicherheit: sicherheit,\n        isLoading: false,\n        error: null,\n        isOpen: true,\n        source: 'local'\n      });\n    } else {\n      fetchDiagnosisInfoGemini(code, sicherheit);\n    }\n  };\n  const fetchDiagnosisInfoGemini = async (diagnosisCode, sicherheit = '') => {\n    setDiagnosisInfo({\n      code: diagnosisCode,\n      info: '',\n      isLoading: true,\n      error: null,\n      isOpen: true,\n      source: 'gemini',\n      sicherheit: sicherheit\n    });\n    const prompt = `Erkläre die ICD-10 Diagnose '${diagnosisCode}'${sicherheit ? ` (Diagnosesicherheit: ${sicherheit})` : ''} kurz und verständlich für einen Laien. Nenne auch typische Symptome und ggf. wichtige Differentialdiagnosen oder Komorbiditäten, falls relevant. Antworte auf Deutsch.`;\n    try {\n      const info = await generateGeminiText(prompt);\n      setDiagnosisInfo(prev => ({\n        ...prev,\n        info: info,\n        isLoading: false\n      }));\n    } catch (e) {\n      setDiagnosisInfo(prev => ({\n        ...prev,\n        isLoading: false,\n        error: e.message\n      }));\n      setAppError(`Fehler beim Abrufen der Diagnose-Info via Gemini: ${e.message}`);\n    }\n  };\n  const handleKrankheitsmodellChange = async (fieldName, value) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        [fieldName]: value\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(`Error updating ${fieldName}:`, err);\n      setAppError(`Fehler beim Speichern von ${fieldName}.`);\n    }\n  };\n  const handleTherapeutischeAssistenzAnfordern = async () => {\n    if (!selectedPatient) {\n      setAssistenzError(\"Bitte wählen Sie zuerst einen Patienten aus.\");\n      return;\n    }\n    setIsLoadingTherapeutischeAssistenz(true);\n    setTherapeutischeAssistenzOutput(\"\");\n    setAssistenzError(null);\n    const patientenDatenText = `\nHier sind die relevanten Patientendaten:\n\n**Krankheitsanamnese:**\n${selectedPatient.krankheitsanamnese || \"Keine Angaben.\"}\n\n**Lebensgeschichte/Biografie:**\n${selectedPatient.lebensgeschichte || \"Keine Angaben.\"}\n\n**Problemanalyse auf Makroebene:**\n${selectedPatient.problemanalyseMakro || \"Keine Angaben.\"}\n\n**Therapieplanung (bisherig):**\n${selectedPatient.therapieplan || \"Keine Angaben.\"}\n\n**Verlaufsdokumentation (Sitzungsnotizen):**\n${(selectedPatient.sessions || []).map((s, i) => `Sitzung ${i + 1} (${new Date(s.date).toLocaleDateString('de-DE')}): ${s.notes}`).join(\"\\n\\n\") || \"Keine Sitzungsnotizen vorhanden.\"}\n\n**Diagnosen:**\n${(selectedPatient.diagnoses || []).join(\", \") || \"Keine Diagnosen erfasst.\"}\n\n**Genehmigte Stunden:** ${selectedPatient.approvedHours}\n**Durchgeführte Stunden:** ${selectedPatient.conductedHours}\n    `;\n    const systemPrompt = `Du bist ein interdisziplinäres Expertenteam, bestehend aus erfahrenen Verhaltenstherapeuten wie Jürgen Margraf, Dr. Stavemann, Aaron T. Beck, Judith Beck und Jonathan S. Abramowitz sowie aus leitenden Chefärzten und Psychiatern wie Prof. Dr. Mathias Berger. Das Team verfügt über exzellente Fachkompetenz in der evidenzbasierten psychotherapeutischen Praxis und legt besonderen Wert auf präzise medizinische Dokumentation sowie therapeutische Qualität. Darüber hinaus gehören auch international anerkannte Experten wie David H. Barlow, Stefan G. Hofmann und Steven Hayes zum Team. Du verfügst über tiefgehendes Wissen in Ansätzen der sogenannten „dritten Welle“ der Verhaltenstherapie, insbesondere in ACT, Schematherapie und DBT.\n\nDeine Aufgabe ist es, auf Grundlage folgender Elemente, welche du aus den bereitgestellten Patientendaten entnimmst:\n- Krankheitsanamnese\n- Lebensgeschichte/Biografie\n- Problemanalyse auf Makroebene\n- Therapieplanung (bisherig)\n- Verlaufsdokumentation (Sitzungsnotizen)\n\neine strukturierte Rückmeldung zu geben mit dem Ziel:\n1. Wesentliche Schwerpunkte in der weiteren Therapieplanung zu identifizieren.\n2. Konkrete Interventionsideen zu formulieren, orientiert an den zugelassenen Stunden.\n3. Hinweise zu geben, worauf in der Strukturierung der Sitzungen geachtet werden sollte (z.B. Themenfokus, Symptomschwere, Therapiezielorientierung).\n\nBerücksichtige dabei:\n• Die begrenzte Anzahl genehmigter Stunden.\n• Dass Themen nicht zu häufig gewechselt werden sollen.\n• Die Konsistenz und Nachvollziehbarkeit im Verlauf.\n\nBitte plane deine Analyse gründlich und reflektiert. Handle in Etappen:\n1. Diagnostische Schwerpunkte benennen\n2. Therapieziele definieren\n3. Interventionsvorschläge machen\n4. Hinweise zur Dokumentation geben\n\nAtme einmal tief ein und aus und nehme dir Zeit für die Aufgabe. Mache bitte weiter, bis das Problem vollständig gelöst ist. Planen bitte ausführlich vor jeder Aktion.\n\nHier sind die Daten des aktuellen Falls:\n${patientenDatenText}\n\nBitte gib deine strukturierte Rückmeldung.`;\n    try {\n      const assistenz = await generateGeminiText(systemPrompt);\n      setTherapeutischeAssistenzOutput(assistenz);\n    } catch (e) {\n      setAssistenzError(`Fehler bei der Anforderung der therapeutischen Assistenz: ${e.message}`);\n    } finally {\n      setIsLoadingTherapeutischeAssistenz(false);\n    }\n  };\n\n  // In App.js\n\n  const handleAddScl90rResult = async result => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n\n    // --- KORREKTUR START ---\n    // Erstellen Sie das zu speichernde Objekt explizit, um sicherzustellen,\n    // dass alle erforderlichen Felder vorhanden sind.\n    const newResultToSave = {\n      rawScores: result.rawScores,\n      tScores: result.tScores,\n      globalScores: result.globalScores,\n      itemScores: result.itemScores,\n      // Das entscheidende Feld, das fehlte\n      date: result.date // Behalten Sie das ursprüngliche Datum für die Anzeige bei\n    };\n    // --- KORREKTUR ENDE ---\n\n    // Fügen Sie das neue, explizit erstellte Ergebnisobjekt zum Array hinzu\n    const updatedScl90rResults = [...(selectedPatient.scl90rResults || []), newResultToSave];\n\n    // Sortieren Sie die Ergebnisse nach Datum, damit das Neueste oben steht\n    updatedScl90rResults.sort((a, b) => new Date(b.date) - new Date(a.date));\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        scl90rResults: updatedScl90rResults\n      }, {\n        merge: true\n      });\n      console.log(\"SCL-90-R-Ergebnis erfolgreich gespeichert mit itemScores.\");\n    } catch (err) {\n      console.error(\"Error adding SCL-90-R result:\", err);\n      setAppError(\"Fehler beim Speichern des SCL-90-R Ergebnisses.\");\n    }\n  };\n\n  // Passen Sie auch die Löschfunktion an, um sicherzustellen, dass das richtige Datum verwendet wird.\n  const handleRemoveScl90rResult = async dateToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n\n    // Filtern Sie das Array, um das Ergebnis mit dem übereinstimmenden Datum zu entfernen\n    const updatedScl90rResults = selectedPatient.scl90rResults.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        scl90rResults: updatedScl90rResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing SCL-90-R result:\", err);\n      setAppError(\"Fehler beim Entfernen des SCL-90-R Ergebnisses.\");\n    }\n  };\n  const totalApprovedHours = patients.reduce((sum, p) => sum + (p.approvedHours || 0), 0);\n  const totalConductedHours = patients.reduce((sum, p) => sum + (p.conductedHours || 0), 0);\n  const overallProgressTarget = 600;\n  const overallProgress = overallProgressTarget > 0 ? totalConductedHours / overallProgressTarget * 100 : 0;\n  if (!isAuthReady) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center h-screen text-xl font-semibold text-gray-700\",\n    children: \"Authentifizierung wird initialisiert...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 759,\n    columnNumber: 28\n  }, this);\n  const bdiCutoffs = [{\n    y1: 0,\n    y2: 8,\n    label: \"Keine Depression\",\n    color: \"rgba(75, 192, 192, 0.2)\"\n  }, {\n    y1: 9,\n    y2: 13,\n    label: \"Minimale Depression\",\n    color: \"rgba(54, 162, 235, 0.2)\"\n  }, {\n    y1: 14,\n    y2: 19,\n    label: \"Leichte Depression\",\n    color: \"rgba(255, 206, 86, 0.2)\"\n  }, {\n    y1: 20,\n    y2: 28,\n    label: \"Mittelschwere Depression\",\n    color: \"rgba(255, 159, 64, 0.2)\"\n  }, {\n    y1: 29,\n    y2: 63,\n    label: \"Schwere Depression\",\n    color: \"rgba(255, 99, 132, 0.2)\"\n  }];\n  const bdiAxisTicks = [0, 8, 13, 19, 28, 63];\n  const inputStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\";\n  const btnPrimary = \"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm flex items-center justify-center\";\n  const btnDanger = \"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md flex items-center\";\n  const btnInfo = \"bg-sky-500 hover:bg-sky-600 text-white font-semibold py-1 px-2 text-xs rounded-md flex items-center\";\n  const textareaStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm min-h-[150px]\";\n\n  // Login / Registrierungs UI, wenn kein Benutzer angemeldet ist\n  if (!userId) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 flex flex-col justify-center items-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-xl shadow-2xl w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-center text-indigo-600 mb-8\",\n          children: isLoginView ? \"Login Patientenverwaltung\" : \"Registrierung\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 775,\n          columnNumber: 17\n        }, this), authError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-sm\",\n          children: authError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 778,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => {\n            e.preventDefault();\n            handleAuthAction(!isLoginView);\n          },\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"E-Mail Adresse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 781,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              id: \"email\",\n              required: true,\n              value: email,\n              onChange: e => setEmail(e.target.value),\n              className: inputStd\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 782,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 780,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"Passwort\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 787,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              id: \"password\",\n              required: true,\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              className: inputStd\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 788,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 786,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: isAuthLoading,\n            className: `${btnPrimary} w-full py-3 text-base ${isAuthLoading ? 'opacity-50 cursor-not-allowed' : ''}`,\n            children: isAuthLoading ? isLoginView ? \"Anmelden...\" : \"Registrieren...\" : isLoginView ? \"Anmelden\" : \"Registrieren\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 792,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 779,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setIsLoginView(!isLoginView);\n            setAuthError(null);\n          },\n          className: \"mt-6 text-sm text-indigo-600 hover:text-indigo-500 text-center w-full\",\n          children: isLoginView ? \"Noch kein Konto? Jetzt registrieren.\" : \"Bereits registriert? Zum Login.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 797,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 774,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 773,\n      columnNumber: 9\n    }, this);\n  }\n\n  // Hauptanwendung, wenn Benutzer angemeldet ist\n  if (isLoading && userId) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center h-screen text-xl font-semibold text-gray-700\",\n    children: \"Lade Patientendaten...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 807,\n    columnNumber: 35\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-indigo-700 text-white shadow-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold tracking-tight\",\n          children: \"Patientenverwaltung\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 813,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [userId && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs opacity-75 hidden sm:block\",\n            children: [\"UserID: \", userId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 815,\n            columnNumber: 28\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md text-sm flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(LogOut, {\n              className: \"mr-2 h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 817,\n              columnNumber: 21\n            }, this), \" Logout\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 816,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 814,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 812,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 811,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"container mx-auto p-4 sm:p-6 lg:p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        ref: overviewRef,\n        className: \"mb-6 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-gray-800\",\n          children: \"Patienten\\xFCbersicht\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 823,\n          columnNumber: 83\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setEditingPatient(null);\n            setIsPatientModalOpen(true);\n          },\n          className: `${btnPrimary} py-2 px-4`,\n          children: [/*#__PURE__*/_jsxDEV(UserPlus, {\n            className: \"w-5 h-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 823,\n            columnNumber: 279\n          }, this), \" Patient hinzuf\\xFCgen\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 823,\n          columnNumber: 159\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 823,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow-xl rounded-lg overflow-hidden mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full min-w-max table-auto text-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-100 border-b border-gray-300\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: ['Name', 'Chiffre', 'Diagnosen', 'Therapie', 'Stunden', 'Fortschritt', 'Aktionen'].map(header => /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-3 px-4 text-sm font-semibold text-gray-600 uppercase tracking-wider\",\n                  children: header\n                }, header, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 826,\n                  columnNumber: 172\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 826,\n                columnNumber: 69\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 826,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"divide-y divide-gray-200\",\n              children: [patients.length === 0 && !isLoading && /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"7\",\n                  className: \"text-center py-10 text-gray-500\",\n                  children: \"Keine Patienten gefunden. F\\xFCgen Sie einen neuen Patienten hinzu.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 828,\n                  columnNumber: 62\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 828,\n                columnNumber: 58\n              }, this), patients.map(patient => {\n                const progress = patient.approvedHours > 0 ? patient.conductedHours / patient.approvedHours * 100 : 0;\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: `hover:bg-indigo-50 cursor-pointer ${(selectedPatient === null || selectedPatient === void 0 ? void 0 : selectedPatient.id) === patient.id ? 'bg-indigo-100' : ''}`,\n                  onClick: () => {\n                    setSelectedPatient(patient);\n                    setActiveDetailTab('details');\n                    setSessionSummaries({});\n                    setTherapeutischeAssistenzOutput('');\n                    setAssistenzError(null);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm font-medium text-gray-800\",\n                    children: patient.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 833,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm text-gray-600\",\n                    children: patient.chiffre\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 834,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 text-sm text-gray-600 max-w-xs\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex flex-col space-y-1\",\n                      children: [(patient.diagnoses || []).slice(0, 4).map((diag, idx) => {\n                        const sicherheitMatch = diag.match(/^\\[([AVGZN]+)\\]/i);\n                        const sicherheit = sicherheitMatch ? sicherheitMatch[1].toUpperCase() : '';\n                        const colorClasses = {\n                          'G': 'bg-green-100 text-green-800 hover:bg-green-200',\n                          'V': 'bg-yellow-100 text-yellow-800 hover:bg-yellow-200',\n                          'A': 'bg-red-100 text-red-800 hover:bg-red-200',\n                          'ZN': 'bg-blue-100 text-blue-800 hover:bg-blue-200'\n                        }[sicherheit] || 'bg-gray-100 text-gray-800 hover:bg-gray-200';\n                        return /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `px-2 py-0.5 text-xs rounded-full truncate inline-block cursor-pointer ${colorClasses}`,\n                          onClick: e => {\n                            e.stopPropagation();\n                            showDiagnosisInfo(diag);\n                          },\n                          title: `Info zu ${diag} anzeigen`,\n                          children: diag\n                        }, idx, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 848,\n                          columnNumber: 41\n                        }, this);\n                      }), (patient.diagnoses || []).length > 4 && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs text-gray-500 mt-1\",\n                        children: \"...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 857,\n                        columnNumber: 41\n                      }, this), (patient.diagnoses || []).length === 0 && \"-\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 836,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 835,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm text-gray-600\",\n                    children: patient.therapyType\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 862,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm text-gray-600 text-center\",\n                    children: `${patient.conductedHours} / ${patient.approvedHours}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 863,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-full bg-gray-200 rounded-full h-2.5\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `h-2.5 rounded-full ${progress > 80 ? 'bg-red-500' : progress > 50 ? 'bg-yellow-400' : 'bg-green-500'}`,\n                        style: {\n                          width: `${Math.min(progress, 100)}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 866,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 865,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-500 block text-center mt-1\",\n                      children: [Math.round(progress), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 868,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 864,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-3 px-4 whitespace-nowrap text-sm space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: e => {\n                        e.stopPropagation();\n                        setEditingPatient(patient);\n                        setIsPatientModalOpen(true);\n                      },\n                      className: \"text-indigo-600 hover:text-indigo-800 transition duration-150 p-1 rounded hover:bg-indigo-100\",\n                      title: \"Bearbeiten\",\n                      children: /*#__PURE__*/_jsxDEV(Edit3, {\n                        className: \"w-5 h-5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 871,\n                        columnNumber: 265\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 871,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: e => {\n                        e.stopPropagation();\n                        openDeleteConfirmation(patient.id);\n                      },\n                      className: \"text-red-500 hover:text-red-700 transition duration-150 p-1 rounded hover:bg-red-100\",\n                      title: \"L\\xF6schen\",\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        className: \"w-5 h-5\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 872,\n                        columnNumber: 232\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 872,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 870,\n                    columnNumber: 29\n                  }, this)]\n                }, patient.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 832,\n                  columnNumber: 25\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 827,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n              className: \"bg-gray-50 border-t-2 border-gray-300\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"4\",\n                  className: \"py-3 px-4 text-sm font-semibold text-gray-700 text-right\",\n                  children: \"Gesamt:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 880,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-3 px-4 text-sm font-semibold text-gray-700 text-center\",\n                  children: `${totalConductedHours} / ${totalApprovedHours}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 881,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-3 px-4 whitespace-nowrap\",\n                  colSpan: \"2\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-600 mr-3 w-auto\",\n                      children: \"Fortschritt (600 Std.):\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 884,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-full bg-gray-200 rounded-full h-2.5 flex-grow\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-blue-500 h-2.5 rounded-full\",\n                        style: {\n                          width: `${Math.min(overallProgress, 100)}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 886,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 885,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-600 ml-2\",\n                      children: [Math.round(overallProgress), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 888,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 883,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 882,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 879,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 878,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 825,\n            columnNumber: 110\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 825,\n          columnNumber: 77\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 825,\n        columnNumber: 9\n      }, this), selectedPatient && /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: detailViewRef,\n        className: \"bg-white shadow-xl rounded-lg p-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-semibold text-indigo-700\",\n            children: selectedPatient.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 898,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              if (overviewRef.current) {\n                overviewRef.current.scrollIntoView({\n                  behavior: 'smooth'\n                });\n              }\n              setTimeout(() => {\n                setSelectedPatient(null);\n                setSessionSummaries({});\n                setTherapeutischeAssistenzOutput('');\n                setAssistenzError(null);\n              }, 300);\n            },\n            className: \"text-gray-500 hover:text-gray-700\",\n            children: /*#__PURE__*/_jsxDEV(XCircle, {\n              className: \"w-7 h-7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 912,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 899,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 897,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-b border-gray-200 mb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"nav\", {\n            className: \"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto\",\n            \"aria-label\": \"Tabs\",\n            children: ['details', 'krankheitsmodell', 'diagnostik', 'assistenz'].map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveDetailTab(tab),\n              className: `whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${activeDetailTab === tab ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n              children: [tab === 'details' && 'Stammdaten & Sitzungen', tab === 'krankheitsmodell' && 'Krankheitsmodell', tab === 'diagnostik' && 'Diagnostik', tab === 'assistenz' && 'Therap. Assistenz']\n            }, tab, true, {\n              fileName: _jsxFileName,\n              lineNumber: 919,\n              columnNumber: 25\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 917,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 916,\n          columnNumber: 13\n        }, this), activeDetailTab === 'details' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Chiffre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 933,\n                columnNumber: 26\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg text-gray-800\",\n                children: selectedPatient.chiffre\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 933,\n                columnNumber: 74\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 933,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Therapieform\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 934,\n                columnNumber: 26\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg text-gray-800\",\n                children: selectedPatient.therapyType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 934,\n                columnNumber: 79\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 934,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Genehmigte Stunden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 935,\n                columnNumber: 26\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg text-gray-800\",\n                children: selectedPatient.approvedHours\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 935,\n                columnNumber: 85\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 935,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"conductedHoursDetail\",\n                className: \"block text-sm font-medium text-gray-500\",\n                children: \"Durchgef\\xFChrte Stunden\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 937,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center mt-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  id: \"conductedHoursDetail\",\n                  value: editableConductedHours,\n                  onChange: e => setEditableConductedHours(e.target.value),\n                  onBlur: e => {\n                    let finalHours = parseInt(e.target.value, 10);\n                    if (isNaN(finalHours) || finalHours < 0) {\n                      finalHours = 0;\n                    } else if (selectedPatient && finalHours > selectedPatient.approvedHours) {\n                      finalHours = selectedPatient.approvedHours;\n                    }\n                    setEditableConductedHours(String(finalHours));\n                    if (selectedPatient) {\n                      handleUpdateConductedHours(selectedPatient.id, finalHours);\n                    }\n                  },\n                  min: \"0\",\n                  max: selectedPatient ? selectedPatient.approvedHours : undefined,\n                  className: inputStd + \" w-24\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 939,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 text-sm text-gray-600\",\n                  children: [\"/ \", selectedPatient.approvedHours]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 957,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 938,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 936,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 932,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-xl font-semibold text-gray-700 mb-3\",\n              children: \"ICD-10 F-Diagnosen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 962,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 p-4 bg-gray-50 rounded-md\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"newDiagnosisCode\",\n                    className: \"block text-xs font-medium text-gray-700\",\n                    children: \"Code (z.B. F32.2)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 966,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"newDiagnosisCode\",\n                    value: newDiagnosisCode,\n                    onChange: e => setNewDiagnosisCode(e.target.value.toUpperCase()),\n                    placeholder: \"F-Code\",\n                    className: `${inputStd} mt-1`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 967,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 965,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"newDiagnosisSicherheit\",\n                    className: \"block text-xs font-medium text-gray-700\",\n                    children: \"Sicherheit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 970,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    id: \"newDiagnosisSicherheit\",\n                    value: newDiagnosisSicherheit,\n                    onChange: e => setNewDiagnosisSicherheit(e.target.value),\n                    className: `${inputStd} mt-1`,\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"G\",\n                      children: \"G (Gesichert)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 972,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"V\",\n                      children: \"V (Verdacht auf)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 973,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"A\",\n                      children: \"A (Ausschluss)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 974,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"ZN\",\n                      children: \"ZN (Zustand nach)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 975,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 971,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 969,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"md:col-span-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"newDiagnosisName\",\n                    className: \"block text-xs font-medium text-gray-700\",\n                    children: \"Manuelle Beschreibung (optional)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 979,\n                    columnNumber: 28\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"newDiagnosisName\",\n                    value: newDiagnosis,\n                    onChange: e => setNewDiagnosis(e.target.value),\n                    placeholder: \"Eigene Beschreibung\",\n                    className: `${inputStd} mt-1`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 980,\n                    columnNumber: 28\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 978,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleAddDiagnosis,\n                  className: `${btnPrimary} bg-green-500 hover:bg-green-600 py-2 px-3 h-10 md:self-end`,\n                  children: [/*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n                    className: \"w-5 h-5 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 982,\n                    columnNumber: 150\n                  }, this), \" Hinzuf\\xFCgen\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 982,\n                  columnNumber: 26\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 964,\n                columnNumber: 21\n              }, this), lookedUpDiagnosisName && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-indigo-600 mt-1\",\n                children: [\"Gefunden: \", lookedUpDiagnosisName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 984,\n                columnNumber: 47\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 963,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-1 mb-3\",\n              children: [(selectedPatient.diagnoses || []).map((diagString, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex justify-between items-center bg-gray-50 p-2 rounded-md\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-700\",\n                  children: diagString\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 989,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => showDiagnosisInfo(diagString),\n                    className: `${btnInfo} p-1`,\n                    title: \"Info zu dieser Diagnose abrufen\",\n                    children: [/*#__PURE__*/_jsxDEV(FileJson2, {\n                      className: \"w-4 h-4 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 992,\n                      columnNumber: 37\n                    }, this), \" Info\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 991,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleRemoveDiagnosis(diagString),\n                    className: `${btnDanger} p-1 text-xs`,\n                    children: /*#__PURE__*/_jsxDEV(Trash2, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 994,\n                      columnNumber: 130\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 994,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 990,\n                  columnNumber: 29\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 988,\n                columnNumber: 25\n              }, this)), (selectedPatient.diagnoses || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Keine Diagnosen erfasst.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 998,\n                columnNumber: 72\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 986,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 961,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-xl font-semibold text-gray-700 mb-3\",\n              children: \"Sitzungsdokumentation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1002,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 p-4 rounded-lg mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"sessionDate\",\n                    className: \"block text-sm font-medium text-gray-700\",\n                    children: \"Datum\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1003,\n                    columnNumber: 132\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"sessionDate\",\n                    value: newSessionDate,\n                    onChange: e => setNewSessionDate(e.target.value),\n                    className: inputStd\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1003,\n                    columnNumber: 226\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1003,\n                  columnNumber: 127\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"md:col-span-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"sessionNotes\",\n                    className: \"block text-sm font-medium text-gray-700\",\n                    children: \"Notizen\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1003,\n                    columnNumber: 396\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    id: \"sessionNotes\",\n                    value: newSessionNotes,\n                    onChange: e => setNewSessionNotes(e.target.value),\n                    rows: \"3\",\n                    placeholder: \"Sitzungsnotizen...\",\n                    className: inputStd\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1003,\n                    columnNumber: 493\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1003,\n                  columnNumber: 365\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1003,\n                columnNumber: 67\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleAddSession,\n                className: `${btnPrimary} bg-blue-500 hover:bg-blue-600`,\n                children: [/*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n                  className: \"w-5 h-5 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1003,\n                  columnNumber: 777\n                }, this), \" Sitzung hinzuf\\xFCgen\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1003,\n                columnNumber: 684\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1003,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-md font-semibold text-gray-600 mb-2\",\n              children: \"Protokollierte Sitzungen:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1004,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3 max-h-96 overflow-y-auto pr-2\",\n              children: [(selectedPatient.sessions || []).map((session, index) => {\n                var _sessionSummaries$ind, _sessionSummaries$ind2, _sessionSummaries$ind3, _sessionSummaries$ind4, _sessionSummaries$ind5;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white border border-gray-200 p-3 rounded-md shadow-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-start\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm font-semibold text-gray-700\",\n                      children: [\"Datum: \", new Date(session.date).toLocaleDateString('de-DE')]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1009,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => fetchSessionSummary(session.notes, index),\n                      disabled: (_sessionSummaries$ind = sessionSummaries[index]) === null || _sessionSummaries$ind === void 0 ? void 0 : _sessionSummaries$ind.isLoading,\n                      className: `${btnInfo} text-xs`,\n                      title: \"Sitzungsnotizen zusammenfassen\",\n                      children: (_sessionSummaries$ind2 = sessionSummaries[index]) !== null && _sessionSummaries$ind2 !== void 0 && _sessionSummaries$ind2.isLoading ? 'Lädt...' : '✨ Zusammenf.'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1010,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1008,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 whitespace-pre-wrap mt-1\",\n                    children: session.notes\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1016,\n                    columnNumber: 29\n                  }, this), ((_sessionSummaries$ind3 = sessionSummaries[index]) === null || _sessionSummaries$ind3 === void 0 ? void 0 : _sessionSummaries$ind3.summary) && !((_sessionSummaries$ind4 = sessionSummaries[index]) !== null && _sessionSummaries$ind4 !== void 0 && _sessionSummaries$ind4.isLoading) && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-2 p-2 bg-sky-50 border border-sky-200 rounded-md text-sm text-sky-700\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-semibold\",\n                      children: \"Zusammenfassung:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1019,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"whitespace-pre-wrap\",\n                      children: sessionSummaries[index].summary\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1020,\n                      columnNumber: 37\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1018,\n                    columnNumber: 33\n                  }, this), ((_sessionSummaries$ind5 = sessionSummaries[index]) === null || _sessionSummaries$ind5 === void 0 ? void 0 : _sessionSummaries$ind5.error) && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-2 text-xs text-red-500\",\n                    children: [\"Fehler bei Zusammenfassung: \", sessionSummaries[index].error]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1024,\n                    columnNumber: 33\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1007,\n                  columnNumber: 25\n                }, this);\n              }), (selectedPatient.sessions || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Keine Sitzungen dokumentiert.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1028,\n                columnNumber: 71\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1005,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1001,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 931,\n          columnNumber: 15\n        }, this), activeDetailTab === 'krankheitsmodell' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"krankheitsanamnese\",\n              className: \"block text-lg font-semibold text-gray-700 mb-1\",\n              children: \"Krankheitsanamnese\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1037,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"krankheitsanamnese\",\n              name: \"krankheitsanamnese\",\n              rows: \"6\",\n              className: textareaStd,\n              value: editableKrankheitsanamnese,\n              onChange: e => setEditableKrankheitsanamnese(e.target.value),\n              onBlur: e => handleKrankheitsmodellChange('krankheitsanamnese', e.target.value),\n              placeholder: \"Hier die Krankheitsanamnese eintragen...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1038,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1036,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"lebensgeschichte\",\n              className: \"block text-lg font-semibold text-gray-700 mb-1\",\n              children: \"Lebensgeschichte / Biographie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1047,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"lebensgeschichte\",\n              name: \"lebensgeschichte\",\n              rows: \"6\",\n              className: textareaStd,\n              value: editableLebensgeschichte,\n              onChange: e => setEditableLebensgeschichte(e.target.value),\n              onBlur: e => handleKrankheitsmodellChange('lebensgeschichte', e.target.value),\n              placeholder: \"Wichtige Aspekte der Lebensgeschichte...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1048,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1046,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"problemanalyseMakro\",\n              className: \"block text-lg font-semibold text-gray-700 mb-1\",\n              children: \"Problemanalyse auf Makroebene\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1057,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"problemanalyseMakro\",\n              name: \"problemanalyseMakro\",\n              rows: \"6\",\n              className: textareaStd,\n              value: editableProblemanalyseMakro,\n              onChange: e => setEditableProblemanalyseMakro(e.target.value),\n              onBlur: e => handleKrankheitsmodellChange('problemanalyseMakro', e.target.value),\n              placeholder: \"Analyse der \\xFCbergeordneten Problembereiche...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1058,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1056,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"therapieplan\",\n              className: \"block text-lg font-semibold text-gray-700 mb-1\",\n              children: \"Therapieplan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1067,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"therapieplan\",\n              name: \"therapieplan\",\n              rows: \"6\",\n              className: textareaStd,\n              value: editableTherapieplan,\n              onChange: e => setEditableTherapieplan(e.target.value),\n              onBlur: e => handleKrankheitsmodellChange('therapieplan', e.target.value),\n              placeholder: \"Therapieziele und -ma\\xDFnahmen...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1068,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1066,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1035,\n          columnNumber: 17\n        }, this), activeDetailTab === 'diagnostik' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-b border-gray-200 mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"nav\", {\n              className: \"-mb-px flex space-x-6\",\n              \"aria-label\": \"Diagnostik Sub-Tabs\",\n              children: ['scl90r', 'hscl11', 'bdi2', 'fep2'].map(subTab => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveDiagnostikSubTab(subTab),\n                className: `whitespace-nowrap pb-2 px-1 border-b-2 font-medium text-sm ${activeDiagnostikSubTab === subTab ? 'border-purple-500 text-purple-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n                children: subTab.toUpperCase()\n              }, subTab, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1084,\n                columnNumber: 33\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1082,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1081,\n            columnNumber: 22\n          }, this), activeDiagnostikSubTab === 'scl90r' && /*#__PURE__*/_jsxDEV(SCL90RComponent, {\n            patient: selectedPatient,\n            onSaveResult: handleAddScl90rResult,\n            onDeleteResult: handleRemoveScl90rResult\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1093,\n            columnNumber: 23\n          }, this), activeDiagnostikSubTab === 'hscl11' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-xl font-semibold text-gray-700 mb-4\",\n              children: \"HSCL-11 Ergebnisse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1101,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 p-4 rounded-lg mb-6 shadow\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-md font-semibold text-gray-600 mb-3\",\n                children: \"Neues HSCL-11 Ergebnis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1103,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-3 items-end\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"hsclDate\",\n                    className: \"block text-sm font-medium text-gray-700\",\n                    children: \"Datum\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1105,\n                    columnNumber: 34\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"hsclDate\",\n                    value: newHsclDate,\n                    onChange: e => setNewHsclDate(e.target.value),\n                    className: inputStd\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1105,\n                    columnNumber: 125\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1105,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"hsclAngst\",\n                    className: \"block text-sm font-medium text-gray-700\",\n                    children: \"Angst (0-20)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1106,\n                    columnNumber: 34\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    id: \"hsclAngst\",\n                    value: newHsclAngst,\n                    onChange: e => setNewHsclAngst(e.target.value),\n                    min: \"0\",\n                    max: \"20\",\n                    className: inputStd\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1106,\n                    columnNumber: 133\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1106,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"hsclDepression\",\n                    className: \"block text-sm font-medium text-gray-700\",\n                    children: \"Depression (0-24)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1107,\n                    columnNumber: 34\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    id: \"hsclDepression\",\n                    value: newHsclDepression,\n                    onChange: e => setNewHsclDepression(e.target.value),\n                    min: \"0\",\n                    max: \"24\",\n                    className: inputStd\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1107,\n                    columnNumber: 143\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1107,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleAddHsclResult,\n                  className: `${btnPrimary} bg-teal-500 hover:bg-teal-600 h-10`,\n                  children: [/*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n                    className: \"w-5 h-5 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1108,\n                    columnNumber: 130\n                  }, this), \" Speichern\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1108,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1104,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1102,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-md font-semibold text-gray-600 mb-2\",\n                children: \"Protokollierte HSCL-11 Ergebnisse:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1112,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"space-y-2\",\n                children: [(selectedPatient.hscl11Results || []).map((result, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex justify-between items-center bg-white border p-3 rounded-md shadow-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: new Date(result.date).toLocaleDateString('de-DE')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1114,\n                      columnNumber: 201\n                    }, this), \": \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-gray-600 ml-2\",\n                      children: [\"Angst: \", result.angst]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1114,\n                      columnNumber: 291\n                    }, this), \", \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-gray-600 ml-2\",\n                      children: [\"Depression: \", result.depression]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1114,\n                      columnNumber: 366\n                    }, this), \", \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-gray-600 ml-2\",\n                      children: [\"Gesamt: \", result.cumulative]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1114,\n                      columnNumber: 451\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1114,\n                    columnNumber: 196\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleRemoveHsclResult(result.date),\n                    className: `${btnDanger} p-1 text-xs`,\n                    children: /*#__PURE__*/_jsxDEV(Trash2, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1114,\n                      columnNumber: 635\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1114,\n                    columnNumber: 536\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1114,\n                  columnNumber: 93\n                }, this)), (selectedPatient.hscl11Results || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: \"Keine HSCL-11 Ergebnisse erfasst.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1115,\n                  columnNumber: 84\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1113,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1111,\n              columnNumber: 21\n            }, this), (selectedPatient.hscl11Results || []).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-md font-semibold text-gray-600 mb-3\",\n                children: \"Verlaufsgraph HSCL-11\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1119,\n                columnNumber: 30\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white p-4 rounded-lg shadow\",\n                style: {\n                  height: '400px'\n                },\n                children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                  width: \"100%\",\n                  height: \"100%\",\n                  children: /*#__PURE__*/_jsxDEV(LineChart, {\n                    data: (selectedPatient.hscl11Results || []).map(r => ({\n                      ...r,\n                      date: new Date(r.date).toLocaleDateString('de-DE')\n                    })),\n                    margin: {\n                      top: 5,\n                      right: 30,\n                      left: 0,\n                      bottom: 5\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                      strokeDasharray: \"3 3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1121,\n                      columnNumber: 255\n                    }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                      dataKey: \"date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1121,\n                      columnNumber: 294\n                    }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                      domain: [0, 44]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1121,\n                      columnNumber: 318\n                    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1121,\n                      columnNumber: 344\n                    }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1121,\n                      columnNumber: 355\n                    }, this), /*#__PURE__*/_jsxDEV(Line, {\n                      type: \"monotone\",\n                      dataKey: \"angst\",\n                      name: \"Angst\",\n                      stroke: \"#8884d8\",\n                      activeDot: {\n                        r: 8\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1121,\n                      columnNumber: 365\n                    }, this), /*#__PURE__*/_jsxDEV(Line, {\n                      type: \"monotone\",\n                      dataKey: \"depression\",\n                      name: \"Depression\",\n                      stroke: \"#82ca9d\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1121,\n                      columnNumber: 456\n                    }, this), /*#__PURE__*/_jsxDEV(Line, {\n                      type: \"monotone\",\n                      dataKey: \"cumulative\",\n                      name: \"Gesamt\",\n                      stroke: \"#ffc658\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1121,\n                      columnNumber: 536\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1121,\n                    columnNumber: 77\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1121,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1120,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1119,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1100,\n            columnNumber: 19\n          }, this), activeDiagnostikSubTab === 'bdi2' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-xl font-semibold text-gray-700 mb-4\",\n              children: \"BDI-II Ergebnisse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1128,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 p-4 rounded-lg mb-6 shadow\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-md font-semibold text-gray-600 mb-3\",\n                children: \"Neues BDI-II Ergebnis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1130,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3 items-end\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"bdiDate\",\n                    className: \"block text-sm font-medium text-gray-700\",\n                    children: \"Datum\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1132,\n                    columnNumber: 34\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    id: \"bdiDate\",\n                    value: newBdiDate,\n                    onChange: e => setNewBdiDate(e.target.value),\n                    className: inputStd\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1132,\n                    columnNumber: 124\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1132,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"bdiScore\",\n                    className: \"block text-sm font-medium text-gray-700\",\n                    children: \"BDI-II Wert (0-63)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1133,\n                    columnNumber: 34\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    id: \"bdiScore\",\n                    value: newBdiScore,\n                    onChange: e => setNewBdiScore(e.target.value),\n                    min: \"0\",\n                    max: \"63\",\n                    className: inputStd\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1133,\n                    columnNumber: 138\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1133,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleAddBdiResult,\n                  className: `${btnPrimary} h-10`,\n                  children: [/*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n                    className: \"w-5 h-5 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1134,\n                    columnNumber: 99\n                  }, this), \" Speichern\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1134,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1131,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1129,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-md font-semibold text-gray-600 mb-2\",\n                children: \"Protokollierte BDI-II Ergebnisse:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1138,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"space-y-2\",\n                children: [(selectedPatient.bdi2Results || []).map((result, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex justify-between items-center bg-white border p-3 rounded-md shadow-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: new Date(result.date).toLocaleDateString('de-DE')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1140,\n                      columnNumber: 199\n                    }, this), \": \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-700\",\n                      children: [\"Score \", result.score]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1140,\n                      columnNumber: 289\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1140,\n                    columnNumber: 194\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleRemoveBdiResult(result.date),\n                    className: `${btnDanger} p-1 text-xs`,\n                    children: /*#__PURE__*/_jsxDEV(Trash2, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1140,\n                      columnNumber: 452\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1140,\n                    columnNumber: 354\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1140,\n                  columnNumber: 91\n                }, this)), (selectedPatient.bdi2Results || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: \"Keine BDI-II Ergebnisse erfasst.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1141,\n                  columnNumber: 82\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1139,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1137,\n              columnNumber: 21\n            }, this), (selectedPatient.bdi2Results || []).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-md font-semibold text-gray-600 mb-3\",\n                children: \"Verlaufsgraph BDI-II\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1145,\n                columnNumber: 30\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white p-4 rounded-lg shadow\",\n                style: {\n                  height: '400px'\n                },\n                children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                  width: \"100%\",\n                  height: \"100%\",\n                  children: /*#__PURE__*/_jsxDEV(LineChart, {\n                    data: (selectedPatient.bdi2Results || []).map(r => ({\n                      ...r,\n                      date: new Date(r.date).toLocaleDateString('de-DE')\n                    })),\n                    margin: {\n                      top: 5,\n                      right: 30,\n                      left: 0,\n                      bottom: 20\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                      strokeDasharray: \"3 3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1149,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                      dataKey: \"date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1150,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                      domain: [0, 63],\n                      ticks: bdiAxisTicks,\n                      allowDataOverflow: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1151,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1152,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(Legend, {\n                      verticalAlign: \"top\",\n                      height: 36\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1153,\n                      columnNumber: 37\n                    }, this), bdiCutoffs.map(cutoff => /*#__PURE__*/_jsxDEV(ReferenceArea, {\n                      y1: cutoff.y1,\n                      y2: cutoff.y2,\n                      fill: cutoff.color,\n                      strokeOpacity: 0.3,\n                      label: /*#__PURE__*/_jsxDEV(CustomBdiLabel, {\n                        text: cutoff.label,\n                        y: cutoff.y2 - (cutoff.y2 - cutoff.y1) / 2\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1154,\n                        columnNumber: 176\n                      }, this)\n                    }, cutoff.label, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1154,\n                      columnNumber: 65\n                    }, this)), /*#__PURE__*/_jsxDEV(Line, {\n                      type: \"monotone\",\n                      dataKey: \"score\",\n                      name: \"BDI-II Score\",\n                      stroke: \"#3b82f6\",\n                      strokeWidth: 2,\n                      activeDot: {\n                        r: 8\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1155,\n                      columnNumber: 37\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1148,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1147,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1146,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1145,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1127,\n            columnNumber: 19\n          }, this), activeDiagnostikSubTab === 'fep2' && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-xl font-semibold text-gray-700 mb-4\",\n              children: \"FEP-2 Erfassung & Auswertung\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1164,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 p-4 rounded-lg mb-6 shadow\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-md font-semibold text-gray-600 mb-3\",\n                children: \"Neues FEP-2 Ergebnis hinzuf\\xFCgen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1166,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"fepDate\",\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Datum der Erhebung\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1167,\n                  columnNumber: 47\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  id: \"fepDate\",\n                  value: newFepDate,\n                  onChange: e => setNewFepDate(e.target.value),\n                  className: `${inputStd} w-full md:w-1/3`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1167,\n                  columnNumber: 150\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1167,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-x-4 gap-y-3 mb-4\",\n                children: fepItemScores.map((score, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: `fepItem${index + 1}`,\n                    className: \"block text-xs font-medium text-gray-600\",\n                    children: [\"Item \", index + 1]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1169,\n                    columnNumber: 85\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    id: `fepItem${index + 1}`,\n                    value: score === 0 ? '' : score,\n                    onChange: e => handleFepItemChange(index, e.target.value),\n                    min: \"1\",\n                    max: \"5\",\n                    placeholder: \"1-5\",\n                    className: `${inputStd} px-2 py-1`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1169,\n                    columnNumber: 196\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1169,\n                  columnNumber: 68\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1168,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleAddFepResult,\n                className: btnPrimary,\n                children: [/*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n                  className: \"w-5 h-5 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1171,\n                  columnNumber: 85\n                }, this), \" FEP-2 Ergebnis speichern\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1171,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1165,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-md font-semibold text-gray-600 mb-2\",\n                children: \"Protokollierte FEP-2 Ergebnisse:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1174,\n                columnNumber: 25\n              }, this), (selectedPatient.fep2Results || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Keine FEP-2 Ergebnisse erfasst.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1175,\n                columnNumber: 78\n              }, this), (selectedPatient.fep2Results || []).map((result, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white border p-4 rounded-md shadow-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium text-indigo-600\",\n                    children: [\"Datum: \", new Date(result.date).toLocaleDateString('de-DE')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1178,\n                    columnNumber: 89\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleRemoveFepResult(result.date),\n                    className: `${btnDanger} p-1 text-xs`,\n                    children: /*#__PURE__*/_jsxDEV(Trash2, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1178,\n                      columnNumber: 292\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1178,\n                    columnNumber: 194\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1178,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-1 text-sm\",\n                  children: Object.entries(result.calculatedScales).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600 capitalize\",\n                      children: [key.replace(/_/g, ' '), \":\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1180,\n                      columnNumber: 150\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-gray-800\",\n                      children: [value === null ? 'N/A (zu wenige Items)' : value, \" \", key === 'gesamtbelastung' && value !== null && (value > 2.49 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"ml-1 text-red-500\",\n                        children: \"(Belastet)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1180,\n                        columnNumber: 384\n                      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"ml-1 text-green-500\",\n                        children: \"(Nicht Belastet)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1180,\n                        columnNumber: 440\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1180,\n                      columnNumber: 225\n                    }, this)]\n                  }, key, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1180,\n                    columnNumber: 102\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1179,\n                  columnNumber: 33\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1177,\n                columnNumber: 29\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1173,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1163,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1080,\n          columnNumber: 17\n        }, this), activeDetailTab === 'assistenz' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-gray-700 mb-4\",\n            children: \"Therapeutische Assistenz\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1191,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleTherapeutischeAssistenzAnfordern,\n            disabled: isLoadingTherapeutischeAssistenz,\n            className: `${btnPrimary} bg-purple-600 hover:bg-purple-700 mb-4 flex items-center`,\n            children: [/*#__PURE__*/_jsxDEV(WandSparkles, {\n              className: \"mr-2 h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1197,\n              columnNumber: 25\n            }, this), isLoadingTherapeutischeAssistenz ? \"Analysiere Daten...\" : \"Expertenfeedback anfordern\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1192,\n            columnNumber: 21\n          }, this), isLoadingTherapeutischeAssistenz && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-10\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-700 mx-auto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1203,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-3 text-gray-600\",\n              children: \"Bitte warten, die KI analysiert die Patientendaten...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1204,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1202,\n            columnNumber: 25\n          }, this), assistenzError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n            role: \"alert\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold\",\n              children: \"Fehler bei der Assistenz\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1210,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: assistenzError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1211,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1209,\n            columnNumber: 25\n          }, this), therapeutischeAssistenzOutput && !isLoadingTherapeutischeAssistenz && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 p-4 bg-gray-50 rounded-md border\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-lg font-semibold text-gray-800 mb-2\",\n              children: \"Vorschl\\xE4ge des Expertenteams:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1217,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed\",\n              children: therapeutischeAssistenzOutput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1218,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1216,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1190,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 896,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: isPatientModalOpen,\n        onClose: () => {\n          setIsPatientModalOpen(false);\n          setEditingPatient(null);\n        },\n        title: editingPatient ? 'Patient bearbeiten' : 'Neuen Patienten anlegen',\n        children: /*#__PURE__*/_jsxDEV(PatientForm, {\n          patient: editingPatient,\n          onSave: handleSavePatient,\n          onCancel: () => {\n            setIsPatientModalOpen(false);\n            setEditingPatient(null);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1228,\n          columnNumber: 194\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1228,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(ConfirmationModal, {\n        isOpen: isConfirmDeleteModalOpen,\n        onClose: () => setIsConfirmDeleteModalOpen(false),\n        onConfirm: confirmDeletePatient,\n        title: \"Patient l\\xF6schen\",\n        message: `Möchten Sie den Patienten wirklich endgültig löschen?`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: diagnosisInfo.isOpen,\n        onClose: () => setDiagnosisInfo(prev => ({\n          ...prev,\n          isOpen: false\n        })),\n        title: `${diagnosisInfo.source === 'local' ? 'Lokale ICD-10 Info' : 'Gemini ICD-10 Info'}: ${diagnosisInfo.code || ''}`,\n        size: \"3xl\",\n        children: [diagnosisInfo.isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center py-4\",\n          children: \"Informationen werden geladen...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1232,\n          columnNumber: 41\n        }, this), diagnosisInfo.error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-600 bg-red-100 p-3 rounded-md\",\n          children: [\"Fehler: \", diagnosisInfo.error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1233,\n          columnNumber: 37\n        }, this), !diagnosisInfo.isLoading && diagnosisInfo.source === 'gemini' && diagnosisInfo.info && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed p-2\",\n          children: diagnosisInfo.info\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1235,\n          columnNumber: 17\n        }, this), !diagnosisInfo.isLoading && diagnosisInfo.source === 'local' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-700 leading-relaxed p-2 space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-indigo-700\",\n            children: [diagnosisInfo.name, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500 text-base\",\n              children: [\"(\", diagnosisInfo.code, \") \", diagnosisInfo.sicherheit && `[${diagnosisInfo.sicherheit}]`]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1239,\n              columnNumber: 96\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1239,\n            columnNumber: 21\n          }, this), diagnosisInfo.zusatz_info_code && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500\",\n            children: [\"Zusatz: \", diagnosisInfo.zusatz_info_code]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1240,\n            columnNumber: 56\n          }, this), diagnosisInfo.beschreibung && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"font-medium text-gray-800\",\n              children: \"Beschreibung:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1241,\n              columnNumber: 55\n            }, this), \" \", diagnosisInfo.beschreibung]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1241,\n            columnNumber: 52\n          }, this), diagnosisInfo.inkl && diagnosisInfo.inkl.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"font-medium text-gray-800\",\n              children: \"Inklusionen:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1243,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc list-inside ml-4\",\n              children: diagnosisInfo.inkl.map((item, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: item\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1243,\n                columnNumber: 177\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1243,\n              columnNumber: 97\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1243,\n            columnNumber: 25\n          }, this), diagnosisInfo.exkl && diagnosisInfo.exkl.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"font-medium text-gray-800\",\n              children: \"Exklusionen:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1246,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc list-inside ml-4\",\n              children: diagnosisInfo.exkl.map((item, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: item\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1246,\n                columnNumber: 177\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1246,\n              columnNumber: 97\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1246,\n            columnNumber: 25\n          }, this), diagnosisInfo.hinweise && diagnosisInfo.hinweise.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"font-medium text-gray-800\",\n              children: \"Hinweise:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1249,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc list-inside ml-4\",\n              children: diagnosisInfo.hinweise.map((item, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: item\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1249,\n                columnNumber: 178\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1249,\n              columnNumber: 94\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1249,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1238,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1231,\n        columnNumber: 9\n      }, this), appError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed bottom-4 right-4 p-4 max-w-sm text-sm text-red-700 bg-red-100 border border-red-400 rounded-md shadow-lg z-[100]\",\n        children: [appError, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setAppError(null),\n          className: \"ml-4 mt-2 sm:mt-0 sm:ml-2 px-2 py-1 text-red-900 underline rounded-md hover:bg-red-200 text-xs\",\n          children: \"Ok\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1255,\n          columnNumber: 169\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1255,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 822,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"text-center py-6 text-sm text-gray-500 border-t border-gray-200 mt-10\",\n      children: [\"Patientenverwaltung \\xA9 \", new Date().getFullYear()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1257,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 810,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"SrQCkp/Vr1SG0WivFC27XmJNhqk=\");\n_c13 = App;\nconst CustomBdiLabel = props => {\n  const {\n    x,\n    y,\n    width,\n    text\n  } = props;\n  if (typeof x !== 'number' || isNaN(x) || typeof y !== 'number' || isNaN(y) || typeof width !== 'number' || isNaN(width) || width <= 0) {\n    return null;\n  }\n  const labelX = x + width / 2;\n  return /*#__PURE__*/_jsxDEV(\"text\", {\n    x: labelX,\n    y: y,\n    fill: \"#666\",\n    textAnchor: \"middle\",\n    dy: -4,\n    fontSize: \"10\",\n    children: text\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1270,\n    columnNumber: 14\n  }, this);\n};\n_c14 = CustomBdiLabel;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14;\n$RefreshReg$(_c, \"UserPlus\");\n$RefreshReg$(_c2, \"Edit3\");\n$RefreshReg$(_c3, \"Trash2\");\n$RefreshReg$(_c4, \"PlusCircleIcon\");\n$RefreshReg$(_c5, \"XCircle\");\n$RefreshReg$(_c6, \"Save\");\n$RefreshReg$(_c7, \"AlertTriangle\");\n$RefreshReg$(_c8, \"InfoIcon\");\n$RefreshReg$(_c9, \"FileJson2\");\n$RefreshReg$(_c0, \"WandSparkles\");\n$RefreshReg$(_c1, \"LogOut\");\n$RefreshReg$(_c10, \"Modal\");\n$RefreshReg$(_c11, \"ConfirmationModal\");\n$RefreshReg$(_c12, \"PatientForm\");\n$RefreshReg$(_c13, \"App\");\n$RefreshReg$(_c14, \"CustomBdiLabel\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","initializeApp","getAuth","onAuthStateChanged","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","getFirestore","collection","doc","addDoc","getDocs","setDoc","deleteDoc","onSnapshot","query","writeBatch","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","ReferenceArea","SCL90RComponent","jsxDEV","_jsxDEV","UserPlus","className","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","d","fileName","_jsxFileName","lineNumber","columnNumber","cx","cy","r","x1","x2","y1","y2","_c","Edit3","_c2","Trash2","points","_c3","PlusCircleIcon","_c4","XCircle","_c5","Save","_c6","AlertTriangle","_c7","InfoIcon","_c8","FileJson2","_c9","WandSparkles","_c0","LogOut","_c1","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","auth","db","firestoreAppId","initialPatientsData","name","chiffre","therapyType","approvedHours","conductedHours","diagnoses","sessions","date","notes","hscl11Results","bdi2Results","fep2Results","scl90rResults","krankheitsanamnese","lebensgeschichte","problemanalyseMakro","therapieplan","Modal","isOpen","onClose","title","size","sizeClasses","sm","md","lg","xl","onClick","_c10","ConfirmationModal","onConfirm","message","_c11","PatientForm","patient","onSave","onCancel","_s","formData","setFormData","handleChange","e","value","type","target","prev","parseInt","handleSubmit","preventDefault","onSubmit","htmlFor","id","onChange","required","min","_c12","FEP2_ITEMS_TO_REVERSE","FEP2_SKALEN_DEFINITION","WOHLBEFINDEN","items","minItemsRequired","BESCHWERDEN","BESCHWERDEN_ANGST","BESCHWERDEN_DEPRESSIVITAET","INTERPERSONALE_BEZIEHUNG","INTERPERSONALE_INTROVERTIERT_SCHEU","INTERPERSONALE_AUSNUTZBAR_NACHGIEBIG","INTERPERSONALE_KONKURRIEREND_UNTERSTUETZEND","INTERPERSONALE_SELBSTUNSICHER_ZURUECKHALTEND","KONGRUENZ","calculateFep2Scores","itemScoresRaw","itemScores","map","score","index","itemNum","includes","answeredItemsCount","filter","length","calculatedScales","sum","reduce","acc","gesamtbelastung","parseFloat","toFixed","skalaName","def","count","forEach","toLowerCase","generateGeminiText","prompt","chatHistory","role","parts","text","payload","contents","GEMINI_API_KEY","__GEMINI_API_KEY__","apiUrl","response","fetch","method","headers","body","JSON","stringify","ok","_errorData$error","errorData","json","console","error","errorMessage","status","Error","result","candidates","content","finishReason","warn","App","_s2","patients","setPatients","selectedPatient","setSelectedPatient","isLoading","setIsLoading","authError","setAuthError","appError","setAppError","userId","setUserId","isAuthReady","setIsAuthReady","email","setEmail","password","setPassword","isLoginView","setIsLoginView","isAuthLoading","setIsAuthLoading","isPatientModalOpen","setIsPatientModalOpen","editingPatient","setEditingPatient","isConfirmDeleteModalOpen","setIsConfirmDeleteModalOpen","patientToDeleteId","setPatientToDeleteId","newDiagnosis","setNewDiagnosis","newDiagnosisCode","setNewDiagnosisCode","newDiagnosisSicherheit","setNewDiagnosisSicherheit","lookedUpDiagnosisName","setLookedUpDiagnosisName","newSessionDate","setNewSessionDate","Date","toISOString","split","newSessionNotes","setNewSessionNotes","activeDetailTab","setActiveDetailTab","activeDiagnostikSubTab","setActiveDiagnostikSubTab","newHsclDate","setNewHsclDate","newHsclAngst","setNewHsclAngst","newHsclDepression","setNewHsclDepression","newBdiDate","setNewBdiDate","newBdiScore","setNewBdiScore","newFepDate","setNewFepDate","fepItemScores","setFepItemScores","Array","sessionSummaries","setSessionSummaries","diagnosisInfo","setDiagnosisInfo","code","beschreibung","inkl","exkl","hinweise","zusatz_info_code","sicherheit","source","localIcd10Data","setLocalIcd10Data","editableConductedHours","setEditableConductedHours","editableKrankheitsanamnese","setEditableKrankheitsanamnese","editableLebensgeschichte","setEditableLebensgeschichte","editableProblemanalyseMakro","setEditableProblemanalyseMakro","editableTherapieplan","setEditableTherapieplan","therapeutischeAssistenzOutput","setTherapeutischeAssistenzOutput","isLoadingTherapeutischeAssistenz","setIsLoadingTherapeutischeAssistenz","assistenzError","setAssistenzError","detailViewRef","overviewRef","then","data","indexedData","item","toUpperCase","log","catch","undefined","String","current","setTimeout","scrollIntoView","behavior","block","findIcd10CodeLocal","codeToFind","upperCodeToFind","found","baseCode","replace","possibleCategoryCode","Object","keys","find","key","startsWith","code_kategorie","trim","getPatientsCollectionPath","unsubscribe","user","uid","seedInitialData","collectionPath","patientsCollection","querySnapshot","empty","batch","patientData","newPatientRef","set","commit","err","patientsQuery","snapshot","patientsData","docs","docSnap","sort","a","b","localeCompare","currentPatientDataFromList","p","handleAuthAction","isRegistering","handleLogout","handleSavePatient","dataToSave","patientRef","merge","openDeleteConfirmation","patientId","confirmDeletePatient","handleAddDiagnosis","codeToAdd","sicherheitPrefix","diagnosisString","updatedDiagnoses","handleRemoveDiagnosis","diagnosisStringToRemove","handleAddSession","newSession","updatedSessions","handleUpdateConductedHours","hours","isNaN","handleAddHsclResult","angst","depression","newResult","cumulative","updatedHsclResults","handleRemoveHsclResult","dateToRemove","handleAddBdiResult","updatedBdiResults","handleRemoveBdiResult","handleFepItemChange","newScores","handleAddFepResult","answeredCount","s","updatedFepResults","handleRemoveFepResult","fetchSessionSummary","sessionNotes","sessionIndex","summary","showDiagnosisInfo","sicherheitMatch","match","codeAndName","substring","codeMatch","localData","beschreibung_kategorie","hinweise_kategorie","fetchDiagnosisInfoGemini","diagnosisCode","info","handleKrankheitsmodellChange","fieldName","handleTherapeutischeAssistenzAnfordern","patientenDatenText","i","toLocaleDateString","join","systemPrompt","assistenz","handleAddScl90rResult","newResultToSave","rawScores","tScores","globalScores","updatedScl90rResults","handleRemoveScl90rResult","totalApprovedHours","totalConductedHours","overallProgressTarget","overallProgress","bdiCutoffs","label","color","bdiAxisTicks","inputStd","btnPrimary","btnDanger","btnInfo","textareaStd","disabled","ref","header","colSpan","progress","slice","diag","idx","colorClasses","stopPropagation","style","width","Math","round","tab","onBlur","finalHours","max","placeholder","diagString","rows","session","_sessionSummaries$ind","_sessionSummaries$ind2","_sessionSummaries$ind3","_sessionSummaries$ind4","_sessionSummaries$ind5","subTab","onSaveResult","onDeleteResult","height","margin","top","right","left","bottom","strokeDasharray","dataKey","domain","activeDot","ticks","allowDataOverflow","verticalAlign","cutoff","strokeOpacity","CustomBdiLabel","y","entries","getFullYear","_c13","props","x","labelX","textAnchor","dy","fontSize","_c14","$RefreshReg$"],"sources":["/Users/julianrogowski/Desktop/patientenverwaltung-app/src/App.js"],"sourcesContent":["/* global __GEMINI_API_KEY__ */\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { \n    getAuth, \n    onAuthStateChanged, \n    createUserWithEmailAndPassword, \n    signInWithEmailAndPassword,\n    signOut \n} from 'firebase/auth'; \nimport { getFirestore, collection, doc, addDoc, getDocs, setDoc, deleteDoc, onSnapshot, query, writeBatch } from 'firebase/firestore';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, ReferenceArea } from 'recharts';\nimport SCL90RComponent from './components/SCL90R.js';\n\n// Lucide-React Icons\nconst UserPlus = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\" /><circle cx=\"9\" cy=\"7\" r=\"4\" /><line x1=\"19\" x2=\"19\" y1=\"8\" y2=\"14\" /><line x1=\"22\" x2=\"16\" y1=\"11\" y2=\"11\" /></svg>);\nconst Edit3 = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M12 20h9\" /><path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\" /></svg>);\nconst Trash2 = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><polyline points=\"3 6 5 6 21 6\" /><path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\" /><line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\" /><line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\" /></svg>);\nconst PlusCircleIcon = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"10\" /><line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\" /><line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\" /></svg>);\nconst XCircle = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line><line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line></svg>);\nconst Save = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\" /><polyline points=\"17 21 17 13 7 13 7 21\" /><polyline points=\"7 3 7 8 15 8\" /></svg>);\nconst AlertTriangle = ({ className = \"w-6 h-6\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path><line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line><line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line></svg>);\nconst InfoIcon = ({ className = \"w-5 h-5\" }) => ( <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\"></line><line x1=\"12\" y1=\"8\" x2=\"12.01\" y2=\"8\"></line></svg>);\nconst FileJson2 = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4\"/><path d=\"M14 2v6h6\"/><path d=\"M4 12h1.6a2 2 0 0 0 1.9-3.4L6 6\"/><path d=\"M4 18h1.6a2 2 0 0 1 1.9 3.4L6 24\"/><path d=\"M12 12h1.6a2 2 0 0 1 1.9-3.4L14 6\"/><path d=\"M12 18h1.6a2 2 0 0 0 1.9 3.4L14 24\"/></svg>);\nconst WandSparkles = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"m9.5 2.55 1.294 1.294a1 1 0 0 0 1.414 0L13.5 2.55\"/><path d=\"M4.94 4.94 6.22 6.22a1 1 0 0 0 1.41 0l1.29-1.29\"/><path d=\"M2.55 9.51 3.84 10.8a1 1 0 0 0 1.41 0l1.3-1.29\"/><path d=\"m19.07 4.93-1.29 1.29a1 1 0 0 1-1.41 0l-1.29-1.29\"/><path d=\"M21.45 9.51_3.84 10.8a1 1 0 0 1-1.41 0l-1.3-1.29\"/><path d=\"M14.5 12.94a1 1 0 0 0 0 1.41l1.29 1.29\"/><path d=\"M10.8 17.78a1 1 0 0 0 0 1.41l1.29 1.29\"/><path d=\"M17.78 10.8a1 1 0 0 0 0 1.41l1.29 1.29\"/><path d=\"M12 10.5V4.5\"/><path d=\"M12 10.5C7 11 4 15 4 20\"/><path d=\"M12 10.5c5 .5 8 4.5 8 9.5\"/></svg>);\nconst LogOut = ({className = \"w-6 h-6\"}) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"/><polyline points=\"16 17 21 12 16 7\"/><line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\"/></svg>);\n\n// Ihre Firebase Konfiguration:\nconst firebaseConfig = { \n  apiKey: \"AIzaSyDZ_qqqKW7WDCZ9botek2VBwXNMQO3JYwU\",\n  authDomain: \"psychotherapie0512.firebaseapp.com\",\n  projectId: \"psychotherapie0512\",\n  storageBucket: \"psychotherapie0512.firebasestorage.app\", \n  messagingSenderId: \"131279046361\",\n  appId: \"1:131279046361:web:e5dd2d18b206fb820b60c8\"\n};\n\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst firestoreAppId = 'default-patient-app-v5'; \n\nconst initialPatientsData = [\n  { \n    name: \"Kern\", \n    chiffre: \"K040498\", \n    therapyType: \"LZT\", \n    approvedHours: 60, \n    conductedHours: 24, \n    diagnoses: [\"[G] F00.0*: Demenz bei Alzheimer-Krankheit, mit frühem Beginn (Typ 2)\", \"[V] F01.1: Multiinfarkt-Demenz\", \"[A] F20.0: Paranoide Schizophrenie\", \"[ZN] F32.1: Mittelgradige depressive Episode\", \"F40.0: Agoraphobie\"], \n    sessions: [{date: \"2025-05-20\", notes: \"Erste Sitzung, Exploration der Hauptbeschwerden.\"}, {date: \"2025-05-27\", notes: \"Vertiefung der Anamnese, erste Verhaltensanalysen.\"}], \n    hscl11Results: [], \n    bdi2Results: [], \n    fep2Results: [],\n    scl90rResults: [], \n    krankheitsanamnese: \"Patient berichtet über seit ca. 2 Jahren zunehmende Vergesslichkeit und Orientierungsprobleme.\", \n    lebensgeschichte: \"Geboren 1955, verheiratet, 2 Kinder, früher als Buchhalter tätig.\",   \n    problemanalyseMakro: \"Kognitive Defizite im Vordergrund, affektive Belastung durch erlebten Kontrollverlust.\",\n    therapieplan: \"Supportive Gespräche, kognitives Training, Psychoedukation für Angehörige.\" \n  },\n];\n\nconst Modal = ({ isOpen, onClose, title, children, size = \"lg\" }) => { if (!isOpen) return null; const sizeClasses = {sm: 'max-w-sm', md: 'max-w-md', lg: 'max-w-lg', xl: 'max-w-xl', '2xl': 'max-w-2xl', '3xl': 'max-w-3xl', '4xl': 'max-w-4xl', '5xl': 'max-w-5xl'}; return (<div className=\"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex justify-center items-center z-50 p-4\"><div className={`bg-white p-6 rounded-lg shadow-xl w-full ${sizeClasses[size]} max-h-[90vh] overflow-y-auto`}><div className=\"flex justify-between items-center mb-4\"><h2 className=\"text-2xl font-semibold text-gray-800\">{title}</h2><button onClick={onClose} className=\"text-gray-500 hover:text-gray-700\"><XCircle className=\"w-7 h-7\" /></button></div>{children}</div></div>);};\nconst ConfirmationModal = ({ isOpen, onClose, onConfirm, title, message }) => { if (!isOpen) return null; return (<Modal isOpen={isOpen} onClose={onClose} title={title} size=\"sm\"><div className=\"text-center\"><AlertTriangle className=\"mx-auto mb-4 w-12 h-12 text-red-500\" /><p className=\"text-gray-700 mb-6\">{message}</p><div className=\"flex justify-center space-x-4\"><button onClick={onClose} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none\">Abbrechen</button><button onClick={onConfirm} className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none\">Bestätigen</button></div></div></Modal>);};\nconst PatientForm = ({ patient, onSave, onCancel }) => {\n  const [formData, setFormData] = useState(\n    patient || { name: '', chiffre: '', therapyType: 'LZT', approvedHours: 0, conductedHours: 0, diagnoses: [], sessions: [], hscl11Results: [], bdi2Results: [], fep2Results: [], scl90rResults: [], krankheitsanamnese: \"\", lebensgeschichte: \"\", problemanalyseMakro: \"\", therapieplan: \"\" }\n  );\n  useEffect(() => {\n    if (patient) {\n      setFormData({ \n        ...patient, \n        hscl11Results: patient.hscl11Results || [], \n        bdi2Results: patient.bdi2Results || [], \n        fep2Results: patient.fep2Results || [],\n        scl90rResults: patient.scl90rResults || [],\n        krankheitsanamnese: patient.krankheitsanamnese || \"\",\n        lebensgeschichte: patient.lebensgeschichte || \"\",\n        problemanalyseMakro: patient.problemanalyseMakro || \"\",\n        therapieplan: patient.therapieplan || \"\"\n      });\n    } else {\n      setFormData({ name: '', chiffre: '', therapyType: 'LZT', approvedHours: 0, conductedHours: 0, diagnoses: [], sessions: [], hscl11Results: [], bdi2Results: [], fep2Results: [], scl90rResults: [], krankheitsanamnese: \"\", lebensgeschichte: \"\", problemanalyseMakro: \"\", therapieplan: \"\" });\n    }\n  }, [patient]);\n  const handleChange = (e) => { const { name, value, type } = e.target; setFormData((prev) => ({ ...prev, [name]: type === 'number' ? parseInt(value, 10) || 0 : value })); };\n  const handleSubmit = (e) => { e.preventDefault(); onSave(formData); };\n  return ( <form onSubmit={handleSubmit} className=\"space-y-4\"><div><label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\">Name</label><input type=\"text\" name=\"name\" id=\"name\" value={formData.name} onChange={handleChange} required className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" /></div><div><label htmlFor=\"chiffre\" className=\"block text-sm font-medium text-gray-700\">Chiffre</label><input type=\"text\" name=\"chiffre\" id=\"chiffre\" value={formData.chiffre} onChange={handleChange} required className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" /></div><div><label htmlFor=\"therapyType\" className=\"block text-sm font-medium text-gray-700\">Therapieform</label><select name=\"therapyType\" id=\"therapyType\" value={formData.therapyType} onChange={handleChange} className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"><option value=\"LZT\">Langzeittherapie (LZT)</option><option value=\"KZT\">Kurzzeittherapie (KZT)</option></select></div><div><label htmlFor=\"approvedHours\" className=\"block text-sm font-medium text-gray-700\">Genehmigte Stunden</label><input type=\"number\" name=\"approvedHours\" id=\"approvedHours\" value={formData.approvedHours} onChange={handleChange} min=\"0\" className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" /></div><div><label htmlFor=\"conductedHours\" className=\"block text-sm font-medium text-gray-700\">Durchgeführte Stunden</label><input type=\"number\" name=\"conductedHours\" id=\"conductedHours\" value={formData.conductedHours} onChange={handleChange} min=\"0\" className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\" /></div><div className=\"flex justify-end space-x-3 pt-4\"><button type=\"button\" onClick={onCancel} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\">Abbrechen</button><button type=\"submit\" className=\"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 flex items-center\"><Save className=\"w-4 h-4 mr-2\" /> Speichern</button></div></form>);\n};\n\nconst FEP2_ITEMS_TO_REVERSE = [1, 2, 5, 9, 14, 15, 19, 21, 22, 27, 29, 30, 39]; \nconst FEP2_SKALEN_DEFINITION = { WOHLBEFINDEN: { items: [1, 5, 9, 14, 22, 30, 39], minItemsRequired: 7 }, BESCHWERDEN: { items: [4, 6, 7, 8, 10, 12, 23, 24, 31, 34, 38], minItemsRequired: 10 }, BESCHWERDEN_ANGST: { items: [4, 8, 12, 23], minItemsRequired: 4 }, BESCHWERDEN_DEPRESSIVITAET: { items: [7, 10, 24, 31, 34, 38], minItemsRequired: 5 }, INTERPERSONALE_BEZIEHUNG: { items: [11, 13, 16, 18, 20, 25, 26, 28, 32, 33, 36, 40], minItemsRequired: 11 }, INTERPERSONALE_INTROVERTIERT_SCHEU: { items: [28, 36, 40], minItemsRequired: 3 }, INTERPERSONALE_AUSNUTZBAR_NACHGIEBIG: { items: [13, 20, 26], minItemsRequired: 3 }, INTERPERSONALE_KONKURRIEREND_UNTERSTUETZEND: { items: [11, 16, 33], minItemsRequired: 3 }, INTERPERSONALE_SELBSTUNSICHER_ZURUECKHALTEND: { items: [18, 25, 32], minItemsRequired: 3 }, KONGRUENZ: { items: [2, 3, 15, 17, 19, 21, 27, 29, 35, 37], minItemsRequired: 8 }, };\nconst calculateFep2Scores = (itemScoresRaw) => { const itemScores = itemScoresRaw.map((score, index) => { const itemNum = index + 1; if (FEP2_ITEMS_TO_REVERSE.includes(itemNum) && score > 0 && score <=5) { return 6 - score; } return score; }); const answeredItemsCount = itemScores.filter(score => score > 0 && score <= 5).length; const calculatedScales = {}; if (answeredItemsCount >= 32) { const sum = itemScores.reduce((acc, score) => acc + (score > 0 && score <=5 ? score : 0), 0); calculatedScales.gesamtbelastung = answeredItemsCount > 0 ? parseFloat((sum / answeredItemsCount).toFixed(2)) : null; } else { calculatedScales.gesamtbelastung = null; } for (const skalaName in FEP2_SKALEN_DEFINITION) { const def = FEP2_SKALEN_DEFINITION[skalaName]; let sum = 0; let count = 0; def.items.forEach(itemNum => { const score = itemScores[itemNum - 1]; if (score > 0 && score <= 5) { sum += score; count++; } }); if (count >= def.minItemsRequired) { calculatedScales[skalaName.toLowerCase()] = parseFloat((sum / count).toFixed(2)); } else { calculatedScales[skalaName.toLowerCase()] = null; } } return calculatedScales; };\n\nasync function generateGeminiText(prompt) { \n    let chatHistory = [{ role: \"user\", parts: [{ text: prompt }] }]; \n    const payload = { contents: chatHistory }; \n    const GEMINI_API_KEY = typeof __GEMINI_API_KEY__ !== 'undefined' ? __GEMINI_API_KEY__ : \"YOUR_LOCAL_GEMINI_API_KEY\"; // Tragen Sie hier Ihren lokalen Schlüssel ein\n    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`; \n    try { \n        const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) }); \n        if (!response.ok) { const errorData = await response.json(); console.error(\"Gemini API error details:\", errorData); const errorMessage = errorData.error?.message || `API request failed with status ${response.status}`; throw new Error(errorMessage); } \n        const result = await response.json(); \n        if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) { return result.candidates[0].content.parts[0].text; } \n        else if (result.candidates && result.candidates.length > 0 && result.candidates[0].finishReason === \"SAFETY\") { console.warn(\"Gemini API response blocked due to safety reasons.\"); return \"Die Antwort wurde aufgrund von Sicherheitsrichtlinien blockiert.\"; } \n        else { console.error(\"Unexpected Gemini API response structure:\", result); throw new Error(\"Unerwartete Antwortstruktur von der API.\"); } \n    } catch (error) { console.error(\"Error calling Gemini API:\", error); throw error; } \n}\n\nfunction App() {\n  const [patients, setPatients] = useState([]);\n  const [selectedPatient, setSelectedPatient] = useState(null);\n  const [isLoading, setIsLoading] = useState(true); \n  const [authError, setAuthError] = useState(null); \n  const [appError, setAppError] = useState(null); \n  const [userId, setUserId] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false); \n  \n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoginView, setIsLoginView] = useState(true); \n  const [isAuthLoading, setIsAuthLoading] = useState(false); \n\n  const [isPatientModalOpen, setIsPatientModalOpen] = useState(false);\n  const [editingPatient, setEditingPatient] = useState(null);\n  const [isConfirmDeleteModalOpen, setIsConfirmDeleteModalOpen] = useState(false);\n  const [patientToDeleteId, setPatientToDeleteId] = useState(null);\n  \n  const [newDiagnosis, setNewDiagnosis] = useState('');\n  const [newDiagnosisCode, setNewDiagnosisCode] = useState(''); \n  const [newDiagnosisSicherheit, setNewDiagnosisSicherheit] = useState('G'); \n  const [lookedUpDiagnosisName, setLookedUpDiagnosisName] = useState(''); \n\n  const [newSessionDate, setNewSessionDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newSessionNotes, setNewSessionNotes] = useState('');\n  const [activeDetailTab, setActiveDetailTab] = useState('details');\n  const [activeDiagnostikSubTab, setActiveDiagnostikSubTab] = useState('scl90r'); \n\n  const [newHsclDate, setNewHsclDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newHsclAngst, setNewHsclAngst] = useState(''); \n  const [newHsclDepression, setNewHsclDepression] = useState(''); \n\n  const [newBdiDate, setNewBdiDate] = useState(new Date().toISOString().split('T')[0]);\n  const [newBdiScore, setNewBdiScore] = useState(''); \n\n  const [newFepDate, setNewFepDate] = useState(new Date().toISOString().split('T')[0]);\n  const [fepItemScores, setFepItemScores] = useState(Array(40).fill(0)); \n\n  const [sessionSummaries, setSessionSummaries] = useState({}); \n  const [diagnosisInfo, setDiagnosisInfo] = useState({ code: '', name: '', beschreibung: '', inkl: [], exkl: [], hinweise: [], zusatz_info_code: '', sicherheit: '', isLoading: false, error: null, isOpen: false, source: '' });\n  \n  const [localIcd10Data, setLocalIcd10Data] = useState({}); \n  const [editableConductedHours, setEditableConductedHours] = useState(\"\"); \n  \n  const [editableKrankheitsanamnese, setEditableKrankheitsanamnese] = useState(\"\");\n  const [editableLebensgeschichte, setEditableLebensgeschichte] = useState(\"\");\n  const [editableProblemanalyseMakro, setEditableProblemanalyseMakro] = useState(\"\");\n  const [editableTherapieplan, setEditableTherapieplan] = useState(\"\");\n\n  const [therapeutischeAssistenzOutput, setTherapeutischeAssistenzOutput] = useState(\"\");\n  const [isLoadingTherapeutischeAssistenz, setIsLoadingTherapeutischeAssistenz] = useState(false);\n  const [assistenzError, setAssistenzError] = useState(null);\n\n  const detailViewRef = useRef(null);\n  const overviewRef = useRef(null);\n\n\n  useEffect(() => {\n    fetch('/icd10f_data.json') \n      .then(response => {\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status} - Stellen Sie sicher, dass 'icd10f_data.json' im 'public' Ordner liegt.`);\n        }\n        return response.json();\n      })\n      .then(data => {\n        const indexedData = {};\n        data.forEach(item => {\n          if (item.code) { \n            indexedData[item.code.toUpperCase()] = item; \n          }\n        });\n        setLocalIcd10Data(indexedData);\n        console.log(\"Lokale ICD-10 Daten geladen und indiziert.\");\n      })\n      .catch(error => {\n        console.error(\"Fehler beim Laden der lokalen ICD-10 Daten:\", error);\n        setAppError(\"Lokale ICD-10 Daten konnten nicht geladen werden. \" + error.message);\n      });\n  }, []); \n\n  useEffect(() => {\n    if (selectedPatient) {\n        setEditableConductedHours(selectedPatient.conductedHours !== null && selectedPatient.conductedHours !== undefined ? String(selectedPatient.conductedHours) : \"\");\n        setEditableKrankheitsanamnese(selectedPatient.krankheitsanamnese || \"\");\n        setEditableLebensgeschichte(selectedPatient.lebensgeschichte || \"\");\n        setEditableProblemanalyseMakro(selectedPatient.problemanalyseMakro || \"\");\n        setEditableTherapieplan(selectedPatient.therapieplan || \"\");\n        if (detailViewRef.current) {\n            setTimeout(() => {\n                detailViewRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' });\n            }, 100);\n        }\n    } else {\n        setEditableConductedHours(\"\"); \n        setEditableKrankheitsanamnese(\"\");\n        setEditableLebensgeschichte(\"\");\n        setEditableProblemanalyseMakro(\"\");\n        setEditableTherapieplan(\"\");\n    }\n  }, [selectedPatient]);\n\n\n  const findIcd10CodeLocal = useCallback((codeToFind) => {\n    const upperCodeToFind = codeToFind.toUpperCase();\n    let found = localIcd10Data[upperCodeToFind];\n    if (found) return found;\n    const baseCode = upperCodeToFind.replace(/(\\.-[*]|\\.\\*|[*]|-)$/, '');\n    found = localIcd10Data[`${baseCode}.-*`] || localIcd10Data[`${baseCode}.*`] || localIcd10Data[baseCode];\n    if (found) return found;\n    const possibleCategoryCode = Object.keys(localIcd10Data).find(\n        key => key.startsWith(upperCodeToFind) && (localIcd10Data[key].code_kategorie || localIcd10Data[key].code)\n    );\n    if (possibleCategoryCode) return localIcd10Data[possibleCategoryCode];\n    return null;\n  }, [localIcd10Data]);\n\n  useEffect(() => {\n    if (newDiagnosisCode.trim() !== '') {\n        const found = findIcd10CodeLocal(newDiagnosisCode.trim().toUpperCase());\n        if (found && found.name) {\n            setLookedUpDiagnosisName(found.name);\n        } else {\n            setLookedUpDiagnosisName('');\n        }\n    } else {\n        setLookedUpDiagnosisName('');\n    }\n  }, [newDiagnosisCode, findIcd10CodeLocal]);\n\n\n  const getPatientsCollectionPath = useCallback(() => { \n    if (!userId) return null; \n    return `/artifacts/${firestoreAppId}/users/${userId}/patients`; \n  }, [userId]);\n\n  useEffect(() => { \n    const unsubscribe = onAuthStateChanged(auth, (user) => { \n      if (user) { \n        setUserId(user.uid); \n      } else { \n        setUserId(null); \n      } \n      setIsAuthReady(true); \n      setIsLoading(false); \n    }); \n    return () => unsubscribe(); \n  }, []);\n\n  const seedInitialData = useCallback(async () => { \n    if (!userId) return; \n    const collectionPath = getPatientsCollectionPath(); \n    if (!collectionPath) return; \n    try { \n      const patientsCollection = collection(db, collectionPath); \n      const querySnapshot = await getDocs(patientsCollection); \n      if (querySnapshot.empty) { \n        const batch = writeBatch(db); \n        initialPatientsData.forEach(patientData => { \n          const newPatientRef = doc(patientsCollection); \n          batch.set(newPatientRef, { \n            ...patientData, \n            hscl11Results: patientData.hscl11Results || [], \n            bdi2Results: patientData.bdi2Results || [], \n            fep2Results: patientData.fep2Results || [],\n            scl90rResults: patientData.scl90rResults || [],\n            krankheitsanamnese: patientData.krankheitsanamnese || \"\",\n            lebensgeschichte: patientData.lebensgeschichte || \"\",\n            problemanalyseMakro: patientData.problemanalyseMakro || \"\",\n            therapieplan: patientData.therapieplan || \"\"\n          }); \n        }); \n        await batch.commit(); \n        console.log(\"Initiale Daten erfolgreich geschrieben.\");\n      } else {\n        console.log(\"Vorhandene Patientendaten gefunden, Seed wird übersprungen.\");\n      }\n    } catch (err) { \n      console.error(\"Error seeding initial data:\", err); \n      setAppError(\"Fehler beim Laden der initialen Daten.\"); \n    } \n  }, [userId, getPatientsCollectionPath]);\n  \n  useEffect(() => {\n    if (!isAuthReady || !userId) { \n      setPatients([]); \n      if(isAuthReady && !userId) console.log(\"Kein Benutzer angemeldet, warte auf Login/Registrierung.\");\n      return; \n    }\n    const collectionPath = getPatientsCollectionPath(); \n    if (!collectionPath) {\n        console.log(\"Collection path ist nicht verfügbar für Firestore Listener.\");\n        return;\n    }\n    \n    setIsLoading(true); \n    seedInitialData(); \n\n    const patientsQuery = query(collection(db, collectionPath));\n    const unsubscribe = onSnapshot(patientsQuery, (snapshot) => {\n      let patientsData = snapshot.docs.map(docSnap => ({ \n        id: docSnap.id, \n        ...docSnap.data(), \n        hscl11Results: docSnap.data().hscl11Results || [], \n        bdi2Results: docSnap.data().bdi2Results || [], \n        fep2Results: docSnap.data().fep2Results || [],\n        scl90rResults: docSnap.data().scl90rResults || [],\n        krankheitsanamnese: docSnap.data().krankheitsanamnese || \"\",\n        lebensgeschichte: docSnap.data().lebensgeschichte || \"\",\n        problemanalyseMakro: docSnap.data().problemanalyseMakro || \"\",\n        therapieplan: docSnap.data().therapieplan || \"\"\n      }));\n      patientsData.sort((a, b) => a.name.localeCompare(b.name)); \n      setPatients(patientsData); \n      setIsLoading(false); \n    }, (err) => {\n      console.error(\"Error fetching patients:\", err);\n      setAppError(\"Fehler beim Laden der Patientendaten. Stellen Sie sicher, dass Firestore korrekt konfiguriert ist.\");\n      setIsLoading(false);\n    });\n\n    return () => unsubscribe(); \n  }, [isAuthReady, userId, getPatientsCollectionPath, seedInitialData]); \n\n  useEffect(() => {\n    if (selectedPatient && selectedPatient.id && patients.length > 0) {\n        const currentPatientDataFromList = patients.find(p => p.id === selectedPatient.id);\n        if (currentPatientDataFromList) {\n            if (JSON.stringify(currentPatientDataFromList) !== JSON.stringify(selectedPatient)) {\n                 setSelectedPatient(currentPatientDataFromList);\n            }\n        } else {\n            setSelectedPatient(null);\n        }\n    }\n  }, [patients, selectedPatient]); \n\n\n  const handleAuthAction = async (isRegistering) => {\n    setIsAuthLoading(true);\n    setAuthError(null);\n    try {\n        if (isRegistering) {\n            await createUserWithEmailAndPassword(auth, email, password);\n        } else {\n            await signInWithEmailAndPassword(auth, email, password);\n        }\n        setEmail(\"\");\n        setPassword(\"\");\n    } catch (error) {\n        console.error(\"Firebase auth error:\", error);\n        let message = \"Ein Fehler ist aufgetreten.\";\n        if (error.code === 'auth/email-already-in-use') {\n            message = \"Diese E-Mail-Adresse wird bereits verwendet.\";\n        } else if (error.code === 'auth/invalid-email') {\n            message = \"Ungültige E-Mail-Adresse.\";\n        } else if (error.code === 'auth/weak-password') {\n            message = \"Das Passwort ist zu schwach. Es sollte mindestens 6 Zeichen lang sein.\";\n        } else if (error.code === 'auth/user-not-found' || error.code === 'auth/wrong-password' || error.code === 'auth/invalid-credential') {\n            message = \"E-Mail oder Passwort ist ungültig.\";\n        }\n        setAuthError(message);\n    } finally {\n        setIsAuthLoading(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n        await signOut(auth);\n        setSelectedPatient(null); \n        setPatients([]); \n    } catch (error) {\n        console.error(\"Error signing out: \", error);\n        setAppError(\"Fehler beim Abmelden.\");\n    }\n  };\n  \n  const handleSavePatient = async (patientData) => { \n    if (!userId) { setAppError(\"Benutzer nicht authentifiziert.\"); return; } \n    const collectionPath = getPatientsCollectionPath(); \n    if (!collectionPath) return; \n    const dataToSave = { \n        ...patientData, \n        hscl11Results: patientData.hscl11Results || [], \n        bdi2Results: patientData.bdi2Results || [], \n        fep2Results: patientData.fep2Results || [],\n        scl90rResults: patientData.scl90rResults || [],\n        krankheitsanamnese: patientData.krankheitsanamnese || \"\",\n        lebensgeschichte: patientData.lebensgeschichte || \"\",\n        problemanalyseMakro: patientData.problemanalyseMakro || \"\",\n        therapieplan: patientData.therapieplan || \"\"\n    }; \n    try { \n      if (editingPatient && editingPatient.id) { \n        const patientRef = doc(db, collectionPath, editingPatient.id); \n        await setDoc(patientRef, dataToSave, { merge: true }); \n      } else { \n        await addDoc(collection(db, collectionPath), dataToSave); \n      } \n      setIsPatientModalOpen(false); \n      setEditingPatient(null); \n    } catch (err) { \n      console.error(\"Error saving patient:\", err); \n      setAppError(\"Fehler beim Speichern des Patienten.\"); \n    } \n  };\n  const openDeleteConfirmation = (patientId) => { setPatientToDeleteId(patientId); setIsConfirmDeleteModalOpen(true); };\n  const confirmDeletePatient = async () => { \n    if (!patientToDeleteId || !userId) { setAppError(\"Löschvorgang fehlgeschlagen.\"); setIsConfirmDeleteModalOpen(false); return; } \n    const collectionPath = getPatientsCollectionPath(); \n    if (!collectionPath) return; \n    try { \n      const patientRef = doc(db, collectionPath, patientToDeleteId); \n      await deleteDoc(patientRef); \n      if (selectedPatient && selectedPatient.id === patientToDeleteId) { \n        setSelectedPatient(null); \n      } \n      setPatientToDeleteId(null); \n      setIsConfirmDeleteModalOpen(false); \n    } catch (err) { \n      console.error(\"Error deleting patient:\", err); \n      setAppError(\"Fehler beim Löschen des Patienten.\"); \n      setIsConfirmDeleteModalOpen(false); \n    } \n  };\n  \n  const handleAddDiagnosis = async () => {\n    const codeToAdd = newDiagnosisCode.trim().toUpperCase();\n    if (!selectedPatient || !codeToAdd || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    \n    const sicherheitPrefix = newDiagnosisSicherheit ? `[${newDiagnosisSicherheit}] ` : \"\";\n    const beschreibung = newDiagnosis.trim() ? `: ${newDiagnosis.trim()}` : (lookedUpDiagnosisName ? `: ${lookedUpDiagnosisName}` : \"\");\n    const diagnosisString = `${sicherheitPrefix}${codeToAdd}${beschreibung}`;\n\n    const updatedDiagnoses = [...(selectedPatient.diagnoses || []), diagnosisString];\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { \n        await setDoc(patientRef, { diagnoses: updatedDiagnoses }, { merge: true }); \n        setNewDiagnosisCode(''); \n        setNewDiagnosis('');      \n        setLookedUpDiagnosisName(''); \n        setNewDiagnosisSicherheit('G'); \n    } \n    catch (err) { console.error(\"Error adding diagnosis:\", err); setAppError(\"Fehler beim Hinzufügen der Diagnose.\");}\n  };\n  const handleRemoveDiagnosis = async (diagnosisStringToRemove) => { \n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const updatedDiagnoses = selectedPatient.diagnoses.filter(d => d !== diagnosisStringToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { diagnoses: updatedDiagnoses }, { merge: true }); }\n    catch (err) { console.error(\"Error removing diagnosis:\", err); setAppError(\"Fehler beim Entfernen der Diagnose.\");}\n  };\n\n  const handleAddSession = async () => { \n    if (!selectedPatient || !newSessionNotes.trim() || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const newSession = { date: newSessionDate, notes: newSessionNotes.trim() };\n    const updatedSessions = [...(selectedPatient.sessions || []), newSession];\n    updatedSessions.sort((a, b) => new Date(b.date) - new Date(a.date)); \n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { sessions: updatedSessions }, { merge: true }); setNewSessionNotes(''); }\n    catch (err) { console.error(\"Error adding session:\", err); setAppError(\"Fehler beim Hinzufügen der Sitzung.\");}\n   };\n  \n  const handleUpdateConductedHours = async (patientId, hours) => {\n    if (!patientId || !userId) return;\n    if (isNaN(hours) || hours < 0) {\n        console.error(\"Ungültige Stundenzahl für Firestore-Update:\", hours);\n        return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const patientRef = doc(db, collectionPath, patientId);\n    try {\n        await setDoc(patientRef, { conductedHours: hours }, { merge: true });\n    } catch (err) {\n        console.error(\"Error updating conducted hours:\", err);\n        setAppError(\"Fehler beim Aktualisieren der Stunden.\");\n    }\n  };\n\n  const handleAddHsclResult = async () => { \n    if (!selectedPatient || !newHsclDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const angst = parseInt(newHsclAngst, 10);\n    const depression = parseInt(newHsclDepression, 10);\n    if (isNaN(angst) || angst < 0 || angst > 20 || isNaN(depression) || depression < 0 || depression > 24) {\n        setAppError(\"Ungültige HSCL-Werte. Angst (0-20), Depression (0-24).\"); return;\n    }\n    const newResult = { date: newHsclDate, angst: angst, depression: depression, cumulative: angst + depression };\n    const updatedHsclResults = [...(selectedPatient.hscl11Results || []), newResult];\n    updatedHsclResults.sort((a, b) => new Date(a.date) - new Date(b.date)); \n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { hscl11Results: updatedHsclResults }, { merge: true });\n      setNewHsclAngst(''); setNewHsclDepression(''); setAppError(null); \n    } catch (err) { console.error(\"Error adding HSCL result:\", err); setAppError(\"Fehler beim Hinzufügen des HSCL-Ergebnisses.\"); }\n  };\n  const handleRemoveHsclResult = async (dateToRemove) => { \n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const updatedHsclResults = selectedPatient.hscl11Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { hscl11Results: updatedHsclResults }, { merge: true }); }\n    catch (err) { console.error(\"Error removing HSCL result:\", err); setAppError(\"Fehler beim Entfernen des HSCL-Ergebnisses.\"); }\n  };\n  const handleAddBdiResult = async () => { \n    if (!selectedPatient || !newBdiDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const score = parseInt(newBdiScore, 10);\n    if (isNaN(score) || score < 0 || score > 63) { setAppError(\"Ungültiger BDI-II Wert (0-63).\"); return; }\n    const newResult = { date: newBdiDate, score: score };\n    const updatedBdiResults = [...(selectedPatient.bdi2Results || []), newResult];\n    updatedBdiResults.sort((a, b) => new Date(a.date) - new Date(b.date)); \n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { bdi2Results: updatedBdiResults }, { merge: true });\n      setNewBdiScore(''); setAppError(null); \n    } catch (err) { console.error(\"Error adding BDI-II result:\", err); setAppError(\"Fehler beim Hinzufügen des BDI-II Ergebnisses.\"); }\n  };\n  const handleRemoveBdiResult = async (dateToRemove) => { \n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const updatedBdiResults = selectedPatient.bdi2Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { bdi2Results: updatedBdiResults }, { merge: true }); }\n    catch (err) { console.error(\"Error removing BDI-II result:\", err); setAppError(\"Fehler beim Entfernen des BDI-II Ergebnisses.\"); }\n  };\n  const handleFepItemChange = (index, value) => { \n    const newScores = [...fepItemScores];\n    newScores[index] = value === '' ? 0 : parseInt(value, 10); \n    if (isNaN(newScores[index]) || newScores[index] < 0 || newScores[index] > 5) newScores[index] = 0; \n    setFepItemScores(newScores);\n  };\n  const handleAddFepResult = async () => { \n    if (!selectedPatient || !newFepDate || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const answeredCount = fepItemScores.filter(s => s >= 1 && s <= 5).length;\n    if (answeredCount < 32) { setAppError(\"Bitte beantworten Sie mindestens 80% (32) der FEP-2 Items.\"); return; }\n    const calculatedScales = calculateFep2Scores(fepItemScores);\n    const newResult = { date: newFepDate, itemScores: [...fepItemScores], calculatedScales };\n    const updatedFepResults = [...(selectedPatient.fep2Results || []), newResult];\n    updatedFepResults.sort((a, b) => new Date(a.date) - new Date(b.date)); \n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { fep2Results: updatedFepResults }, { merge: true });\n      setFepItemScores(Array(40).fill(0)); setAppError(null); \n    } catch (err) { console.error(\"Error adding FEP-2 result:\", err); setAppError(\"Fehler beim Hinzufügen des FEP-2 Ergebnisses.\"); }\n  };\n  const handleRemoveFepResult = async (dateToRemove) => { \n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n    const updatedFepResults = selectedPatient.fep2Results.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try { await setDoc(patientRef, { fep2Results: updatedFepResults }, { merge: true }); }\n    catch (err) { console.error(\"Error removing FEP-2 result:\", err); setAppError(\"Fehler beim Entfernen des FEP-2 Ergebnisses.\"); }\n  };\n  const fetchSessionSummary = async (sessionNotes, sessionIndex) => { \n    setSessionSummaries(prev => ({ ...prev, [sessionIndex]: { ...prev[sessionIndex], isLoading: true, error: null } }));\n    const prompt = `Fasse die folgenden Therapiesitzungsnotizen prägnant zusammen. Konzentriere dich auf die wichtigsten Themen, Interventionen und den Fortschritt des Patienten:\\n\\n\"${sessionNotes}\"`;\n    try { const summary = await generateGeminiText(prompt); setSessionSummaries(prev => ({ ...prev, [sessionIndex]: { summary: summary, isLoading: false, error: null } })); } \n    catch (e) { setSessionSummaries(prev => ({ ...prev, [sessionIndex]: { ...prev[sessionIndex], isLoading: false, error: e.message } })); setAppError(`Fehler bei der Zusammenfassung: ${e.message}`); }\n  };\n  \n  const showDiagnosisInfo = (diagnosisString) => {\n    const sicherheitMatch = diagnosisString.match(/^\\[([AVGZN]+)\\]\\s*/i); \n    const sicherheit = sicherheitMatch ? sicherheitMatch[1].toUpperCase() : '';\n    const codeAndName = sicherheitMatch ? diagnosisString.substring(sicherheitMatch[0].length) : diagnosisString;\n    const codeMatch = codeAndName.match(/^([A-Z][0-9]{1,2}(\\.[0-9A-Z]{1,2})?[\\*\\-\\!]?)/i); \n    const code = codeMatch ? codeMatch[0].toUpperCase() : codeAndName.split(':')[0].trim().toUpperCase();\n\n    const localData = findIcd10CodeLocal(code);\n    if (localData) {\n        setDiagnosisInfo({ \n            code: localData.code || code, \n            name: localData.name || '', \n            beschreibung: localData.beschreibung || localData.beschreibung_kategorie || '', \n            inkl: localData.inkl || [], \n            exkl: localData.exkl || [], \n            hinweise: localData.hinweise || localData.hinweise_kategorie || [], \n            zusatz_info_code: localData.zusatz_info_code || '', \n            sicherheit: sicherheit, \n            isLoading: false, \n            error: null, \n            isOpen: true, \n            source: 'local' \n        });\n    } else {\n        fetchDiagnosisInfoGemini(code, sicherheit); \n    }\n  };\n\n  const fetchDiagnosisInfoGemini = async (diagnosisCode, sicherheit = '') => { \n    setDiagnosisInfo({ code: diagnosisCode, info: '', isLoading: true, error: null, isOpen: true, source: 'gemini', sicherheit: sicherheit });\n    const prompt = `Erkläre die ICD-10 Diagnose '${diagnosisCode}'${sicherheit ? ` (Diagnosesicherheit: ${sicherheit})` : ''} kurz und verständlich für einen Laien. Nenne auch typische Symptome und ggf. wichtige Differentialdiagnosen oder Komorbiditäten, falls relevant. Antworte auf Deutsch.`;\n    try { const info = await generateGeminiText(prompt); setDiagnosisInfo(prev => ({ ...prev, info: info, isLoading: false })); } \n    catch (e) { setDiagnosisInfo(prev => ({ ...prev, isLoading: false, error: e.message })); setAppError(`Fehler beim Abrufen der Diagnose-Info via Gemini: ${e.message}`);}\n  };\n  const handleKrankheitsmodellChange = async (fieldName, value) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n        await setDoc(patientRef, { [fieldName]: value }, { merge: true });\n    } catch (err) {\n        console.error(`Error updating ${fieldName}:`, err);\n        setAppError(`Fehler beim Speichern von ${fieldName}.`);\n    }\n  };\n\n  const handleTherapeutischeAssistenzAnfordern = async () => {\n    if (!selectedPatient) {\n        setAssistenzError(\"Bitte wählen Sie zuerst einen Patienten aus.\");\n        return;\n    }\n    setIsLoadingTherapeutischeAssistenz(true);\n    setTherapeutischeAssistenzOutput(\"\");\n    setAssistenzError(null);\n\n    const patientenDatenText = `\nHier sind die relevanten Patientendaten:\n\n**Krankheitsanamnese:**\n${selectedPatient.krankheitsanamnese || \"Keine Angaben.\"}\n\n**Lebensgeschichte/Biografie:**\n${selectedPatient.lebensgeschichte || \"Keine Angaben.\"}\n\n**Problemanalyse auf Makroebene:**\n${selectedPatient.problemanalyseMakro || \"Keine Angaben.\"}\n\n**Therapieplanung (bisherig):**\n${selectedPatient.therapieplan || \"Keine Angaben.\"}\n\n**Verlaufsdokumentation (Sitzungsnotizen):**\n${(selectedPatient.sessions || []).map((s, i) => `Sitzung ${i+1} (${new Date(s.date).toLocaleDateString('de-DE')}): ${s.notes}`).join(\"\\n\\n\") || \"Keine Sitzungsnotizen vorhanden.\"}\n\n**Diagnosen:**\n${(selectedPatient.diagnoses || []).join(\", \") || \"Keine Diagnosen erfasst.\"}\n\n**Genehmigte Stunden:** ${selectedPatient.approvedHours}\n**Durchgeführte Stunden:** ${selectedPatient.conductedHours}\n    `;\n\n    const systemPrompt = `Du bist ein interdisziplinäres Expertenteam, bestehend aus erfahrenen Verhaltenstherapeuten wie Jürgen Margraf, Dr. Stavemann, Aaron T. Beck, Judith Beck und Jonathan S. Abramowitz sowie aus leitenden Chefärzten und Psychiatern wie Prof. Dr. Mathias Berger. Das Team verfügt über exzellente Fachkompetenz in der evidenzbasierten psychotherapeutischen Praxis und legt besonderen Wert auf präzise medizinische Dokumentation sowie therapeutische Qualität. Darüber hinaus gehören auch international anerkannte Experten wie David H. Barlow, Stefan G. Hofmann und Steven Hayes zum Team. Du verfügst über tiefgehendes Wissen in Ansätzen der sogenannten „dritten Welle“ der Verhaltenstherapie, insbesondere in ACT, Schematherapie und DBT.\n\nDeine Aufgabe ist es, auf Grundlage folgender Elemente, welche du aus den bereitgestellten Patientendaten entnimmst:\n- Krankheitsanamnese\n- Lebensgeschichte/Biografie\n- Problemanalyse auf Makroebene\n- Therapieplanung (bisherig)\n- Verlaufsdokumentation (Sitzungsnotizen)\n\neine strukturierte Rückmeldung zu geben mit dem Ziel:\n1. Wesentliche Schwerpunkte in der weiteren Therapieplanung zu identifizieren.\n2. Konkrete Interventionsideen zu formulieren, orientiert an den zugelassenen Stunden.\n3. Hinweise zu geben, worauf in der Strukturierung der Sitzungen geachtet werden sollte (z.B. Themenfokus, Symptomschwere, Therapiezielorientierung).\n\nBerücksichtige dabei:\n• Die begrenzte Anzahl genehmigter Stunden.\n• Dass Themen nicht zu häufig gewechselt werden sollen.\n• Die Konsistenz und Nachvollziehbarkeit im Verlauf.\n\nBitte plane deine Analyse gründlich und reflektiert. Handle in Etappen:\n1. Diagnostische Schwerpunkte benennen\n2. Therapieziele definieren\n3. Interventionsvorschläge machen\n4. Hinweise zur Dokumentation geben\n\nAtme einmal tief ein und aus und nehme dir Zeit für die Aufgabe. Mache bitte weiter, bis das Problem vollständig gelöst ist. Planen bitte ausführlich vor jeder Aktion.\n\nHier sind die Daten des aktuellen Falls:\n${patientenDatenText}\n\nBitte gib deine strukturierte Rückmeldung.`;\n\n    try {\n        const assistenz = await generateGeminiText(systemPrompt);\n        setTherapeutischeAssistenzOutput(assistenz);\n    } catch (e) {\n        setAssistenzError(`Fehler bei der Anforderung der therapeutischen Assistenz: ${e.message}`);\n    } finally {\n        setIsLoadingTherapeutischeAssistenz(false);\n    }\n  };\n  \n\n\n // In App.js\n\nconst handleAddScl90rResult = async (result) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n\n    // --- KORREKTUR START ---\n    // Erstellen Sie das zu speichernde Objekt explizit, um sicherzustellen,\n    // dass alle erforderlichen Felder vorhanden sind.\n    const newResultToSave = {\n        rawScores: result.rawScores,\n        tScores: result.tScores,\n        globalScores: result.globalScores,\n        itemScores: result.itemScores, // Das entscheidende Feld, das fehlte\n        date: result.date // Behalten Sie das ursprüngliche Datum für die Anzeige bei\n    };\n    // --- KORREKTUR ENDE ---\n\n    // Fügen Sie das neue, explizit erstellte Ergebnisobjekt zum Array hinzu\n    const updatedScl90rResults = [...(selectedPatient.scl90rResults || []), newResultToSave];\n    \n    // Sortieren Sie die Ergebnisse nach Datum, damit das Neueste oben steht\n    updatedScl90rResults.sort((a, b) => new Date(b.date) - new Date(a.date));\n\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n        await setDoc(patientRef, { scl90rResults: updatedScl90rResults }, { merge: true });\n        console.log(\"SCL-90-R-Ergebnis erfolgreich gespeichert mit itemScores.\");\n    } catch (err) {\n        console.error(\"Error adding SCL-90-R result:\", err);\n        setAppError(\"Fehler beim Speichern des SCL-90-R Ergebnisses.\");\n    }\n};\n\n// Passen Sie auch die Löschfunktion an, um sicherzustellen, dass das richtige Datum verwendet wird.\nconst handleRemoveScl90rResult = async (dateToRemove) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n\n    // Filtern Sie das Array, um das Ergebnis mit dem übereinstimmenden Datum zu entfernen\n    const updatedScl90rResults = selectedPatient.scl90rResults.filter(r => r.date !== dateToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n        await setDoc(patientRef, { scl90rResults: updatedScl90rResults }, { merge: true });\n    } catch (err) {\n        console.error(\"Error removing SCL-90-R result:\", err);\n        setAppError(\"Fehler beim Entfernen des SCL-90-R Ergebnisses.\");\n    }\n};\n\n\n\n  const totalApprovedHours = patients.reduce((sum, p) => sum + (p.approvedHours || 0), 0);\n  const totalConductedHours = patients.reduce((sum, p) => sum + (p.conductedHours || 0), 0);\n  const overallProgressTarget = 600;\n  const overallProgress = overallProgressTarget > 0 ? (totalConductedHours / overallProgressTarget) * 100 : 0;\n\n  if (!isAuthReady) return <div className=\"flex justify-center items-center h-screen text-xl font-semibold text-gray-700\">Authentifizierung wird initialisiert...</div>;\n  \n  const bdiCutoffs = [ { y1: 0, y2: 8, label: \"Keine Depression\", color: \"rgba(75, 192, 192, 0.2)\" }, { y1: 9, y2: 13, label: \"Minimale Depression\", color: \"rgba(54, 162, 235, 0.2)\" }, { y1: 14, y2: 19, label: \"Leichte Depression\", color: \"rgba(255, 206, 86, 0.2)\" }, { y1: 20, y2: 28, label: \"Mittelschwere Depression\", color: \"rgba(255, 159, 64, 0.2)\" }, { y1: 29, y2: 63, label: \"Schwere Depression\", color: \"rgba(255, 99, 132, 0.2)\" }, ];\n  const bdiAxisTicks = [0, 8, 13, 19, 28, 63]; \n  \n  const inputStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\";\n  const btnPrimary = \"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm flex items-center justify-center\";\n  const btnDanger = \"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md flex items-center\";\n  const btnInfo = \"bg-sky-500 hover:bg-sky-600 text-white font-semibold py-1 px-2 text-xs rounded-md flex items-center\";\n  const textareaStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm min-h-[150px]\";\n\n  // Login / Registrierungs UI, wenn kein Benutzer angemeldet ist\n  if (!userId) {\n    return (\n        <div className=\"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 flex flex-col justify-center items-center p-4\">\n            <div className=\"bg-white p-8 rounded-xl shadow-2xl w-full max-w-md\">\n                <h1 className=\"text-3xl font-bold text-center text-indigo-600 mb-8\">\n                    {isLoginView ? \"Login Patientenverwaltung\" : \"Registrierung\"}\n                </h1>\n                {authError && <p className=\"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-sm\">{authError}</p>}\n                <form onSubmit={(e) => { e.preventDefault(); handleAuthAction(!isLoginView); }} className=\"space-y-6\">\n                    <div>\n                        <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">E-Mail Adresse</label>\n                        <input type=\"email\" name=\"email\" id=\"email\" required \n                               value={email} onChange={(e) => setEmail(e.target.value)}\n                               className={inputStd} />\n                    </div>\n                    <div>\n                        <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">Passwort</label>\n                        <input type=\"password\" name=\"password\" id=\"password\" required \n                               value={password} onChange={(e) => setPassword(e.target.value)}\n                               className={inputStd} />\n                    </div>\n                    <button type=\"submit\" disabled={isAuthLoading}\n                            className={`${btnPrimary} w-full py-3 text-base ${isAuthLoading ? 'opacity-50 cursor-not-allowed' : ''}`}>\n                        {isAuthLoading ? (isLoginView ? \"Anmelden...\" : \"Registrieren...\") : (isLoginView ? \"Anmelden\" : \"Registrieren\")}\n                    </button>\n                </form>\n                <button onClick={() => { setIsLoginView(!isLoginView); setAuthError(null); }} \n                        className=\"mt-6 text-sm text-indigo-600 hover:text-indigo-500 text-center w-full\">\n                    {isLoginView ? \"Noch kein Konto? Jetzt registrieren.\" : \"Bereits registriert? Zum Login.\"}\n                </button>\n            </div>\n        </div>\n    );\n  }\n\n  // Hauptanwendung, wenn Benutzer angemeldet ist\n  if (isLoading && userId) return <div className=\"flex justify-center items-center h-screen text-xl font-semibold text-gray-700\">Lade Patientendaten...</div>;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-100 to-sky-100 font-sans\">\n      <header className=\"bg-indigo-700 text-white shadow-lg\">\n        <div className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center\">\n            <h1 className=\"text-3xl font-bold tracking-tight\">Patientenverwaltung</h1>\n            <div className=\"flex items-center space-x-4\">\n                {userId && <p className=\"text-xs opacity-75 hidden sm:block\">UserID: {userId}</p>}\n                <button onClick={handleLogout} className=\"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md text-sm flex items-center\">\n                    <LogOut className=\"mr-2 h-4 w-4\"/> Logout\n                </button>\n            </div>\n        </div>\n      </header>\n      <main className=\"container mx-auto p-4 sm:p-6 lg:p-8\">\n        <div ref={overviewRef} className=\"mb-6 flex justify-between items-center\"><h2 className=\"text-2xl font-semibold text-gray-800\">Patientenübersicht</h2><button onClick={() => { setEditingPatient(null); setIsPatientModalOpen(true); }} className={`${btnPrimary} py-2 px-4`}><UserPlus className=\"w-5 h-5 mr-2\" /> Patient hinzufügen</button></div>\n        \n        <div className=\"bg-white shadow-xl rounded-lg overflow-hidden mb-8\"><div className=\"overflow-x-auto\"><table className=\"w-full min-w-max table-auto text-left\">\n            <thead className=\"bg-gray-100 border-b border-gray-300\"><tr>{['Name', 'Chiffre', 'Diagnosen', 'Therapie', 'Stunden', 'Fortschritt', 'Aktionen'].map(header => (<th key={header} className=\"py-3 px-4 text-sm font-semibold text-gray-600 uppercase tracking-wider\">{header}</th>))}</tr></thead>\n            <tbody className=\"divide-y divide-gray-200\">\n                {patients.length === 0 && !isLoading && (<tr><td colSpan=\"7\" className=\"text-center py-10 text-gray-500\">Keine Patienten gefunden. Fügen Sie einen neuen Patienten hinzu.</td></tr>)}\n                {patients.map((patient) => { \n                    const progress = patient.approvedHours > 0 ? (patient.conductedHours / patient.approvedHours) * 100 : 0;\n                    return ( \n                        <tr key={patient.id} className={`hover:bg-indigo-50 cursor-pointer ${selectedPatient?.id === patient.id ? 'bg-indigo-100' : ''}`} onClick={() => { setSelectedPatient(patient); setActiveDetailTab('details'); setSessionSummaries({}); setTherapeutischeAssistenzOutput(''); setAssistenzError(null); }}>\n                            <td className=\"py-3 px-4 whitespace-nowrap text-sm font-medium text-gray-800\">{patient.name}</td>\n                            <td className=\"py-3 px-4 whitespace-nowrap text-sm text-gray-600\">{patient.chiffre}</td>\n                            <td className=\"py-3 px-4 text-sm text-gray-600 max-w-xs\">\n                                <div className=\"flex flex-col space-y-1\">\n                                    {(patient.diagnoses || []).slice(0, 4).map((diag, idx) => {\n                                      const sicherheitMatch = diag.match(/^\\[([AVGZN]+)\\]/i);\n                                      const sicherheit = sicherheitMatch ? sicherheitMatch[1].toUpperCase() : '';\n                                      const colorClasses = {\n                                          'G': 'bg-green-100 text-green-800 hover:bg-green-200',\n                                          'V': 'bg-yellow-100 text-yellow-800 hover:bg-yellow-200',\n                                          'A': 'bg-red-100 text-red-800 hover:bg-red-200',\n                                          'ZN': 'bg-blue-100 text-blue-800 hover:bg-blue-200',\n                                      }[sicherheit] || 'bg-gray-100 text-gray-800 hover:bg-gray-200';\n\n                                      return (\n                                        <span key={idx} \n                                              className={`px-2 py-0.5 text-xs rounded-full truncate inline-block cursor-pointer ${colorClasses}`}\n                                              onClick={(e) => { e.stopPropagation(); showDiagnosisInfo(diag);}}\n                                              title={`Info zu ${diag} anzeigen`}>\n                                            {diag}\n                                        </span>\n                                      );\n                                    })}\n                                    {(patient.diagnoses || []).length > 4 && (\n                                        <span className=\"text-xs text-gray-500 mt-1\">...</span>\n                                    )}\n                                    {(patient.diagnoses || []).length === 0 && \"-\"}\n                                </div>\n                            </td>\n                            <td className=\"py-3 px-4 whitespace-nowrap text-sm text-gray-600\">{patient.therapyType}</td>\n                            <td className=\"py-3 px-4 whitespace-nowrap text-sm text-gray-600 text-center\">{`${patient.conductedHours} / ${patient.approvedHours}`}</td>\n                            <td className=\"py-3 px-4 whitespace-nowrap\">\n                                <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n                                    <div className={`h-2.5 rounded-full ${progress > 80 ? 'bg-red-500' : progress > 50 ? 'bg-yellow-400' : 'bg-green-500'}`} style={{ width: `${Math.min(progress, 100)}%` }}></div>\n                                </div>\n                                <span className=\"text-xs text-gray-500 block text-center mt-1\">{Math.round(progress)}%</span>\n                            </td>\n                            <td className=\"py-3 px-4 whitespace-nowrap text-sm space-x-2\">\n                                <button onClick={(e) => { e.stopPropagation(); setEditingPatient(patient); setIsPatientModalOpen(true); }} className=\"text-indigo-600 hover:text-indigo-800 transition duration-150 p-1 rounded hover:bg-indigo-100\" title=\"Bearbeiten\"><Edit3 className=\"w-5 h-5\" /></button>\n                                <button onClick={(e) => { e.stopPropagation(); openDeleteConfirmation(patient.id); }} className=\"text-red-500 hover:text-red-700 transition duration-150 p-1 rounded hover:bg-red-100\" title=\"Löschen\"><Trash2 className=\"w-5 h-5\" /></button>\n                            </td>\n                        </tr>\n                    );\n                })}\n            </tbody>\n            <tfoot className=\"bg-gray-50 border-t-2 border-gray-300\">\n                <tr>\n                    <td colSpan=\"4\" className=\"py-3 px-4 text-sm font-semibold text-gray-700 text-right\">Gesamt:</td>\n                    <td className=\"py-3 px-4 text-sm font-semibold text-gray-700 text-center\">{`${totalConductedHours} / ${totalApprovedHours}`}</td>\n                    <td className=\"py-3 px-4 whitespace-nowrap\" colSpan=\"2\">\n                        <div className=\"flex items-center\">\n                            <span className=\"text-xs text-gray-600 mr-3 w-auto\">Fortschritt (600 Std.):</span>\n                            <div className=\"w-full bg-gray-200 rounded-full h-2.5 flex-grow\">\n                                <div className=\"bg-blue-500 h-2.5 rounded-full\" style={{ width: `${Math.min(overallProgress, 100)}%` }}></div>\n                            </div>\n                            <span className=\"text-xs text-gray-600 ml-2\">{Math.round(overallProgress)}%</span>\n                        </div>\n                    </td>\n                </tr>\n            </tfoot>\n        </table></div></div>\n\n        {selectedPatient && (\n          <div ref={detailViewRef} className=\"bg-white shadow-xl rounded-lg p-6 mb-8\">\n            <div className=\"flex justify-between items-center mb-1\">\n              <h3 className=\"text-2xl font-semibold text-indigo-700\">{selectedPatient.name}</h3>\n              <button \n                onClick={() => {\n                  if (overviewRef.current) {\n                      overviewRef.current.scrollIntoView({ behavior: 'smooth' });\n                  }\n                  setTimeout(() => {\n                      setSelectedPatient(null);\n                      setSessionSummaries({});\n                      setTherapeutischeAssistenzOutput('');\n                      setAssistenzError(null);\n                  }, 300);\n                }} \n                className=\"text-gray-500 hover:text-gray-700\">\n                <XCircle className=\"w-7 h-7\" />\n              </button>\n            </div>\n            \n            <div className=\"border-b border-gray-200 mb-6\">\n                <nav className=\"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto\" aria-label=\"Tabs\">\n                    {['details', 'krankheitsmodell', 'diagnostik', 'assistenz'].map(tab => (\n                        <button key={tab} onClick={() => setActiveDetailTab(tab)}\n                            className={`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${activeDetailTab === tab ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`}>\n                            {tab === 'details' && 'Stammdaten & Sitzungen'} \n                            {tab === 'krankheitsmodell' && 'Krankheitsmodell'}\n                            {tab === 'diagnostik' && 'Diagnostik'} \n                            {tab === 'assistenz' && 'Therap. Assistenz'}\n                        </button>\n                    ))}\n                </nav>\n            </div>\n\n            {activeDetailTab === 'details' && (\n              <div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n                    <div><p className=\"text-sm text-gray-500\">Chiffre</p><p className=\"text-lg text-gray-800\">{selectedPatient.chiffre}</p></div>\n                    <div><p className=\"text-sm text-gray-500\">Therapieform</p><p className=\"text-lg text-gray-800\">{selectedPatient.therapyType}</p></div>\n                    <div><p className=\"text-sm text-gray-500\">Genehmigte Stunden</p><p className=\"text-lg text-gray-800\">{selectedPatient.approvedHours}</p></div>\n                    <div>\n                        <label htmlFor=\"conductedHoursDetail\" className=\"block text-sm font-medium text-gray-500\">Durchgeführte Stunden</label>\n                        <div className=\"flex items-center mt-1\">\n                            <input type=\"number\" id=\"conductedHoursDetail\" \n                                   value={editableConductedHours} \n                                   onChange={(e) => setEditableConductedHours(e.target.value)}\n                                   onBlur={(e) => {\n                                       let finalHours = parseInt(e.target.value, 10);\n                                       if (isNaN(finalHours) || finalHours < 0) {\n                                           finalHours = 0; \n                                       } else if (selectedPatient && finalHours > selectedPatient.approvedHours) {\n                                           finalHours = selectedPatient.approvedHours;\n                                       }\n                                       setEditableConductedHours(String(finalHours)); \n                                       if (selectedPatient) {\n                                           handleUpdateConductedHours(selectedPatient.id, finalHours); \n                                       }\n                                   }}\n                                   min=\"0\" \n                                   max={selectedPatient ? selectedPatient.approvedHours : undefined} \n                                   className={inputStd + \" w-24\"}/>\n                            <span className=\"ml-2 text-sm text-gray-600\">/ {selectedPatient.approvedHours}</span>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"mb-6\"> \n                  <h4 className=\"text-xl font-semibold text-gray-700 mb-3\">ICD-10 F-Diagnosen</h4>\n                  <div className=\"mb-3 p-4 bg-gray-50 rounded-md\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\">\n                        <div>\n                            <label htmlFor=\"newDiagnosisCode\" className=\"block text-xs font-medium text-gray-700\">Code (z.B. F32.2)</label>\n                            <input type=\"text\" id=\"newDiagnosisCode\" value={newDiagnosisCode} onChange={(e) => setNewDiagnosisCode(e.target.value.toUpperCase())} placeholder=\"F-Code\" className={`${inputStd} mt-1`}/>\n                        </div>\n                        <div>\n                            <label htmlFor=\"newDiagnosisSicherheit\" className=\"block text-xs font-medium text-gray-700\">Sicherheit</label>\n                            <select id=\"newDiagnosisSicherheit\" value={newDiagnosisSicherheit} onChange={(e) => setNewDiagnosisSicherheit(e.target.value)} className={`${inputStd} mt-1`}>\n                                <option value=\"G\">G (Gesichert)</option>\n                                <option value=\"V\">V (Verdacht auf)</option>\n                                <option value=\"A\">A (Ausschluss)</option>\n                                <option value=\"ZN\">ZN (Zustand nach)</option>\n                            </select>\n                        </div>\n                        <div className=\"md:col-span-1\"> \n                           <label htmlFor=\"newDiagnosisName\" className=\"block text-xs font-medium text-gray-700\">Manuelle Beschreibung (optional)</label>\n                           <input type=\"text\" id=\"newDiagnosisName\" value={newDiagnosis} onChange={(e) => setNewDiagnosis(e.target.value)} placeholder=\"Eigene Beschreibung\" className={`${inputStd} mt-1`}/>\n                        </div>\n                         <button onClick={handleAddDiagnosis} className={`${btnPrimary} bg-green-500 hover:bg-green-600 py-2 px-3 h-10 md:self-end`}><PlusCircleIcon className=\"w-5 h-5 mr-1\" /> Hinzufügen</button>\n                    </div>\n                    {lookedUpDiagnosisName && <p className=\"text-xs text-indigo-600 mt-1\">Gefunden: {lookedUpDiagnosisName}</p>}\n                  </div>\n                  <ul className=\"space-y-1 mb-3\">\n                    {(selectedPatient.diagnoses || []).map((diagString, index) => ( \n                        <li key={index} className=\"flex justify-between items-center bg-gray-50 p-2 rounded-md\">\n                            <span className=\"text-sm text-gray-700\">{diagString}</span>\n                            <div className=\"flex items-center space-x-2\">\n                                <button onClick={() => showDiagnosisInfo(diagString)} className={`${btnInfo} p-1`} title=\"Info zu dieser Diagnose abrufen\">\n                                    <FileJson2 className=\"w-4 h-4 mr-1\"/> Info\n                                </button>\n                                <button onClick={() => handleRemoveDiagnosis(diagString)} className={`${btnDanger} p-1 text-xs`}><Trash2 className=\"w-4 h-4\" /></button>\n                            </div>\n                        </li>\n                    ))}\n                    {(selectedPatient.diagnoses || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine Diagnosen erfasst.</p>}\n                  </ul>\n                </div>\n                <div> \n                  <h4 className=\"text-xl font-semibold text-gray-700 mb-3\">Sitzungsdokumentation</h4>\n                  <div className=\"bg-gray-50 p-4 rounded-lg mb-4\"><div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3\"><div><label htmlFor=\"sessionDate\" className=\"block text-sm font-medium text-gray-700\">Datum</label><input type=\"date\" id=\"sessionDate\" value={newSessionDate} onChange={(e) => setNewSessionDate(e.target.value)} className={inputStd}/></div><div className=\"md:col-span-2\"><label htmlFor=\"sessionNotes\" className=\"block text-sm font-medium text-gray-700\">Notizen</label><textarea id=\"sessionNotes\" value={newSessionNotes} onChange={(e) => setNewSessionNotes(e.target.value)} rows=\"3\" placeholder=\"Sitzungsnotizen...\" className={inputStd}></textarea></div></div><button onClick={handleAddSession} className={`${btnPrimary} bg-blue-500 hover:bg-blue-600`}><PlusCircleIcon className=\"w-5 h-5 mr-2\" /> Sitzung hinzufügen</button></div>\n                  <h5 className=\"text-md font-semibold text-gray-600 mb-2\">Protokollierte Sitzungen:</h5>\n                  <div className=\"space-y-3 max-h-96 overflow-y-auto pr-2\"> \n                    {(selectedPatient.sessions || []).map((session, index) => (\n                        <div key={index} className=\"bg-white border border-gray-200 p-3 rounded-md shadow-sm\">\n                            <div className=\"flex justify-between items-start\">\n                                <p className=\"text-sm font-semibold text-gray-700\">Datum: {new Date(session.date).toLocaleDateString('de-DE')}</p>\n                                <button onClick={() => fetchSessionSummary(session.notes, index)} \n                                        disabled={sessionSummaries[index]?.isLoading}\n                                        className={`${btnInfo} text-xs`} title=\"Sitzungsnotizen zusammenfassen\">\n                                    {sessionSummaries[index]?.isLoading ? 'Lädt...' : '✨ Zusammenf.'}\n                                </button>\n                            </div>\n                            <p className=\"text-sm text-gray-600 whitespace-pre-wrap mt-1\">{session.notes}</p>\n                            {sessionSummaries[index]?.summary && !sessionSummaries[index]?.isLoading && (\n                                <div className=\"mt-2 p-2 bg-sky-50 border border-sky-200 rounded-md text-sm text-sky-700\">\n                                    <p className=\"font-semibold\">Zusammenfassung:</p>\n                                    <p className=\"whitespace-pre-wrap\">{sessionSummaries[index].summary}</p>\n                                </div>\n                            )}\n                            {sessionSummaries[index]?.error && (\n                                <p className=\"mt-2 text-xs text-red-500\">Fehler bei Zusammenfassung: {sessionSummaries[index].error}</p>\n                            )}\n                        </div>\n                    ))} \n                    {(selectedPatient.sessions || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine Sitzungen dokumentiert.</p>}\n                  </div>\n                </div>\n              </div>\n            )}\n            \n            {activeDetailTab === 'krankheitsmodell' && (\n                <div className=\"space-y-6\">\n                    <div>\n                        <label htmlFor=\"krankheitsanamnese\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Krankheitsanamnese</label>\n                        <textarea id=\"krankheitsanamnese\" name=\"krankheitsanamnese\" rows=\"6\"\n                                  className={textareaStd}\n                                  value={editableKrankheitsanamnese}\n                                  onChange={(e) => setEditableKrankheitsanamnese(e.target.value)}\n                                  onBlur={(e) => handleKrankheitsmodellChange('krankheitsanamnese', e.target.value)}\n                                  placeholder=\"Hier die Krankheitsanamnese eintragen...\"\n                        ></textarea>\n                    </div>\n                    <div>\n                        <label htmlFor=\"lebensgeschichte\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Lebensgeschichte / Biographie</label>\n                        <textarea id=\"lebensgeschichte\" name=\"lebensgeschichte\" rows=\"6\"\n                                  className={textareaStd}\n                                  value={editableLebensgeschichte}\n                                  onChange={(e) => setEditableLebensgeschichte(e.target.value)}\n                                  onBlur={(e) => handleKrankheitsmodellChange('lebensgeschichte', e.target.value)}\n                                  placeholder=\"Wichtige Aspekte der Lebensgeschichte...\"\n                        ></textarea>\n                    </div>\n                    <div>\n                        <label htmlFor=\"problemanalyseMakro\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Problemanalyse auf Makroebene</label>\n                        <textarea id=\"problemanalyseMakro\" name=\"problemanalyseMakro\" rows=\"6\"\n                                  className={textareaStd}\n                                  value={editableProblemanalyseMakro}\n                                  onChange={(e) => setEditableProblemanalyseMakro(e.target.value)}\n                                  onBlur={(e) => handleKrankheitsmodellChange('problemanalyseMakro', e.target.value)}\n                                  placeholder=\"Analyse der übergeordneten Problembereiche...\"\n                        ></textarea>\n                    </div>\n                     <div>\n                        <label htmlFor=\"therapieplan\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Therapieplan</label>\n                        <textarea id=\"therapieplan\" name=\"therapieplan\" rows=\"6\"\n                                  className={textareaStd}\n                                  value={editableTherapieplan}\n                                  onChange={(e) => setEditableTherapieplan(e.target.value)}\n                                  onBlur={(e) => handleKrankheitsmodellChange('therapieplan', e.target.value)}\n                                  placeholder=\"Therapieziele und -maßnahmen...\"\n                        ></textarea>\n                    </div>\n                </div>\n            )}\n\n             {activeDetailTab === 'diagnostik' && (\n                <div>\n                     <div className=\"border-b border-gray-200 mb-4\">\n                        <nav className=\"-mb-px flex space-x-6\" aria-label=\"Diagnostik Sub-Tabs\">\n                            {['scl90r', 'hscl11', 'bdi2', 'fep2'].map(subTab => (\n                                <button key={subTab} onClick={() => setActiveDiagnostikSubTab(subTab)}\n                                    className={`whitespace-nowrap pb-2 px-1 border-b-2 font-medium text-sm ${activeDiagnostikSubTab === subTab ? 'border-purple-500 text-purple-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`}>\n                                    {subTab.toUpperCase()}\n                                </button>\n                            ))}\n                        </nav>\n                    </div>\n\n                {activeDiagnostikSubTab === 'scl90r' && ( \n                      <SCL90RComponent \n                        patient={selectedPatient} \n                        onSaveResult={handleAddScl90rResult}\n                        onDeleteResult={handleRemoveScl90rResult}\n                      /> \n                    )}\n                {activeDiagnostikSubTab === 'hscl11' && ( \n                  <div>\n                    <h4 className=\"text-xl font-semibold text-gray-700 mb-4\">HSCL-11 Ergebnisse</h4>\n                    <div className=\"bg-gray-50 p-4 rounded-lg mb-6 shadow\">\n                        <h5 className=\"text-md font-semibold text-gray-600 mb-3\">Neues HSCL-11 Ergebnis</h5>\n                        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-3 items-end\">\n                            <div><label htmlFor=\"hsclDate\" className=\"block text-sm font-medium text-gray-700\">Datum</label><input type=\"date\" id=\"hsclDate\" value={newHsclDate} onChange={(e) => setNewHsclDate(e.target.value)} className={inputStd} /></div>\n                            <div><label htmlFor=\"hsclAngst\" className=\"block text-sm font-medium text-gray-700\">Angst (0-20)</label><input type=\"number\" id=\"hsclAngst\" value={newHsclAngst} onChange={(e) => setNewHsclAngst(e.target.value)} min=\"0\" max=\"20\" className={inputStd} /></div>\n                            <div><label htmlFor=\"hsclDepression\" className=\"block text-sm font-medium text-gray-700\">Depression (0-24)</label><input type=\"number\" id=\"hsclDepression\" value={newHsclDepression} onChange={(e) => setNewHsclDepression(e.target.value)} min=\"0\" max=\"24\" className={inputStd} /></div>\n                            <button onClick={handleAddHsclResult} className={`${btnPrimary} bg-teal-500 hover:bg-teal-600 h-10`}><PlusCircleIcon className=\"w-5 h-5 mr-2\" /> Speichern</button>\n                        </div>\n                    </div>\n                    <div className=\"mb-6\">\n                        <h5 className=\"text-md font-semibold text-gray-600 mb-2\">Protokollierte HSCL-11 Ergebnisse:</h5>\n                        <ul className=\"space-y-2\">\n                            {(selectedPatient.hscl11Results || []).map((result, index) => ( <li key={index} className=\"flex justify-between items-center bg-white border p-3 rounded-md shadow-sm\"><div><span className=\"font-medium\">{new Date(result.date).toLocaleDateString('de-DE')}</span>: <span className=\"text-sm text-gray-600 ml-2\">Angst: {result.angst}</span>, <span className=\"text-sm text-gray-600 ml-2\">Depression: {result.depression}</span>, <span className=\"text-sm text-gray-600 ml-2\">Gesamt: {result.cumulative}</span></div><button onClick={() => handleRemoveHsclResult(result.date)} className={`${btnDanger} p-1 text-xs`}><Trash2 className=\"w-4 h-4\" /></button></li>))}\n                            {(selectedPatient.hscl11Results || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine HSCL-11 Ergebnisse erfasst.</p>}\n                        </ul>\n                    </div>\n                    {(selectedPatient.hscl11Results || []).length > 0 && (\n                        <div><h5 className=\"text-md font-semibold text-gray-600 mb-3\">Verlaufsgraph HSCL-11</h5>\n                        <div className=\"bg-white p-4 rounded-lg shadow\" style={{ height: '400px' }}>\n                            <ResponsiveContainer width=\"100%\" height=\"100%\"><LineChart data={(selectedPatient.hscl11Results || []).map(r => ({...r, date: new Date(r.date).toLocaleDateString('de-DE')}))} margin={{ top: 5, right: 30, left: 0, bottom: 5 }}><CartesianGrid strokeDasharray=\"3 3\" /><XAxis dataKey=\"date\" /><YAxis domain={[0, 44]} /><Tooltip /><Legend /><Line type=\"monotone\" dataKey=\"angst\" name=\"Angst\" stroke=\"#8884d8\" activeDot={{ r: 8 }} /><Line type=\"monotone\" dataKey=\"depression\" name=\"Depression\" stroke=\"#82ca9d\" /><Line type=\"monotone\" dataKey=\"cumulative\" name=\"Gesamt\" stroke=\"#ffc658\" /></LineChart></ResponsiveContainer>\n                        </div></div>\n                    )}\n                  </div> \n                )}\n                {activeDiagnostikSubTab === 'bdi2' && ( \n                  <div>\n                    <h4 className=\"text-xl font-semibold text-gray-700 mb-4\">BDI-II Ergebnisse</h4>\n                    <div className=\"bg-gray-50 p-4 rounded-lg mb-6 shadow\">\n                        <h5 className=\"text-md font-semibold text-gray-600 mb-3\">Neues BDI-II Ergebnis</h5>\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3 items-end\">\n                            <div><label htmlFor=\"bdiDate\" className=\"block text-sm font-medium text-gray-700\">Datum</label><input type=\"date\" id=\"bdiDate\" value={newBdiDate} onChange={(e) => setNewBdiDate(e.target.value)} className={inputStd} /></div>\n                            <div><label htmlFor=\"bdiScore\" className=\"block text-sm font-medium text-gray-700\">BDI-II Wert (0-63)</label><input type=\"number\" id=\"bdiScore\" value={newBdiScore} onChange={(e) => setNewBdiScore(e.target.value)} min=\"0\" max=\"63\" className={inputStd} /></div>\n                            <button onClick={handleAddBdiResult} className={`${btnPrimary} h-10`}><PlusCircleIcon className=\"w-5 h-5 mr-2\" /> Speichern</button>\n                        </div>\n                    </div>\n                    <div className=\"mb-6\">\n                        <h5 className=\"text-md font-semibold text-gray-600 mb-2\">Protokollierte BDI-II Ergebnisse:</h5>\n                        <ul className=\"space-y-2\">\n                            {(selectedPatient.bdi2Results || []).map((result, index) => ( <li key={index} className=\"flex justify-between items-center bg-white border p-3 rounded-md shadow-sm\"><div><span className=\"font-medium\">{new Date(result.date).toLocaleDateString('de-DE')}</span>: <span className=\"text-gray-700\">Score {result.score}</span></div><button onClick={() => handleRemoveBdiResult(result.date)} className={`${btnDanger} p-1 text-xs`}><Trash2 className=\"w-4 h-4\" /></button></li>))}\n                            {(selectedPatient.bdi2Results || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine BDI-II Ergebnisse erfasst.</p>}\n                        </ul>\n                    </div>\n                    {(selectedPatient.bdi2Results || []).length > 0 && (\n                        <div><h5 className=\"text-md font-semibold text-gray-600 mb-3\">Verlaufsgraph BDI-II</h5>\n                        <div className=\"bg-white p-4 rounded-lg shadow\" style={{ height: '400px' }}>\n                            <ResponsiveContainer width=\"100%\" height=\"100%\">\n                                <LineChart data={(selectedPatient.bdi2Results || []).map(r => ({...r, date: new Date(r.date).toLocaleDateString('de-DE')}))} margin={{ top: 5, right: 30, left: 0, bottom: 20 }}>\n                                    <CartesianGrid strokeDasharray=\"3 3\" />\n                                    <XAxis dataKey=\"date\" />\n                                    <YAxis domain={[0, 63]} ticks={bdiAxisTicks} allowDataOverflow={true}/>\n                                    <Tooltip />\n                                    <Legend verticalAlign=\"top\" height={36}/>\n                                    {bdiCutoffs.map(cutoff => ( <ReferenceArea key={cutoff.label} y1={cutoff.y1} y2={cutoff.y2} fill={cutoff.color} strokeOpacity={0.3} label={<CustomBdiLabel text={cutoff.label} y={cutoff.y2 - (cutoff.y2-cutoff.y1)/2} />}/> )) }\n                                    <Line type=\"monotone\" dataKey=\"score\" name=\"BDI-II Score\" stroke=\"#3b82f6\" strokeWidth={2} activeDot={{ r: 8 }} />\n                                </LineChart>\n                            </ResponsiveContainer>\n                        </div></div>\n                    )}\n                  </div> \n                )}\n                {activeDiagnostikSubTab === 'fep2' && ( \n                  <div>\n                    <h4 className=\"text-xl font-semibold text-gray-700 mb-4\">FEP-2 Erfassung & Auswertung</h4>\n                    <div className=\"bg-gray-50 p-4 rounded-lg mb-6 shadow\">\n                        <h5 className=\"text-md font-semibold text-gray-600 mb-3\">Neues FEP-2 Ergebnis hinzufügen</h5>\n                        <div className=\"mb-4\"><label htmlFor=\"fepDate\" className=\"block text-sm font-medium text-gray-700\">Datum der Erhebung</label><input type=\"date\" id=\"fepDate\" value={newFepDate} onChange={(e) => setNewFepDate(e.target.value)} className={`${inputStd} w-full md:w-1/3`} /></div>\n                        <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-x-4 gap-y-3 mb-4\">\n                            {fepItemScores.map((score, index) => ( <div key={index}><label htmlFor={`fepItem${index+1}`} className=\"block text-xs font-medium text-gray-600\">Item {index+1}</label><input type=\"number\" id={`fepItem${index+1}`} value={score === 0 ? '' : score} onChange={(e) => handleFepItemChange(index, e.target.value)} min=\"1\" max=\"5\" placeholder=\"1-5\" className={`${inputStd} px-2 py-1`}/></div>))}\n                        </div>\n                        <button onClick={handleAddFepResult} className={btnPrimary}><PlusCircleIcon className=\"w-5 h-5 mr-2\" /> FEP-2 Ergebnis speichern</button>\n                    </div>\n                    <div className=\"space-y-4\">\n                        <h5 className=\"text-md font-semibold text-gray-600 mb-2\">Protokollierte FEP-2 Ergebnisse:</h5>\n                        {(selectedPatient.fep2Results || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine FEP-2 Ergebnisse erfasst.</p>}\n                        {(selectedPatient.fep2Results || []).map((result, index) => (\n                            <div key={index} className=\"bg-white border p-4 rounded-md shadow-sm\">\n                                <div className=\"flex justify-between items-center mb-2\"><p className=\"font-medium text-indigo-600\">Datum: {new Date(result.date).toLocaleDateString('de-DE')}</p><button onClick={() => handleRemoveFepResult(result.date)} className={`${btnDanger} p-1 text-xs`}><Trash2 className=\"w-4 h-4\" /></button></div>\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-1 text-sm\">\n                                    {Object.entries(result.calculatedScales).map(([key, value]) => ( <div key={key} className=\"flex justify-between\"><span className=\"text-gray-600 capitalize\">{key.replace(/_/g, ' ')}:</span><span className=\"font-medium text-gray-800\">{value === null ? 'N/A (zu wenige Items)' : value} {key === 'gesamtbelastung' && value !== null && (value > 2.49 ? <span className=\"ml-1 text-red-500\">(Belastet)</span> : <span className=\"ml-1 text-green-500\">(Nicht Belastet)</span>)}</span></div>))}\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                  </div> \n                )}\n              </div>\n            )}\n             {activeDetailTab === 'assistenz' && (\n                <div>\n                    <h3 className=\"text-xl font-semibold text-gray-700 mb-4\">Therapeutische Assistenz</h3>\n                    <button \n                        onClick={handleTherapeutischeAssistenzAnfordern} \n                        disabled={isLoadingTherapeutischeAssistenz}\n                        className={`${btnPrimary} bg-purple-600 hover:bg-purple-700 mb-4 flex items-center`}\n                    >\n                        <WandSparkles className=\"mr-2 h-5 w-5\"/>\n                        {isLoadingTherapeutischeAssistenz ? \"Analysiere Daten...\" : \"Expertenfeedback anfordern\"}\n                    </button>\n\n                    {isLoadingTherapeutischeAssistenz && (\n                        <div className=\"text-center py-10\">\n                            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-700 mx-auto\"></div>\n                            <p className=\"mt-3 text-gray-600\">Bitte warten, die KI analysiert die Patientendaten...</p>\n                        </div>\n                    )}\n\n                    {assistenzError && (\n                        <div className=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4\" role=\"alert\">\n                            <p className=\"font-bold\">Fehler bei der Assistenz</p>\n                            <p>{assistenzError}</p>\n                        </div>\n                    )}\n\n                    {therapeutischeAssistenzOutput && !isLoadingTherapeutischeAssistenz && (\n                        <div className=\"mt-4 p-4 bg-gray-50 rounded-md border\">\n                            <h4 className=\"text-lg font-semibold text-gray-800 mb-2\">Vorschläge des Expertenteams:</h4>\n                            <div className=\"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed\">\n                                {therapeutischeAssistenzOutput}\n                            </div>\n                        </div>\n                    )}\n                </div>\n            )}\n          </div>\n        )}\n\n         <Modal isOpen={isPatientModalOpen} onClose={() => { setIsPatientModalOpen(false); setEditingPatient(null); }} title={editingPatient ? 'Patient bearbeiten' : 'Neuen Patienten anlegen'}><PatientForm patient={editingPatient} onSave={handleSavePatient} onCancel={() => { setIsPatientModalOpen(false); setEditingPatient(null); }} /></Modal>\n        <ConfirmationModal isOpen={isConfirmDeleteModalOpen} onClose={() => setIsConfirmDeleteModalOpen(false)} onConfirm={confirmDeletePatient} title=\"Patient löschen\" message={`Möchten Sie den Patienten wirklich endgültig löschen?`} />\n        \n        <Modal isOpen={diagnosisInfo.isOpen} onClose={() => setDiagnosisInfo(prev => ({...prev, isOpen: false}))} title={`${diagnosisInfo.source === 'local' ? 'Lokale ICD-10 Info' : 'Gemini ICD-10 Info'}: ${diagnosisInfo.code || ''}`} size=\"3xl\">\n            {diagnosisInfo.isLoading && <p className=\"text-center py-4\">Informationen werden geladen...</p>}\n            {diagnosisInfo.error && <p className=\"text-red-600 bg-red-100 p-3 rounded-md\">Fehler: {diagnosisInfo.error}</p>}\n            {!diagnosisInfo.isLoading && diagnosisInfo.source === 'gemini' && diagnosisInfo.info && (\n                <div className=\"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed p-2\">{diagnosisInfo.info}</div>\n            )}\n            {!diagnosisInfo.isLoading && diagnosisInfo.source === 'local' && (\n                <div className=\"text-sm text-gray-700 leading-relaxed p-2 space-y-3\">\n                    <h3 className=\"text-lg font-semibold text-indigo-700\">{diagnosisInfo.name} <span className=\"text-gray-500 text-base\">({diagnosisInfo.code}) {diagnosisInfo.sicherheit && `[${diagnosisInfo.sicherheit}]`}</span></h3>\n                    {diagnosisInfo.zusatz_info_code && <p className=\"text-xs text-gray-500\">Zusatz: {diagnosisInfo.zusatz_info_code}</p>}\n                    {diagnosisInfo.beschreibung && <p><strong className=\"font-medium text-gray-800\">Beschreibung:</strong> {diagnosisInfo.beschreibung}</p>}\n                    {diagnosisInfo.inkl && diagnosisInfo.inkl.length > 0 && (\n                        <div><strong className=\"font-medium text-gray-800\">Inklusionen:</strong><ul className=\"list-disc list-inside ml-4\">{diagnosisInfo.inkl.map((item, i) => <li key={i}>{item}</li>)}</ul></div>\n                    )}\n                    {diagnosisInfo.exkl && diagnosisInfo.exkl.length > 0 && (\n                        <div><strong className=\"font-medium text-gray-800\">Exklusionen:</strong><ul className=\"list-disc list-inside ml-4\">{diagnosisInfo.exkl.map((item, i) => <li key={i}>{item}</li>)}</ul></div>\n                    )}\n                    {diagnosisInfo.hinweise && diagnosisInfo.hinweise.length > 0 && (\n                        <div><strong className=\"font-medium text-gray-800\">Hinweise:</strong><ul className=\"list-disc list-inside ml-4\">{diagnosisInfo.hinweise.map((item, i) => <li key={i}>{item}</li>)}</ul></div>\n                    )}\n                </div>\n            )}\n        </Modal>\n\n        {appError && (<div className=\"fixed bottom-4 right-4 p-4 max-w-sm text-sm text-red-700 bg-red-100 border border-red-400 rounded-md shadow-lg z-[100]\">{appError}<button onClick={() => setAppError(null)} className=\"ml-4 mt-2 sm:mt-0 sm:ml-2 px-2 py-1 text-red-900 underline rounded-md hover:bg-red-200 text-xs\">Ok</button></div>)}\n      </main>\n      <footer className=\"text-center py-6 text-sm text-gray-500 border-t border-gray-200 mt-10\">Patientenverwaltung &copy; {new Date().getFullYear()}</footer>\n    </div>\n  );\n}\n\nconst CustomBdiLabel = (props) => {\n    const { x, y, width, text } = props;\n    if (typeof x !== 'number' || isNaN(x) || \n        typeof y !== 'number' || isNaN(y) ||\n        typeof width !== 'number' || isNaN(width) || width <= 0) {\n        return null; \n    }\n    const labelX = x + width / 2;\n    return ( <text x={labelX} y={y} fill=\"#666\" textAnchor=\"middle\" dy={-4} fontSize=\"10\">{text}</text> );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}