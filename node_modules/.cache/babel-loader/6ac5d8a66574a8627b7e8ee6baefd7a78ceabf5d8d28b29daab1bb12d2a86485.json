{"ast":null,"code":"import React from'react';import{BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,ResponsiveContainer,Label}from'recharts';// Custom Tooltip for the chart to show details on hover\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const CustomTooltip=_ref=>{let{active,payload,label,testCategories}=_ref;if(active&&payload&&payload.length){const testsOnDate=payload[0].payload.tests;const categoriesOnDate=[...new Set(testsOnDate.map(t=>{const category=testCategories.find(cat=>cat.tests.includes(t.id));return category?category.name:'Unkategorisiert';}))];const testGruende=[...new Set(testsOnDate.map(t=>t.testGrund).filter(Boolean))];return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-3 border rounded-md shadow-lg max-w-xs text-left\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-gray-800\",children:\"Datum: \".concat(label)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 font-semibold\",children:\"Anzahl Tests: \".concat(payload[0].value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 pt-2 border-t\",children:[testGruende.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-gray-700\",children:\"Grund/Vorlage:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mb-2\",children:testGruende.join(', ')})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-gray-700\",children:\"Kategorien:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mb-2\",children:categoriesOnDate.join(', ')}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-gray-700\",children:\"Durchgef\\xFChrte Tests:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside text-xs text-gray-500\",children:testsOnDate.map(t=>/*#__PURE__*/_jsx(\"li\",{children:t.name},t.testInstanceId))})]})]});}return null;};const DiagnostikTimelineChart=_ref2=>{let{chartData,testCategories}=_ref2;if(!chartData||chartData.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-center text-sm text-gray-500 bg-gray-50 rounded-lg border\",children:\"F\\xFCr die Visualisierung sind noch keine Testdaten vorhanden.\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-xl shadow-sm border\",style:{height:'250px'},children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(BarChart,{data:chartData,margin:{top:5,right:20,left:0,bottom:20},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"2 2\",vertical:false}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\",tick:{fontSize:10}}),/*#__PURE__*/_jsx(YAxis,{allowDecimals:false,children:/*#__PURE__*/_jsx(Label,{value:\"Anzahl Tests\",angle:-90,position:\"insideLeft\",style:{textAnchor:'middle',fill:'#666'}})}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(CustomTooltip,{testCategories:testCategories}),cursor:{fill:'rgba(239, 246, 255, 0.6)'}}),/*#__PURE__*/_jsx(Bar,{dataKey:\"count\",name:\"Anzahl Tests\",fill:\"#4f46e5\",barSize:20})]})})});};export default DiagnostikTimelineChart;","map":{"version":3,"names":["React","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","Label","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","CustomTooltip","_ref","active","payload","label","testCategories","length","testsOnDate","tests","categoriesOnDate","Set","map","t","category","find","cat","includes","id","name","testGruende","testGrund","filter","Boolean","className","children","concat","value","join","testInstanceId","DiagnostikTimelineChart","_ref2","chartData","style","height","width","data","margin","top","right","left","bottom","strokeDasharray","vertical","dataKey","tick","fontSize","allowDecimals","angle","position","textAnchor","fill","content","cursor","barSize"],"sources":["/Users/julianrogowski/Documents/Visual Code/patientenverwaltung-app/src/components/DiagnostikTimelineChart.js"],"sourcesContent":["import React from 'react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Label } from 'recharts';\n\n// Custom Tooltip for the chart to show details on hover\nconst CustomTooltip = ({ active, payload, label, testCategories }) => {\n    if (active && payload && payload.length) {\n        const testsOnDate = payload[0].payload.tests;\n\n        const categoriesOnDate = [...new Set(testsOnDate.map(t => {\n             const category = testCategories.find(cat => cat.tests.includes(t.id));\n             return category ? category.name : 'Unkategorisiert';\n        }))];\n\n        const testGruende = [...new Set(testsOnDate.map(t => t.testGrund).filter(Boolean))];\n\n        return (\n            <div className=\"bg-white p-3 border rounded-md shadow-lg max-w-xs text-left\">\n                <p className=\"font-bold text-gray-800\">{`Datum: ${label}`}</p>\n                <p className=\"text-sm text-gray-600 font-semibold\">{`Anzahl Tests: ${payload[0].value}`}</p>\n                <div className=\"mt-2 pt-2 border-t\">\n                     {testGruende.length > 0 && (\n                        <>\n                            <p className=\"text-xs font-semibold text-gray-700\">Grund/Vorlage:</p>\n                            <p className=\"text-xs text-gray-500 mb-2\">{testGruende.join(', ')}</p>\n                        </>\n                     )}\n                     <p className=\"text-xs font-semibold text-gray-700\">Kategorien:</p>\n                     <p className=\"text-xs text-gray-500 mb-2\">{categoriesOnDate.join(', ')}</p>\n                     <p className=\"text-xs font-semibold text-gray-700\">Durchgeführte Tests:</p>\n                     <ul className=\"list-disc list-inside text-xs text-gray-500\">\n                        {testsOnDate.map(t => <li key={t.testInstanceId}>{t.name}</li>)}\n                     </ul>\n                </div>\n            </div>\n        );\n    }\n    return null;\n};\n\n\nconst DiagnostikTimelineChart = ({ chartData, testCategories }) => {\n    if (!chartData || chartData.length === 0) {\n        return (\n            <div className=\"p-4 text-center text-sm text-gray-500 bg-gray-50 rounded-lg border\">\n                Für die Visualisierung sind noch keine Testdaten vorhanden.\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"bg-white p-4 rounded-xl shadow-sm border\" style={{ height: '250px' }}>\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n                <BarChart data={chartData} margin={{ top: 5, right: 20, left: 0, bottom: 20 }}>\n                    <CartesianGrid strokeDasharray=\"2 2\" vertical={false} />\n                    <XAxis dataKey=\"date\" tick={{ fontSize: 10 }} />\n                    <YAxis allowDecimals={false}>\n                        <Label value=\"Anzahl Tests\" angle={-90} position=\"insideLeft\" style={{ textAnchor: 'middle', fill: '#666' }} />\n                    </YAxis>\n                    <Tooltip content={<CustomTooltip testCategories={testCategories} />} cursor={{ fill: 'rgba(239, 246, 255, 0.6)' }} />\n                    <Bar dataKey=\"count\" name=\"Anzahl Tests\" fill=\"#4f46e5\" barSize={20} />\n                </BarChart>\n            </ResponsiveContainer>\n        </div>\n    );\n};\n\nexport default DiagnostikTimelineChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}