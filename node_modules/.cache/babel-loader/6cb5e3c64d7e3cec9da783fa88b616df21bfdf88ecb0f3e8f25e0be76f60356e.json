{"ast":null,"code":"var _jsxFileName = \"/Users/julianrogowski/Documents/Visual Code/patientenverwaltung-app/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef, useMemo } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from 'firebase/auth';\nimport { getFirestore, collection, doc, addDoc, getDocs, setDoc, deleteDoc, onSnapshot, query, writeBatch, updateDoc } from 'firebase/firestore';\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { DotLottieReact } from '@lottiefiles/dotlottie-react';\n\n// Components\nimport SCL90RComponent from './components/Wissen/psychodiagnostic/SCL90R.js';\nimport FEP2Component from './components/Wissen/psychodiagnostic/FEP2.js';\nimport BDI2Component from './components/Wissen/psychodiagnostic/BDI2.js';\nimport HSCL11Component from './components/Wissen/psychodiagnostic/HSCL11.js';\nimport GAD7Component from './components/Wissen/psychodiagnostic/GAD7.js';\nimport CoreOmComponent from './components/Wissen/psychodiagnostic/CoreOm.js';\nimport IIPCComponent from './components/Wissen/psychodiagnostic/IIP-C.js';\nimport ICD11ECTBrowser from './components/Wissen/ICD11ECTBrowser.js';\nimport EBMBrowser from './components/Abrechnung/EBMBrowser.js';\nimport BillingModal from './components/Abrechnung/SitzungsAbrechnung.js';\nimport AbrechnungsUebersicht from './components/Abrechnung/Abrechnung.js';\nimport DiagnostikZuordnung from './components/Diagnostik/DiagnostikZuordnung.js';\nimport ManualBillingSetupModal from './components/Abrechnung/ManualSessionCreate.js';\nimport AddBillingPeriodModal from './components/Abrechnung/AddBillingPeriodModal.js';\nimport Profile from './components/Patienten/Profile.js';\nimport Billing from './components/Abrechnung/OffeneSitzungenAbrechnung.js';\nimport PtvFormGenerator from './components/Wissen/formulare/PtvFormGenerator.js';\nimport Behandlungsmethoden from './components/Wissen/Behandlungsmethoden.js';\nimport EbmTemplates from './components/Abrechnung/EbmTemplates.js';\nimport DiagnostikHauptseite from './components/Diagnostik/DiagnostikHauptseite.js';\nimport ZentraleTestErfassungModal from './components/Diagnostik/ZentraleTestErfassungModal.js';\nimport AddTestTemplateModal from './components/Diagnostik/AddTestTemplateModal.js';\nimport AddOrEditTemplateModal from './components/Diagnostik/AddOrEditTemplateModal.js';\nimport Dashboard from './components/Patienten/Dashboard.js';\n\n// --- ICONS ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserPlus = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 227\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"9\",\n    cy: \"7\",\n    r: \"4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 281\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"19\",\n    x2: \"19\",\n    y1: \"8\",\n    y2: \"14\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 311\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"22\",\n    x2: \"16\",\n    y1: \"11\",\n    y2: \"11\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 350\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 43,\n  columnNumber: 50\n}, this);\n_c = UserPlus;\nconst Edit3 = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 20h9\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 224\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 245\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 44,\n  columnNumber: 47\n}, this);\n_c2 = Edit3;\nconst Trash2 = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"3 6 5 6 21 6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 225\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 259\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"10\",\n    y1: \"11\",\n    x2: \"10\",\n    y2: \"17\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 350\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"14\",\n    y1: \"11\",\n    x2: \"14\",\n    y2: \"17\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 390\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 45,\n  columnNumber: 48\n}, this);\n_c3 = Trash2;\nconst PlusCircleIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 233\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"8\",\n    x2: \"12\",\n    y2: \"16\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 266\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"8\",\n    y1: \"12\",\n    x2: \"16\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 305\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 46,\n  columnNumber: 56\n}, this);\n_c4 = PlusCircleIcon;\nconst XCircle = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 226\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"15\",\n    y1: \"9\",\n    x2: \"9\",\n    y2: \"15\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 259\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"9\",\n    y1: \"9\",\n    x2: \"15\",\n    y2: \"15\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 297\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 47,\n  columnNumber: 49\n}, this);\n_c5 = XCircle;\nconst Save = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 223\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"17 21 17 13 7 13 7 21\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 299\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"7 3 7 8 15 8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 342\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 48,\n  columnNumber: 46\n}, this);\n_c6 = Save;\nconst AlertTriangle = ({\n  className = \"w-12 h-12\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 234\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"9\",\n    x2: \"12\",\n    y2: \"13\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 340\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"17\",\n    x2: \"12.01\",\n    y2: \"17\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 384\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 49,\n  columnNumber: 57\n}, this);\n_c7 = AlertTriangle;\nconst FileJson2 = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 228\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M14 2v6h6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 292\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 12h1.6a2 2 0 0 0 1.9-3.4L6 6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 314\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 18h1.6a2 2 0 0 1 1.9 3.4L6 24\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 358\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 12h1.6a2 2 0 0 1 1.9-3.4L14 6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 403\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 18h1.6a2 2 0 0 0 1.9 3.4L14 24\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 449\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 50,\n  columnNumber: 51\n}, this);\n_c8 = FileJson2;\nconst WandSparkles = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m9.5 2.55 1.294 1.294a1 1 0 0 0 1.414 0L13.5 2.55\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 231\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4.94 4.94 6.22 6.22a1 1 0 0 0 1.41 0l1.29-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 293\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M2.55 9.51 3.84 10.8a1 1 0 0 0 1.41 0l1.3-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 353\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m19.07 4.93-1.29 1.29a1 1 0 0 1-1.41 0l-1.29-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 412\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M21.45 9.51l-1.29 1.29a1 1 0 0 1-1.41 0l-1.3-1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 474\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M14.5 12.94a1 1 0 0 0 0 1.41l1.29 1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 536\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M10.8 17.78a1 1 0 0 0 0 1.41l1.29 1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 587\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M17.78 10.8a1 1 0 0 0 0 1.41l1.29 1.29\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 638\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 10.5V4.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 689\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 10.5C7 11 4 15 4 20\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 714\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 10.5c5 .5 8 4.5 8 9.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 750\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 51,\n  columnNumber: 54\n}, this);\n_c9 = WandSparkles;\nconst LogOut = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 225\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"16 17 21 12 16 7\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 277\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"21\",\n    y1: \"12\",\n    x2: \"9\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 315\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 52,\n  columnNumber: 48\n}, this);\n_c0 = LogOut;\nconst BookOpen = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 227\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 280\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 53,\n  columnNumber: 50\n}, this);\n_c1 = BookOpen;\nconst Users = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 224\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"9\",\n    cy: \"7\",\n    r: \"4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 278\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M22 21v-2a4 4 0 0 0-3-3.87\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 308\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16 3.13a4 4 0 0 1 0 7.75\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 347\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 54,\n  columnNumber: 47\n}, this);\n_c10 = Users;\nconst FileText = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 227\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"14 2 14 8 20 8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 309\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"16\",\n    y1: \"13\",\n    x2: \"8\",\n    y2: \"13\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 345\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"16\",\n    y1: \"17\",\n    x2: \"8\",\n    y2: \"17\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 384\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"10\",\n    y1: \"9\",\n    x2: \"8\",\n    y2: \"9\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 423\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 55,\n  columnNumber: 50\n}, this);\n_c11 = FileText;\nconst List = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"8\",\n    x2: \"21\",\n    y1: \"6\",\n    y2: \"6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 223\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"8\",\n    x2: \"21\",\n    y1: \"12\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 260\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"8\",\n    x2: \"21\",\n    y1: \"18\",\n    y2: \"18\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 299\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"3\",\n    x2: \"3.01\",\n    y1: \"6\",\n    y2: \"6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 338\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"3\",\n    x2: \"3.01\",\n    y1: \"12\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 377\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"3\",\n    x2: \"3.01\",\n    y1: \"18\",\n    y2: \"18\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 418\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 56,\n  columnNumber: 46\n}, this);\n_c12 = List;\nconst CalendarIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n    x: \"3\",\n    y: \"4\",\n    width: \"18\",\n    height: \"18\",\n    rx: \"2\",\n    ry: \"2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 231\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"16\",\n    y1: \"2\",\n    x2: \"16\",\n    y2: \"6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 293\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"8\",\n    y1: \"2\",\n    x2: \"8\",\n    y2: \"6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 336\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"3\",\n    y1: \"10\",\n    x2: \"21\",\n    y2: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 377\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 57,\n  columnNumber: 54\n}, this);\n_c13 = CalendarIcon;\nconst PaperclipIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.59a2 2 0 0 1-2.83-2.83l8.49-8.48\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 232\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 58,\n  columnNumber: 55\n}, this);\n_c14 = PaperclipIcon;\nconst SettingsIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l-.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 231\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"3\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 762\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 59,\n  columnNumber: 54\n}, this);\n_c15 = SettingsIcon;\nconst DollarSignIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"1\",\n    x2: \"12\",\n    y2: \"23\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 233\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 277\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 60,\n  columnNumber: 56\n}, this);\n_c16 = DollarSignIcon;\nconst LayoutGridIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n    x: \"3\",\n    y: \"3\",\n    width: \"7\",\n    height: \"7\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 233\n  }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n    x: \"14\",\n    y: \"3\",\n    width: \"7\",\n    height: \"7\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 279\n  }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n    x: \"14\",\n    y: \"14\",\n    width: \"7\",\n    height: \"7\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 326\n  }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n    x: \"3\",\n    y: \"14\",\n    width: \"7\",\n    height: \"7\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 374\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 61,\n  columnNumber: 56\n}, this);\n_c17 = LayoutGridIcon;\nconst LayersIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"polygon\", {\n    points: \"12 2 2 7 12 12 22 7 12 2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 229\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"2 17 12 22 22 17\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 282\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"2 12 12 17 22 12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 329\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 62,\n  columnNumber: 52\n}, this);\n_c18 = LayersIcon;\nconst ClipboardListIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n    x: \"8\",\n    y: \"2\",\n    width: \"8\",\n    height: \"4\",\n    rx: \"1\",\n    ry: \"1\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 258\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 313\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 11h4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 398\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 16h4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 419\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M8 11h.01\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 440\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M8 16h.01\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 462\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 63,\n  columnNumber: 58\n}, this);\n_c19 = ClipboardListIcon;\nconst BeakerIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4.5 3h15\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 251\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 272\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M6 14h12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 323\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 64,\n  columnNumber: 51\n}, this);\n_c20 = BeakerIcon;\nconst HomeIcon = ({\n  className = \"w-5 h-5\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 226\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"9 22 9 12 15 12 15 22\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 290\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 65,\n  columnNumber: 49\n}, this);\n\n// Firebase Config\n_c21 = HomeIcon;\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDZ_qqqKW7WDCZ9botek2VBwXNMQO3JYwU\",\n  authDomain: \"psychotherapie0512.firebaseapp.com\",\n  projectId: \"psychotherapie0512\",\n  storageBucket: \"psychotherapie0512.appspot.com\",\n  messagingSenderId: \"131279046361\",\n  appId: \"1:131279046361:web:e5dd2d18b206fb820b60c8\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst storage = getStorage(app);\nconst firestoreAppId = 'default-patient-app-v5';\n\n// --- KONSTANTEN ---\nconst homeworkFailureReasons = {\n  \"Motivational\": [\"Geringe Motivation\", \"Zweifel am Nutzen der Hausaufgabe\", \"Keine Einsicht in die Relevanz\"],\n  \"Emotional\": [\"Angst vor Versagen\", \"Scham oder Schuldgefühle\", \"Vermeidung unangenehmer Gefühle\"],\n  \"Kognitive\": [\"Negative automatische Gedanken\", \"Perfektionismus\"],\n  \"Organisatorisch/Praktisch\": [\"Zeitmangel\", \"Vergessen\", \"Keine klaren Anweisungen oder Verständnisprobleme\"],\n  \"Interaktion mit Therapeut\": [\"Widerstand gegen den Therapeuten\", \"Beziehungskonflikte\", \"Mangel an Vertrauen\"],\n  \"Psychopathologisch\": [\"Konzentrationsprobleme\", \"Antriebslosigkeit\", \"Überwältigende Symptome\"]\n};\nconst availableTests = [{\n  id: 'scl90r',\n  name: 'SCL-90-R - Symptom-Checklist-90-R',\n  ebm: '35601',\n  recommendation: 10\n}, {\n  id: 'fep2',\n  name: 'FEP-2 - Fragebogen zur Erfassung von Persönlichkeitsstörungen',\n  ebm: '35601',\n  recommendation: 12\n}, {\n  id: 'bdi2',\n  name: 'BDI-II - Beck-Depressions-Inventar II',\n  ebm: '35600',\n  recommendation: 2\n}, {\n  id: 'hscl11',\n  name: 'HSCL-11 - Hopkins Symptom Checklist-11',\n  ebm: '35600',\n  recommendation: 1\n}, {\n  id: 'gad7',\n  name: 'GAD-7 - Generalisierte Angststörung Skala',\n  ebm: '35600',\n  recommendation: 1\n}, {\n  id: 'coreOm',\n  name: 'CORE-OM - Clinical Outcomes in Routine Evaluation',\n  ebm: '35601',\n  recommendation: 8\n}, {\n  id: 'iipc',\n  name: 'IIP-C - Inventar Interpersonaler Probleme',\n  ebm: '35601',\n  recommendation: 15\n}];\nconst testCategories = [{\n  name: 'Allgemeine Psychopathologie',\n  tests: ['scl90r', 'hscl11', 'coreOm']\n}, {\n  name: 'Depressionsdiagnostik',\n  tests: ['bdi2']\n}, {\n  name: 'Angstdiagnostik',\n  tests: ['gad7']\n}, {\n  name: 'Persönlichkeitsdiagnostik',\n  tests: ['fep2']\n}, {\n  name: 'Interpersonelle Probleme',\n  tests: ['iipc']\n}];\nconst availableTherapeuticMethods = [\"Kognitive Verhaltenstherapie (KVT)\", \"Schematherapie\", \"Acceptance and Commitment Therapy (ACT)\", \"Dialektisch-Behaviorale Therapie (DBT)\", \"Eye Movement Desensitization and Reprocessing (EMDR)\", \"Tiefenpsychologisch fundierte Psychotherapie\", \"Systemische Therapie\"];\nconst initialPatientsData = [{\n  name: \"Mustermann\",\n  geburtsdatum: \"1998-04-04\",\n  chiffre: \"M040498\",\n  therapeuticMethods: [\"Kognitive Verhaltenstherapie (KVT)\"],\n  approvedHours: 60,\n  krankenkasse: \"TK\",\n  versichertennummer: \"A123456789\",\n  diagnoses: [\"[G] F00.0*: Demenz bei Alzheimer-Krankheit, mit frühem Beginn (Typ 2)\", \"[V] F01.1: Multiinfarkt-Demenz\", \"[A] F20.0: Paranoide Schizophrenie\", \"[ZN] F32.1: Mittelgradige depressive Episode\", \"F40.0: Agoraphobie\"],\n  sessions: [{\n    id: `sess_${Date.now()}`,\n    date: \"2025-05-20\",\n    structuredNotes: {\n      sitzungsnummer: 1,\n      thema: \"Erste Sitzung\",\n      patientenbericht: \"Exploration der Hauptbeschwerden.\"\n    }\n  }],\n  hscl11Results: [],\n  bdi2Results: [],\n  fep2Results: [],\n  scl90rResults: [],\n  gad7Results: [],\n  coreOmResults: [],\n  iipcResults: [],\n  billingPeriods: [],\n  krankheitsanamnese: \"Patient berichtet über seit ca. 2 Jahren zunehmende Vergesslichkeit und Orientierungsprobleme.\",\n  lebensgeschichte: \"Geboren 1955, verheiratet, 2 Kinder, früher als Buchhalter tätig.\",\n  problemanalyseMakro: \"Kognitive Defizite im Vordergrund, affektive Belastung durch erlebten Kontrollverlust.\",\n  therapieplan: \"Supportive Gespräche, kognitives Training, Psychoedukation für Angehörige.\"\n}];\nconst DIAGNOSTIK_PUNKTE = {\n  '35600': 34,\n  '35601': 39,\n  '35602': 56\n};\n\n// --- HILFSFUNKTIONEN & HOOKS ---\n\nconst getQuarter = date => {\n  if (!date) return null;\n  const d = new Date(date);\n  const month = d.getMonth();\n  const year = d.getFullYear();\n  const quarter = Math.floor(month / 3) + 1;\n  return `${year}-Q${quarter}`;\n};\nconst useQuarterlyDiagnostikAnalysis = (patient, availableTests) => {\n  _s();\n  return useMemo(() => {\n    if (!patient) return {};\n    const testsByQuarter = {};\n    availableTests.forEach(testDef => {\n      const results = patient[`${testDef.id}Results`] || [];\n      results.forEach(result => {\n        if (result.status === 'completed') {\n          const quarterKey = getQuarter(result.date);\n          if (!quarterKey) return;\n          if (!testsByQuarter[quarterKey]) {\n            testsByQuarter[quarterKey] = [];\n          }\n          testsByQuarter[quarterKey].push({\n            ...testDef,\n            ...result\n          });\n        }\n      });\n    });\n    const analysis = {};\n    const age = calculateAge(patient.geburtsdatum);\n    const pointsLimit = age < 22 ? 1636 : 1092;\n    for (const quarterKey in testsByQuarter) {\n      const testsInQuarter = testsByQuarter[quarterKey];\n      const pointsUsed = testsInQuarter.reduce((sum, test) => sum + (DIAGNOSTIK_PUNKTE[test.ebm] || 0), 0);\n      analysis[quarterKey] = {\n        pointsUsed,\n        pointsLimit,\n        tests: testsInQuarter\n      };\n    }\n    return analysis;\n  }, [patient, availableTests]);\n};\n_s(useQuarterlyDiagnostikAnalysis, \"nwk+m61qLgjDVUp4IGV/072DDN4=\");\nconst Modal = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  size = \"lg\"\n}) => {\n  if (!isOpen) return null;\n  const sizeClasses = {\n    sm: 'max-w-sm',\n    md: 'max-w-md',\n    lg: 'max-w-lg',\n    xl: 'max-w-xl',\n    '2xl': 'max-w-2xl',\n    '3xl': 'max-w-3xl',\n    '4xl': 'max-w-4xl',\n    '5xl': 'max-w-5xl'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bg-white p-6 rounded-lg shadow-xl w-full ${sizeClasses[size]} max-h-[90vh] overflow-y-auto`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-gray-800\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 553\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-400 hover:text-gray-600\",\n          children: /*#__PURE__*/_jsxDEV(XCircle, {\n            className: \"w-7 h-7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 689\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 617\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 497\n      }, this), children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 387\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 274\n  }, this);\n};\n_c22 = Modal;\nconst ConfirmationModal = ({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  message\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onClose: onClose,\n    title: title,\n    size: \"md\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n        className: \"mx-auto mb-4 w-12 h-12 text-red-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 209\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-6\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 274\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none\",\n          children: \"Abbrechen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 368\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onConfirm,\n          className: \"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none\",\n          children: \"Best\\xE4tigen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 528\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 321\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 180\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 115\n  }, this);\n};\n_c23 = ConfirmationModal;\nconst PatientForm = ({\n  patient,\n  onSave,\n  onCancel\n}) => {\n  _s2();\n  const [formData, setFormData] = useState(patient || {\n    name: '',\n    vorname: '',\n    chiffre: '',\n    geburtsdatum: '',\n    adresse: '',\n    email: '',\n    telefon: '',\n    krankenkasse: '',\n    versichertennummer: '',\n    therapeuticMethods: [],\n    approvedHours: 0,\n    diagnoses: [],\n    sessions: [],\n    hscl11Results: [],\n    bdi2Results: [],\n    fep2Results: [],\n    scl90rResults: [],\n    gad7Results: [],\n    coreOmResults: [],\n    iipcResults: [],\n    billingPeriods: [],\n    krankheitsanamnese: \"\",\n    lebensgeschichte: \"\",\n    problemanalyseMakro: \"\",\n    therapieplan: \"\"\n  });\n  const [newMethod, setNewMethod] = useState(\"\");\n  useEffect(() => {\n    if (patient) {\n      setFormData({\n        ...patient,\n        geburtsdatum: patient.geburtsdatum || '',\n        krankenkasse: patient.krankenkasse || '',\n        versichertennummer: patient.versichertennummer || '',\n        therapeuticMethods: patient.therapeuticMethods || [],\n        hscl11Results: patient.hscl11Results || [],\n        bdi2Results: patient.bdi2Results || [],\n        fep2Results: patient.fep2Results || [],\n        scl90rResults: patient.scl90rResults || [],\n        gad7Results: patient.gad7Results || [],\n        coreOmResults: patient.coreOmResults || [],\n        iipcResults: patient.iipcResults || [],\n        billingPeriods: patient.billingPeriods || [],\n        krankheitsanamnese: patient.krankheitsanamnese || \"\",\n        lebensgeschichte: patient.lebensgeschichte || \"\",\n        problemanalyseMakro: patient.problemanalyseMakro || \"\",\n        therapieplan: patient.therapieplan || \"\"\n      });\n    } else {\n      setFormData({\n        name: '',\n        vorname: '',\n        chiffre: '',\n        geburtsdatum: '',\n        adresse: '',\n        email: '',\n        telefon: '',\n        krankenkasse: '',\n        versichertennummer: '',\n        therapeuticMethods: [],\n        approvedHours: 0,\n        diagnoses: [],\n        sessions: [],\n        hscl11Results: [],\n        bdi2Results: [],\n        fep2Results: [],\n        scl90rResults: [],\n        gad7Results: [],\n        coreOmResults: [],\n        iipcResults: [],\n        billingPeriods: [],\n        krankheitsanamnese: \"\",\n        lebensgeschichte: \"\",\n        problemanalyseMakro: \"\",\n        therapieplan: \"\"\n      });\n    }\n  }, [patient]);\n  useEffect(() => {\n    const {\n      name,\n      geburtsdatum\n    } = formData;\n    if (name && geburtsdatum) {\n      try {\n        const firstLetter = name.charAt(0).toUpperCase();\n        const [year, month, day] = geburtsdatum.split('-');\n        if (year && month && day) {\n          const yy = year.slice(-2);\n          const newChiffre = `${firstLetter}${day}${month}${yy}`;\n          setFormData(prev => ({\n            ...prev,\n            chiffre: newChiffre\n          }));\n        }\n      } catch (e) {\n        console.error(\"Fehler bei der Chiffre-Generierung\", e);\n        setFormData(prev => ({\n          ...prev,\n          chiffre: ''\n        }));\n      }\n    } else {\n      if (formData.chiffre !== '') {\n        setFormData(prev => ({\n          ...prev,\n          chiffre: ''\n        }));\n      }\n    }\n  }, [formData]);\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'number' ? parseInt(value, 10) || 0 : value\n    }));\n  };\n  const handleAddMethod = () => {\n    if (newMethod && !formData.therapeuticMethods.includes(newMethod)) {\n      setFormData(prev => ({\n        ...prev,\n        therapeuticMethods: [...prev.therapeuticMethods, newMethod]\n      }));\n      setNewMethod(\"\");\n    }\n  };\n  const handleRemoveMethod = methodToRemove => {\n    setFormData(prev => ({\n      ...prev,\n      therapeuticMethods: prev.therapeuticMethods.filter(m => m !== methodToRemove)\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSave(formData);\n  };\n  const inputStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm\";\n  const btnPrimary = \"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 flex items-center\";\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"vorname\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Vorname\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"vorname\",\n          id: \"vorname\",\n          value: formData.vorname,\n          onChange: handleChange,\n          required: true,\n          className: inputStd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 114\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Nachname\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          id: \"name\",\n          value: formData.name,\n          onChange: handleChange,\n          required: true,\n          className: inputStd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 112\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"geburtsdatum\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Geburtsdatum\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"geburtsdatum\",\n          id: \"geburtsdatum\",\n          value: formData.geburtsdatum,\n          onChange: handleChange,\n          required: true,\n          className: inputStd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 124\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"chiffre\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Chiffre\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"chiffre\",\n          id: \"chiffre\",\n          value: formData.chiffre,\n          readOnly: true,\n          className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100 sm:text-sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 114\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"adresse\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Adresse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"adresse\",\n        id: \"adresse\",\n        value: formData.adresse,\n        onChange: handleChange,\n        className: inputStd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 110\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"E-Mail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          id: \"email\",\n          value: formData.email,\n          onChange: handleChange,\n          className: inputStd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 111\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"telefon\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Telefon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"tel\",\n          name: \"telefon\",\n          id: \"telefon\",\n          value: formData.telefon,\n          onChange: handleChange,\n          className: inputStd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 114\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"krankenkasse\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Krankenkasse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"krankenkasse\",\n          id: \"krankenkasse\",\n          value: formData.krankenkasse,\n          onChange: handleChange,\n          className: inputStd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 124\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"versichertennummer\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Versichertennummer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"versichertennummer\",\n          id: \"versichertennummer\",\n          value: formData.versichertennummer,\n          onChange: handleChange,\n          className: inputStd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 136\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Therapieverfahren\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-1 flex flex-wrap gap-2\",\n        children: (formData.therapeuticMethods || []).map(method => /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"flex items-center bg-teal-100 text-teal-800 text-xs font-medium px-2.5 py-0.5 rounded-full\",\n          children: [method, /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => handleRemoveMethod(method),\n            className: \"ml-1.5 text-teal-500 hover:text-teal-700\",\n            children: /*#__PURE__*/_jsxDEV(XCircle, {\n              className: \"h-3 w-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 360\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 242\n          }, this)]\n        }, method, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 112\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: newMethod,\n          onChange: e => setNewMethod(e.target.value),\n          className: inputStd,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Verfahren ausw\\xE4hlen...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 115\n          }, this), availableTherapeuticMethods.filter(m => !(formData.therapeuticMethods || []).includes(m)).map(m => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: m,\n            children: m\n          }, m, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 263\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleAddMethod,\n          className: \"bg-gray-200 p-2 rounded-md hover:bg-gray-300\",\n          children: /*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n            className: \"h-5 w-5 text-gray-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 126\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"approvedHours\",\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Genehmigte Stunden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"approvedHours\",\n        id: \"approvedHours\",\n        value: formData.approvedHours,\n        onChange: handleChange,\n        min: \"0\",\n        className: inputStd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 127\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end space-x-3 pt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onCancel,\n        className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\",\n        children: \"Abbrechen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 62\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: btnPrimary,\n        children: [/*#__PURE__*/_jsxDEV(Save, {\n          className: \"w-4 h-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 335\n        }, this), \" Speichern\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 290\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 243,\n    columnNumber: 9\n  }, this);\n};\n_s2(PatientForm, \"wh1AJfb3Thd/X+Bjwvx3YhvUel8=\");\n_c24 = PatientForm;\nasync function generateGeminiText(prompt) {\n  let chatHistory = [{\n    role: \"user\",\n    parts: [{\n      text: prompt\n    }]\n  }];\n  const payload = {\n    contents: chatHistory\n  };\n  const GEMINI_API_KEY = \"AIzaSyCWQFze_8cKDZ6W2DTqfqIcvhcsKWfuZLw\";\n  const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`;\n  try {\n    const response = await fetch(apiUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    });\n    if (!response.ok) {\n      var _errorData$error;\n      const errorData = await response.json();\n      console.error(\"Gemini API error details:\", errorData);\n      const errorMessage = ((_errorData$error = errorData.error) === null || _errorData$error === void 0 ? void 0 : _errorData$error.message) || `API request failed with status ${response.status}`;\n      throw new Error(errorMessage);\n    }\n    const result = await response.json();\n    if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\n      return result.candidates[0].content.parts[0].text;\n    } else if (result.candidates && result.candidates.length > 0 && result.candidates[0].finishReason === \"SAFETY\") {\n      console.warn(\"Gemini API response blocked due to safety reasons.\");\n      return \"Die Antwort wurde aufgrund von Sicherheitsrichtlinien blockiert.\";\n    } else {\n      console.error(\"Unexpected Gemini API response structure:\", result);\n      throw new Error(\"Unerwartete Antwortstruktur von der API.\");\n    }\n  } catch (error) {\n    console.error(\"Error calling Gemini API:\", error);\n    throw error;\n  }\n}\nconst calculateAge = birthdate => {\n  if (!birthdate) return 0;\n  const birthDate = new Date(birthdate);\n  const today = new Date();\n  let age = today.getFullYear() - birthDate.getFullYear();\n  const m = today.getMonth() - birthDate.getMonth();\n  if (m < 0 || m === 0 && today.getDate() < birthDate.getDate()) {\n    age--;\n  }\n  return age;\n};\nconst PatientOverviewTab = ({\n  patient,\n  nextAppointment,\n  onUpdateHomeworkStatus,\n  onUpdateQuickNote\n}) => {\n  _s3();\n  // *** KORREKTUR: Hook an den Anfang verschoben ***\n  const openHomeworkSession = useMemo(() => {\n    // Optional Chaining `?.` stellt sicher, dass kein Fehler auftritt, wenn `patient` null ist\n    if (!(patient !== null && patient !== void 0 && patient.sessions)) return null;\n    // Die Sitzungen sind bereits absteigend sortiert\n    return patient.sessions.find(s => s.homeworkStatus && s.homeworkStatus.some(task => !task.done));\n  }, [patient === null || patient === void 0 ? void 0 : patient.sessions]);\n\n  // *** KORREKTUR: Bedingter Return NACH allen Hooks ***\n  if (!patient) return null;\n  const reasonCategoryColors = {\n    Motivational: \"bg-orange-100 text-orange-800\",\n    Emotional: \"bg-blue-100 text-blue-800\",\n    Kognitive: \"bg-purple-100 text-purple-800\",\n    \"Organisatorisch/Praktisch\": \"bg-gray-200 text-gray-800\",\n    \"Interaktion mit Therapeut\": \"bg-pink-100 text-pink-800\",\n    Psychopathologisch: \"bg-red-100 text-red-800\"\n  };\n  const getCategoryForReason = reason => {\n    for (const category in homeworkFailureReasons) {\n      if (homeworkFailureReasons[category].includes(reason)) {\n        return category;\n      }\n    }\n    return null;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-span-1 md:col-span-2 p-3 bg-teal-50 border border-teal-200 rounded-lg\",\n      children: [nextAppointment.isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-teal-700\",\n        children: \"Lade n\\xE4chsten Termin...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 47\n      }, this), nextAppointment.error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-red-600\",\n        children: nextAppointment.error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 43\n      }, this), nextAppointment.text && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm font-semibold text-teal-800\",\n        children: nextAppointment.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 42\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"quick-note\",\n        className: \"text-sm font-semibold text-gray-700\",\n        children: \"Kurznotiz\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"quick-note\",\n        rows: \"3\",\n        className: \"mt-1 block w-full text-sm p-2 rounded-md border-red-200 bg-red-50/50 focus:ring-red-500 focus:border-red-500 placeholder-red-400/70\",\n        placeholder: \"Wichtige Gedanken, n\\xE4chste Schritte, etc...\",\n        defaultValue: patient.quickNote || '',\n        onBlur: e => onUpdateQuickNote(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-semibold text-gray-700 mb-3 border-b pb-2\",\n        children: \"Stammdaten\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-3 gap-4 mt-3 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold text-gray-500\",\n            children: \"Nachname\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: patient.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 81\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold text-gray-500\",\n            children: \"Vorname\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: patient.vorname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 80\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold text-gray-500\",\n            children: \"Geburtsdatum\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: new Date(patient.geburtsdatum).toLocaleDateString('de-DE')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 85\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold text-gray-500\",\n            children: \"Alter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: calculateAge(patient.geburtsdatum)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 78\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold text-gray-500\",\n            children: \"E-Mail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: patient.email || '-'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 79\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold text-gray-500\",\n            children: \"Telefon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: patient.telefon || '-'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 80\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-2 md:col-span-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold text-gray-500\",\n            children: \"Adresse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 63\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: patient.adresse || '-'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 117\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-semibold text-gray-700 mb-3 border-b pb-2\",\n        children: \"Offene Hausaufgaben\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 bg-gray-50 rounded-lg text-sm space-y-3\",\n        children: openHomeworkSession ? openHomeworkSession.homeworkStatus.map((task, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            className: \"h-5 w-5 rounded border-gray-300 text-teal-600 focus:ring-teal-500 mt-0.5\",\n            checked: task.done,\n            onChange: e => onUpdateHomeworkStatus(openHomeworkSession.id, index, {\n              done: e.target.checked\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-grow\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: ` ${task.done ? 'text-gray-500 line-through' : 'text-gray-800'}`,\n              children: task.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 37\n            }, this), !task.done && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 mt-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"text-xs border-gray-300 rounded-md shadow-sm focus:border-teal-300 focus:ring focus:ring-teal-200 focus:ring-opacity-50\",\n                value: task.reason || '',\n                onChange: e => onUpdateHomeworkStatus(openHomeworkSession.id, index, {\n                  reason: e.target.value\n                }),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Grund w\\xE4hlen...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 49\n                }, this), Object.entries(homeworkFailureReasons).map(([category, reasons]) => /*#__PURE__*/_jsxDEV(\"optgroup\", {\n                  label: category,\n                  children: reasons.map(reason => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: reason,\n                    children: reason\n                  }, reason, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 80\n                  }, this))\n                }, category, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 53\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 46\n              }, this), task.reason && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `text-xs font-medium px-2 py-0.5 rounded-full ${reasonCategoryColors[getCategoryForReason(task.reason)] || 'bg-gray-200'}`,\n                children: getCategoryForReason(task.reason)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 33\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 29\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"Alle Hausaufgaben sind erledigt. Sehr gut!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 306,\n    columnNumber: 9\n  }, this);\n};\n_s3(PatientOverviewTab, \"la2xjdNkf0L/LUzYWlPKePe8rZE=\");\n_c25 = PatientOverviewTab;\nfunction App() {\n  _s5();\n  var _s4 = $RefreshSig$(),\n    _diagnosisInfo$inkl,\n    _diagnosisInfo$exkl,\n    _diagnosisInfo$inclus,\n    _diagnosisInfo$exclus;\n  // --- States ---\n  const [mainView, setMainView] = useState('dashboard'); // *** GEÄNDERT: Startansicht ist jetzt das Dashboard ***\n  const [patients, setPatients] = useState([]);\n  const [selectedPatient, setSelectedPatient] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isInitialLoading, setIsInitialLoading] = useState(true);\n  const [authError, setAuthError] = useState(null);\n  const [appError, setAppError] = useState(null);\n  const [userId, setUserId] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoginView, setIsLoginView] = useState(true);\n  const [isAuthLoading, setIsAuthLoading] = useState(false);\n  const [isPatientModalOpen, setIsPatientModalOpen] = useState(false);\n  const [editingPatient, setEditingPatient] = useState(null);\n  const [newDiagnosis, setNewDiagnosis] = useState('');\n  const [newDiagnosisCode, setNewDiagnosisCode] = useState('');\n  const [newDiagnosisSicherheit, setNewDiagnosisSicherheit] = useState('G');\n  const [lookedUpDiagnosisName, setLookedUpDiagnosisName] = useState('');\n  const [activeDetailTab, setActiveDetailTab] = useState('übersicht');\n  const [activeDiagnostikSubTab, setActiveDiagnostikSubTab] = useState('overview');\n  const [diagnosisInfo, setDiagnosisInfo] = useState({\n    code: '',\n    name: '',\n    beschreibung: '',\n    inkl: [],\n    exkl: [],\n    hinweise: [],\n    zusatz_info_code: '',\n    sicherheit: '',\n    isLoading: false,\n    error: null,\n    isOpen: false,\n    source: ''\n  });\n  const [localIcd10Data, setLocalIcd10Data] = useState({});\n  const [editableKrankheitsanamnese, setEditableKrankheitsanamnese] = useState(\"\");\n  const [editableLebensgeschichte, setEditableLebensgeschichte] = useState(\"\");\n  const [editableProblemanalyseMakro, setEditableProblemanalyseMakro] = useState(\"\");\n  const [editableTherapieplan, setEditableTherapieplan] = useState(\"\");\n  const [therapeutischeAssistenzOutput, setTherapeutischeAssistenzOutput] = useState(\"\");\n  const [isLoadingTherapeutischeAssistenz, setIsLoadingTherapeutischeAssistenz] = useState(false);\n  const [assistenzError, setAssistenzError] = useState(null);\n  const detailViewRef = useRef(null);\n  const [improvementState, setImprovementState] = useState({\n    isOpen: false,\n    isLoading: false,\n    originalText: '',\n    improvedText: '',\n    sessionIndex: null,\n    error: null\n  });\n  const [sortConfig] = useState({\n    key: 'name',\n    direction: 'ascending'\n  });\n  const [nextAppointment, setNextAppointment] = useState({\n    isLoading: false,\n    text: null,\n    error: null\n  });\n  const [unbilledAppointments, setUnbilledAppointments] = useState([]);\n  const [isLoadingAppointments, setIsLoadingAppointments] = useState(false);\n  const [billingModalState, setBillingModalState] = useState({\n    isOpen: false,\n    event: null,\n    isEditing: false\n  });\n  const [ebmData, setEbmData] = useState([]);\n  const [isManualBillingSetupOpen, setIsManualBillingSetupOpen] = useState(false);\n  const [confirmDeleteState, setConfirmDeleteState] = useState({\n    isOpen: false,\n    onConfirm: null,\n    message: '',\n    title: ''\n  });\n  const [profile, setProfile] = useState({});\n  const [isUploading, setIsUploading] = useState(false);\n  const [selectedId, setSelectedId] = useState(null);\n  const [isCalendarLoading, setIsCalendarLoading] = useState(false);\n  const [viewMode, setViewMode] = useState('stack');\n  const [isAddBillingPeriodModalOpen, setIsAddBillingPeriodModalOpen] = useState(false);\n  const [ebmTemplates, setEbmTemplates] = useState([]);\n  const [isZentraleTestModalOpen, setIsZentraleTestModalOpen] = useState(false);\n  const [currentTestToErfassen, setCurrentTestToErfassen] = useState(null);\n  const [testToUpdate, setTestToUpdate] = useState(null);\n  const [diagnostikTemplates, setDiagnostikTemplates] = useState([]);\n  const [isAddTemplateModalOpen, setIsAddTemplateModalOpen] = useState(false);\n  const [currentTemplate, setCurrentTemplate] = useState(null);\n  const [editingTemplate, setEditingTemplate] = useState(null);\n  const [isTemplateEditModalOpen, setTemplateEditModalOpen] = useState(false);\n  const quarterlyDiagnostikAnalysis = useQuarterlyDiagnostikAnalysis(selectedPatient, availableTests);\n  const sortedPatients = useMemo(() => {\n    let sortablePatients = [...patients];\n    if (sortConfig !== null) {\n      sortablePatients.sort((a, b) => {\n        const valA = a[sortConfig.key] || '';\n        const valB = b[sortConfig.key] || '';\n        if (valA < valB) {\n          return sortConfig.direction === 'ascending' ? -1 : 1;\n        }\n        if (valA > valB) {\n          return sortConfig.direction === 'ascending' ? 1 : -1;\n        }\n        return 0;\n      });\n    }\n    return sortablePatients;\n  }, [patients, sortConfig]);\n  const handlePatientSelectPreview = patient => {\n    if (selectedId === patient.id) {\n      setSelectedId(null);\n      setSelectedPatient(null);\n    } else {\n      setSelectedPatient(patient);\n      setSelectedId(patient.id);\n    }\n  };\n  const handlePatientDoubleClick = patient => {\n    setSelectedPatient(patient);\n  };\n  const getHighestSessionNumber = sessions => {\n    if (!sessions) return 0;\n    const sessionNumbers = sessions.map(s => {\n      var _s$structuredNotes;\n      return (_s$structuredNotes = s.structuredNotes) === null || _s$structuredNotes === void 0 ? void 0 : _s$structuredNotes.sitzungsnummer;\n    }).filter(n => typeof n === 'number' && !isNaN(n));\n    return sessionNumbers.length > 0 ? Math.max(...sessionNumbers) : 0;\n  };\n  const handleStartManualBilling = (patientId, date, sessionNumber) => {\n    const patient = patients.find(p => p.id === patientId);\n    if (!patient) {\n      setAppError(\"Patient für manuelle Abrechnung nicht gefunden.\");\n      return;\n    }\n    let finalSessionNumber;\n    const manualNumber = Number(sessionNumber);\n    if (sessionNumber && !isNaN(manualNumber) && manualNumber > 0) {\n      finalSessionNumber = manualNumber;\n    } else {\n      finalSessionNumber = getHighestSessionNumber(patient.sessions) + 1;\n    }\n    const syntheticEvent = {\n      id: `manual_${Date.now()}`,\n      summary: `Manuelle Sitzung (${patient.chiffre})`,\n      start: {\n        dateTime: new Date(date).toISOString()\n      },\n      sitzungsnummer: finalSessionNumber,\n      isManual: true\n    };\n    handleStartBilling(syntheticEvent);\n  };\n  const fetchNextAppointment = useCallback(async chiffre => {\n    if (!chiffre) return;\n    setNextAppointment({\n      isLoading: true,\n      text: null,\n      error: null\n    });\n    try {\n      const response = await fetch(`http://localhost:3001/api/calendar/nextevent?chiffre=${chiffre}`);\n      if (response.status === 404) {\n        setNextAppointment({\n          isLoading: false,\n          text: 'Kein zukünftiger Termin gefunden.',\n          error: null\n        });\n        return;\n      }\n      if (!response.ok) {\n        throw new Error('Kalender-API-Anfrage fehlgeschlagen.');\n      }\n      const event = await response.json();\n      const startDate = new Date(event.start);\n      const endDate = new Date(event.end);\n      const dateOptions = {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric'\n      };\n      const timeOptions = {\n        hour: '2-digit',\n        minute: '2-digit'\n      };\n      const formattedDate = startDate.toLocaleDateString('de-DE', dateOptions);\n      const formattedStartTime = startDate.toLocaleTimeString('de-DE', timeOptions);\n      const formattedEndTime = endDate.toLocaleTimeString('de-DE', timeOptions);\n      setNextAppointment({\n        isLoading: false,\n        text: `Nächster Termin: ${formattedDate} um ${formattedStartTime} bis ${formattedEndTime} Uhr`,\n        error: null\n      });\n    } catch (error) {\n      console.error('Fehler beim Abrufen des Termins:', error);\n      setNextAppointment({\n        isLoading: false,\n        text: null,\n        error: 'Termin konnte nicht geladen werden.'\n      });\n    }\n  }, []);\n  const getPatientsCollectionPath = useCallback(() => {\n    if (!userId) return null;\n    return `/artifacts/${firestoreAppId}/users/${userId}/patients`;\n  }, [userId]);\n  const getProfileDocPath = useCallback(() => {\n    if (!userId) return null;\n    return `/artifacts/${firestoreAppId}/users/${userId}/profile/main`;\n  }, [userId]);\n  const getEbmTemplatesCollectionPath = useCallback(() => {\n    if (!userId) return null;\n    return `/artifacts/${firestoreAppId}/users/${userId}/ebm_templates`;\n  }, [userId]);\n  const getDiagnostikTemplatesCollectionPath = useCallback(() => {\n    if (!userId) return null;\n    return `/artifacts/${firestoreAppId}/users/${userId}/diagnostik_templates`;\n  }, [userId]);\n  const findIcd10CodeLocal = useCallback(codeToFind => {\n    const upperCodeToFind = codeToFind.toUpperCase();\n    let found = localIcd10Data[upperCodeToFind];\n    if (found) return found;\n    const baseCode = upperCodeToFind.replace(/(\\.-[*]|\\.\\*|[*]|-)$/, '');\n    found = localIcd10Data[`${baseCode}.-*`] || localIcd10Data[`${baseCode}.*`] || localIcd10Data[baseCode];\n    if (found) return found;\n    const possibleCategoryCode = Object.keys(localIcd10Data).find(key => key.startsWith(upperCodeToFind) && (localIcd10Data[key].code_kategorie || localIcd10Data[key].code));\n    if (possibleCategoryCode) return localIcd10Data[possibleCategoryCode];\n    return null;\n  }, [localIcd10Data]);\n  const handleStartBilling = event => {\n    var _event$summary;\n    const chiffreMatch = (_event$summary = event.summary) === null || _event$summary === void 0 ? void 0 : _event$summary.match(/[A-Z][0-9]{6}/);\n    const chiffre = chiffreMatch ? chiffreMatch[0] : null;\n    const targetPatient = patients.find(p => p.chiffre === chiffre);\n    let nextSessionNumber;\n    if (event.sitzungsnummer) {\n      nextSessionNumber = event.sitzungsnummer;\n    } else {\n      nextSessionNumber = 1;\n      if (targetPatient) {\n        const highestSession = getHighestSessionNumber(targetPatient.sessions);\n        nextSessionNumber = highestSession + 1;\n      }\n    }\n    const eventWithSessionNumber = {\n      ...event,\n      sitzungsnummer: nextSessionNumber\n    };\n    setBillingModalState({\n      isOpen: true,\n      event: eventWithSessionNumber,\n      isEditing: false\n    });\n  };\n  const handleEditSession = session => {\n    var _session$structuredNo, _session$structuredNo2;\n    const event = {\n      id: session.id,\n      summary: `${((_session$structuredNo = session.structuredNotes) === null || _session$structuredNo === void 0 ? void 0 : _session$structuredNo.thema) || 'Sitzung'} (${selectedPatient.chiffre})`,\n      start: {\n        dateTime: session.date\n      },\n      sitzungsnummer: (_session$structuredNo2 = session.structuredNotes) === null || _session$structuredNo2 === void 0 ? void 0 : _session$structuredNo2.sitzungsnummer,\n      initialNotes: session.structuredNotes,\n      initialEbm: session.ebmEntries\n    };\n    setBillingModalState({\n      isOpen: true,\n      event,\n      isEditing: true\n    });\n  };\n  const handleDeleteSession = async sessionId => {\n    if (!selectedPatient) return;\n    const performDelete = async () => {\n      const updatedSessions = selectedPatient.sessions.filter(s => s.id !== sessionId);\n      const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n      try {\n        await setDoc(patientRef, {\n          sessions: updatedSessions\n        }, {\n          merge: true\n        });\n        setConfirmDeleteState({\n          isOpen: false\n        });\n      } catch (error) {\n        console.error(\"Error deleting session: \", error);\n        setAppError(\"Fehler beim Löschen der Sitzung.\");\n      }\n    };\n    setConfirmDeleteState({\n      isOpen: true,\n      title: \"Sitzung löschen?\",\n      message: \"Möchten Sie diese Sitzung und alle zugehörigen Abrechnungsdaten wirklich löschen?\",\n      onConfirm: performDelete\n    });\n  };\n  const handleSaveBilling = async (billingData, isEditing) => {\n    const {\n      chiffre,\n      eventId,\n      eventStart,\n      notes,\n      ebmEntries,\n      sessionId\n    } = billingData;\n    const targetPatient = patients.find(p => p.chiffre === chiffre);\n    if (!targetPatient) {\n      setAppError(`Patient mit Chiffre ${chiffre} nicht gefunden.`);\n      return;\n    }\n    const patientRef = doc(db, getPatientsCollectionPath(), targetPatient.id);\n    let updatedSessions;\n    if (isEditing) {\n      updatedSessions = targetPatient.sessions.map(session => {\n        if (session.id === sessionId) {\n          return {\n            ...session,\n            structuredNotes: notes,\n            ebmEntries: ebmEntries\n          };\n        }\n        return session;\n      });\n    } else {\n      const newSession = {\n        id: `sess_${Date.now()}`,\n        date: new Date(eventStart).toISOString(),\n        structuredNotes: notes,\n        ebmEntries: ebmEntries,\n        eventId: eventId,\n        homeworkStatus: (notes.hausaufgaben || []).filter(task => task.trim() !== '').map(taskText => ({\n          text: taskText,\n          done: false,\n          reason: ''\n        }))\n      };\n      updatedSessions = [...(targetPatient.sessions || []), newSession];\n    }\n    updatedSessions.sort((a, b) => new Date(b.date) - new Date(a.date));\n    try {\n      await setDoc(patientRef, {\n        sessions: updatedSessions\n      }, {\n        merge: true\n      });\n      setBillingModalState({\n        isOpen: false,\n        event: null,\n        isEditing: false\n      });\n      if (!isEditing) {\n        setActiveDetailTab('abrechnung');\n      }\n    } catch (err) {\n      setAppError(\"Fehler beim Speichern der Abrechnung.\");\n      console.error(\"Error saving billing:\", err);\n    }\n  };\n  const handleSaveBillingPeriod = async periodData => {\n    if (!selectedPatient) return;\n    const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n    const newPeriod = {\n      id: `bp_${Date.now()}`,\n      ...periodData\n    };\n    const updatedPatientData = {\n      billingPeriods: [...(selectedPatient.billingPeriods || []), newPeriod]\n    };\n    const newPeriodDateStr = new Date(newPeriod.date).toISOString().split('T')[0];\n    availableTests.forEach(testDef => {\n      const resultKey = `${testDef.id}Results`;\n      const testResults = selectedPatient[resultKey] || [];\n      if (testResults.length > 0) {\n        const updatedResults = testResults.map(res => {\n          const testDateStr = new Date(res.date).toISOString().split('T')[0];\n          if (testDateStr === newPeriodDateStr && !res.billingPeriodId) {\n            return {\n              ...res,\n              billingPeriodId: newPeriod.id\n            };\n          }\n          return res;\n        });\n        updatedPatientData[resultKey] = updatedResults;\n      }\n    });\n    try {\n      await setDoc(patientRef, updatedPatientData, {\n        merge: true\n      });\n      setIsAddBillingPeriodModalOpen(false);\n    } catch (err) {\n      setAppError(`Fehler beim Speichern des Abrechnungszeitraums: ${err.message}`);\n    }\n  };\n  const handleDeleteBillingPeriod = async periodId => {\n    if (!selectedPatient || !periodId) return;\n    if (!window.confirm(`Möchten Sie diesen Abrechnungszeitraum wirklich löschen? Alle zugeordneten Tests werden wieder als \"nicht zugeordnet\" markiert.`)) {\n      return;\n    }\n    const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n    const updatedTestResults = {};\n    availableTests.forEach(testDef => {\n      const resultKey = `${testDef.id}Results`;\n      if (selectedPatient[resultKey]) {\n        updatedTestResults[resultKey] = selectedPatient[resultKey].map(res => {\n          if (res.billingPeriodId === periodId) {\n            return {\n              ...res,\n              billingPeriodId: null\n            };\n          }\n          return res;\n        });\n      }\n    });\n    const updatedPeriods = selectedPatient.billingPeriods.filter(p => p.id !== periodId);\n    const updatedPatient = {\n      ...selectedPatient,\n      billingPeriods: updatedPeriods,\n      ...updatedTestResults\n    };\n    setSelectedPatient(updatedPatient);\n    try {\n      await setDoc(patientRef, {\n        billingPeriods: updatedPeriods,\n        ...updatedTestResults\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      setAppError(\"Fehler beim Löschen des Abrechnungszeitraums.\");\n      console.error(err);\n    }\n  };\n  const handleAddPendingTest = async test => {\n    if (!selectedPatient || !test) return;\n    const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n    const resultKey = `${test.id}Results`;\n    const newTestResult = {\n      date: new Date().toISOString(),\n      status: 'pending',\n      results: {},\n      testInstanceId: `test_${test.id}_${Date.now()}`,\n      testGrund: 'Einzeltestung',\n      billingPeriodId: null\n    };\n    const updatedTestList = [...(selectedPatient[resultKey] || []), newTestResult];\n    try {\n      await updateDoc(patientRef, {\n        [resultKey]: updatedTestList\n      });\n      alert(`Test \"${test.name}\" wurde zur Liste der ausstehenden Tests hinzugefügt.`);\n    } catch (err) {\n      setAppError(`Fehler beim Hinzufügen des Tests: ${err.message}`);\n    }\n  };\n  const handleSaveCompletedTest = async (patientId, testData) => {\n    const {\n      testId,\n      results,\n      date\n    } = testData;\n    if (!patientId || !testId) return;\n    const patientRef = doc(db, getPatientsCollectionPath(), patientId);\n    const targetPatient = patients.find(p => p.id === patientId);\n    if (!targetPatient) return;\n    const resultKey = `${testId}Results`;\n    const newTestResult = {\n      date: date,\n      results: results,\n      status: 'completed',\n      testGrund: 'Einzeltestung (Global)',\n      testInstanceId: `test_${testId}_${Date.now()}`,\n      billingPeriodId: null\n    };\n    const updatedTestResultsList = [...(targetPatient[resultKey] || []), newTestResult];\n    try {\n      await updateDoc(patientRef, {\n        [resultKey]: updatedTestResultsList\n      });\n      setIsZentraleTestModalOpen(false);\n    } catch (err) {\n      setAppError(`Fehler beim Speichern des Tests: ${err.message}`);\n    }\n  };\n  const handleCompletePendingTest = testToComplete => {\n    if (!testToComplete) return;\n    setTestToUpdate(testToComplete);\n    const testInfo = availableTests.find(t => t.id === testToComplete.testType);\n    setCurrentTestToErfassen(testInfo);\n    setIsZentraleTestModalOpen(true);\n  };\n  const handleUpdateTest = async (testInstanceId, testType, newResults, newDate) => {\n    if (!selectedPatient) return;\n    const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n    const resultKey = `${testType}Results`;\n    const updatedTestList = selectedPatient[resultKey].map(test => {\n      if (test.testInstanceId === testInstanceId) {\n        return {\n          ...test,\n          results: newResults,\n          date: newDate,\n          status: 'completed'\n        };\n      }\n      return test;\n    });\n    try {\n      await updateDoc(patientRef, {\n        [resultKey]: updatedTestList\n      });\n      setIsZentraleTestModalOpen(false);\n      setTestToUpdate(null);\n    } catch (err) {\n      setAppError(`Fehler beim Aktualisieren des Tests: ${err.message}`);\n    }\n  };\n  const handleSaveTestTemplate = async (patientId, template) => {\n    const {\n      name,\n      tests: testIds\n    } = template;\n    if (!patientId || !testIds || testIds.length === 0) return;\n    const patientRef = doc(db, getPatientsCollectionPath(), patientId);\n    const targetPatient = patients.find(p => p.id === patientId);\n    if (!targetPatient) return;\n    const updates = {};\n    const timestamp = Date.now();\n    const dateISO = new Date().toISOString();\n    testIds.forEach((testId, index) => {\n      const resultKey = `${testId}Results`;\n      const testInstanceId = `test_${testId}_${timestamp + index}`;\n      const newTestResult = {\n        date: dateISO,\n        status: 'pending',\n        results: {},\n        testInstanceId,\n        testGrund: name,\n        billingPeriodId: null\n      };\n      if (!updates[resultKey]) updates[resultKey] = [...(targetPatient[resultKey] || [])];\n      updates[resultKey].push(newTestResult);\n    });\n    try {\n      await updateDoc(patientRef, updates);\n      alert(`Testvorlage \"${name}\" für Patient*in ${targetPatient.chiffre} hinzugefügt.`);\n    } catch (err) {\n      setAppError(`Fehler beim Speichern der Testvorlage: ${err.message}`);\n    }\n  };\n  const handleUpdateTestGrund = async (testInstanceId, testType, newGrund) => {\n    if (!selectedPatient) return;\n    const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n    const resultKey = `${testType}Results`;\n    const updatedTestList = selectedPatient[resultKey].map(test => {\n      if (test.testInstanceId === testInstanceId) {\n        return {\n          ...test,\n          testGrund: newGrund\n        };\n      }\n      return test;\n    });\n    try {\n      await updateDoc(patientRef, {\n        [resultKey]: updatedTestList\n      });\n    } catch (err) {\n      setAppError(`Fehler beim Aktualisieren des Testgrunds: ${err.message}`);\n    }\n  };\n  const handleDeleteTest = async (testInstanceId, testType) => {\n    if (!selectedPatient || !testInstanceId || !testType) {\n      return;\n    }\n    if (!window.confirm(\"Möchten Sie diesen Testeintrag wirklich endgültig löschen?\")) return;\n    const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n    const resultKey = `${testType}Results`;\n    const updatedTestResultsList = (selectedPatient[resultKey] || []).filter(r => r.testInstanceId !== testInstanceId);\n    const updatedPatient = {\n      ...selectedPatient,\n      [resultKey]: updatedTestResultsList\n    };\n    setSelectedPatient(updatedPatient);\n    try {\n      await updateDoc(patientRef, {\n        [resultKey]: updatedTestResultsList\n      });\n    } catch (err) {\n      setAppError(\"Fehler beim Löschen des Testergebnisses.\");\n      const originalPatient = patients.find(p => p.id === selectedPatient.id);\n      if (originalPatient) setSelectedPatient(originalPatient);\n    }\n  };\n  const handleSaveDiagnostikTemplate = async templateData => {\n    const collectionPath = getDiagnostikTemplatesCollectionPath();\n    if (!collectionPath) return;\n    try {\n      const dataToSave = {\n        name: templateData.name,\n        tests: templateData.tests\n      };\n      if (templateData.id) {\n        await setDoc(doc(db, collectionPath, templateData.id), dataToSave);\n      } else {\n        await addDoc(collection(db, collectionPath), dataToSave);\n      }\n    } catch (err) {\n      console.error(\"Error saving diagnostik template:\", err);\n      setAppError(`Fehler beim Speichern der Diagnostik-Vorlage: ${err.message}`);\n    }\n  };\n  const handleDeleteDiagnostikTemplate = async templateId => {\n    const collectionPath = getDiagnostikTemplatesCollectionPath();\n    if (!collectionPath) return;\n    if (window.confirm(\"Möchten Sie diese Diagnostik-Vorlage wirklich löschen?\")) {\n      try {\n        await deleteDoc(doc(db, collectionPath, templateId));\n      } catch (err) {\n        setAppError(`Fehler beim Löschen der Diagnostik-Vorlage: ${err.message}`);\n      }\n    }\n  };\n  const handleUpdateHomeworkStatus = async (sessionId, homeworkIndex, newStatus) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    const updatedSessions = JSON.parse(JSON.stringify(selectedPatient.sessions));\n    const sessionToUpdate = updatedSessions.find(s => s.id === sessionId);\n    if (sessionToUpdate && sessionToUpdate.homeworkStatus && sessionToUpdate.homeworkStatus[homeworkIndex]) {\n      Object.assign(sessionToUpdate.homeworkStatus[homeworkIndex], newStatus);\n    }\n    try {\n      await setDoc(patientRef, {\n        sessions: updatedSessions\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error updating homework status:\", err);\n      setAppError(\"Fehler beim Aktualisieren des Hausaufgabenstatus.\");\n    }\n  };\n  const handleUpdateQuickNote = async note => {\n    if (!selectedPatient || !userId) return;\n    const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n    try {\n      await updateDoc(patientRef, {\n        quickNote: note\n      });\n    } catch (err) {\n      console.error(\"Error saving quick note:\", err);\n      setAppError(\"Fehler beim Speichern der Notiz.\");\n    }\n  };\n  const handleSaveEbmTemplate = async templateData => {\n    if (!userId) {\n      setAppError(\"Benutzer nicht authentifiziert.\");\n      return;\n    }\n    const collectionPath = getEbmTemplatesCollectionPath();\n    if (!collectionPath) return;\n    try {\n      await addDoc(collection(db, collectionPath), templateData);\n    } catch (err) {\n      console.error(\"Error saving EBM template:\", err);\n      setAppError(\"Fehler beim Speichern der EBM-Vorlage.\");\n    }\n  };\n  const handleDeleteEbmTemplate = async templateId => {\n    if (!userId) {\n      setAppError(\"Benutzer nicht authentifiziert.\");\n      return;\n    }\n    const collectionPath = getEbmTemplatesCollectionPath();\n    if (!collectionPath) return;\n    if (!window.confirm(\"Möchten Sie diese Vorlage wirklich löschen?\")) return;\n    try {\n      await deleteDoc(doc(db, collectionPath, templateId));\n    } catch (err) {\n      console.error(\"Error deleting EBM template:\", err);\n      setAppError(\"Fehler beim Löschen der EBM-Vorlage.\");\n    }\n  };\n  const handleOpenZentraleTestModal = test => {\n    setCurrentTestToErfassen(test);\n    setTestToUpdate(null);\n    setIsZentraleTestModalOpen(true);\n  };\n  const handleOpenTemplateModal = template => {\n    setCurrentTemplate(template);\n    setIsAddTemplateModalOpen(true);\n  };\n\n  // --- useEffects ---\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setIsInitialLoading(false);\n    }, 1500);\n    return () => clearTimeout(timer);\n  }, []);\n  useEffect(() => {\n    if (mainView === 'kalender') {\n      setIsCalendarLoading(true);\n      const timer = setTimeout(() => {\n        setIsCalendarLoading(false);\n      }, 1500);\n      return () => clearTimeout(timer);\n    }\n  }, [mainView]);\n  useEffect(() => {\n    if (ebmData.length === 0) {\n      fetch('/ebm_data_full.json').then(res => res.json()).then(setEbmData).catch(err => console.error(\"Failed to load EBM data\", err));\n    }\n  }, [ebmData.length]);\n  useEffect(() => {\n    if (mainView === 'abrechnung') {\n      setIsLoadingAppointments(true);\n      fetch('http://localhost:3001/api/calendar/past-events').then(res => {\n        if (!res.ok) {\n          return res.json().then(errorData => {\n            throw new Error(errorData.message || `Serverfehler: ${res.status}`);\n          });\n        }\n        return res.json();\n      }).then(calendarEvents => {\n        if (!Array.isArray(calendarEvents)) {\n          throw new Error(\"Unerwartetes Datenformat vom Server erhalten.\");\n        }\n        ;\n        const billedEventIds = new Set();\n        patients.forEach(p => {\n          (p.sessions || []).forEach(s => {\n            if (s.eventId) billedEventIds.add(s.eventId);\n          });\n        });\n        const unbilled = calendarEvents.filter(event => {\n          var _event$summary2;\n          return !billedEventIds.has(event.id) && ((_event$summary2 = event.summary) === null || _event$summary2 === void 0 ? void 0 : _event$summary2.match(/[A-Z][0-9]{6}/));\n        });\n        setUnbilledAppointments(unbilled);\n      }).catch(err => {\n        if (err.message && err.message.includes('Nicht bei Google authentifiziert')) {\n          setAppError(`Kalender-Fehler: Sie müssen sich erneut bei Google authentifizieren. Rufen Sie dazu im Browser auf: http://localhost:3001/auth/google`);\n        } else {\n          setAppError(`Offene Abrechnungen konnten nicht geladen werden: ${err.message}`);\n        }\n      }).finally(() => setIsLoadingAppointments(false));\n    }\n  }, [mainView, patients]);\n  useEffect(() => {\n    if (selectedPatient) {\n      fetchNextAppointment(selectedPatient.chiffre);\n    } else {\n      setNextAppointment({\n        isLoading: false,\n        text: null,\n        error: null\n      });\n    }\n  }, [selectedPatient, fetchNextAppointment]);\n  useEffect(() => {\n    fetch('/icd10f_data.json').then(response => {\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      return response.json();\n    }).then(data => {\n      const indexedData = {};\n      data.forEach(item => {\n        if (item.code) {\n          indexedData[item.code.toUpperCase()] = item;\n        }\n      });\n      setLocalIcd10Data(indexedData);\n    }).catch(error => {\n      console.error(\"Fehler beim Laden der lokalen ICD-10 Daten:\", error);\n      setAppError(\"Lokale ICD-10 Daten konnten nicht geladen werden. \" + error.message);\n    });\n  }, []);\n  useEffect(() => {\n    if (selectedPatient && !selectedId) {\n      setEditableKrankheitsanamnese(selectedPatient.krankheitsanamnese || \"\");\n      setEditableLebensgeschichte(selectedPatient.lebensgeschichte || \"\");\n      setEditableProblemanalyseMakro(selectedPatient.problemanalyseMakro || \"\");\n      setEditableTherapieplan(selectedPatient.therapieplan || \"\");\n      if (detailViewRef.current) {\n        setTimeout(() => {\n          detailViewRef.current.scrollIntoView({\n            behavior: 'smooth',\n            block: 'start'\n          });\n        }, 100);\n      }\n    } else {\n      setEditableKrankheitsanamnese(\"\");\n      setEditableLebensgeschichte(\"\");\n      setEditableProblemanalyseMakro(\"\");\n      setEditableTherapieplan(\"\");\n    }\n  }, [selectedPatient, selectedId]);\n  useEffect(() => {\n    if (newDiagnosisCode.trim() !== '') {\n      const found = findIcd10CodeLocal(newDiagnosisCode.trim().toUpperCase());\n      if (found && found.name) {\n        setLookedUpDiagnosisName(found.name);\n      } else {\n        setLookedUpDiagnosisName('');\n      }\n    } else {\n      setLookedUpDiagnosisName('');\n    }\n  }, [newDiagnosisCode, findIcd10CodeLocal]);\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, user => {\n      if (user) {\n        setUserId(user.uid);\n      } else {\n        setUserId(null);\n      }\n      setIsAuthReady(true);\n      setIsLoading(false);\n    });\n    return () => unsubscribe();\n  }, []);\n  const seedInitialData = useCallback(async collectionPath => {\n    if (!userId || !collectionPath) return;\n    try {\n      const patientsCollection = collection(db, collectionPath);\n      const querySnapshot = await getDocs(patientsCollection);\n      if (querySnapshot.empty) {\n        const batch = writeBatch(db);\n        initialPatientsData.forEach(patientData => {\n          const newPatientRef = doc(patientsCollection);\n          batch.set(newPatientRef, {\n            ...patientData,\n            hscl11Results: patientData.hscl11Results || [],\n            bdi2Results: patientData.bdi2Results || [],\n            fep2Results: patientData.fep2Results || [],\n            scl90rResults: patientData.scl90rResults || [],\n            gad7Results: patientData.gad7Results || [],\n            coreOmResults: patientData.coreOmResults || [],\n            iipcResults: patientData.iipcResults || [],\n            diagnoses_icd11: patientData.diagnoses_icd11 || [],\n            billingPeriods: patientData.billingPeriods || [],\n            krankheitsanamnese: patientData.krankheitsanamnese || \"\",\n            lebensgeschichte: patientData.lebensgeschichte || \"\",\n            problemanalyseMakro: patientData.problemanalyseMakro || \"\",\n            therapieplan: patientData.therapieplan || \"\"\n          });\n        });\n        await batch.commit();\n      }\n    } catch (err) {\n      console.error(\"Error seeding initial data:\", err);\n      setAppError(\"Fehler beim Laden der initialen Daten.\");\n    }\n  }, [userId]);\n  useEffect(() => {\n    if (!isAuthReady || !userId) {\n      setPatients([]);\n      setProfile({});\n      setEbmTemplates([]);\n      setDiagnostikTemplates([]);\n      return;\n    }\n    const unsubscribes = [];\n    setIsLoading(true);\n    const paths = [{\n      path: getPatientsCollectionPath(),\n      setter: setPatients,\n      process: docs => docs.map(d => ({\n        id: d.id,\n        ...d.data()\n      })).sort((a, b) => (a.name || \"\").localeCompare(b.name || \"\"))\n    }, {\n      path: getProfileDocPath(),\n      setter: setProfile,\n      isDoc: true\n    }, {\n      path: getEbmTemplatesCollectionPath(),\n      setter: setEbmTemplates,\n      process: docs => docs.map(d => ({\n        id: d.id,\n        ...d.data()\n      }))\n    }, {\n      path: getDiagnostikTemplatesCollectionPath(),\n      setter: setDiagnostikTemplates,\n      process: docs => docs.map(d => ({\n        id: d.id,\n        ...d.data()\n      }))\n    }];\n    seedInitialData(getPatientsCollectionPath());\n    paths.forEach(({\n      path,\n      setter,\n      process,\n      isDoc\n    }) => {\n      if (path) {\n        if (isDoc) {\n          unsubscribes.push(onSnapshot(doc(db, path), docSnap => {\n            setter(docSnap.exists() ? docSnap.data() : {});\n          }));\n        } else {\n          unsubscribes.push(onSnapshot(query(collection(db, path)), snapshot => {\n            const data = process ? process(snapshot.docs) : snapshot.docs.map(d => ({\n              id: d.id,\n              ...d.data()\n            }));\n            setter(data);\n          }));\n        }\n      }\n    });\n    setIsLoading(false);\n    return () => unsubscribes.forEach(unsub => unsub());\n  }, [isAuthReady, userId, getDiagnostikTemplatesCollectionPath, getEbmTemplatesCollectionPath, getPatientsCollectionPath, getProfileDocPath, seedInitialData]);\n  useEffect(() => {\n    if (selectedPatient) {\n      const currentPatientDataFromList = patients.find(p => p.id === selectedPatient.id);\n      if (currentPatientDataFromList) {\n        if (JSON.stringify(currentPatientDataFromList) !== JSON.stringify(selectedPatient)) {\n          setSelectedPatient(currentPatientDataFromList);\n        }\n      } else {\n        setSelectedPatient(null);\n        setSelectedId(null);\n      }\n    }\n  }, [patients, selectedPatient]);\n  useEffect(() => {\n    const loadIcd10Data = async () => {\n      try {\n        const response = await fetch('/icd10f_data.json');\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        const indexedData = {};\n        data.forEach(item => {\n          if (item.code) {\n            indexedData[item.code.toUpperCase()] = item;\n            const baseCode = item.code.replace(/[*†]/, '').toUpperCase();\n            if (baseCode !== item.code.toUpperCase()) {\n              indexedData[baseCode] = item;\n            }\n          }\n        });\n        setLocalIcd10Data(indexedData);\n      } catch (error) {\n        console.error(\"Fehler beim Laden der lokalen ICD-10 Daten:\", error);\n        setAppError(\"Lokale ICD-10 Daten konnten nicht geladen werden. \" + error.message);\n      }\n    };\n    loadIcd10Data();\n  }, []);\n  const bdiCutoffs = [{\n    y1: 0,\n    y2: 8,\n    label: \"Keine Depression\",\n    color: \"rgba(75, 192, 192, 0.2)\"\n  }, {\n    y1: 9,\n    y2: 13,\n    label: \"Minimale Depression\",\n    color: \"rgba(54, 162, 235, 0.2)\"\n  }, {\n    y1: 14,\n    y2: 19,\n    label: \"Leichte Depression\",\n    color: \"rgba(255, 206, 86, 0.2)\"\n  }, {\n    y1: 20,\n    y2: 28,\n    label: \"Mittelschwere Depression\",\n    color: \"rgba(255, 159, 64, 0.2)\"\n  }, {\n    y1: 29,\n    y2: 63,\n    label: \"Schwere Depression\",\n    color: \"rgba(255, 99, 132, 0.2)\"\n  }];\n  const bdiAxisTicks = [0, 8, 13, 19, 28, 63];\n  const handleAuthAction = async isRegistering => {\n    setIsAuthLoading(true);\n    setAuthError(null);\n    try {\n      if (isRegistering) {\n        await createUserWithEmailAndPassword(auth, email, password);\n      } else {\n        await signInWithEmailAndPassword(auth, email, password);\n      }\n      setEmail(\"\");\n      setPassword(\"\");\n    } catch (error) {\n      console.error(\"Authentication error:\", error);\n      setAuthError(error.message);\n    } finally {\n      setIsAuthLoading(false);\n    }\n  };\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n      setSelectedPatient(null);\n      setPatients([]);\n    } catch (error) {\n      console.error(\"Error signing out: \", error);\n      setAppError(\"Fehler beim Abmelden.\");\n    }\n  };\n  const handleSavePatient = async patientData => {\n    if (!userId) {\n      setAppError(\"Benutzer nicht authentifiziert.\");\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const dataToSave = {\n      name: patientData.name || '',\n      vorname: patientData.vorname || '',\n      chiffre: patientData.chiffre || '',\n      geburtsdatum: patientData.geburtsdatum || '',\n      adresse: patientData.adresse || '',\n      email: patientData.email || '',\n      telefon: patientData.telefon || '',\n      krankenkasse: patientData.krankenkasse || '',\n      versichertennummer: patientData.versichertennummer || '',\n      approvedHours: patientData.approvedHours || 0,\n      therapeuticMethods: patientData.therapeuticMethods || [],\n      diagnoses: patientData.diagnoses || [],\n      diagnoses_icd11: patientData.diagnoses_icd11 || [],\n      sessions: patientData.sessions || [],\n      hscl11Results: patientData.hscl11Results || [],\n      bdi2Results: patientData.bdi2Results || [],\n      fep2Results: patientData.fep2Results || [],\n      scl90rResults: patientData.scl90rResults || [],\n      gad7Results: patientData.gad7Results || [],\n      coreOmResults: patientData.coreOmResults || [],\n      iipcResults: patientData.iipcResults || [],\n      billingPeriods: patientData.billingPeriods || [],\n      krankheitsanamnese: patientData.krankheitsanamnese || \"\",\n      lebensgeschichte: patientData.lebensgeschichte || \"\",\n      problemanalyseMakro: patientData.problemanalyseMakro || \"\",\n      therapieplan: patientData.therapieplan || \"\"\n    };\n    try {\n      if (editingPatient && editingPatient.id) {\n        const patientRef = doc(db, collectionPath, editingPatient.id);\n        await setDoc(patientRef, dataToSave, {\n          merge: true\n        });\n      } else {\n        await addDoc(collection(db, collectionPath), dataToSave);\n      }\n      setIsPatientModalOpen(false);\n      setEditingPatient(null);\n    } catch (err) {\n      console.error(\"Error saving patient:\", err);\n      setAppError(`Fehler beim Speichern des Patienten: ${err.message}`);\n    }\n  };\n  const handleAddDiagnosis = async () => {\n    const codeToAdd = newDiagnosisCode.trim().toUpperCase();\n    if (!selectedPatient || !codeToAdd || !userId) {\n      setAppError(\"Bitte füllen Sie alle erforderlichen Felder aus.\");\n      return;\n    }\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const sicherheitPrefix = newDiagnosisSicherheit ? `[${newDiagnosisSicherheit}] ` : \"\";\n    const beschreibung = newDiagnosis.trim() ? `: ${newDiagnosis.trim()}` : lookedUpDiagnosisName ? `: ${lookedUpDiagnosisName}` : \"\";\n    const diagnosisString = `${sicherheitPrefix}${codeToAdd}${beschreibung}`;\n    const updatedDiagnoses = [...(selectedPatient.diagnoses || []), diagnosisString];\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        diagnoses: updatedDiagnoses\n      }, {\n        merge: true\n      });\n      setNewDiagnosisCode('');\n      setNewDiagnosis('');\n      setLookedUpDiagnosisName('');\n      setNewDiagnosisSicherheit('G');\n    } catch (err) {\n      console.error(\"Error adding diagnosis:\", err);\n      setAppError(\"Fehler beim Hinzufügen der Diagnose.\");\n    }\n  };\n  const handleRemoveDiagnosis = async diagnosisStringToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedDiagnoses = selectedPatient.diagnoses.filter(d => d !== diagnosisStringToRemove);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        diagnoses: updatedDiagnoses\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing diagnosis:\", err);\n      setAppError(\"Fehler beim Entfernen der Diagnose.\");\n    }\n  };\n  const handleKrankheitsmodellChange = async (fieldName, value) => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        [fieldName]: value\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(`Error updating ${fieldName}:`, err);\n      setAppError(`Fehler beim Speichern von ${fieldName}.`);\n    }\n  };\n  const handleTherapeutischeAssistenzAnfordern = async () => {\n    if (!selectedPatient) {\n      setAssistenzError(\"Bitte wählen Sie zuerst einen Patienten aus.\");\n      return;\n    }\n    setIsLoadingTherapeutischeAssistenz(true);\n    setTherapeutischeAssistenzOutput(\"\");\n    setAssistenzError(null);\n    const conductedHours = getHighestSessionNumber(selectedPatient.sessions);\n    const patientenDatenText = `Hier sind die relevanten Patientendaten:\\n**Krankheitsanamnese:**\\n${selectedPatient.krankheitsanamnese || \"Keine Angaben.\"}\\n**Lebensgeschichte/Biografie:**\\n${selectedPatient.lebensgeschichte || \"Keine Angaben.\"}\\n**Problemanalyse auf Makroebene:**\\n${selectedPatient.problemanalyseMakro || \"Keine Angaben.\"}\\n**Therapieplanung (bisherig):**\\n${selectedPatient.therapieplan || \"Keine Angaben.\"}\\n**Verlaufsdokumentation (Sitzungsnotizen):**\\n${(selectedPatient.sessions || []).map((s, i) => {\n      var _s$structuredNotes2, _s$structuredNotes3;\n      return `Sitzung ${((_s$structuredNotes2 = s.structuredNotes) === null || _s$structuredNotes2 === void 0 ? void 0 : _s$structuredNotes2.sitzungsnummer) || i + 1} (${new Date(s.date).toLocaleDateString('de-DE')}): ${((_s$structuredNotes3 = s.structuredNotes) === null || _s$structuredNotes3 === void 0 ? void 0 : _s$structuredNotes3.patientenbericht) || s.notes}`;\n    }).join(\"\\n\\n\") || \"Keine Sitzungsnotizen vorhanden.\"}\\n**Diagnosen:**\\n${(selectedPatient.diagnoses || []).join(\", \") || \"Keine Diagnosen erfasst.\"}\\n**Genehmigte Stunden:** ${selectedPatient.approvedHours}\\n**Durchgeführte Stunden:** ${conductedHours}`;\n    const systemPrompt = `Du bist ein interdisziplinäres Expertenteam, bestehend aus erfahrenen Verhaltenstherapeuten wie Jürgen Margraf, Dr. Stavemann, Aaron T. Beck, Judith Beck und Jonathan S. Abramowitz sowie aus leitenden Chefärzten und Psychiatern wie Prof. Dr. Mathias Berger. Das Team verfügt über exzellente Fachkompetenz in der evidenzbasierten psychotherapeutischen Praxis und legt besonderen Wert auf präzise medizinische Dokumentation sowie therapeutische Qualität. Darüber hinaus gehören auch international anerkannte Experten wie David H. Barlow, Stefan G. Hofmann und Steven Hayes zum Team. Du verfügst über tiefgehendes Wissen in Ansätzen der sogenannten „dritten Welle“ der Verhaltenstherapie, insbesondere in ACT, Schematherapie und DBT.\\nDeine Aufgabe ist es, auf Grundlage folgender Elemente, welche du aus den bereitgestellten Patientendaten entnimmst:\\n- Krankheitsanamnese, Lebensgeschichte/Biografie, Problemanalyse auf Makroebene, Therapieplanung (bisherig), Verlaufsdokumentation (Sitzungsnotizen)\\neine strukturierte Rückmeldung zu geben mit dem Ziel:\\n1. Wesentliche Schwerpunkte in der weiteren Therapieplanung zu identifizieren.\\n2. Konkrete Interventionsideen zu formulieren, orientiert an den zugelassenen Stunden.\\n3. Hinweise zu geben, worauf in der Strukturierung der Sitzungen geachtet werden sollte (z.B. Themenfokus, Symptomschwere, Therapiezielorientierung).\\nBerücksichtige dabei:\\n• Die begrenzte Anzahl genehmigter Stunden. • Dass Themen nicht zu häufig gewechselt werden sollen. • Die Konsistenz und Nachvollziehbarkeit im Verlauf.\\nBitte plane deine Analyse gründlich und reflektiert. Handle in Etappen:\\n1. Diagnostische Schwerpunkte benennen, 2. Therapieziele definieren, 3. Interventionsvorschläge machen, 4. Hinweise zur Dokumentation geben\\nAtme einmal tief ein und aus und nehme dir Zeit für die Aufgabe. Mache bitte weiter, bis das Problem vollständig gelöst ist. Planen bitte ausführlich vor jeder Aktion.\\nHier sind die Daten des aktuellen Falls:\\n${patientenDatenText}\\nBitte gib deine strukturierte Rückmeldung.`;\n    try {\n      const assistenz = await generateGeminiText(systemPrompt);\n      setTherapeutischeAssistenzOutput(assistenz);\n    } catch (e) {\n      setAssistenzError(`Fehler bei der Anforderung der therapeutischen Assistenz: ${e.message}`);\n    } finally {\n      setIsLoadingTherapeutischeAssistenz(false);\n    }\n  };\n  const showDiagnosisInfo = diagnosisString => {\n    const sicherheitMatch = diagnosisString.match(/^\\[([AVGZN]+)\\]\\s*/i);\n    const sicherheit = sicherheitMatch ? sicherheitMatch[1].toUpperCase() : '';\n    const codeAndName = sicherheitMatch ? diagnosisString.substring(sicherheitMatch[0].length) : diagnosisString;\n    const codeMatch = codeAndName.match(/^([A-Z][0-9]{1,2}(\\.[0-9A-Z]{1,2})?[*†]?)/i);\n    const code = codeMatch ? codeMatch[0].toUpperCase() : codeAndName.split(':')[0].trim().toUpperCase();\n    const localData = findIcd10CodeLocal(code);\n    if (localData) {\n      setDiagnosisInfo({\n        code: localData.code || code,\n        name: localData.name || '',\n        beschreibung: localData.beschreibung || localData.beschreibung_kategorie || '',\n        inkl: localData.inkl || [],\n        exkl: localData.exkl || [],\n        hinweise: localData.hinweise || [],\n        zusatz_info_code: localData.zusatz_info_code || '',\n        sicherheit: sicherheit,\n        isLoading: false,\n        error: null,\n        isOpen: true,\n        source: 'local'\n      });\n    } else {\n      setDiagnosisInfo({\n        code: code,\n        name: \"Unbekannter ICD-10 Code\",\n        isLoading: false,\n        error: `Für den ICD-10 Code \"${code}\" wurden keine Informationen in der lokalen Datenbank gefunden.`,\n        isOpen: true,\n        source: 'error'\n      });\n    }\n  };\n  const fetchIcd11Details = async diagnosis => {\n    if (!diagnosis || !diagnosis.uri) {\n      setAppError(\"Keine gültige URI für die ICD-11 Diagnose vorhanden.\");\n      return;\n    }\n    const {\n      code,\n      title,\n      uri\n    } = diagnosis;\n    setDiagnosisInfo({\n      code: code,\n      name: title,\n      isLoading: true,\n      error: null,\n      isOpen: true,\n      source: 'api'\n    });\n    try {\n      var _fullData$title, _fullData$definition;\n      const response = await fetch(`http://localhost:3001/api/icd11-info?uri=${encodeURIComponent(uri)}`);\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'API-Anfrage fehlgeschlagen');\n      }\n      const fullData = await response.json();\n      setDiagnosisInfo({\n        code: fullData.code || code,\n        name: ((_fullData$title = fullData.title) === null || _fullData$title === void 0 ? void 0 : _fullData$title['@value']) || title,\n        beschreibung: ((_fullData$definition = fullData.definition) === null || _fullData$definition === void 0 ? void 0 : _fullData$definition['@value']) || '',\n        diagnosticCriteria: fullData.diagnosticCriteria,\n        inclusions: fullData.inclusion,\n        exclusions: fullData.exclusion,\n        isLoading: false,\n        error: null,\n        isOpen: true,\n        source: 'api_detail'\n      });\n    } catch (error) {\n      console.error('Fehler beim Abrufen der ICD-11 Details:', error);\n      setDiagnosisInfo({\n        code: code,\n        isLoading: false,\n        error: `Konnte Informationen für ${code} nicht laden: ${error.message}`,\n        isOpen: true,\n        source: 'api'\n      });\n    }\n  };\n  const handleAssignIcd11Diagnosis = async (patientId, icd11Entity) => {\n    if (!patientId || !icd11Entity || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const patientRef = doc(db, collectionPath, patientId);\n    const targetPatient = patients.find(p => p.id === patientId);\n    if (!targetPatient) {\n      setAppError(\"Ziel-Patient konnte nicht gefunden werden.\");\n      return;\n    }\n    const newDiagnosis = {\n      code: icd11Entity.code,\n      title: icd11Entity.selectedText,\n      uri: icd11Entity.linearizationUri || icd11Entity.foundationUri,\n      date: new Date().toISOString()\n    };\n    const updatedDiagnoses = [...(targetPatient.diagnoses_icd11 || []), newDiagnosis];\n    try {\n      await setDoc(patientRef, {\n        diagnoses_icd11: updatedDiagnoses\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error assigning ICD-11 diagnosis:\", err);\n      setAppError(\"Fehler beim Zuweisen der ICD-11 Diagnose.\");\n    }\n  };\n  const handleRemoveIcd11Diagnosis = async diagnosisToRemove => {\n    if (!selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedDiagnoses = selectedPatient.diagnoses_icd11.filter(d => d.date !== diagnosisToRemove.date);\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        diagnoses_icd11: updatedDiagnoses\n      }, {\n        merge: true\n      });\n    } catch (err) {\n      console.error(\"Error removing ICD-11 diagnosis:\", err);\n      setAppError(\"Fehler beim Entfernen der ICD-11 Diagnose.\");\n    }\n  };\n  const handleAcceptImprovement = async () => {\n    if (improvementState.sessionIndex === null || !selectedPatient || !userId) return;\n    const collectionPath = getPatientsCollectionPath();\n    if (!collectionPath) return;\n    const updatedSessions = JSON.parse(JSON.stringify(selectedPatient.sessions));\n    updatedSessions[improvementState.sessionIndex].notes = improvementState.improvedText;\n    const patientRef = doc(db, collectionPath, selectedPatient.id);\n    try {\n      await setDoc(patientRef, {\n        sessions: updatedSessions\n      }, {\n        merge: true\n      });\n      setImprovementState({\n        isOpen: false,\n        isLoading: false,\n        originalText: '',\n        improvedText: '',\n        sessionIndex: null,\n        error: null\n      });\n    } catch (err) {\n      console.error(\"Error updating session note:\", err);\n      setAppError(\"Fehler beim Aktualisieren der Sitzungsnotiz.\");\n    }\n  };\n  const handleSaveProfile = async profileData => {\n    if (!userId) {\n      setAppError(\"Benutzer nicht authentifiziert.\");\n      return;\n    }\n    const profileDocRef = doc(db, getProfileDocPath());\n    try {\n      await setDoc(profileDocRef, profileData, {\n        merge: true\n      });\n      alert(\"Profil erfolgreich gespeichert!\");\n    } catch (err) {\n      console.error(\"Error saving profile:\", err);\n      setAppError(`Fehler beim Speichern des Profils: ${err.message}`);\n    }\n  };\n  const handleUploadFile = async (file, path) => {\n    if (!userId) throw new Error(\"Benutzer nicht authentifiziert.\");\n    setIsUploading(true);\n    const storageRef = ref(storage, `users/${userId}/${path}/${file.name}`);\n    try {\n      const snapshot = await uploadBytes(storageRef, file);\n      const downloadURL = await getDownloadURL(snapshot.ref);\n      return downloadURL;\n    } catch (error) {\n      console.error(\"Upload failed\", error);\n      throw error;\n    } finally {\n      setIsUploading(false);\n    }\n  };\n  const inputStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-teal-500 focus:border-teal-500 sm:text-sm\";\n  const btnPrimary = \"bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm flex items-center justify-center transition-colors\";\n  const btnDanger = \"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md flex items-center transition-colors\";\n  const btnInfo = \"bg-sky-500 hover:bg-sky-600 text-white font-semibold py-1 px-2 text-xs rounded-md flex items-center transition-colors\";\n  const textareaStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-teal-500 focus:border-teal-500 sm:text-sm min-h-[150px]\";\n  const selectedIndex = useMemo(() => selectedId ? sortedPatients.findIndex(p => p.id === selectedId) : -1, [selectedId, sortedPatients]);\n  const compactHeight = 160;\n  const expandedHeight = 620;\n  const overlap = 120;\n  const visibleHeight = compactHeight - overlap;\n  const totalHeight = sortedPatients.length * visibleHeight + overlap + (selectedIndex !== -1 ? expandedHeight - compactHeight : 0);\n  const Sidebar = ({\n    currentView,\n    setView\n  }) => {\n    const navItems = [{\n      id: 'dashboard',\n      label: 'Dashboard',\n      icon: /*#__PURE__*/_jsxDEV(HomeIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 993,\n        columnNumber: 58\n      }, this),\n      type: 'item'\n    },\n    // *** NEU ***\n    {\n      id: 'profile',\n      label: 'Profil',\n      icon: /*#__PURE__*/_jsxDEV(SettingsIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 994,\n        columnNumber: 53\n      }, this),\n      type: 'item'\n    }, {\n      id: 'kalender',\n      label: 'Kalender',\n      icon: /*#__PURE__*/_jsxDEV(CalendarIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 995,\n        columnNumber: 56\n      }, this),\n      type: 'item'\n    }, {\n      type: 'heading',\n      label: 'Patienten'\n    }, {\n      id: 'patients',\n      label: 'Patientenübersicht',\n      icon: /*#__PURE__*/_jsxDEV(Users, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 997,\n        columnNumber: 66\n      }, this),\n      type: 'item'\n    }, {\n      type: 'heading',\n      label: 'Verwaltung'\n    }, {\n      id: 'abrechnung',\n      label: 'Abrechnung',\n      icon: /*#__PURE__*/_jsxDEV(DollarSignIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 999,\n        columnNumber: 60\n      }, this),\n      type: 'item'\n    }, {\n      id: 'diagnostik',\n      label: 'Diagnostik',\n      icon: /*#__PURE__*/_jsxDEV(BeakerIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1000,\n        columnNumber: 60\n      }, this),\n      type: 'item'\n    }, {\n      id: 'formulare',\n      label: 'Formulare',\n      icon: /*#__PURE__*/_jsxDEV(PaperclipIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1001,\n        columnNumber: 58\n      }, this),\n      type: 'item'\n    }, {\n      type: 'heading',\n      label: 'Nachschlagewerke'\n    }, {\n      id: 'ebm',\n      label: 'EBM',\n      icon: /*#__PURE__*/_jsxDEV(List, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1003,\n        columnNumber: 46\n      }, this),\n      type: 'item'\n    }, {\n      id: 'ebm_templates',\n      label: 'EBM Vorlagen',\n      icon: /*#__PURE__*/_jsxDEV(ClipboardListIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1004,\n        columnNumber: 65\n      }, this),\n      type: 'item'\n    }, {\n      id: 'icd11',\n      label: 'ICD-11',\n      icon: /*#__PURE__*/_jsxDEV(BookOpen, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1005,\n        columnNumber: 51\n      }, this),\n      type: 'item'\n    }, {\n      id: 'methoden',\n      label: 'Behandlungsmethoden',\n      icon: /*#__PURE__*/_jsxDEV(LayersIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1006,\n        columnNumber: 67\n      }, this),\n      type: 'item'\n    }];\n    return /*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"w-64 bg-slate-100 border-r border-slate-200 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b border-slate-200\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-bold text-teal-700 tracking-tight\",\n          children: \"Therapie-Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1011,\n          columnNumber: 64\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1011,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex-1 p-4 space-y-1\",\n        children: navItems.map((item, index) => item.type === 'heading' ? /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"px-3 pt-4 pb-1 text-xs font-semibold text-gray-500 uppercase tracking-wider\",\n          children: item.label\n        }, `heading-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1015,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setView(item.id);\n            setSelectedPatient(null);\n          },\n          className: `w-full flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${currentView === item.id ? 'bg-teal-100 text-teal-800' : 'text-slate-700 hover:bg-slate-200'}`,\n          children: [item.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n            children: item.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1019,\n            columnNumber: 33\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1017,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1012,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t border-slate-200\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-slate-500\",\n          children: [\"UserID: \", userId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1023,\n          columnNumber: 64\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1023,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1010,\n      columnNumber: 13\n    }, this);\n  };\n  const PatientDetailHeader = ({\n    patient,\n    onDeselect,\n    onEdit\n  }) => {\n    _s4();\n    const therapyStartDate = useMemo(() => {\n      if (!patient || !patient.sessions) return \"-\";\n      const firstSession = patient.sessions.filter(s => {\n        var _s$structuredNotes4;\n        return ((_s$structuredNotes4 = s.structuredNotes) === null || _s$structuredNotes4 === void 0 ? void 0 : _s$structuredNotes4.sitzungsnummer) === 1;\n      }).sort((a, b) => new Date(a.date) - new Date(b.date))[0];\n      return firstSession ? new Date(firstSession.date).toLocaleDateString('de-DE') : '-';\n    }, [patient]);\n    const conductedHours = useMemo(() => getHighestSessionNumber(patient === null || patient === void 0 ? void 0 : patient.sessions), [patient]);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-2xl font-semibold text-gray-800\",\n          children: [patient.vorname, \" \", patient.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1033,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onEdit,\n            className: \"text-gray-500 hover:text-teal-600 p-1 rounded-full hover:bg-gray-100 transition-colors\",\n            title: \"Stammdaten bearbeiten\",\n            children: /*#__PURE__*/_jsxDEV(Edit3, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1036,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1035,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onDeselect,\n            className: \"text-gray-400 hover:text-gray-600\",\n            children: /*#__PURE__*/_jsxDEV(XCircle, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1038,\n              columnNumber: 96\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1038,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1034,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1032,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 text-sm text-gray-500 grid grid-cols-2 md:grid-cols-4 gap-x-4 gap-y-1\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-semibold\",\n            children: \"Kasse:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1041,\n            columnNumber: 112\n          }, this), \" \", patient.krankenkasse || '-']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1041,\n          columnNumber: 106\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-semibold\",\n            children: \"Vers.-Nr.:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1041,\n            columnNumber: 205\n          }, this), \" \", patient.versichertennummer || '-']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1041,\n          columnNumber: 199\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-semibold\",\n            children: \"Therapiebeginn:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1041,\n            columnNumber: 308\n          }, this), \" \", therapyStartDate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1041,\n          columnNumber: 302\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-semibold\",\n            children: \"Stunden:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1041,\n            columnNumber: 399\n          }, this), \" \", conductedHours, \" / \", patient.approvedHours]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1041,\n          columnNumber: 393\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1041,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  };\n  _s4(PatientDetailHeader, \"sZ392WPNluoTXDhZX3asjt0EIrI=\");\n  if (isInitialLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-screen bg-slate-100\",\n      children: /*#__PURE__*/_jsxDEV(DotLottieReact, {\n        src: \"https://lottie.host/db9305b2-bb1c-47b1-9c19-d2d744a378b1/yrWh6LccRW.json\",\n        loop: true,\n        autoplay: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1048,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1047,\n      columnNumber: 13\n    }, this);\n  }\n  if (!isAuthReady) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center h-screen text-xl font-semibold text-gray-600 bg-slate-100\",\n    children: \"Authentifizierung wird initialisiert...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1057,\n    columnNumber: 30\n  }, this);\n  if (!userId) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-slate-100 flex flex-col justify-center items-center p-4\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-lg shadow-md w-full max-w-md border border-gray-200\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-center text-gray-800 mb-8\",\n          children: isLoginView ? \"Login Patientenverwaltung\" : \"Registrierung\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1058,\n          columnNumber: 209\n        }, this), \" \", authError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-sm\",\n          children: authError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1058,\n          columnNumber: 356\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => {\n            e.preventDefault();\n            handleAuthAction(!isLoginView);\n          },\n          className: \"space-y-6\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"E-Mail Adresse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1058,\n              columnNumber: 548\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              id: \"email\",\n              required: true,\n              value: email,\n              onChange: e => setEmail(e.target.value),\n              className: inputStd\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1058,\n              columnNumber: 645\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1058,\n            columnNumber: 543\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"Passwort\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1058,\n              columnNumber: 790\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              id: \"password\",\n              required: true,\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              className: inputStd\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1058,\n              columnNumber: 884\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1058,\n            columnNumber: 785\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: isAuthLoading,\n            className: `${btnPrimary} w-full py-2.5 text-base ${isAuthLoading ? 'opacity-50 cursor-not-allowed' : ''}`,\n            children: isAuthLoading ? isLoginView ? \"Anmelden...\" : \"Registrieren...\" : isLoginView ? \"Anmelden\" : \"Registrieren\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1058,\n            columnNumber: 1039\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1058,\n          columnNumber: 440\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setIsLoginView(!isLoginView);\n            setAuthError(null);\n          },\n          className: \"mt-6 text-sm text-teal-600 hover:text-teal-500 text-center w-full\",\n          children: isLoginView ? \"Noch kein Konto? Jetzt registrieren.\" : \"Bereits registriert? Zum Login.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1058,\n          columnNumber: 1325\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1058,\n        columnNumber: 118\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1058,\n      columnNumber: 28\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen w-full bg-slate-50 font-sans flex overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      currentView: mainView,\n      setView: setMainView\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1062,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"bg-white border-b border-slate-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mx-auto px-6 py-3 flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-800 capitalize\",\n            children: mainView.replace(/_/g, ' ')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1064,\n            columnNumber: 141\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"text-gray-500 hover:text-red-600 hover:bg-red-50 p-2 rounded-md text-sm flex items-center transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(LogOut, {\n              className: \"mr-2 h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1064,\n              columnNumber: 389\n            }, this), \" Logout\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1064,\n            columnNumber: 238\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1064,\n          columnNumber: 72\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1064,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"flex-1 overflow-y-auto p-6 relative\",\n        children: [/*#__PURE__*/_jsxDEV(ConfirmationModal, {\n          isOpen: confirmDeleteState.isOpen,\n          onClose: () => setConfirmDeleteState({\n            isOpen: false\n          }),\n          onConfirm: confirmDeleteState.onConfirm,\n          title: confirmDeleteState.title,\n          message: confirmDeleteState.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1066,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          isOpen: isPatientModalOpen,\n          onClose: () => setIsPatientModalOpen(false),\n          title: editingPatient ? \"Patient bearbeiten\" : \"Neuen Patienten anlegen\",\n          children: /*#__PURE__*/_jsxDEV(PatientForm, {\n            patient: editingPatient,\n            onSave: handleSavePatient,\n            onCancel: () => setIsPatientModalOpen(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1067,\n            columnNumber: 175\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1067,\n          columnNumber: 21\n        }, this), mainView === 'dashboard' && /*#__PURE__*/_jsxDEV(Dashboard, {\n          patients: patients,\n          profile: profile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1069,\n          columnNumber: 50\n        }, this), mainView === 'profile' && /*#__PURE__*/_jsxDEV(Profile, {\n          initialProfile: profile,\n          onSave: handleSaveProfile,\n          onUploadFile: handleUploadFile,\n          isUploading: isUploading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1070,\n          columnNumber: 49\n        }, this), mainView === 'abrechnung' && /*#__PURE__*/_jsxDEV(Billing, {\n          unbilledAppointments: unbilledAppointments,\n          isLoading: isLoadingAppointments,\n          onStartBilling: handleStartBilling,\n          onStartManualBilling: () => setIsManualBillingSetupOpen(true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1071,\n          columnNumber: 52\n        }, this), mainView === 'patients' && (!selectedPatient ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-2xl font-semibold text-gray-800\",\n              children: \"Patienten\\xFCbersicht\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1077,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-1 bg-gray-200 p-1 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setViewMode('grid'),\n                  className: `p-1.5 rounded-md ${viewMode === 'grid' ? 'bg-white shadow' : 'text-gray-500 hover:bg-white/50'}`,\n                  title: \"Rasteransicht\",\n                  children: /*#__PURE__*/_jsxDEV(LayoutGridIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1080,\n                    columnNumber: 221\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1080,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setViewMode('stack'),\n                  className: `p-1.5 rounded-md ${viewMode === 'stack' ? 'bg-white shadow' : 'text-gray-500 hover:bg-white/50'}`,\n                  title: \"Stapelansicht\",\n                  children: /*#__PURE__*/_jsxDEV(LayersIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1081,\n                    columnNumber: 223\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1081,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1079,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setEditingPatient(null);\n                  setIsPatientModalOpen(true);\n                },\n                className: btnPrimary,\n                children: [/*#__PURE__*/_jsxDEV(UserPlus, {\n                  className: \"w-5 h-5 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1084,\n                  columnNumber: 45\n                }, this), \" Patient hinzuf\\xFCgen\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1083,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1078,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1076,\n            columnNumber: 33\n          }, this), viewMode === 'grid' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\",\n            children: [isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"col-span-full text-center py-10 text-gray-500\",\n              children: \"Lade Patienten...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1090,\n              columnNumber: 55\n            }, this), !isLoading && sortedPatients.map(patient => {\n              var _patient$diagnoses$;\n              return /*#__PURE__*/_jsxDEV(motion.div, {\n                layoutId: patient.id,\n                onDoubleClick: () => handlePatientDoubleClick(patient),\n                className: \"bg-white rounded-lg shadow-md cursor-pointer hover:shadow-xl transition-shadow duration-300\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-4 border-b-4 border-teal-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-bold text-gray-800 truncate\",\n                    children: [patient.name, \", \", patient.vorname]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1099,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500 font-mono\",\n                    children: patient.chiffre\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1100,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1098,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-4 text-xs text-gray-600\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Diagnose:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1103,\n                      columnNumber: 56\n                    }, this), \" \", patient.diagnoses && ((_patient$diagnoses$ = patient.diagnoses[0]) === null || _patient$diagnoses$ === void 0 ? void 0 : _patient$diagnoses$.split(':')[0]) || 'N/A']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1103,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Stunden:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1104,\n                      columnNumber: 56\n                    }, this), \" \", getHighestSessionNumber(patient.sessions), \" / \", patient.approvedHours || 'N/A']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1104,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1102,\n                  columnNumber: 49\n                }, this)]\n              }, patient.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1092,\n                columnNumber: 45\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1089,\n            columnNumber: 37\n          }, this), viewMode === 'stack' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full max-w-5xl mx-auto flex flex-col items-center pt-8 pb-8\",\n            children: [isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-center py-10 text-gray-500\",\n              children: \"Lade Patienten...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1112,\n              columnNumber: 55\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full relative\",\n              style: {\n                height: `${totalHeight}px`,\n                transition: 'height 0.4s ease-in-out'\n              },\n              children: /*#__PURE__*/_jsxDEV(AnimatePresence, {\n                children: sortedPatients.map((patient, index) => {\n                  var _patient$sessions;\n                  const isSelected = selectedId === patient.id;\n                  const tabColors = [\"bg-blue-100 text-blue-800 border-blue-200\", \"bg-orange-100 text-orange-800 border-orange-200\", \"bg-teal-100 text-teal-800 border-teal-200\", \"bg-purple-100 text-purple-800 border-purple-200\", \"bg-yellow-100 text-yellow-800 border-yellow-200\"];\n                  const tabColor = tabColors[index % tabColors.length];\n                  let bottomPos = index * visibleHeight;\n                  if (selectedIndex !== -1 && index > selectedIndex) {\n                    bottomPos += expandedHeight - compactHeight;\n                  }\n                  return /*#__PURE__*/_jsxDEV(motion.div, {\n                    layoutId: patient.id,\n                    className: \"absolute w-full cursor-pointer\",\n                    style: {\n                      height: isSelected ? expandedHeight : compactHeight\n                    },\n                    animate: {\n                      bottom: bottomPos,\n                      zIndex: isSelected ? 20 : sortedPatients.length - index\n                    },\n                    transition: {\n                      type: 'spring',\n                      stiffness: 400,\n                      damping: 35\n                    },\n                    onClick: () => handlePatientSelectPreview(patient),\n                    onDoubleClick: () => handlePatientDoubleClick(patient),\n                    whileHover: !isSelected ? {\n                      y: -10,\n                      scale: 1.02\n                    } : {},\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `relative w-full h-full rounded-lg transition-shadow duration-300 ${isSelected ? 'shadow-2xl' : 'shadow-md hover:shadow-xl'}`,\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `absolute h-10 px-4 flex items-center font-medium rounded-t-lg border-t border-x transition-colors ${isSelected ? 'bg-white' : tabColor}`,\n                        style: {\n                          left: `${5 + index % 6 * 12}%`,\n                          top: '-1px'\n                        },\n                        children: patient.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1136,\n                        columnNumber: 65\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-white rounded-b-lg rounded-tr-lg border w-full h-full pt-10 overflow-hidden\",\n                        children: isSelected && selectedPatient ? /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"p-6 overflow-y-auto h-full\",\n                          children: [/*#__PURE__*/_jsxDEV(PatientDetailHeader, {\n                            patient: selectedPatient,\n                            onDeselect: () => handlePatientSelectPreview(patient),\n                            onEdit: () => {\n                              setEditingPatient(selectedPatient);\n                              setIsPatientModalOpen(true);\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1142,\n                            columnNumber: 77\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"border-t pt-4 mt-4\",\n                            children: /*#__PURE__*/_jsxDEV(PatientOverviewTab, {\n                              patient: selectedPatient,\n                              nextAppointment: nextAppointment,\n                              onUpdateHomeworkStatus: handleUpdateHomeworkStatus,\n                              onUpdateQuickNote: handleUpdateQuickNote\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1144,\n                              columnNumber: 81\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1143,\n                            columnNumber: 77\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1141,\n                          columnNumber: 73\n                        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"p-4 h-full\",\n                          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                            className: \"font-semibold text-lg text-gray-900 pt-2\",\n                            children: [patient.vorname, \" \", patient.name]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1149,\n                            columnNumber: 77\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-gray-500 font-mono\",\n                            children: patient.chiffre\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1150,\n                            columnNumber: 77\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"mt-2 text-xs text-gray-600\",\n                            children: /*#__PURE__*/_jsxDEV(\"p\", {\n                              children: [\"Sitzungen: \", ((_patient$sessions = patient.sessions) === null || _patient$sessions === void 0 ? void 0 : _patient$sessions.length) || 0]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1151,\n                              columnNumber: 121\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1151,\n                            columnNumber: 77\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1148,\n                          columnNumber: 73\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1139,\n                        columnNumber: 65\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1135,\n                      columnNumber: 61\n                    }, this)\n                  }, patient.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1124,\n                    columnNumber: 57\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1114,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1113,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1111,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1075,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: detailViewRef,\n          className: \"bg-white border border-gray-200 shadow-sm rounded-lg p-6 h-full flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(PatientDetailHeader, {\n            patient: selectedPatient,\n            onDeselect: () => setSelectedPatient(null),\n            onEdit: () => {\n              setEditingPatient(selectedPatient);\n              setIsPatientModalOpen(true);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1166,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-b border-gray-200 mb-6\",\n            children: /*#__PURE__*/_jsxDEV(\"nav\", {\n              className: \"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto\",\n              \"aria-label\": \"Tabs\",\n              children: ['Übersicht', 'Diagnosen', 'Abrechnung', 'Krankheitsmodell', 'Diagnostik', 'Assistenz'].map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveDetailTab(tab.toLowerCase()),\n                className: `capitalize whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${activeDetailTab === tab.toLowerCase() ? 'border-teal-500 text-teal-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n                children: tab\n              }, tab, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1167,\n                columnNumber: 267\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1167,\n              columnNumber: 80\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1167,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-grow overflow-y-auto pr-4 -mr-4\",\n            children: [activeDetailTab === 'übersicht' && /*#__PURE__*/_jsxDEV(PatientOverviewTab, {\n              patient: selectedPatient,\n              nextAppointment: nextAppointment,\n              onUpdateHomeworkStatus: handleUpdateHomeworkStatus,\n              onUpdateQuickNote: handleUpdateQuickNote\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1170,\n              columnNumber: 75\n            }, this), activeDetailTab === 'diagnosen' && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-xl font-semibold text-gray-700 mb-3\",\n                  children: \"ICD-10 F-Diagnosen\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1171,\n                  columnNumber: 101\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3 p-4 bg-gray-50 rounded-md border\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"newDiagnosisCode\",\n                        className: \"block text-xs font-medium text-gray-700\",\n                        children: \"Code (z.B. F32.2)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1171,\n                        columnNumber: 306\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        id: \"newDiagnosisCode\",\n                        value: newDiagnosisCode,\n                        onChange: e => setNewDiagnosisCode(e.target.value.toUpperCase()),\n                        placeholder: \"F-Code\",\n                        className: `${inputStd} mt-1`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1171,\n                        columnNumber: 417\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1171,\n                      columnNumber: 301\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"newDiagnosisSicherheit\",\n                        className: \"block text-xs font-medium text-gray-700\",\n                        children: \"Sicherheit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1171,\n                        columnNumber: 616\n                      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                        id: \"newDiagnosisSicherheit\",\n                        value: newDiagnosisSicherheit,\n                        onChange: e => setNewDiagnosisSicherheit(e.target.value),\n                        className: `${inputStd} mt-1`,\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"G\",\n                          children: \"G (Gesichert)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1171,\n                          columnNumber: 884\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"V\",\n                          children: \"V (Verdacht auf)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1171,\n                          columnNumber: 924\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"A\",\n                          children: \"A (Ausschluss)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1171,\n                          columnNumber: 967\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"ZN\",\n                          children: \"ZN (Zustand nach)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1171,\n                          columnNumber: 1008\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1171,\n                        columnNumber: 726\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1171,\n                      columnNumber: 611\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"md:col-span-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"newDiagnosisName\",\n                        className: \"block text-xs font-medium text-gray-700\",\n                        children: \"Manuelle Beschreibung (optional)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1171,\n                        columnNumber: 1099\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        id: \"newDiagnosisName\",\n                        value: newDiagnosis,\n                        onChange: e => setNewDiagnosis(e.target.value),\n                        placeholder: \"Eigene Beschreibung\",\n                        className: `${inputStd} mt-1`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1171,\n                        columnNumber: 1225\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1171,\n                      columnNumber: 1068\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: handleAddDiagnosis,\n                      className: `${btnPrimary} bg-green-500 hover:bg-green-600 py-2 px-3 h-10 md:self-end`,\n                      children: [/*#__PURE__*/_jsxDEV(PlusCircleIcon, {\n                        className: \"w-5 h-5 mr-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1171,\n                        columnNumber: 1534\n                      }, this), \" Hinzuf\\xFCgen\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1171,\n                      columnNumber: 1410\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1171,\n                    columnNumber: 236\n                  }, this), lookedUpDiagnosisName && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-teal-600 mt-1\",\n                    children: [\"Gefunden: \", lookedUpDiagnosisName]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1171,\n                    columnNumber: 1629\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1171,\n                  columnNumber: 181\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"space-y-1 mb-3\",\n                  children: [(selectedPatient.diagnoses || []).map((diagString, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"flex justify-between items-center bg-gray-50 p-2 rounded-md\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-gray-700\",\n                      children: diagString\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1171,\n                      columnNumber: 1897\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => showDiagnosisInfo(diagString),\n                        className: `${btnInfo} p-1`,\n                        title: \"Info zu dieser Diagnose abrufen\",\n                        children: [/*#__PURE__*/_jsxDEV(FileJson2, {\n                          className: \"w-4 h-4 mr-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1171,\n                          columnNumber: 2124\n                        }, this), \" Info\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1171,\n                        columnNumber: 2001\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleRemoveDiagnosis(diagString),\n                        className: `${btnDanger} p-1 text-xs`,\n                        children: /*#__PURE__*/_jsxDEV(Trash2, {\n                          className: \"w-4 h-4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1171,\n                          columnNumber: 2273\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1171,\n                        columnNumber: 2176\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1171,\n                      columnNumber: 1956\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1171,\n                    columnNumber: 1809\n                  }, this)), (selectedPatient.diagnoses || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500\",\n                    children: \"Keine Diagnosen erfasst.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1171,\n                    columnNumber: 2377\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1171,\n                  columnNumber: 1715\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1171,\n                columnNumber: 79\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-xl font-semibold text-gray-700 mb-3\",\n                  children: \"ICD-11 Diagnosen\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1171,\n                  columnNumber: 2476\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"space-y-1\",\n                  children: [(selectedPatient.diagnoses_icd11 || []).map((diag, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"flex justify-between items-center bg-purple-50 p-2 rounded-md hover:bg-purple-100 cursor-pointer\",\n                    onClick: () => fetchIcd11Details(diag),\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-purple-800\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        className: \"font-mono\",\n                        children: diag.code\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1171,\n                        columnNumber: 2850\n                      }, this), \" - \", diag.title]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1171,\n                      columnNumber: 2808\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: e => {\n                        e.stopPropagation();\n                        handleRemoveIcd11Diagnosis(diag);\n                      },\n                      className: \"text-red-500 hover:text-red-700 p-1 text-xs\",\n                      title: \"ICD-11 Diagnose entfernen\",\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        className: \"w-4 h-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1171,\n                        columnNumber: 3096\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1171,\n                      columnNumber: 2922\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1171,\n                    columnNumber: 2643\n                  }, this)), (selectedPatient.diagnoses_icd11 || []).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-500\",\n                    children: \"Keine ICD-11 Diagnosen erfasst.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1171,\n                    columnNumber: 3200\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1171,\n                  columnNumber: 2554\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1171,\n                columnNumber: 2454\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1171,\n              columnNumber: 74\n            }, this), activeDetailTab === 'abrechnung' && /*#__PURE__*/_jsxDEV(AbrechnungsUebersicht, {\n              patient: selectedPatient,\n              availableTests: availableTests,\n              quarterlyAnalysis: quarterlyDiagnostikAnalysis,\n              onEditSession: handleEditSession,\n              onDeleteSession: handleDeleteSession,\n              onAddBillingPeriod: () => setIsAddBillingPeriodModalOpen(true),\n              onDeleteBillingPeriod: handleDeleteBillingPeriod\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1172,\n              columnNumber: 76\n            }, this), activeDetailTab === 'krankheitsmodell' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"krankheitsanamnese\",\n                  className: \"block text-lg font-semibold text-gray-700 mb-1\",\n                  children: \"Krankheitsanamnese\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1173,\n                  columnNumber: 113\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"krankheitsanamnese\",\n                  name: \"krankheitsanamnese\",\n                  rows: \"6\",\n                  className: textareaStd,\n                  value: editableKrankheitsanamnese,\n                  onChange: e => setEditableKrankheitsanamnese(e.target.value),\n                  onBlur: e => handleKrankheitsmodellChange('krankheitsanamnese', e.target.value),\n                  placeholder: \"Hier die Krankheitsanamnese eintragen...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1173,\n                  columnNumber: 234\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1173,\n                columnNumber: 108\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"lebensgeschichte\",\n                  className: \"block text-lg font-semibold text-gray-700 mb-1\",\n                  children: \"Lebensgeschichte / Biographie\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1173,\n                  columnNumber: 586\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"lebensgeschichte\",\n                  name: \"lebensgeschichte\",\n                  rows: \"6\",\n                  className: textareaStd,\n                  value: editableLebensgeschichte,\n                  onChange: e => setEditableLebensgeschichte(e.target.value),\n                  onBlur: e => handleKrankheitsmodellChange('lebensgeschichte', e.target.value),\n                  placeholder: \"Wichtige Aspekte der Lebensgeschichte...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1173,\n                  columnNumber: 716\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1173,\n                columnNumber: 581\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"problemanalyseMakro\",\n                  className: \"block text-lg font-semibold text-gray-700 mb-1\",\n                  children: \"Problemanalyse auf Makroebene\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1173,\n                  columnNumber: 1058\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"problemanalyseMakro\",\n                  name: \"problemanalyseMakro\",\n                  rows: \"6\",\n                  className: textareaStd,\n                  value: editableProblemanalyseMakro,\n                  onChange: e => setEditableProblemanalyseMakro(e.target.value),\n                  onBlur: e => handleKrankheitsmodellChange('problemanalyseMakro', e.target.value),\n                  placeholder: \"Analyse der \\xFCbergeordneten Problembereiche...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1173,\n                  columnNumber: 1191\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1173,\n                columnNumber: 1053\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"therapieplan\",\n                  className: \"block text-lg font-semibold text-gray-700 mb-1\",\n                  children: \"Therapieplan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1173,\n                  columnNumber: 1553\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"therapieplan\",\n                  name: \"therapieplan\",\n                  rows: \"6\",\n                  className: textareaStd,\n                  value: editableTherapieplan,\n                  onChange: e => setEditableTherapieplan(e.target.value),\n                  onBlur: e => handleKrankheitsmodellChange('therapieplan', e.target.value),\n                  placeholder: \"Therapieziele und -ma\\xDFnahmen...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1173,\n                  columnNumber: 1662\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1173,\n                columnNumber: 1548\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1173,\n              columnNumber: 81\n            }, this), activeDetailTab === 'diagnostik' && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-b border-gray-200 mb-4\",\n                children: /*#__PURE__*/_jsxDEV(\"nav\", {\n                  className: \"-mb-px flex space-x-6\",\n                  \"aria-label\": \"Diagnostik Sub-Tabs\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setActiveDiagnostikSubTab('overview'),\n                    className: `whitespace-nowrap pb-2 px-1 border-b-2 font-medium text-sm ${activeDiagnostikSubTab === 'overview' ? 'border-purple-500 text-purple-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n                    children: \"\\xDCbersicht\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1178,\n                    columnNumber: 53\n                  }, this), availableTests.map(test => {\n                    var _selectedPatient;\n                    return ((_selectedPatient = selectedPatient[`${test.id}Results`]) === null || _selectedPatient === void 0 ? void 0 : _selectedPatient.filter(t => t.status !== 'pending').length) > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => setActiveDiagnostikSubTab(test.id),\n                      className: `whitespace-nowrap pb-2 px-1 border-b-2 font-medium text-sm ${activeDiagnostikSubTab === test.id ? 'border-purple-500 text-purple-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n                      children: test.id.toUpperCase()\n                    }, test.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1180,\n                      columnNumber: 57\n                    }, this);\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1177,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1176,\n                columnNumber: 45\n              }, this), activeDiagnostikSubTab === 'overview' && /*#__PURE__*/_jsxDEV(DiagnostikZuordnung, {\n                patient: selectedPatient,\n                availableTests: availableTests,\n                testCategories: testCategories,\n                diagnostikTemplates: diagnostikTemplates,\n                onCompleteTest: handleCompletePendingTest,\n                onDeleteTest: handleDeleteTest,\n                onUpdateTestGrund: handleUpdateTestGrund,\n                onAddNewTest: handleAddPendingTest\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1184,\n                columnNumber: 89\n              }, this), activeDiagnostikSubTab === 'scl90r' && /*#__PURE__*/_jsxDEV(SCL90RComponent, {\n                patient: selectedPatient,\n                onDeleteTest: handleDeleteTest\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1185,\n                columnNumber: 85\n              }, this), activeDiagnostikSubTab === 'fep2' && /*#__PURE__*/_jsxDEV(FEP2Component, {\n                patient: selectedPatient,\n                onDeleteTest: handleDeleteTest\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1186,\n                columnNumber: 83\n              }, this), activeDiagnostikSubTab === 'bdi2' && /*#__PURE__*/_jsxDEV(BDI2Component, {\n                patient: selectedPatient,\n                onDeleteTest: handleDeleteTest,\n                bdiCutoffs: bdiCutoffs,\n                bdiAxisTicks: bdiAxisTicks\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1187,\n                columnNumber: 83\n              }, this), activeDiagnostikSubTab === 'hscl11' && /*#__PURE__*/_jsxDEV(HSCL11Component, {\n                patient: selectedPatient,\n                onDeleteTest: handleDeleteTest\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1188,\n                columnNumber: 85\n              }, this), activeDiagnostikSubTab === 'gad7' && /*#__PURE__*/_jsxDEV(GAD7Component, {\n                patient: selectedPatient,\n                onDeleteTest: handleDeleteTest\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1189,\n                columnNumber: 83\n              }, this), activeDiagnostikSubTab === 'coreOm' && /*#__PURE__*/_jsxDEV(CoreOmComponent, {\n                patient: selectedPatient,\n                onDeleteTest: handleDeleteTest\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1190,\n                columnNumber: 85\n              }, this), activeDiagnostikSubTab === 'iipc' && /*#__PURE__*/_jsxDEV(IIPCComponent, {\n                patient: selectedPatient,\n                onDeleteTest: handleDeleteTest\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1191,\n                columnNumber: 83\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1175,\n              columnNumber: 41\n            }, this), \"                                        \", activeDetailTab === 'assistenz' && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-semibold text-gray-700 mb-4\",\n                children: \"Therapeutische Assistenz\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1193,\n                columnNumber: 121\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleTherapeutischeAssistenzAnfordern,\n                disabled: isLoadingTherapeutischeAssistenz,\n                className: `${btnPrimary} bg-purple-600 hover:bg-purple-700 mb-4 flex items-center`,\n                children: [/*#__PURE__*/_jsxDEV(WandSparkles, {\n                  className: \"mr-2 h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1193,\n                  columnNumber: 393\n                }, this), isLoadingTherapeutischeAssistenz ? \"Analysiere Daten...\" : \"Expertenfeedback anfordern\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1193,\n                columnNumber: 207\n              }, this), isLoadingTherapeutischeAssistenz && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center py-10\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-700 mx-auto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1193,\n                  columnNumber: 605\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-3 text-gray-600\",\n                  children: \"Bitte warten, die KI analysiert die Patientendaten...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1193,\n                  columnNumber: 701\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1193,\n                columnNumber: 570\n              }, this), assistenzError && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-red-100 border-l-4 border-red-500 text-red-700 p-4\",\n                role: \"alert\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-bold\",\n                  children: \"Fehler bei der Assistenz\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1193,\n                  columnNumber: 904\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: assistenzError\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1193,\n                  columnNumber: 957\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1193,\n                columnNumber: 820\n              }, this), therapeutischeAssistenzOutput && !isLoadingTherapeutischeAssistenz && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4 p-4 bg-gray-50 rounded-md border\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-lg font-semibold text-gray-800 mb-2\",\n                  children: \"Vorschl\\xE4ge des Expertenteams:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1193,\n                  columnNumber: 1115\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed\",\n                  children: therapeutischeAssistenzOutput\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1193,\n                  columnNumber: 1206\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1193,\n                columnNumber: 1060\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1193,\n              columnNumber: 116\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1169,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1165,\n          columnNumber: 30\n        }, this)), mainView === 'kalender' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-semibold text-gray-800 mb-4\",\n            children: \"Terminkalender\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1198,\n            columnNumber: 57\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-4 relative min-h-[600px]\",\n            children: [\" \", isCalendarLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 flex flex-col items-center justify-center bg-slate-50 z-10\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(DotLottieReact, {\n                src: \"https://lottie.host/5a99e4b7-42e6-47ae-9706-1e931f930492/HSS5faWD7S.lottie\",\n                loop: true,\n                autoplay: true,\n                style: {\n                  width: 300,\n                  height: 300\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1198,\n                columnNumber: 351\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500 -mt-8\",\n                children: \"Kalender wird geladen...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1198,\n                columnNumber: 501\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1198,\n              columnNumber: 257\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"iframe\", {\n              title: \"Google Calendar\",\n              src: \"https://calendar.google.com/calendar/embed?src=julisycomorepsy%40gmail.com&ctz=Europe%2FBerlin\",\n              style: {\n                border: 0\n              },\n              width: \"100%\",\n              height: \"600\",\n              frameBorder: \"0\",\n              scrolling: \"no\",\n              className: `transition-opacity duration-500 ${isCalendarLoading ? 'opacity-0' : 'opacity-100'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1198,\n              columnNumber: 575\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1198,\n            columnNumber: 135\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1198,\n          columnNumber: 51\n        }, this), mainView === 'formulare' && /*#__PURE__*/_jsxDEV(PtvFormGenerator, {\n          patients: sortedPatients,\n          therapistProfile: profile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1199,\n          columnNumber: 52\n        }, this), mainView === 'ebm' && /*#__PURE__*/_jsxDEV(EBMBrowser, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1200,\n          columnNumber: 45\n        }, this), mainView === 'ebm_templates' && /*#__PURE__*/_jsxDEV(EbmTemplates, {\n          templates: ebmTemplates,\n          ebmData: ebmData,\n          onSave: handleSaveEbmTemplate,\n          onDelete: handleDeleteEbmTemplate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1201,\n          columnNumber: 55\n        }, this), mainView === 'diagnostik' && /*#__PURE__*/_jsxDEV(DiagnostikHauptseite, {\n          availableTests: availableTests,\n          testCategories: testCategories,\n          diagnostikTemplates: diagnostikTemplates,\n          onAddTest: handleOpenZentraleTestModal,\n          onAddTemplate: handleOpenTemplateModal,\n          onAddTemplateDefinition: () => {\n            setEditingTemplate(null);\n            setTemplateEditModalOpen(true);\n          },\n          onEditTemplateDefinition: template => {\n            setEditingTemplate(template);\n            setTemplateEditModalOpen(true);\n          },\n          onDeleteTemplateDefinition: handleDeleteDiagnostikTemplate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1204,\n          columnNumber: 25\n        }, this), mainView === 'icd11' && /*#__PURE__*/_jsxDEV(ICD11ECTBrowser, {\n          patients: patients,\n          selectedPatient: selectedPatient,\n          onAssignDiagnosis: handleAssignIcd11Diagnosis\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1216,\n          columnNumber: 47\n        }, this), mainView === 'methoden' && /*#__PURE__*/_jsxDEV(Behandlungsmethoden, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1217,\n          columnNumber: 50\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1065,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1063,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: diagnosisInfo.isOpen,\n      onClose: () => setDiagnosisInfo(prev => ({\n        ...prev,\n        isOpen: false\n      })),\n      title: `Diagnose-Info: ${diagnosisInfo.code || ''}`,\n      size: \"3xl\",\n      children: [diagnosisInfo.isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center py-4\",\n        children: \"Informationen werden geladen...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1222,\n        columnNumber: 214\n      }, this), diagnosisInfo.error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-600 bg-red-100 p-3 rounded-md\",\n        children: [\"Fehler: \", diagnosisInfo.error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1222,\n        columnNumber: 308\n      }, this), !diagnosisInfo.isLoading && diagnosisInfo.source === 'local' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-700 leading-relaxed p-2 space-y-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-teal-700\",\n          children: [diagnosisInfo.name, /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500 text-base ml-2\",\n            children: [\"(\", diagnosisInfo.code, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1222,\n            columnNumber: 604\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1222,\n          columnNumber: 532\n        }, this), diagnosisInfo.beschreibung && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-medium text-gray-800 block mb-1\",\n            children: \"Beschreibung:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1222,\n            columnNumber: 722\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"whitespace-pre-wrap\",\n            children: diagnosisInfo.beschreibung\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1222,\n            columnNumber: 801\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1222,\n          columnNumber: 717\n        }, this), ((_diagnosisInfo$inkl = diagnosisInfo.inkl) === null || _diagnosisInfo$inkl === void 0 ? void 0 : _diagnosisInfo$inkl.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-medium text-gray-800 block mb-1\",\n            children: \"Inklusive:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1222,\n            columnNumber: 917\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc list-inside\",\n            children: diagnosisInfo.inkl.map((item, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: item\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1222,\n              columnNumber: 1071\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1222,\n            columnNumber: 993\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1222,\n          columnNumber: 912\n        }, this), ((_diagnosisInfo$exkl = diagnosisInfo.exkl) === null || _diagnosisInfo$exkl === void 0 ? void 0 : _diagnosisInfo$exkl.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-medium text-gray-800 block mb-1\",\n            children: \"Exklusive:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1222,\n            columnNumber: 1153\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc list-inside\",\n            children: diagnosisInfo.exkl.map((item, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: item\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1222,\n              columnNumber: 1307\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1222,\n            columnNumber: 1229\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1222,\n          columnNumber: 1148\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1222,\n        columnNumber: 463\n      }, this), !diagnosisInfo.isLoading && diagnosisInfo.source === 'api_detail' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-700 leading-relaxed p-2 space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-purple-700\",\n          children: [diagnosisInfo.name, /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500 text-base ml-2 font-mono\",\n            children: [\"(\", diagnosisInfo.code, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1222,\n            columnNumber: 1570\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1222,\n          columnNumber: 1496\n        }, this), diagnosisInfo.beschreibung && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-medium text-gray-800 block mb-1\",\n            children: \"Beschreibung (Definition):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1222,\n            columnNumber: 1698\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"whitespace-pre-wrap bg-gray-50 p-2 rounded-md\",\n            children: diagnosisInfo.beschreibung\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1222,\n            columnNumber: 1790\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1222,\n          columnNumber: 1693\n        }, this), ((_diagnosisInfo$inclus = diagnosisInfo.inclusions) === null || _diagnosisInfo$inclus === void 0 ? void 0 : _diagnosisInfo$inclus.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-medium text-gray-800 block mb-1\",\n            children: \"Inklusive:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1222,\n            columnNumber: 1938\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc list-inside pl-2 space-y-1\",\n            children: diagnosisInfo.inclusions.map((item, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: item.label['@value']\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1222,\n              columnNumber: 2113\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1222,\n            columnNumber: 2014\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1222,\n          columnNumber: 1933\n        }, this), ((_diagnosisInfo$exclus = diagnosisInfo.exclusions) === null || _diagnosisInfo$exclus === void 0 ? void 0 : _diagnosisInfo$exclus.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            className: \"font-medium text-gray-800 block mb-1\",\n            children: \"Exklusive:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1222,\n            columnNumber: 2217\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-disc list-inside pl-2 space-y-1\",\n            children: diagnosisInfo.exclusions.map((item, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [item.label['@value'], item.foundationReference && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-400 ml-2\",\n                children: [\"(\", item.foundationReference.split('/').pop(), \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1222,\n                columnNumber: 2457\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1222,\n              columnNumber: 2392\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1222,\n            columnNumber: 2293\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1222,\n          columnNumber: 2212\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1222,\n        columnNumber: 1427\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1222,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: improvementState.isOpen,\n      onClose: () => setImprovementState({\n        ...improvementState,\n        isOpen: false\n      }),\n      title: \"Sitzungsdokumentation verbessern\",\n      size: \"5xl\",\n      children: [improvementState.error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 bg-red-100 p-3 rounded-md mb-4\",\n        children: improvementState.error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1223,\n        columnNumber: 208\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-lg text-gray-700 mb-2\",\n            children: \"Original\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1223,\n            columnNumber: 356\n          }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n            className: \"text-sm bg-gray-100 p-3 rounded-md whitespace-pre-wrap font-sans h-96 overflow-y-auto border\",\n            children: improvementState.originalText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1223,\n            columnNumber: 426\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1223,\n          columnNumber: 351\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-semibold text-lg text-gray-700 mb-2\",\n            children: \"Vorschlag\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1223,\n            columnNumber: 584\n          }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n            className: \"text-sm bg-gray-800 text-green-300 font-mono p-3 rounded-md whitespace-pre-wrap h-96 overflow-y-auto\",\n            children: improvementState.improvedText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1223,\n            columnNumber: 655\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1223,\n          columnNumber: 579\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1223,\n        columnNumber: 296\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end space-x-4 mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setImprovementState({\n            ...improvementState,\n            isOpen: false\n          }),\n          className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300\",\n          children: \"Abbrechen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1223,\n          columnNumber: 871\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAcceptImprovement,\n          className: `${btnPrimary} flex items-center`,\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            className: \"w-4 h-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1223,\n            columnNumber: 1172\n          }, this), \" Original ersetzen\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1223,\n          columnNumber: 1084\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1223,\n        columnNumber: 822\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1223,\n      columnNumber: 13\n    }, this), appError && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-4 right-4 p-4 max-w-sm text-sm text-red-700 bg-red-100 border border-red-400 rounded-md shadow-lg z-[100]\",\n      children: [appError, /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setAppError(null),\n        className: \"ml-4 mt-2 sm:mt-0 sm:ml-2 px-2 py-1 text-red-900 underline rounded-md hover:bg-red-200 text-xs\",\n        children: \"Ok\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1224,\n        columnNumber: 173\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1224,\n      columnNumber: 27\n    }, this), /*#__PURE__*/_jsxDEV(ManualBillingSetupModal, {\n      isOpen: isManualBillingSetupOpen,\n      onClose: () => setIsManualBillingSetupOpen(false),\n      patients: sortedPatients,\n      onStart: handleStartManualBilling\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1226,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(AddBillingPeriodModal, {\n      isOpen: isAddBillingPeriodModalOpen,\n      onClose: () => setIsAddBillingPeriodModalOpen(false),\n      onSave: handleSaveBillingPeriod,\n      patient: selectedPatient\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1227,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(AddTestTemplateModal, {\n      isOpen: isAddTemplateModalOpen,\n      onClose: () => setIsAddTemplateModalOpen(false),\n      onSave: handleSaveTestTemplate,\n      template: currentTemplate,\n      patients: sortedPatients,\n      availableTests: availableTests\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1229,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(AddOrEditTemplateModal, {\n      isOpen: isTemplateEditModalOpen,\n      onClose: () => setTemplateEditModalOpen(false),\n      onSave: handleSaveDiagnostikTemplate,\n      availableTests: availableTests,\n      editingTemplate: editingTemplate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1238,\n      columnNumber: 13\n    }, this), billingModalState.isOpen && /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: billingModalState.isOpen,\n      onClose: () => setBillingModalState({\n        isOpen: false,\n        event: null,\n        isEditing: false\n      }),\n      title: billingModalState.isEditing ? \"Sitzung bearbeiten\" : `Termin abrechnen: ${billingModalState.event.summary}`,\n      size: \"4xl\",\n      children: /*#__PURE__*/_jsxDEV(BillingModal, {\n        event: billingModalState.event,\n        ebmData: ebmData,\n        onSave: data => handleSaveBilling(data, billingModalState.isEditing),\n        onClose: () => setBillingModalState({\n          isOpen: false,\n          event: null,\n          isEditing: false\n        }),\n        generateGeminiText: generateGeminiText,\n        isEditing: billingModalState.isEditing,\n        ebmTemplates: ebmTemplates\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1248,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1247,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(ZentraleTestErfassungModal, {\n      isOpen: isZentraleTestModalOpen,\n      onClose: () => {\n        setIsZentraleTestModalOpen(false);\n        setTestToUpdate(null);\n      },\n      onSave: handleSaveCompletedTest,\n      onUpdate: handleUpdateTest,\n      testInfo: currentTestToErfassen,\n      testToUpdate: testToUpdate,\n      patients: sortedPatients,\n      activePatient: selectedPatient\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1260,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1061,\n    columnNumber: 9\n  }, this);\n}\n_s5(App, \"kQ5SoPtujxpX8Aelrzl8aFVTd1g=\", false, function () {\n  return [useQuarterlyDiagnostikAnalysis];\n});\n_c26 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26;\n$RefreshReg$(_c, \"UserPlus\");\n$RefreshReg$(_c2, \"Edit3\");\n$RefreshReg$(_c3, \"Trash2\");\n$RefreshReg$(_c4, \"PlusCircleIcon\");\n$RefreshReg$(_c5, \"XCircle\");\n$RefreshReg$(_c6, \"Save\");\n$RefreshReg$(_c7, \"AlertTriangle\");\n$RefreshReg$(_c8, \"FileJson2\");\n$RefreshReg$(_c9, \"WandSparkles\");\n$RefreshReg$(_c0, \"LogOut\");\n$RefreshReg$(_c1, \"BookOpen\");\n$RefreshReg$(_c10, \"Users\");\n$RefreshReg$(_c11, \"FileText\");\n$RefreshReg$(_c12, \"List\");\n$RefreshReg$(_c13, \"CalendarIcon\");\n$RefreshReg$(_c14, \"PaperclipIcon\");\n$RefreshReg$(_c15, \"SettingsIcon\");\n$RefreshReg$(_c16, \"DollarSignIcon\");\n$RefreshReg$(_c17, \"LayoutGridIcon\");\n$RefreshReg$(_c18, \"LayersIcon\");\n$RefreshReg$(_c19, \"ClipboardListIcon\");\n$RefreshReg$(_c20, \"BeakerIcon\");\n$RefreshReg$(_c21, \"HomeIcon\");\n$RefreshReg$(_c22, \"Modal\");\n$RefreshReg$(_c23, \"ConfirmationModal\");\n$RefreshReg$(_c24, \"PatientForm\");\n$RefreshReg$(_c25, \"PatientOverviewTab\");\n$RefreshReg$(_c26, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","useMemo","initializeApp","getAuth","onAuthStateChanged","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","getFirestore","collection","doc","addDoc","getDocs","setDoc","deleteDoc","onSnapshot","query","writeBatch","updateDoc","getStorage","ref","uploadBytes","getDownloadURL","motion","AnimatePresence","DotLottieReact","SCL90RComponent","FEP2Component","BDI2Component","HSCL11Component","GAD7Component","CoreOmComponent","IIPCComponent","ICD11ECTBrowser","EBMBrowser","BillingModal","AbrechnungsUebersicht","DiagnostikZuordnung","ManualBillingSetupModal","AddBillingPeriodModal","Profile","Billing","PtvFormGenerator","Behandlungsmethoden","EbmTemplates","DiagnostikHauptseite","ZentraleTestErfassungModal","AddTestTemplateModal","AddOrEditTemplateModal","Dashboard","jsxDEV","_jsxDEV","Fragment","_Fragment","UserPlus","className","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","d","fileName","_jsxFileName","lineNumber","columnNumber","cx","cy","r","x1","x2","y1","y2","_c","Edit3","_c2","Trash2","points","_c3","PlusCircleIcon","_c4","XCircle","_c5","Save","_c6","AlertTriangle","_c7","FileJson2","_c8","WandSparkles","_c9","LogOut","_c0","BookOpen","_c1","Users","_c10","FileText","_c11","List","_c12","CalendarIcon","x","y","width","height","rx","ry","_c13","PaperclipIcon","_c14","SettingsIcon","_c15","DollarSignIcon","_c16","LayoutGridIcon","_c17","LayersIcon","_c18","ClipboardListIcon","_c19","BeakerIcon","_c20","HomeIcon","_c21","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","auth","db","storage","firestoreAppId","homeworkFailureReasons","availableTests","id","name","ebm","recommendation","testCategories","tests","availableTherapeuticMethods","initialPatientsData","geburtsdatum","chiffre","therapeuticMethods","approvedHours","krankenkasse","versichertennummer","diagnoses","sessions","Date","now","date","structuredNotes","sitzungsnummer","thema","patientenbericht","hscl11Results","bdi2Results","fep2Results","scl90rResults","gad7Results","coreOmResults","iipcResults","billingPeriods","krankheitsanamnese","lebensgeschichte","problemanalyseMakro","therapieplan","DIAGNOSTIK_PUNKTE","getQuarter","month","getMonth","year","getFullYear","quarter","Math","floor","useQuarterlyDiagnostikAnalysis","patient","_s","testsByQuarter","forEach","testDef","results","result","status","quarterKey","push","analysis","age","calculateAge","pointsLimit","testsInQuarter","pointsUsed","reduce","sum","test","Modal","isOpen","onClose","title","size","sizeClasses","sm","md","lg","xl","onClick","_c22","ConfirmationModal","onConfirm","message","_c23","PatientForm","onSave","onCancel","_s2","formData","setFormData","vorname","adresse","email","telefon","newMethod","setNewMethod","firstLetter","charAt","toUpperCase","day","split","yy","slice","newChiffre","prev","e","console","error","handleChange","value","type","target","parseInt","handleAddMethod","includes","handleRemoveMethod","methodToRemove","filter","m","handleSubmit","preventDefault","inputStd","btnPrimary","onSubmit","htmlFor","onChange","required","readOnly","map","method","min","_c24","generateGeminiText","prompt","chatHistory","role","parts","text","payload","contents","GEMINI_API_KEY","apiUrl","response","fetch","headers","body","JSON","stringify","ok","_errorData$error","errorData","json","errorMessage","Error","candidates","length","content","finishReason","warn","birthdate","birthDate","today","getDate","PatientOverviewTab","nextAppointment","onUpdateHomeworkStatus","onUpdateQuickNote","_s3","openHomeworkSession","find","s","homeworkStatus","some","task","done","reasonCategoryColors","Motivational","Emotional","Kognitive","Psychopathologisch","getCategoryForReason","reason","category","isLoading","rows","placeholder","defaultValue","quickNote","onBlur","toLocaleDateString","index","checked","Object","entries","reasons","label","_c25","App","_s5","_s4","$RefreshSig$","_diagnosisInfo$inkl","_diagnosisInfo$exkl","_diagnosisInfo$inclus","_diagnosisInfo$exclus","mainView","setMainView","patients","setPatients","selectedPatient","setSelectedPatient","setIsLoading","isInitialLoading","setIsInitialLoading","authError","setAuthError","appError","setAppError","userId","setUserId","isAuthReady","setIsAuthReady","setEmail","password","setPassword","isLoginView","setIsLoginView","isAuthLoading","setIsAuthLoading","isPatientModalOpen","setIsPatientModalOpen","editingPatient","setEditingPatient","newDiagnosis","setNewDiagnosis","newDiagnosisCode","setNewDiagnosisCode","newDiagnosisSicherheit","setNewDiagnosisSicherheit","lookedUpDiagnosisName","setLookedUpDiagnosisName","activeDetailTab","setActiveDetailTab","activeDiagnostikSubTab","setActiveDiagnostikSubTab","diagnosisInfo","setDiagnosisInfo","code","beschreibung","inkl","exkl","hinweise","zusatz_info_code","sicherheit","source","localIcd10Data","setLocalIcd10Data","editableKrankheitsanamnese","setEditableKrankheitsanamnese","editableLebensgeschichte","setEditableLebensgeschichte","editableProblemanalyseMakro","setEditableProblemanalyseMakro","editableTherapieplan","setEditableTherapieplan","therapeutischeAssistenzOutput","setTherapeutischeAssistenzOutput","isLoadingTherapeutischeAssistenz","setIsLoadingTherapeutischeAssistenz","assistenzError","setAssistenzError","detailViewRef","improvementState","setImprovementState","originalText","improvedText","sessionIndex","sortConfig","key","direction","setNextAppointment","unbilledAppointments","setUnbilledAppointments","isLoadingAppointments","setIsLoadingAppointments","billingModalState","setBillingModalState","event","isEditing","ebmData","setEbmData","isManualBillingSetupOpen","setIsManualBillingSetupOpen","confirmDeleteState","setConfirmDeleteState","profile","setProfile","isUploading","setIsUploading","selectedId","setSelectedId","isCalendarLoading","setIsCalendarLoading","viewMode","setViewMode","isAddBillingPeriodModalOpen","setIsAddBillingPeriodModalOpen","ebmTemplates","setEbmTemplates","isZentraleTestModalOpen","setIsZentraleTestModalOpen","currentTestToErfassen","setCurrentTestToErfassen","testToUpdate","setTestToUpdate","diagnostikTemplates","setDiagnostikTemplates","isAddTemplateModalOpen","setIsAddTemplateModalOpen","currentTemplate","setCurrentTemplate","editingTemplate","setEditingTemplate","isTemplateEditModalOpen","setTemplateEditModalOpen","quarterlyDiagnostikAnalysis","sortedPatients","sortablePatients","sort","a","b","valA","valB","handlePatientSelectPreview","handlePatientDoubleClick","getHighestSessionNumber","sessionNumbers","_s$structuredNotes","n","isNaN","max","handleStartManualBilling","patientId","sessionNumber","p","finalSessionNumber","manualNumber","Number","syntheticEvent","summary","start","dateTime","toISOString","isManual","handleStartBilling","fetchNextAppointment","startDate","endDate","end","dateOptions","timeOptions","hour","minute","formattedDate","formattedStartTime","toLocaleTimeString","formattedEndTime","getPatientsCollectionPath","getProfileDocPath","getEbmTemplatesCollectionPath","getDiagnostikTemplatesCollectionPath","findIcd10CodeLocal","codeToFind","upperCodeToFind","found","baseCode","replace","possibleCategoryCode","keys","startsWith","code_kategorie","_event$summary","chiffreMatch","match","targetPatient","nextSessionNumber","highestSession","eventWithSessionNumber","handleEditSession","session","_session$structuredNo","_session$structuredNo2","initialNotes","initialEbm","ebmEntries","handleDeleteSession","sessionId","performDelete","updatedSessions","patientRef","merge","handleSaveBilling","billingData","eventId","eventStart","notes","newSession","hausaufgaben","trim","taskText","err","handleSaveBillingPeriod","periodData","newPeriod","updatedPatientData","newPeriodDateStr","resultKey","testResults","updatedResults","res","testDateStr","billingPeriodId","handleDeleteBillingPeriod","periodId","window","confirm","updatedTestResults","updatedPeriods","updatedPatient","handleAddPendingTest","newTestResult","testInstanceId","testGrund","updatedTestList","alert","handleSaveCompletedTest","testData","testId","updatedTestResultsList","handleCompletePendingTest","testToComplete","testInfo","t","testType","handleUpdateTest","newResults","newDate","handleSaveTestTemplate","template","testIds","updates","timestamp","dateISO","handleUpdateTestGrund","newGrund","handleDeleteTest","originalPatient","handleSaveDiagnostikTemplate","templateData","collectionPath","dataToSave","handleDeleteDiagnostikTemplate","templateId","handleUpdateHomeworkStatus","homeworkIndex","newStatus","parse","sessionToUpdate","assign","handleUpdateQuickNote","note","handleSaveEbmTemplate","handleDeleteEbmTemplate","handleOpenZentraleTestModal","handleOpenTemplateModal","timer","setTimeout","clearTimeout","then","catch","calendarEvents","Array","isArray","billedEventIds","Set","add","unbilled","_event$summary2","has","finally","data","indexedData","item","current","scrollIntoView","behavior","block","unsubscribe","user","uid","seedInitialData","patientsCollection","querySnapshot","empty","batch","patientData","newPatientRef","set","diagnoses_icd11","commit","unsubscribes","paths","path","setter","process","docs","localeCompare","isDoc","docSnap","exists","snapshot","unsub","currentPatientDataFromList","loadIcd10Data","bdiCutoffs","color","bdiAxisTicks","handleAuthAction","isRegistering","handleLogout","handleSavePatient","handleAddDiagnosis","codeToAdd","sicherheitPrefix","diagnosisString","updatedDiagnoses","handleRemoveDiagnosis","diagnosisStringToRemove","handleKrankheitsmodellChange","fieldName","handleTherapeutischeAssistenzAnfordern","conductedHours","patientenDatenText","i","_s$structuredNotes2","_s$structuredNotes3","join","systemPrompt","assistenz","showDiagnosisInfo","sicherheitMatch","codeAndName","substring","codeMatch","localData","beschreibung_kategorie","fetchIcd11Details","diagnosis","uri","_fullData$title","_fullData$definition","encodeURIComponent","fullData","definition","diagnosticCriteria","inclusions","inclusion","exclusions","exclusion","handleAssignIcd11Diagnosis","icd11Entity","selectedText","linearizationUri","foundationUri","handleRemoveIcd11Diagnosis","diagnosisToRemove","handleAcceptImprovement","handleSaveProfile","profileData","profileDocRef","handleUploadFile","file","storageRef","downloadURL","btnDanger","btnInfo","textareaStd","selectedIndex","findIndex","compactHeight","expandedHeight","overlap","visibleHeight","totalHeight","Sidebar","currentView","setView","navItems","icon","PatientDetailHeader","onDeselect","onEdit","therapyStartDate","firstSession","_s$structuredNotes4","src","loop","autoplay","disabled","initialProfile","onUploadFile","onStartBilling","onStartManualBilling","_patient$diagnoses$","div","layoutId","onDoubleClick","style","transition","_patient$sessions","isSelected","tabColors","tabColor","bottomPos","animate","bottom","zIndex","stiffness","damping","whileHover","scale","left","top","tab","toLowerCase","diagString","diag","stopPropagation","quarterlyAnalysis","onEditSession","onDeleteSession","onAddBillingPeriod","onDeleteBillingPeriod","_selectedPatient","onCompleteTest","onDeleteTest","onUpdateTestGrund","onAddNewTest","border","frameBorder","scrolling","therapistProfile","templates","onDelete","onAddTest","onAddTemplate","onAddTemplateDefinition","onEditTemplateDefinition","onDeleteTemplateDefinition","onAssignDiagnosis","idx","foundationReference","pop","onStart","onUpdate","activePatient","_c26","$RefreshReg$"],"sources":["/Users/julianrogowski/Documents/Visual Code/patientenverwaltung-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef, useMemo } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport {\n    getAuth,\n    onAuthStateChanged,\n    createUserWithEmailAndPassword,\n    signInWithEmailAndPassword,\n    signOut\n} from 'firebase/auth';\nimport { getFirestore, collection, doc, addDoc, getDocs, setDoc, deleteDoc, onSnapshot, query, writeBatch, updateDoc } from 'firebase/firestore';\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { DotLottieReact } from '@lottiefiles/dotlottie-react';\n\n// Components\nimport SCL90RComponent from './components/Wissen/psychodiagnostic/SCL90R.js';\nimport FEP2Component from './components/Wissen/psychodiagnostic/FEP2.js';\nimport BDI2Component from './components/Wissen/psychodiagnostic/BDI2.js';\nimport HSCL11Component from './components/Wissen/psychodiagnostic/HSCL11.js';\nimport GAD7Component from './components/Wissen/psychodiagnostic/GAD7.js';\nimport CoreOmComponent from './components/Wissen/psychodiagnostic/CoreOm.js';\nimport IIPCComponent from './components/Wissen/psychodiagnostic/IIP-C.js';\nimport ICD11ECTBrowser from './components/Wissen/ICD11ECTBrowser.js';\nimport EBMBrowser from './components/Abrechnung/EBMBrowser.js';\nimport BillingModal from './components/Abrechnung/SitzungsAbrechnung.js';\nimport AbrechnungsUebersicht from './components/Abrechnung/Abrechnung.js';\nimport DiagnostikZuordnung from './components/Diagnostik/DiagnostikZuordnung.js';\nimport ManualBillingSetupModal from './components/Abrechnung/ManualSessionCreate.js';\nimport AddBillingPeriodModal from './components/Abrechnung/AddBillingPeriodModal.js';\nimport Profile from './components/Patienten/Profile.js';\nimport Billing from './components/Abrechnung/OffeneSitzungenAbrechnung.js';\nimport PtvFormGenerator from './components/Wissen/formulare/PtvFormGenerator.js';\nimport Behandlungsmethoden from './components/Wissen/Behandlungsmethoden.js';\nimport EbmTemplates from './components/Abrechnung/EbmTemplates.js';\nimport DiagnostikHauptseite from './components/Diagnostik/DiagnostikHauptseite.js';\nimport ZentraleTestErfassungModal from './components/Diagnostik/ZentraleTestErfassungModal.js';\nimport AddTestTemplateModal from './components/Diagnostik/AddTestTemplateModal.js';\nimport AddOrEditTemplateModal from './components/Diagnostik/AddOrEditTemplateModal.js';\nimport Dashboard from './components/Patienten/Dashboard.js';\n\n\n// --- ICONS ---\nconst UserPlus = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\" /><circle cx=\"9\" cy=\"7\" r=\"4\" /><line x1=\"19\" x2=\"19\" y1=\"8\" y2=\"14\" /><line x1=\"22\" x2=\"16\" y1=\"11\" y2=\"11\" /></svg>);\nconst Edit3 = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M12 20h9\" /><path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\" /></svg>);\nconst Trash2 = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><polyline points=\"3 6 5 6 21 6\" /><path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\" /><line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\" /><line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\" /></svg>);\nconst PlusCircleIcon = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"10\" /><line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\" /><line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\" /></svg>);\nconst XCircle = ({ className = \"w-6 h-6\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"10\" /><line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\" /><line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\" /></svg>);\nconst Save = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\" /><polyline points=\"17 21 17 13 7 13 7 21\" /><polyline points=\"7 3 7 8 15 8\" /></svg>);\nconst AlertTriangle = ({ className = \"w-12 h-12\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"></path><line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line><line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line></svg>);\nconst FileJson2 = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4\" /><path d=\"M14 2v6h6\" /><path d=\"M4 12h1.6a2 2 0 0 0 1.9-3.4L6 6\" /><path d=\"M4 18h1.6a2 2 0 0 1 1.9 3.4L6 24\" /><path d=\"M12 12h1.6a2 2 0 0 1 1.9-3.4L14 6\" /><path d=\"M12 18h1.6a2 2 0 0 0 1.9 3.4L14 24\" /></svg>);\nconst WandSparkles = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"m9.5 2.55 1.294 1.294a1 1 0 0 0 1.414 0L13.5 2.55\" /><path d=\"M4.94 4.94 6.22 6.22a1 1 0 0 0 1.41 0l1.29-1.29\" /><path d=\"M2.55 9.51 3.84 10.8a1 1 0 0 0 1.41 0l1.3-1.29\" /><path d=\"m19.07 4.93-1.29 1.29a1 1 0 0 1-1.41 0l-1.29-1.29\" /><path d=\"M21.45 9.51l-1.29 1.29a1 1 0 0 1-1.41 0l-1.3-1.29\" /><path d=\"M14.5 12.94a1 1 0 0 0 0 1.41l1.29 1.29\" /><path d=\"M10.8 17.78a1 1 0 0 0 0 1.41l1.29 1.29\" /><path d=\"M17.78 10.8a1 1 0 0 0 0 1.41l1.29 1.29\" /><path d=\"M12 10.5V4.5\" /><path d=\"M12 10.5C7 11 4 15 4 20\" /><path d=\"M12 10.5c5 .5 8 4.5 8 9.5\" /></svg>);\nconst LogOut = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\" /><polyline points=\"16 17 21 12 16 7\" /><line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\" /></svg>);\nconst BookOpen = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z\" /><path d=\"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z\" /></svg>);\nconst Users = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\" /><circle cx=\"9\" cy=\"7\" r=\"4\" /><path d=\"M22 21v-2a4 4 0 0 0-3-3.87\" /><path d=\"M16 3.13a4 4 0 0 1 0 7.75\" /></svg>);\nconst FileText = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\" /><polyline points=\"14 2 14 8 20 8\" /><line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\" /><line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\" /><line x1=\"10\" y1=\"9\" x2=\"8\" y2=\"9\" /></svg>);\nconst List = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><line x1=\"8\" x2=\"21\" y1=\"6\" y2=\"6\" /><line x1=\"8\" x2=\"21\" y1=\"12\" y2=\"12\" /><line x1=\"8\" x2=\"21\" y1=\"18\" y2=\"18\" /><line x1=\"3\" x2=\"3.01\" y1=\"6\" y2=\"6\" /><line x1=\"3\" x2=\"3.01\" y1=\"12\" y2=\"12\" /><line x1=\"3\" x2=\"3.01\" y1=\"18\" y2=\"18\" /></svg>);\nconst CalendarIcon = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect><line x1=\"16\" y1=\"2\" x2=\"16\" y2=\"6\"></line><line x1=\"8\" y1=\"2\" x2=\"8\" y2=\"6\"></line><line x1=\"3\" y1=\"10\" x2=\"21\" y2=\"10\"></line></svg>);\nconst PaperclipIcon = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.59a2 2 0 0 1-2.83-2.83l8.49-8.48\" /></svg>);\nconst SettingsIcon = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l-.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\" /><circle cx=\"12\" cy=\"12\" r=\"3\" /></svg>);\nconst DollarSignIcon = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"23\"></line><path d=\"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\"></path></svg>);\nconst LayoutGridIcon = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><rect x=\"3\" y=\"3\" width=\"7\" height=\"7\"></rect><rect x=\"14\" y=\"3\" width=\"7\" height=\"7\"></rect><rect x=\"14\" y=\"14\" width=\"7\" height=\"7\"></rect><rect x=\"3\" y=\"14\" width=\"7\" height=\"7\"></rect></svg>);\nconst LayersIcon = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><polygon points=\"12 2 2 7 12 12 22 7 12 2\"></polygon><polyline points=\"2 17 12 22 22 17\"></polyline><polyline points=\"2 12 12 17 22 12\"></polyline></svg>);\nconst ClipboardListIcon = ({ className = \"w-5 h-5\" }) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\" /><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\" /><path d=\"M12 11h4\" /><path d=\"M12 16h4\" /><path d=\"M8 11h.01\" /><path d=\"M8 16h.01\" /></svg>\nconst BeakerIcon = ({ className = \"w-5 h-5\" }) => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M4.5 3h15\"/><path d=\"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3\"/><path d=\"M6 14h12\"/></svg>;\nconst HomeIcon = ({ className = \"w-5 h-5\" }) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"></path><polyline points=\"9 22 9 12 15 12 15 22\"></polyline></svg>;\n\n\n// Firebase Config\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDZ_qqqKW7WDCZ9botek2VBwXNMQO3JYwU\",\n    authDomain: \"psychotherapie0512.firebaseapp.com\",\n    projectId: \"psychotherapie0512\",\n    storageBucket: \"psychotherapie0512.appspot.com\",\n    messagingSenderId: \"131279046361\",\n    appId: \"1:131279046361:web:e5dd2d18b206fb820b60c8\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst storage = getStorage(app);\nconst firestoreAppId = 'default-patient-app-v5';\n\n// --- KONSTANTEN ---\nconst homeworkFailureReasons = { \"Motivational\": [\"Geringe Motivation\", \"Zweifel am Nutzen der Hausaufgabe\", \"Keine Einsicht in die Relevanz\"], \"Emotional\": [\"Angst vor Versagen\", \"Scham oder Schuldgefühle\", \"Vermeidung unangenehmer Gefühle\"], \"Kognitive\": [\"Negative automatische Gedanken\", \"Perfektionismus\"], \"Organisatorisch/Praktisch\": [\"Zeitmangel\", \"Vergessen\", \"Keine klaren Anweisungen oder Verständnisprobleme\"], \"Interaktion mit Therapeut\": [\"Widerstand gegen den Therapeuten\", \"Beziehungskonflikte\", \"Mangel an Vertrauen\"], \"Psychopathologisch\": [\"Konzentrationsprobleme\", \"Antriebslosigkeit\", \"Überwältigende Symptome\"] };\nconst availableTests = [\n    { id: 'scl90r', name: 'SCL-90-R - Symptom-Checklist-90-R', ebm: '35601', recommendation: 10 },\n    { id: 'fep2', name: 'FEP-2 - Fragebogen zur Erfassung von Persönlichkeitsstörungen', ebm: '35601', recommendation: 12 },\n    { id: 'bdi2', name: 'BDI-II - Beck-Depressions-Inventar II', ebm: '35600', recommendation: 2 },\n    { id: 'hscl11', name: 'HSCL-11 - Hopkins Symptom Checklist-11', ebm: '35600', recommendation: 1 },\n    { id: 'gad7', name: 'GAD-7 - Generalisierte Angststörung Skala', ebm: '35600', recommendation: 1 },\n    { id: 'coreOm', name: 'CORE-OM - Clinical Outcomes in Routine Evaluation', ebm: '35601', recommendation: 8 },\n    { id: 'iipc', name: 'IIP-C - Inventar Interpersonaler Probleme', ebm: '35601', recommendation: 15 },\n];\n\nconst testCategories = [\n  { name: 'Allgemeine Psychopathologie', tests: ['scl90r', 'hscl11', 'coreOm'] },\n  { name: 'Depressionsdiagnostik', tests: ['bdi2'] },\n  { name: 'Angstdiagnostik', tests: ['gad7'] },\n  { name: 'Persönlichkeitsdiagnostik', tests: ['fep2'] },\n  { name: 'Interpersonelle Probleme', tests: ['iipc'] }\n];\n\nconst availableTherapeuticMethods = [\"Kognitive Verhaltenstherapie (KVT)\", \"Schematherapie\", \"Acceptance and Commitment Therapy (ACT)\", \"Dialektisch-Behaviorale Therapie (DBT)\", \"Eye Movement Desensitization and Reprocessing (EMDR)\", \"Tiefenpsychologisch fundierte Psychotherapie\", \"Systemische Therapie\"];\nconst initialPatientsData = [{ name: \"Mustermann\", geburtsdatum: \"1998-04-04\", chiffre: \"M040498\", therapeuticMethods: [\"Kognitive Verhaltenstherapie (KVT)\"], approvedHours: 60, krankenkasse: \"TK\", versichertennummer: \"A123456789\", diagnoses: [\"[G] F00.0*: Demenz bei Alzheimer-Krankheit, mit frühem Beginn (Typ 2)\", \"[V] F01.1: Multiinfarkt-Demenz\", \"[A] F20.0: Paranoide Schizophrenie\", \"[ZN] F32.1: Mittelgradige depressive Episode\", \"F40.0: Agoraphobie\"], sessions: [{ id: `sess_${Date.now()}`, date: \"2025-05-20\", structuredNotes: { sitzungsnummer: 1, thema: \"Erste Sitzung\", patientenbericht: \"Exploration der Hauptbeschwerden.\" } }], hscl11Results: [], bdi2Results: [], fep2Results: [], scl90rResults: [], gad7Results: [], coreOmResults: [], iipcResults: [], billingPeriods: [], krankheitsanamnese: \"Patient berichtet über seit ca. 2 Jahren zunehmende Vergesslichkeit und Orientierungsprobleme.\", lebensgeschichte: \"Geboren 1955, verheiratet, 2 Kinder, früher als Buchhalter tätig.\", problemanalyseMakro: \"Kognitive Defizite im Vordergrund, affektive Belastung durch erlebten Kontrollverlust.\", therapieplan: \"Supportive Gespräche, kognitives Training, Psychoedukation für Angehörige.\" },];\nconst DIAGNOSTIK_PUNKTE = { '35600': 34, '35601': 39, '35602': 56, };\n\n// --- HILFSFUNKTIONEN & HOOKS ---\n\nconst getQuarter = (date) => {\n    if (!date) return null;\n    const d = new Date(date);\n    const month = d.getMonth();\n    const year = d.getFullYear();\n    const quarter = Math.floor(month / 3) + 1;\n    return `${year}-Q${quarter}`;\n};\n\nconst useQuarterlyDiagnostikAnalysis = (patient, availableTests) => {\n    return useMemo(() => {\n        if (!patient) return {};\n\n        const testsByQuarter = {};\n\n        availableTests.forEach(testDef => {\n            const results = patient[`${testDef.id}Results`] || [];\n            results.forEach(result => {\n                if (result.status === 'completed') {\n                    const quarterKey = getQuarter(result.date);\n                    if (!quarterKey) return;\n\n                    if (!testsByQuarter[quarterKey]) {\n                        testsByQuarter[quarterKey] = [];\n                    }\n                    testsByQuarter[quarterKey].push({\n                        ...testDef,\n                        ...result\n                    });\n                }\n            });\n        });\n\n        const analysis = {};\n        const age = calculateAge(patient.geburtsdatum);\n        const pointsLimit = age < 22 ? 1636 : 1092;\n\n        for (const quarterKey in testsByQuarter) {\n            const testsInQuarter = testsByQuarter[quarterKey];\n            const pointsUsed = testsInQuarter.reduce((sum, test) => sum + (DIAGNOSTIK_PUNKTE[test.ebm] || 0), 0);\n            \n            analysis[quarterKey] = {\n                pointsUsed,\n                pointsLimit,\n                tests: testsInQuarter,\n            };\n        }\n\n        return analysis;\n    }, [patient, availableTests]);\n};\n\nconst Modal = ({ isOpen, onClose, title, children, size = \"lg\" }) => { if (!isOpen) return null; const sizeClasses = { sm: 'max-w-sm', md: 'max-w-md', lg: 'max-w-lg', xl: 'max-w-xl', '2xl': 'max-w-2xl', '3xl': 'max-w-3xl', '4xl': 'max-w-4xl', '5xl': 'max-w-5xl' }; return (<div className=\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4\"><div className={`bg-white p-6 rounded-lg shadow-xl w-full ${sizeClasses[size]} max-h-[90vh] overflow-y-auto`}><div className=\"flex justify-between items-center mb-4\"><h2 className=\"text-xl font-semibold text-gray-800\">{title}</h2><button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\"><XCircle className=\"w-7 h-7\" /></button></div>{children}</div></div>); };\nconst ConfirmationModal = ({ isOpen, onClose, onConfirm, title, message }) => { if (!isOpen) return null; return (<Modal isOpen={isOpen} onClose={onClose} title={title} size=\"md\"><div className=\"text-center\"><AlertTriangle className=\"mx-auto mb-4 w-12 h-12 text-red-500\" /><p className=\"text-gray-600 mb-6\">{message}</p><div className=\"flex justify-center space-x-4\"><button onClick={onClose} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none\">Abbrechen</button><button onClick={onConfirm} className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none\">Bestätigen</button></div></div></Modal>); }; const PatientForm = ({ patient, onSave, onCancel }) => {\n    const [formData, setFormData] = useState(\n        patient || {\n            name: '',\n            vorname: '',\n            chiffre: '',\n            geburtsdatum: '',\n            adresse: '',\n            email: '',\n            telefon: '',\n            krankenkasse: '',\n            versichertennummer: '',\n            therapeuticMethods: [],\n            approvedHours: 0,\n            diagnoses: [],\n            sessions: [],\n            hscl11Results: [],\n            bdi2Results: [],\n            fep2Results: [],\n            scl90rResults: [],\n            gad7Results: [],\n            coreOmResults: [],\n            iipcResults: [],\n            billingPeriods: [],\n            krankheitsanamnese: \"\",\n            lebensgeschichte: \"\",\n            problemanalyseMakro: \"\",\n            therapieplan: \"\"\n        }\n    );\n\n    const [newMethod, setNewMethod] = useState(\"\");\n\n    useEffect(() => {\n        if (patient) {\n            setFormData({\n                ...patient,\n                geburtsdatum: patient.geburtsdatum || '',\n                krankenkasse: patient.krankenkasse || '',\n                versichertennummer: patient.versichertennummer || '',\n                therapeuticMethods: patient.therapeuticMethods || [],\n                hscl11Results: patient.hscl11Results || [],\n                bdi2Results: patient.bdi2Results || [],\n                fep2Results: patient.fep2Results || [],\n                scl90rResults: patient.scl90rResults || [],\n                gad7Results: patient.gad7Results || [],\n                coreOmResults: patient.coreOmResults || [],\n                iipcResults: patient.iipcResults || [],\n                billingPeriods: patient.billingPeriods || [],\n                krankheitsanamnese: patient.krankheitsanamnese || \"\",\n                lebensgeschichte: patient.lebensgeschichte || \"\",\n                problemanalyseMakro: patient.problemanalyseMakro || \"\",\n                therapieplan: patient.therapieplan || \"\"\n            });\n        } else {\n            setFormData({ name: '', vorname: '', chiffre: '', geburtsdatum: '', adresse: '', email: '', telefon: '', krankenkasse: '', versichertennummer: '', therapeuticMethods: [], approvedHours: 0, diagnoses: [], sessions: [], hscl11Results: [], bdi2Results: [], fep2Results: [], scl90rResults: [], gad7Results: [], coreOmResults: [], iipcResults: [], billingPeriods: [], krankheitsanamnese: \"\", lebensgeschichte: \"\", problemanalyseMakro: \"\", therapieplan: \"\" });\n        }\n    }, [patient]);\n\n    useEffect(() => {\n        const { name, geburtsdatum } = formData;\n        if (name && geburtsdatum) {\n            try {\n                const firstLetter = name.charAt(0).toUpperCase();\n                const [year, month, day] = geburtsdatum.split('-');\n                if (year && month && day) { const yy = year.slice(-2); const newChiffre = `${firstLetter}${day}${month}${yy}`; setFormData(prev => ({ ...prev, chiffre: newChiffre })); }\n            } catch (e) { console.error(\"Fehler bei der Chiffre-Generierung\", e); setFormData(prev => ({ ...prev, chiffre: '' })); }\n        } else { if (formData.chiffre !== '') { setFormData(prev => ({ ...prev, chiffre: '' })); } }\n    }, [formData]);\n\n    const handleChange = (e) => { const { name, value, type } = e.target; setFormData((prev) => ({ ...prev, [name]: type === 'number' ? parseInt(value, 10) || 0 : value })); };\n    const handleAddMethod = () => { if (newMethod && !formData.therapeuticMethods.includes(newMethod)) { setFormData(prev => ({ ...prev, therapeuticMethods: [...prev.therapeuticMethods, newMethod] })); setNewMethod(\"\"); } };\n    const handleRemoveMethod = (methodToRemove) => { setFormData(prev => ({ ...prev, therapeuticMethods: prev.therapeuticMethods.filter(m => m !== methodToRemove) })); };\n    const handleSubmit = (e) => { e.preventDefault(); onSave(formData); };\n\n    const inputStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm\";\n    const btnPrimary = \"px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 flex items-center\";\n\n    return (\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div><label htmlFor=\"vorname\" className=\"block text-sm font-medium text-gray-700\">Vorname</label><input type=\"text\" name=\"vorname\" id=\"vorname\" value={formData.vorname} onChange={handleChange} required className={inputStd} /></div>\n                <div><label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\">Nachname</label><input type=\"text\" name=\"name\" id=\"name\" value={formData.name} onChange={handleChange} required className={inputStd} /></div>\n                <div><label htmlFor=\"geburtsdatum\" className=\"block text-sm font-medium text-gray-700\">Geburtsdatum</label><input type=\"date\" name=\"geburtsdatum\" id=\"geburtsdatum\" value={formData.geburtsdatum} onChange={handleChange} required className={inputStd} /></div>\n                <div><label htmlFor=\"chiffre\" className=\"block text-sm font-medium text-gray-700\">Chiffre</label><input type=\"text\" name=\"chiffre\" id=\"chiffre\" value={formData.chiffre} readOnly className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100 sm:text-sm\" /></div>\n            </div>\n            <div><label htmlFor=\"adresse\" className=\"block text-sm font-medium text-gray-700\">Adresse</label><input type=\"text\" name=\"adresse\" id=\"adresse\" value={formData.adresse} onChange={handleChange} className={inputStd} /></div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div><label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">E-Mail</label><input type=\"email\" name=\"email\" id=\"email\" value={formData.email} onChange={handleChange} className={inputStd} /></div>\n                <div><label htmlFor=\"telefon\" className=\"block text-sm font-medium text-gray-700\">Telefon</label><input type=\"tel\" name=\"telefon\" id=\"telefon\" value={formData.telefon} onChange={handleChange} className={inputStd} /></div>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div><label htmlFor=\"krankenkasse\" className=\"block text-sm font-medium text-gray-700\">Krankenkasse</label><input type=\"text\" name=\"krankenkasse\" id=\"krankenkasse\" value={formData.krankenkasse} onChange={handleChange} className={inputStd} /></div>\n                <div><label htmlFor=\"versichertennummer\" className=\"block text-sm font-medium text-gray-700\">Versichertennummer</label><input type=\"text\" name=\"versichertennummer\" id=\"versichertennummer\" value={formData.versichertennummer} onChange={handleChange} className={inputStd} /></div>\n            </div>\n            <div>\n                <label className=\"block text-sm font-medium text-gray-700\">Therapieverfahren</label>\n                <div className=\"mt-1 flex flex-wrap gap-2\">{(formData.therapeuticMethods || []).map(method => (<span key={method} className=\"flex items-center bg-teal-100 text-teal-800 text-xs font-medium px-2.5 py-0.5 rounded-full\">{method}<button type=\"button\" onClick={() => handleRemoveMethod(method)} className=\"ml-1.5 text-teal-500 hover:text-teal-700\"><XCircle className=\"h-3 w-3\" /></button></span>))}</div>\n                <div className=\"mt-2 flex items-center gap-2\">\n                    <select value={newMethod} onChange={(e) => setNewMethod(e.target.value)} className={inputStd}><option value=\"\">Verfahren auswählen...</option>{availableTherapeuticMethods.filter(m => !(formData.therapeuticMethods || []).includes(m)).map(m => <option key={m} value={m}>{m}</option>)}</select>\n                    <button type=\"button\" onClick={handleAddMethod} className=\"bg-gray-200 p-2 rounded-md hover:bg-gray-300\"><PlusCircleIcon className=\"h-5 w-5 text-gray-600\" /></button>\n                </div>\n            </div>\n            <div><label htmlFor=\"approvedHours\" className=\"block text-sm font-medium text-gray-700\">Genehmigte Stunden</label><input type=\"number\" name=\"approvedHours\" id=\"approvedHours\" value={formData.approvedHours} onChange={handleChange} min=\"0\" className={inputStd} /></div>\n            <div className=\"flex justify-end space-x-3 pt-4\"><button type=\"button\" onClick={onCancel} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\">Abbrechen</button><button type=\"submit\" className={btnPrimary}><Save className=\"w-4 h-4 mr-2\" /> Speichern</button></div>\n        </form>\n    );\n};\nasync function generateGeminiText(prompt) { let chatHistory = [{ role: \"user\", parts: [{ text: prompt }] }]; const payload = { contents: chatHistory }; const GEMINI_API_KEY = \"AIzaSyCWQFze_8cKDZ6W2DTqfqIcvhcsKWfuZLw\"; const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`; try { const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) }); if (!response.ok) { const errorData = await response.json(); console.error(\"Gemini API error details:\", errorData); const errorMessage = errorData.error?.message || `API request failed with status ${response.status}`; throw new Error(errorMessage); } const result = await response.json(); if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) { return result.candidates[0].content.parts[0].text; } else if (result.candidates && result.candidates.length > 0 && result.candidates[0].finishReason === \"SAFETY\") { console.warn(\"Gemini API response blocked due to safety reasons.\"); return \"Die Antwort wurde aufgrund von Sicherheitsrichtlinien blockiert.\"; } else { console.error(\"Unexpected Gemini API response structure:\", result); throw new Error(\"Unerwartete Antwortstruktur von der API.\"); } } catch (error) { console.error(\"Error calling Gemini API:\", error); throw error; } }\nconst calculateAge = (birthdate) => { if (!birthdate) return 0; const birthDate = new Date(birthdate); const today = new Date(); let age = today.getFullYear() - birthDate.getFullYear(); const m = today.getMonth() - birthDate.getMonth(); if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) { age--; } return age; };\n\nconst PatientOverviewTab = ({ patient, nextAppointment, onUpdateHomeworkStatus, onUpdateQuickNote }) => {\n    // *** KORREKTUR: Hook an den Anfang verschoben ***\n    const openHomeworkSession = useMemo(() => {\n        // Optional Chaining `?.` stellt sicher, dass kein Fehler auftritt, wenn `patient` null ist\n        if (!patient?.sessions) return null;\n        // Die Sitzungen sind bereits absteigend sortiert\n        return patient.sessions.find(s => s.homeworkStatus && s.homeworkStatus.some(task => !task.done));\n    }, [patient?.sessions]);\n\n    // *** KORREKTUR: Bedingter Return NACH allen Hooks ***\n    if (!patient) return null;\n    \n    const reasonCategoryColors = {\n        Motivational: \"bg-orange-100 text-orange-800\",\n        Emotional: \"bg-blue-100 text-blue-800\",\n        Kognitive: \"bg-purple-100 text-purple-800\",\n        \"Organisatorisch/Praktisch\": \"bg-gray-200 text-gray-800\",\n        \"Interaktion mit Therapeut\": \"bg-pink-100 text-pink-800\",\n        Psychopathologisch: \"bg-red-100 text-red-800\",\n    };\n\n    const getCategoryForReason = (reason) => {\n        for (const category in homeworkFailureReasons) {\n            if (homeworkFailureReasons[category].includes(reason)) {\n                return category;\n            }\n        }\n        return null;\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"col-span-1 md:col-span-2 p-3 bg-teal-50 border border-teal-200 rounded-lg\">\n                {nextAppointment.isLoading && <p className=\"text-sm text-teal-700\">Lade nächsten Termin...</p>}\n                {nextAppointment.error && <p className=\"text-sm text-red-600\">{nextAppointment.error}</p>}\n                {nextAppointment.text && <p className=\"text-sm font-semibold text-teal-800\">{nextAppointment.text}</p>}\n            </div>\n\n            <div>\n                 <label htmlFor=\"quick-note\" className=\"text-sm font-semibold text-gray-700\">Kurznotiz</label>\n                 <textarea\n                    id=\"quick-note\"\n                    rows=\"3\"\n                    className=\"mt-1 block w-full text-sm p-2 rounded-md border-red-200 bg-red-50/50 focus:ring-red-500 focus:border-red-500 placeholder-red-400/70\"\n                    placeholder=\"Wichtige Gedanken, nächste Schritte, etc...\"\n                    defaultValue={patient.quickNote || ''}\n                    onBlur={(e) => onUpdateQuickNote(e.target.value)}\n                 />\n            </div>\n\n            <div>\n                <h4 className=\"text-lg font-semibold text-gray-700 mb-3 border-b pb-2\">Stammdaten</h4>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 mt-3 text-sm\">\n                    <div><p className=\"font-semibold text-gray-500\">Nachname</p><p>{patient.name}</p></div>\n                    <div><p className=\"font-semibold text-gray-500\">Vorname</p><p>{patient.vorname}</p></div>\n                    <div><p className=\"font-semibold text-gray-500\">Geburtsdatum</p><p>{new Date(patient.geburtsdatum).toLocaleDateString('de-DE')}</p></div>\n                    <div><p className=\"font-semibold text-gray-500\">Alter</p><p>{calculateAge(patient.geburtsdatum)}</p></div>\n                    <div><p className=\"font-semibold text-gray-500\">E-Mail</p><p>{patient.email || '-'}</p></div>\n                    <div><p className=\"font-semibold text-gray-500\">Telefon</p><p>{patient.telefon || '-'}</p></div>\n                    <div className=\"col-span-2 md:col-span-3\"><p className=\"font-semibold text-gray-500\">Adresse</p><p>{patient.adresse || '-'}</p></div>\n                </div>\n            </div>\n            <div>\n                <h4 className=\"text-lg font-semibold text-gray-700 mb-3 border-b pb-2\">Offene Hausaufgaben</h4>\n                <div className=\"p-3 bg-gray-50 rounded-lg text-sm space-y-3\">\n                    {openHomeworkSession ? (\n                        openHomeworkSession.homeworkStatus.map((task, index) => (\n                            <div key={index} className=\"flex items-start gap-4\">\n                                <input type=\"checkbox\" className=\"h-5 w-5 rounded border-gray-300 text-teal-600 focus:ring-teal-500 mt-0.5\" checked={task.done} onChange={(e) => onUpdateHomeworkStatus(openHomeworkSession.id, index, { done: e.target.checked })} />\n                                <div className=\"flex-grow\">\n                                    <span className={` ${task.done ? 'text-gray-500 line-through' : 'text-gray-800'}`}>{task.text}</span>\n                                    {!task.done && (\n                                        <div className=\"flex items-center gap-2 mt-1\">\n                                             <select className=\"text-xs border-gray-300 rounded-md shadow-sm focus:border-teal-300 focus:ring focus:ring-teal-200 focus:ring-opacity-50\" value={task.reason || ''} onChange={(e) => onUpdateHomeworkStatus(openHomeworkSession.id, index, { reason: e.target.value })}>\n                                                <option value=\"\">Grund wählen...</option>\n                                                {Object.entries(homeworkFailureReasons).map(([category, reasons]) => (\n                                                    <optgroup label={category} key={category}>\n                                                        {reasons.map(reason => <option key={reason} value={reason}>{reason}</option>)}\n                                                    </optgroup>\n                                                ))}\n                                            </select>\n                                            {task.reason && (\n                                                <span className={`text-xs font-medium px-2 py-0.5 rounded-full ${reasonCategoryColors[getCategoryForReason(task.reason)] || 'bg-gray-200'}`}>\n                                                    {getCategoryForReason(task.reason)}\n                                                </span>\n                                            )}\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        ))\n                    ) : (\n                        <p className=\"text-gray-500\">Alle Hausaufgaben sind erledigt. Sehr gut!</p>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\n\nfunction App() {\n    // --- States ---\n    const [mainView, setMainView] = useState('dashboard'); // *** GEÄNDERT: Startansicht ist jetzt das Dashboard ***\n    const [patients, setPatients] = useState([]);\n    const [selectedPatient, setSelectedPatient] = useState(null);\n    const [isLoading, setIsLoading] = useState(true);\n    const [isInitialLoading, setIsInitialLoading] = useState(true);\n    const [authError, setAuthError] = useState(null);\n    const [appError, setAppError] = useState(null);\n    const [userId, setUserId] = useState(null);\n    const [isAuthReady, setIsAuthReady] = useState(false);\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [isLoginView, setIsLoginView] = useState(true);\n    const [isAuthLoading, setIsAuthLoading] = useState(false);\n    const [isPatientModalOpen, setIsPatientModalOpen] = useState(false);\n    const [editingPatient, setEditingPatient] = useState(null);\n    const [newDiagnosis, setNewDiagnosis] = useState('');\n    const [newDiagnosisCode, setNewDiagnosisCode] = useState('');\n    const [newDiagnosisSicherheit, setNewDiagnosisSicherheit] = useState('G');\n    const [lookedUpDiagnosisName, setLookedUpDiagnosisName] = useState('');\n    const [activeDetailTab, setActiveDetailTab] = useState('übersicht');\n    const [activeDiagnostikSubTab, setActiveDiagnostikSubTab] = useState('overview');\n    const [diagnosisInfo, setDiagnosisInfo] = useState({ code: '', name: '', beschreibung: '', inkl: [], exkl: [], hinweise: [], zusatz_info_code: '', sicherheit: '', isLoading: false, error: null, isOpen: false, source: '' });\n    const [localIcd10Data, setLocalIcd10Data] = useState({});\n    const [editableKrankheitsanamnese, setEditableKrankheitsanamnese] = useState(\"\");\n    const [editableLebensgeschichte, setEditableLebensgeschichte] = useState(\"\");\n    const [editableProblemanalyseMakro, setEditableProblemanalyseMakro] = useState(\"\");\n    const [editableTherapieplan, setEditableTherapieplan] = useState(\"\");\n    const [therapeutischeAssistenzOutput, setTherapeutischeAssistenzOutput] = useState(\"\");\n    const [isLoadingTherapeutischeAssistenz, setIsLoadingTherapeutischeAssistenz] = useState(false);\n    const [assistenzError, setAssistenzError] = useState(null);\n    const detailViewRef = useRef(null);\n    const [improvementState, setImprovementState] = useState({ isOpen: false, isLoading: false, originalText: '', improvedText: '', sessionIndex: null, error: null });\n    const [sortConfig] = useState({ key: 'name', direction: 'ascending' });\n    const [nextAppointment, setNextAppointment] = useState({ isLoading: false, text: null, error: null });\n    const [unbilledAppointments, setUnbilledAppointments] = useState([]);\n    const [isLoadingAppointments, setIsLoadingAppointments] = useState(false);\n    const [billingModalState, setBillingModalState] = useState({ isOpen: false, event: null, isEditing: false });\n    const [ebmData, setEbmData] = useState([]);\n    const [isManualBillingSetupOpen, setIsManualBillingSetupOpen] = useState(false);\n    const [confirmDeleteState, setConfirmDeleteState] = useState({ isOpen: false, onConfirm: null, message: '', title: '' });\n    const [profile, setProfile] = useState({});\n    const [isUploading, setIsUploading] = useState(false);\n    const [selectedId, setSelectedId] = useState(null);\n    const [isCalendarLoading, setIsCalendarLoading] = useState(false);\n    const [viewMode, setViewMode] = useState('stack');\n    const [isAddBillingPeriodModalOpen, setIsAddBillingPeriodModalOpen] = useState(false);\n    const [ebmTemplates, setEbmTemplates] = useState([]);\n    const [isZentraleTestModalOpen, setIsZentraleTestModalOpen] = useState(false);\n    const [currentTestToErfassen, setCurrentTestToErfassen] = useState(null);\n    const [testToUpdate, setTestToUpdate] = useState(null);\n\n    const [diagnostikTemplates, setDiagnostikTemplates] = useState([]);\n    const [isAddTemplateModalOpen, setIsAddTemplateModalOpen] = useState(false);\n    const [currentTemplate, setCurrentTemplate] = useState(null);\n    const [editingTemplate, setEditingTemplate] = useState(null);\n    const [isTemplateEditModalOpen, setTemplateEditModalOpen] = useState(false);\n\n\n    const quarterlyDiagnostikAnalysis = useQuarterlyDiagnostikAnalysis(selectedPatient, availableTests);\n    const sortedPatients = useMemo(() => { let sortablePatients = [...patients]; if (sortConfig !== null) { sortablePatients.sort((a, b) => { const valA = a[sortConfig.key] || ''; const valB = b[sortConfig.key] || ''; if (valA < valB) { return sortConfig.direction === 'ascending' ? -1 : 1; } if (valA > valB) { return sortConfig.direction === 'ascending' ? 1 : -1; } return 0; }); } return sortablePatients; }, [patients, sortConfig]);\n\n    const handlePatientSelectPreview = (patient) => {\n        if (selectedId === patient.id) {\n            setSelectedId(null);\n            setSelectedPatient(null);\n        } else {\n            setSelectedPatient(patient);\n            setSelectedId(patient.id);\n        }\n    };\n\n    const handlePatientDoubleClick = (patient) => {\n        setSelectedPatient(patient);\n    };\n\n    const getHighestSessionNumber = (sessions) => { if (!sessions) return 0; const sessionNumbers = sessions.map(s => s.structuredNotes?.sitzungsnummer).filter(n => typeof n === 'number' && !isNaN(n)); return sessionNumbers.length > 0 ? Math.max(...sessionNumbers) : 0; };\n\n    const handleStartManualBilling = (patientId, date, sessionNumber) => {\n        const patient = patients.find(p => p.id === patientId); if (!patient) { setAppError(\"Patient für manuelle Abrechnung nicht gefunden.\"); return; }\n        let finalSessionNumber; const manualNumber = Number(sessionNumber);\n        if (sessionNumber && !isNaN(manualNumber) && manualNumber > 0) { finalSessionNumber = manualNumber; } else { finalSessionNumber = getHighestSessionNumber(patient.sessions) + 1; }\n        const syntheticEvent = { id: `manual_${Date.now()}`, summary: `Manuelle Sitzung (${patient.chiffre})`, start: { dateTime: new Date(date).toISOString() }, sitzungsnummer: finalSessionNumber, isManual: true };\n        handleStartBilling(syntheticEvent);\n    };\n    const fetchNextAppointment = useCallback(async (chiffre) => {\n        if (!chiffre) return;\n        setNextAppointment({ isLoading: true, text: null, error: null });\n        try {\n            const response = await fetch(`http://localhost:3001/api/calendar/nextevent?chiffre=${chiffre}`);\n            if (response.status === 404) { setNextAppointment({ isLoading: false, text: 'Kein zukünftiger Termin gefunden.', error: null }); return; }\n            if (!response.ok) { throw new Error('Kalender-API-Anfrage fehlgeschlagen.'); }\n            const event = await response.json();\n            const startDate = new Date(event.start); const endDate = new Date(event.end); const dateOptions = { day: '2-digit', month: '2-digit', year: 'numeric' }; const timeOptions = { hour: '2-digit', minute: '2-digit' };\n            const formattedDate = startDate.toLocaleDateString('de-DE', dateOptions); const formattedStartTime = startDate.toLocaleTimeString('de-DE', timeOptions); const formattedEndTime = endDate.toLocaleTimeString('de-DE', timeOptions);\n            setNextAppointment({ isLoading: false, text: `Nächster Termin: ${formattedDate} um ${formattedStartTime} bis ${formattedEndTime} Uhr`, error: null });\n        } catch (error) { console.error('Fehler beim Abrufen des Termins:', error); setNextAppointment({ isLoading: false, text: null, error: 'Termin konnte nicht geladen werden.' }); }\n    }, []);\n    const getPatientsCollectionPath = useCallback(() => { if (!userId) return null; return `/artifacts/${firestoreAppId}/users/${userId}/patients`; }, [userId]);\n    const getProfileDocPath = useCallback(() => { if (!userId) return null; return `/artifacts/${firestoreAppId}/users/${userId}/profile/main`; }, [userId]);\n    const getEbmTemplatesCollectionPath = useCallback(() => { if (!userId) return null; return `/artifacts/${firestoreAppId}/users/${userId}/ebm_templates`; }, [userId]);\n    const getDiagnostikTemplatesCollectionPath = useCallback(() => { if (!userId) return null; return `/artifacts/${firestoreAppId}/users/${userId}/diagnostik_templates`; }, [userId]);\n\n    const findIcd10CodeLocal = useCallback((codeToFind) => { const upperCodeToFind = codeToFind.toUpperCase(); let found = localIcd10Data[upperCodeToFind]; if (found) return found; const baseCode = upperCodeToFind.replace(/(\\.-[*]|\\.\\*|[*]|-)$/, ''); found = localIcd10Data[`${baseCode}.-*`] || localIcd10Data[`${baseCode}.*`] || localIcd10Data[baseCode]; if (found) return found; const possibleCategoryCode = Object.keys(localIcd10Data).find(key => key.startsWith(upperCodeToFind) && (localIcd10Data[key].code_kategorie || localIcd10Data[key].code)); if (possibleCategoryCode) return localIcd10Data[possibleCategoryCode]; return null; }, [localIcd10Data]);\n    const handleStartBilling = (event) => {\n        const chiffreMatch = event.summary?.match(/[A-Z][0-9]{6}/); const chiffre = chiffreMatch ? chiffreMatch[0] : null; const targetPatient = patients.find(p => p.chiffre === chiffre);\n        let nextSessionNumber;\n        if (event.sitzungsnummer) { nextSessionNumber = event.sitzungsnummer; } else { nextSessionNumber = 1; if (targetPatient) { const highestSession = getHighestSessionNumber(targetPatient.sessions); nextSessionNumber = highestSession + 1; } }\n        const eventWithSessionNumber = { ...event, sitzungsnummer: nextSessionNumber };\n        setBillingModalState({ isOpen: true, event: eventWithSessionNumber, isEditing: false });\n    };\n    const handleEditSession = (session) => { const event = { id: session.id, summary: `${session.structuredNotes?.thema || 'Sitzung'} (${selectedPatient.chiffre})`, start: { dateTime: session.date }, sitzungsnummer: session.structuredNotes?.sitzungsnummer, initialNotes: session.structuredNotes, initialEbm: session.ebmEntries, }; setBillingModalState({ isOpen: true, event, isEditing: true }); };\n    const handleDeleteSession = async (sessionId) => {\n        if (!selectedPatient) return;\n        const performDelete = async () => {\n            const updatedSessions = selectedPatient.sessions.filter(s => s.id !== sessionId);\n            const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n            try { await setDoc(patientRef, { sessions: updatedSessions }, { merge: true }); setConfirmDeleteState({ isOpen: false }); } catch (error) { console.error(\"Error deleting session: \", error); setAppError(\"Fehler beim Löschen der Sitzung.\"); }\n        };\n        setConfirmDeleteState({ isOpen: true, title: \"Sitzung löschen?\", message: \"Möchten Sie diese Sitzung und alle zugehörigen Abrechnungsdaten wirklich löschen?\", onConfirm: performDelete, });\n    };\n    const handleSaveBilling = async (billingData, isEditing) => {\n        const { chiffre, eventId, eventStart, notes, ebmEntries, sessionId } = billingData;\n        const targetPatient = patients.find(p => p.chiffre === chiffre); if (!targetPatient) { setAppError(`Patient mit Chiffre ${chiffre} nicht gefunden.`); return; }\n        const patientRef = doc(db, getPatientsCollectionPath(), targetPatient.id);\n        let updatedSessions;\n        if (isEditing) {\n            updatedSessions = targetPatient.sessions.map(session => { if (session.id === sessionId) { return { ...session, structuredNotes: notes, ebmEntries: ebmEntries }; } return session; });\n        } else { const newSession = { id: `sess_${Date.now()}`, date: new Date(eventStart).toISOString(), structuredNotes: notes, ebmEntries: ebmEntries, eventId: eventId, homeworkStatus: (notes.hausaufgaben || []).filter(task => task.trim() !== '').map(taskText => ({ text: taskText, done: false, reason: '' })) }; updatedSessions = [...(targetPatient.sessions || []), newSession]; }\n        updatedSessions.sort((a, b) => new Date(b.date) - new Date(a.date));\n        try {\n            await setDoc(patientRef, { sessions: updatedSessions }, { merge: true }); setBillingModalState({ isOpen: false, event: null, isEditing: false }); if (!isEditing) { setActiveDetailTab('abrechnung'); }\n        } catch (err) { setAppError(\"Fehler beim Speichern der Abrechnung.\"); console.error(\"Error saving billing:\", err); }\n    };\n\n    const handleSaveBillingPeriod = async (periodData) => {\n        if (!selectedPatient) return;\n        const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n\n        const newPeriod = {\n            id: `bp_${Date.now()}`,\n            ...periodData\n        };\n\n        const updatedPatientData = {\n            billingPeriods: [...(selectedPatient.billingPeriods || []), newPeriod]\n        };\n\n        const newPeriodDateStr = new Date(newPeriod.date).toISOString().split('T')[0];\n\n        availableTests.forEach(testDef => {\n            const resultKey = `${testDef.id}Results`;\n            const testResults = selectedPatient[resultKey] || [];\n\n            if (testResults.length > 0) {\n                const updatedResults = testResults.map(res => {\n                    const testDateStr = new Date(res.date).toISOString().split('T')[0];\n                    if (testDateStr === newPeriodDateStr && !res.billingPeriodId) {\n                        return { ...res, billingPeriodId: newPeriod.id };\n                    }\n                    return res;\n                });\n                updatedPatientData[resultKey] = updatedResults;\n            }\n        });\n\n        try {\n            await setDoc(patientRef, updatedPatientData, { merge: true });\n            setIsAddBillingPeriodModalOpen(false);\n        } catch (err) {\n            setAppError(`Fehler beim Speichern des Abrechnungszeitraums: ${err.message}`);\n        }\n    };\n\n    const handleDeleteBillingPeriod = async (periodId) => {\n        if (!selectedPatient || !periodId) return;\n        if (!window.confirm(`Möchten Sie diesen Abrechnungszeitraum wirklich löschen? Alle zugeordneten Tests werden wieder als \"nicht zugeordnet\" markiert.`)) { return; }\n        const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n        const updatedTestResults = {};\n        availableTests.forEach(testDef => {\n            const resultKey = `${testDef.id}Results`;\n            if (selectedPatient[resultKey]) {\n                updatedTestResults[resultKey] = selectedPatient[resultKey].map(res => {\n                    if (res.billingPeriodId === periodId) {\n                        return { ...res, billingPeriodId: null };\n                    }\n                    return res;\n                });\n            }\n        });\n        const updatedPeriods = selectedPatient.billingPeriods.filter(p => p.id !== periodId);\n        const updatedPatient = { ...selectedPatient, billingPeriods: updatedPeriods, ...updatedTestResults };\n        setSelectedPatient(updatedPatient);\n        try { await setDoc(patientRef, { billingPeriods: updatedPeriods, ...updatedTestResults }, { merge: true });\n        } catch (err) { setAppError(\"Fehler beim Löschen des Abrechnungszeitraums.\"); console.error(err); }\n    };\n    \n    const handleAddPendingTest = async (test) => {\n        if (!selectedPatient || !test) return;\n\n        const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n        const resultKey = `${test.id}Results`;\n        \n        const newTestResult = {\n            date: new Date().toISOString(),\n            status: 'pending',\n            results: {},\n            testInstanceId: `test_${test.id}_${Date.now()}`,\n            testGrund: 'Einzeltestung',\n            billingPeriodId: null\n        };\n        \n        const updatedTestList = [...(selectedPatient[resultKey] || []), newTestResult];\n        \n        try {\n            await updateDoc(patientRef, { [resultKey]: updatedTestList });\n            alert(`Test \"${test.name}\" wurde zur Liste der ausstehenden Tests hinzugefügt.`);\n        } catch (err) {\n            setAppError(`Fehler beim Hinzufügen des Tests: ${err.message}`);\n        }\n    };\n\n    const handleSaveCompletedTest = async (patientId, testData) => {\n        const { testId, results, date } = testData;\n        if (!patientId || !testId) return;\n    \n        const patientRef = doc(db, getPatientsCollectionPath(), patientId);\n        const targetPatient = patients.find(p => p.id === patientId);\n        if (!targetPatient) return;\n\n        const resultKey = `${testId}Results`;\n        const newTestResult = {\n            date: date,\n            results: results,\n            status: 'completed',\n            testGrund: 'Einzeltestung (Global)',\n            testInstanceId: `test_${testId}_${Date.now()}`,\n            billingPeriodId: null,\n        };\n\n        const updatedTestResultsList = [...(targetPatient[resultKey] || []), newTestResult];\n        try {\n            await updateDoc(patientRef, { [resultKey]: updatedTestResultsList });\n            setIsZentraleTestModalOpen(false);\n        } catch (err) {\n            setAppError(`Fehler beim Speichern des Tests: ${err.message}`);\n        }\n    };\n\n\n    const handleCompletePendingTest = (testToComplete) => {\n        if (!testToComplete) return;\n        setTestToUpdate(testToComplete);\n        const testInfo = availableTests.find(t => t.id === testToComplete.testType);\n        setCurrentTestToErfassen(testInfo);\n        setIsZentraleTestModalOpen(true);\n    };\n\n    const handleUpdateTest = async (testInstanceId, testType, newResults, newDate) => {\n        if (!selectedPatient) return;\n        const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n        const resultKey = `${testType}Results`;\n        const updatedTestList = selectedPatient[resultKey].map(test => {\n            if (test.testInstanceId === testInstanceId) {\n                return { ...test, results: newResults, date: newDate, status: 'completed' };\n            }\n            return test;\n        });\n        try {\n            await updateDoc(patientRef, { [resultKey]: updatedTestList });\n            setIsZentraleTestModalOpen(false);\n            setTestToUpdate(null);\n        } catch (err) {\n            setAppError(`Fehler beim Aktualisieren des Tests: ${err.message}`);\n        }\n    };\n    \n    const handleSaveTestTemplate = async (patientId, template) => {\n        const { name, tests: testIds } = template;\n        if (!patientId || !testIds || testIds.length === 0) return;\n        const patientRef = doc(db, getPatientsCollectionPath(), patientId);\n        const targetPatient = patients.find(p => p.id === patientId);\n        if (!targetPatient) return;\n\n        const updates = {};\n        const timestamp = Date.now();\n        const dateISO = new Date().toISOString();\n\n        testIds.forEach((testId, index) => {\n            const resultKey = `${testId}Results`;\n            const testInstanceId = `test_${testId}_${timestamp + index}`;\n            const newTestResult = {\n                date: dateISO,\n                status: 'pending',\n                results: {},\n                testInstanceId,\n                testGrund: name,\n                billingPeriodId: null\n            };\n            if (!updates[resultKey]) updates[resultKey] = [...(targetPatient[resultKey] || [])];\n            updates[resultKey].push(newTestResult);\n        });\n\n        try {\n            await updateDoc(patientRef, updates);\n            alert(`Testvorlage \"${name}\" für Patient*in ${targetPatient.chiffre} hinzugefügt.`);\n        } catch (err) {\n            setAppError(`Fehler beim Speichern der Testvorlage: ${err.message}`);\n        }\n    };\n\n    const handleUpdateTestGrund = async (testInstanceId, testType, newGrund) => {\n        if (!selectedPatient) return;\n        const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n        const resultKey = `${testType}Results`;\n        const updatedTestList = selectedPatient[resultKey].map(test => {\n            if (test.testInstanceId === testInstanceId) {\n                return { ...test, testGrund: newGrund };\n            }\n            return test;\n        });\n        try {\n            await updateDoc(patientRef, { [resultKey]: updatedTestList });\n        } catch (err) {\n            setAppError(`Fehler beim Aktualisieren des Testgrunds: ${err.message}`);\n        }\n    };\n\n    const handleDeleteTest = async (testInstanceId, testType) => {\n        if (!selectedPatient || !testInstanceId || !testType) { return; }\n        if (!window.confirm(\"Möchten Sie diesen Testeintrag wirklich endgültig löschen?\")) return;\n        \n        const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n        const resultKey = `${testType}Results`;\n        \n        const updatedTestResultsList = (selectedPatient[resultKey] || []).filter(r => r.testInstanceId !== testInstanceId);\n        \n        const updatedPatient = {\n            ...selectedPatient,\n            [resultKey]: updatedTestResultsList,\n        };\n        setSelectedPatient(updatedPatient);\n        \n        try { \n            await updateDoc(patientRef, { [resultKey]: updatedTestResultsList });\n        } catch (err) { \n            setAppError(\"Fehler beim Löschen des Testergebnisses.\");\n            const originalPatient = patients.find(p => p.id === selectedPatient.id);\n            if(originalPatient) setSelectedPatient(originalPatient);\n        }\n    };\n\n    const handleSaveDiagnostikTemplate = async (templateData) => {\n        const collectionPath = getDiagnostikTemplatesCollectionPath();\n        if (!collectionPath) return;\n\n        try {\n             const dataToSave = {\n                name: templateData.name,\n                tests: templateData.tests,\n            };\n            if (templateData.id) {\n                await setDoc(doc(db, collectionPath, templateData.id), dataToSave);\n            } else {\n                await addDoc(collection(db, collectionPath), dataToSave);\n            }\n        } catch (err) {\n            console.error(\"Error saving diagnostik template:\", err);\n            setAppError(`Fehler beim Speichern der Diagnostik-Vorlage: ${err.message}`);\n        }\n    };\n\n    const handleDeleteDiagnostikTemplate = async (templateId) => {\n        const collectionPath = getDiagnostikTemplatesCollectionPath();\n        if (!collectionPath) return;\n        if (window.confirm(\"Möchten Sie diese Diagnostik-Vorlage wirklich löschen?\")) {\n            try {\n                await deleteDoc(doc(db, collectionPath, templateId));\n            } catch (err) {\n                setAppError(`Fehler beim Löschen der Diagnostik-Vorlage: ${err.message}`);\n            }\n        }\n    };\n\n\n    const handleUpdateHomeworkStatus = async (sessionId, homeworkIndex, newStatus) => {\n        if (!selectedPatient || !userId) return;\n        const collectionPath = getPatientsCollectionPath();\n        const patientRef = doc(db, collectionPath, selectedPatient.id);\n        const updatedSessions = JSON.parse(JSON.stringify(selectedPatient.sessions));\n        const sessionToUpdate = updatedSessions.find(s => s.id === sessionId);\n        if (sessionToUpdate && sessionToUpdate.homeworkStatus && sessionToUpdate.homeworkStatus[homeworkIndex]) { Object.assign(sessionToUpdate.homeworkStatus[homeworkIndex], newStatus); }\n        try { await setDoc(patientRef, { sessions: updatedSessions }, { merge: true }); } catch (err) { console.error(\"Error updating homework status:\", err); setAppError(\"Fehler beim Aktualisieren des Hausaufgabenstatus.\"); }\n    };\n    \n    const handleUpdateQuickNote = async (note) => {\n        if (!selectedPatient || !userId) return;\n        const patientRef = doc(db, getPatientsCollectionPath(), selectedPatient.id);\n        try {\n            await updateDoc(patientRef, { quickNote: note });\n        } catch (err) {\n            console.error(\"Error saving quick note:\", err);\n            setAppError(\"Fehler beim Speichern der Notiz.\");\n        }\n    };\n\n    const handleSaveEbmTemplate = async (templateData) => {\n        if (!userId) { setAppError(\"Benutzer nicht authentifiziert.\"); return; }\n        const collectionPath = getEbmTemplatesCollectionPath();\n        if (!collectionPath) return;\n        try {\n            await addDoc(collection(db, collectionPath), templateData);\n        } catch (err) {\n            console.error(\"Error saving EBM template:\", err);\n            setAppError(\"Fehler beim Speichern der EBM-Vorlage.\");\n        }\n    };\n    const handleDeleteEbmTemplate = async (templateId) => {\n        if (!userId) { setAppError(\"Benutzer nicht authentifiziert.\"); return; }\n        const collectionPath = getEbmTemplatesCollectionPath();\n        if (!collectionPath) return;\n        if (!window.confirm(\"Möchten Sie diese Vorlage wirklich löschen?\")) return;\n        try {\n            await deleteDoc(doc(db, collectionPath, templateId));\n        } catch (err) {\n            console.error(\"Error deleting EBM template:\", err);\n            setAppError(\"Fehler beim Löschen der EBM-Vorlage.\");\n        }\n    };\n    \n    const handleOpenZentraleTestModal = (test) => {\n        setCurrentTestToErfassen(test);\n        setTestToUpdate(null);\n        setIsZentraleTestModalOpen(true);\n    };\n    \n    const handleOpenTemplateModal = (template) => {\n        setCurrentTemplate(template);\n        setIsAddTemplateModalOpen(true);\n    };\n\n    // --- useEffects ---\n    useEffect(() => { const timer = setTimeout(() => { setIsInitialLoading(false); }, 1500); return () => clearTimeout(timer); }, []);\n    useEffect(() => { if (mainView === 'kalender') { setIsCalendarLoading(true); const timer = setTimeout(() => { setIsCalendarLoading(false); }, 1500); return () => clearTimeout(timer); } }, [mainView]);\n    useEffect(() => { if (ebmData.length === 0) { fetch('/ebm_data_full.json').then(res => res.json()).then(setEbmData).catch(err => console.error(\"Failed to load EBM data\", err)); } }, [ebmData.length]);\n    useEffect(() => {\n        if (mainView === 'abrechnung') {\n            setIsLoadingAppointments(true);\n            fetch('http://localhost:3001/api/calendar/past-events')\n                .then(res => { if (!res.ok) { return res.json().then(errorData => { throw new Error(errorData.message || `Serverfehler: ${res.status}`); }); } return res.json(); })\n                .then(calendarEvents => {\n                    if (!Array.isArray(calendarEvents)) { throw new Error(\"Unerwartetes Datenformat vom Server erhalten.\"); };\n                    const billedEventIds = new Set();\n                    patients.forEach(p => { (p.sessions || []).forEach(s => { if (s.eventId) billedEventIds.add(s.eventId); }); });\n                    const unbilled = calendarEvents.filter(event => !billedEventIds.has(event.id) && event.summary?.match(/[A-Z][0-9]{6}/));\n                    setUnbilledAppointments(unbilled);\n                })\n                .catch(err => { if (err.message && err.message.includes('Nicht bei Google authentifiziert')) { setAppError(`Kalender-Fehler: Sie müssen sich erneut bei Google authentifizieren. Rufen Sie dazu im Browser auf: http://localhost:3001/auth/google`); } else { setAppError(`Offene Abrechnungen konnten nicht geladen werden: ${err.message}`); } })\n                .finally(() => setIsLoadingAppointments(false));\n        }\n    }, [mainView, patients]);\n    useEffect(() => { if (selectedPatient) { fetchNextAppointment(selectedPatient.chiffre); } else { setNextAppointment({ isLoading: false, text: null, error: null }); } }, [selectedPatient, fetchNextAppointment]);\n    useEffect(() => { fetch('/icd10f_data.json').then(response => { if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`); return response.json(); }).then(data => { const indexedData = {}; data.forEach(item => { if (item.code) { indexedData[item.code.toUpperCase()] = item; } }); setLocalIcd10Data(indexedData); }).catch(error => { console.error(\"Fehler beim Laden der lokalen ICD-10 Daten:\", error); setAppError(\"Lokale ICD-10 Daten konnten nicht geladen werden. \" + error.message); }); }, []);\n    useEffect(() => { if (selectedPatient && !selectedId) { setEditableKrankheitsanamnese(selectedPatient.krankheitsanamnese || \"\"); setEditableLebensgeschichte(selectedPatient.lebensgeschichte || \"\"); setEditableProblemanalyseMakro(selectedPatient.problemanalyseMakro || \"\"); setEditableTherapieplan(selectedPatient.therapieplan || \"\"); if (detailViewRef.current) { setTimeout(() => { detailViewRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' }); }, 100); } } else { setEditableKrankheitsanamnese(\"\"); setEditableLebensgeschichte(\"\"); setEditableProblemanalyseMakro(\"\"); setEditableTherapieplan(\"\"); } }, [selectedPatient, selectedId]);\n    useEffect(() => { if (newDiagnosisCode.trim() !== '') { const found = findIcd10CodeLocal(newDiagnosisCode.trim().toUpperCase()); if (found && found.name) { setLookedUpDiagnosisName(found.name); } else { setLookedUpDiagnosisName(''); } } else { setLookedUpDiagnosisName(''); } }, [newDiagnosisCode, findIcd10CodeLocal]);\n    useEffect(() => { const unsubscribe = onAuthStateChanged(auth, (user) => { if (user) { setUserId(user.uid); } else { setUserId(null); } setIsAuthReady(true); setIsLoading(false); }); return () => unsubscribe(); }, []);\n    \n    const seedInitialData = useCallback(async (collectionPath) => {\n        if (!userId || !collectionPath) return;\n        try {\n            const patientsCollection = collection(db, collectionPath);\n            const querySnapshot = await getDocs(patientsCollection);\n            if (querySnapshot.empty) { const batch = writeBatch(db); initialPatientsData.forEach(patientData => { const newPatientRef = doc(patientsCollection); batch.set(newPatientRef, { ...patientData, hscl11Results: patientData.hscl11Results || [], bdi2Results: patientData.bdi2Results || [], fep2Results: patientData.fep2Results || [], scl90rResults: patientData.scl90rResults || [], gad7Results: patientData.gad7Results || [], coreOmResults: patientData.coreOmResults || [], iipcResults: patientData.iipcResults || [], diagnoses_icd11: patientData.diagnoses_icd11 || [], billingPeriods: patientData.billingPeriods || [], krankheitsanamnese: patientData.krankheitsanamnese || \"\", lebensgeschichte: patientData.lebensgeschichte || \"\", problemanalyseMakro: patientData.problemanalyseMakro || \"\", therapieplan: patientData.therapieplan || \"\" }); }); await batch.commit(); }\n        } catch (err) { console.error(\"Error seeding initial data:\", err); setAppError(\"Fehler beim Laden der initialen Daten.\"); }\n    }, [userId]);\n\n    useEffect(() => {\n        if (!isAuthReady || !userId) { \n            setPatients([]); \n            setProfile({}); \n            setEbmTemplates([]);\n            setDiagnostikTemplates([]);\n            return; \n        }\n        \n        const unsubscribes = [];\n        setIsLoading(true);\n\n        const paths = [\n            { path: getPatientsCollectionPath(), setter: setPatients, process: (docs) => docs.map(d => ({ id: d.id, ...d.data() })).sort((a,b) => (a.name || \"\").localeCompare(b.name || \"\"))},\n            { path: getProfileDocPath(), setter: setProfile, isDoc: true },\n            { path: getEbmTemplatesCollectionPath(), setter: setEbmTemplates, process: (docs) => docs.map(d => ({id: d.id, ...d.data()})) },\n            { path: getDiagnostikTemplatesCollectionPath(), setter: setDiagnostikTemplates, process: (docs) => docs.map(d => ({id: d.id, ...d.data()})) }\n        ];\n        \n        seedInitialData(getPatientsCollectionPath());\n\n        paths.forEach(({ path, setter, process, isDoc }) => {\n            if (path) {\n                if (isDoc) {\n                    unsubscribes.push(onSnapshot(doc(db, path), (docSnap) => {\n                        setter(docSnap.exists() ? docSnap.data() : {});\n                    }));\n                } else {\n                    unsubscribes.push(onSnapshot(query(collection(db, path)), (snapshot) => {\n                        const data = process ? process(snapshot.docs) : snapshot.docs.map(d => ({ id: d.id, ...d.data() }));\n                        setter(data);\n                    }));\n                }\n            }\n        });\n        \n        setIsLoading(false);\n        return () => unsubscribes.forEach(unsub => unsub());\n    }, [isAuthReady, userId, getDiagnostikTemplatesCollectionPath, getEbmTemplatesCollectionPath, getPatientsCollectionPath, getProfileDocPath, seedInitialData]);\n\n\n    useEffect(() => {\n        if (selectedPatient) {\n            const currentPatientDataFromList = patients.find(p => p.id === selectedPatient.id);\n            if (currentPatientDataFromList) {\n                if (JSON.stringify(currentPatientDataFromList) !== JSON.stringify(selectedPatient)) {\n                    setSelectedPatient(currentPatientDataFromList);\n                }\n            } else {\n                setSelectedPatient(null);\n                setSelectedId(null);\n            }\n        }\n    }, [patients, selectedPatient]);\n\n    useEffect(() => { const loadIcd10Data = async () => { try { const response = await fetch('/icd10f_data.json'); if (!response.ok) { throw new Error(`HTTP error! status: ${response.status}`); } const data = await response.json(); const indexedData = {}; data.forEach(item => { if (item.code) { indexedData[item.code.toUpperCase()] = item; const baseCode = item.code.replace(/[*†]/, '').toUpperCase(); if (baseCode !== item.code.toUpperCase()) { indexedData[baseCode] = item; } } }); setLocalIcd10Data(indexedData); } catch (error) { console.error(\"Fehler beim Laden der lokalen ICD-10 Daten:\", error); setAppError(\"Lokale ICD-10 Daten konnten nicht geladen werden. \" + error.message); } }; loadIcd10Data(); }, []);\n\n    const bdiCutoffs = [{ y1: 0, y2: 8, label: \"Keine Depression\", color: \"rgba(75, 192, 192, 0.2)\" }, { y1: 9, y2: 13, label: \"Minimale Depression\", color: \"rgba(54, 162, 235, 0.2)\" }, { y1: 14, y2: 19, label: \"Leichte Depression\", color: \"rgba(255, 206, 86, 0.2)\" }, { y1: 20, y2: 28, label: \"Mittelschwere Depression\", color: \"rgba(255, 159, 64, 0.2)\" }, { y1: 29, y2: 63, label: \"Schwere Depression\", color: \"rgba(255, 99, 132, 0.2)\" }];\n    const bdiAxisTicks = [0, 8, 13, 19, 28, 63];\n\n    const handleAuthAction = async (isRegistering) => { setIsAuthLoading(true); setAuthError(null); try { if (isRegistering) { await createUserWithEmailAndPassword(auth, email, password); } else { await signInWithEmailAndPassword(auth, email, password); } setEmail(\"\"); setPassword(\"\"); } catch (error) { console.error(\"Authentication error:\", error); setAuthError(error.message); } finally { setIsAuthLoading(false); } };\n    const handleLogout = async () => { try { await signOut(auth); setSelectedPatient(null); setPatients([]); } catch (error) { console.error(\"Error signing out: \", error); setAppError(\"Fehler beim Abmelden.\"); } };\n    const handleSavePatient = async (patientData) => {\n        if (!userId) { setAppError(\"Benutzer nicht authentifiziert.\"); return; }\n        const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n        const dataToSave = { \n            name: patientData.name || '', \n            vorname: patientData.vorname || '', \n            chiffre: patientData.chiffre || '', \n            geburtsdatum: patientData.geburtsdatum || '', \n            adresse: patientData.adresse || '', \n            email: patientData.email || '', \n            telefon: patientData.telefon || '', \n            krankenkasse: patientData.krankenkasse || '', \n            versichertennummer: patientData.versichertennummer || '', \n            approvedHours: patientData.approvedHours || 0, \n            therapeuticMethods: patientData.therapeuticMethods || [], \n            diagnoses: patientData.diagnoses || [], \n            diagnoses_icd11: patientData.diagnoses_icd11 || [], \n            sessions: patientData.sessions || [], \n            hscl11Results: patientData.hscl11Results || [], \n            bdi2Results: patientData.bdi2Results || [], \n            fep2Results: patientData.fep2Results || [], \n            scl90rResults: patientData.scl90rResults || [], \n            gad7Results: patientData.gad7Results || [],\n            coreOmResults: patientData.coreOmResults || [],\n            iipcResults: patientData.iipcResults || [],\n            billingPeriods: patientData.billingPeriods || [], \n            krankheitsanamnese: patientData.krankheitsanamnese || \"\", \n            lebensgeschichte: patientData.lebensgeschichte || \"\", \n            problemanalyseMakro: patientData.problemanalyseMakro || \"\", \n            therapieplan: patientData.therapieplan || \"\" \n        };\n        try { if (editingPatient && editingPatient.id) { const patientRef = doc(db, collectionPath, editingPatient.id); await setDoc(patientRef, dataToSave, { merge: true }); } else { await addDoc(collection(db, collectionPath), dataToSave); } setIsPatientModalOpen(false); setEditingPatient(null); } catch (err) { console.error(\"Error saving patient:\", err); setAppError(`Fehler beim Speichern des Patienten: ${err.message}`); }\n    };\n    const handleAddDiagnosis = async () => {\n        const codeToAdd = newDiagnosisCode.trim().toUpperCase(); if (!selectedPatient || !codeToAdd || !userId) { setAppError(\"Bitte füllen Sie alle erforderlichen Felder aus.\"); return; }\n        const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return;\n        const sicherheitPrefix = newDiagnosisSicherheit ? `[${newDiagnosisSicherheit}] ` : \"\";\n        const beschreibung = newDiagnosis.trim() ? `: ${newDiagnosis.trim()}` : (lookedUpDiagnosisName ? `: ${lookedUpDiagnosisName}` : \"\");\n        const diagnosisString = `${sicherheitPrefix}${codeToAdd}${beschreibung}`;\n        const updatedDiagnoses = [...(selectedPatient.diagnoses || []), diagnosisString];\n        const patientRef = doc(db, collectionPath, selectedPatient.id);\n        try {\n            await setDoc(patientRef, { diagnoses: updatedDiagnoses }, { merge: true }); setNewDiagnosisCode(''); setNewDiagnosis(''); setLookedUpDiagnosisName(''); setNewDiagnosisSicherheit('G');\n        } catch (err) { console.error(\"Error adding diagnosis:\", err); setAppError(\"Fehler beim Hinzufügen der Diagnose.\"); }\n    };\n    const handleRemoveDiagnosis = async (diagnosisStringToRemove) => { if (!selectedPatient || !userId) return; const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return; const updatedDiagnoses = selectedPatient.diagnoses.filter(d => d !== diagnosisStringToRemove); const patientRef = doc(db, collectionPath, selectedPatient.id); try { await setDoc(patientRef, { diagnoses: updatedDiagnoses }, { merge: true }); } catch (err) { console.error(\"Error removing diagnosis:\", err); setAppError(\"Fehler beim Entfernen der Diagnose.\"); } };\n    const handleKrankheitsmodellChange = async (fieldName, value) => { if (!selectedPatient || !userId) return; const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return; const patientRef = doc(db, collectionPath, selectedPatient.id); try { await setDoc(patientRef, { [fieldName]: value }, { merge: true }); } catch (err) { console.error(`Error updating ${fieldName}:`, err); setAppError(`Fehler beim Speichern von ${fieldName}.`); } };\n    const handleTherapeutischeAssistenzAnfordern = async () => {\n        if (!selectedPatient) { setAssistenzError(\"Bitte wählen Sie zuerst einen Patienten aus.\"); return; }\n        setIsLoadingTherapeutischeAssistenz(true); setTherapeutischeAssistenzOutput(\"\"); setAssistenzError(null);\n        const conductedHours = getHighestSessionNumber(selectedPatient.sessions);\n        const patientenDatenText = `Hier sind die relevanten Patientendaten:\\n**Krankheitsanamnese:**\\n${selectedPatient.krankheitsanamnese || \"Keine Angaben.\"}\\n**Lebensgeschichte/Biografie:**\\n${selectedPatient.lebensgeschichte || \"Keine Angaben.\"}\\n**Problemanalyse auf Makroebene:**\\n${selectedPatient.problemanalyseMakro || \"Keine Angaben.\"}\\n**Therapieplanung (bisherig):**\\n${selectedPatient.therapieplan || \"Keine Angaben.\"}\\n**Verlaufsdokumentation (Sitzungsnotizen):**\\n${(selectedPatient.sessions || []).map((s, i) => `Sitzung ${s.structuredNotes?.sitzungsnummer || i + 1} (${new Date(s.date).toLocaleDateString('de-DE')}): ${s.structuredNotes?.patientenbericht || s.notes}`).join(\"\\n\\n\") || \"Keine Sitzungsnotizen vorhanden.\"}\\n**Diagnosen:**\\n${(selectedPatient.diagnoses || []).join(\", \") || \"Keine Diagnosen erfasst.\"}\\n**Genehmigte Stunden:** ${selectedPatient.approvedHours}\\n**Durchgeführte Stunden:** ${conductedHours}`;\n        const systemPrompt = `Du bist ein interdisziplinäres Expertenteam, bestehend aus erfahrenen Verhaltenstherapeuten wie Jürgen Margraf, Dr. Stavemann, Aaron T. Beck, Judith Beck und Jonathan S. Abramowitz sowie aus leitenden Chefärzten und Psychiatern wie Prof. Dr. Mathias Berger. Das Team verfügt über exzellente Fachkompetenz in der evidenzbasierten psychotherapeutischen Praxis und legt besonderen Wert auf präzise medizinische Dokumentation sowie therapeutische Qualität. Darüber hinaus gehören auch international anerkannte Experten wie David H. Barlow, Stefan G. Hofmann und Steven Hayes zum Team. Du verfügst über tiefgehendes Wissen in Ansätzen der sogenannten „dritten Welle“ der Verhaltenstherapie, insbesondere in ACT, Schematherapie und DBT.\\nDeine Aufgabe ist es, auf Grundlage folgender Elemente, welche du aus den bereitgestellten Patientendaten entnimmst:\\n- Krankheitsanamnese, Lebensgeschichte/Biografie, Problemanalyse auf Makroebene, Therapieplanung (bisherig), Verlaufsdokumentation (Sitzungsnotizen)\\neine strukturierte Rückmeldung zu geben mit dem Ziel:\\n1. Wesentliche Schwerpunkte in der weiteren Therapieplanung zu identifizieren.\\n2. Konkrete Interventionsideen zu formulieren, orientiert an den zugelassenen Stunden.\\n3. Hinweise zu geben, worauf in der Strukturierung der Sitzungen geachtet werden sollte (z.B. Themenfokus, Symptomschwere, Therapiezielorientierung).\\nBerücksichtige dabei:\\n• Die begrenzte Anzahl genehmigter Stunden. • Dass Themen nicht zu häufig gewechselt werden sollen. • Die Konsistenz und Nachvollziehbarkeit im Verlauf.\\nBitte plane deine Analyse gründlich und reflektiert. Handle in Etappen:\\n1. Diagnostische Schwerpunkte benennen, 2. Therapieziele definieren, 3. Interventionsvorschläge machen, 4. Hinweise zur Dokumentation geben\\nAtme einmal tief ein und aus und nehme dir Zeit für die Aufgabe. Mache bitte weiter, bis das Problem vollständig gelöst ist. Planen bitte ausführlich vor jeder Aktion.\\nHier sind die Daten des aktuellen Falls:\\n${patientenDatenText}\\nBitte gib deine strukturierte Rückmeldung.`;\n        try { const assistenz = await generateGeminiText(systemPrompt); setTherapeutischeAssistenzOutput(assistenz); } catch (e) { setAssistenzError(`Fehler bei der Anforderung der therapeutischen Assistenz: ${e.message}`); } finally { setIsLoadingTherapeutischeAssistenz(false); }\n    };\n    const showDiagnosisInfo = (diagnosisString) => { const sicherheitMatch = diagnosisString.match(/^\\[([AVGZN]+)\\]\\s*/i); const sicherheit = sicherheitMatch ? sicherheitMatch[1].toUpperCase() : ''; const codeAndName = sicherheitMatch ? diagnosisString.substring(sicherheitMatch[0].length) : diagnosisString; const codeMatch = codeAndName.match(/^([A-Z][0-9]{1,2}(\\.[0-9A-Z]{1,2})?[*†]?)/i); const code = codeMatch ? codeMatch[0].toUpperCase() : codeAndName.split(':')[0].trim().toUpperCase(); const localData = findIcd10CodeLocal(code); if (localData) { setDiagnosisInfo({ code: localData.code || code, name: localData.name || '', beschreibung: localData.beschreibung || localData.beschreibung_kategorie || '', inkl: localData.inkl || [], exkl: localData.exkl || [], hinweise: localData.hinweise || [], zusatz_info_code: localData.zusatz_info_code || '', sicherheit: sicherheit, isLoading: false, error: null, isOpen: true, source: 'local' }); } else { setDiagnosisInfo({ code: code, name: \"Unbekannter ICD-10 Code\", isLoading: false, error: `Für den ICD-10 Code \"${code}\" wurden keine Informationen in der lokalen Datenbank gefunden.`, isOpen: true, source: 'error' }); } };\n    const fetchIcd11Details = async (diagnosis) => { if (!diagnosis || !diagnosis.uri) { setAppError(\"Keine gültige URI für die ICD-11 Diagnose vorhanden.\"); return; } const { code, title, uri } = diagnosis; setDiagnosisInfo({ code: code, name: title, isLoading: true, error: null, isOpen: true, source: 'api' }); try { const response = await fetch(`http://localhost:3001/api/icd11-info?uri=${encodeURIComponent(uri)}`); if (!response.ok) { const errorData = await response.json(); throw new Error(errorData.message || 'API-Anfrage fehlgeschlagen'); } const fullData = await response.json(); setDiagnosisInfo({ code: fullData.code || code, name: fullData.title?.['@value'] || title, beschreibung: fullData.definition?.['@value'] || '', diagnosticCriteria: fullData.diagnosticCriteria, inclusions: fullData.inclusion, exclusions: fullData.exclusion, isLoading: false, error: null, isOpen: true, source: 'api_detail' }); } catch (error) { console.error('Fehler beim Abrufen der ICD-11 Details:', error); setDiagnosisInfo({ code: code, isLoading: false, error: `Konnte Informationen für ${code} nicht laden: ${error.message}`, isOpen: true, source: 'api' }); } };\n    const handleAssignIcd11Diagnosis = async (patientId, icd11Entity) => { if (!patientId || !icd11Entity || !userId) return; const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return; const patientRef = doc(db, collectionPath, patientId); const targetPatient = patients.find(p => p.id === patientId); if (!targetPatient) { setAppError(\"Ziel-Patient konnte nicht gefunden werden.\"); return; } const newDiagnosis = { code: icd11Entity.code, title: icd11Entity.selectedText, uri: icd11Entity.linearizationUri || icd11Entity.foundationUri, date: new Date().toISOString() }; const updatedDiagnoses = [...(targetPatient.diagnoses_icd11 || []), newDiagnosis]; try { await setDoc(patientRef, { diagnoses_icd11: updatedDiagnoses }, { merge: true }); } catch (err) { console.error(\"Error assigning ICD-11 diagnosis:\", err); setAppError(\"Fehler beim Zuweisen der ICD-11 Diagnose.\"); } };\n    const handleRemoveIcd11Diagnosis = async (diagnosisToRemove) => { if (!selectedPatient || !userId) return; const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return; const updatedDiagnoses = selectedPatient.diagnoses_icd11.filter(d => d.date !== diagnosisToRemove.date); const patientRef = doc(db, collectionPath, selectedPatient.id); try { await setDoc(patientRef, { diagnoses_icd11: updatedDiagnoses }, { merge: true }); } catch (err) { console.error(\"Error removing ICD-11 diagnosis:\", err); setAppError(\"Fehler beim Entfernen der ICD-11 Diagnose.\"); } };\n    const handleAcceptImprovement = async () => { if (improvementState.sessionIndex === null || !selectedPatient || !userId) return; const collectionPath = getPatientsCollectionPath(); if (!collectionPath) return; const updatedSessions = JSON.parse(JSON.stringify(selectedPatient.sessions)); updatedSessions[improvementState.sessionIndex].notes = improvementState.improvedText; const patientRef = doc(db, collectionPath, selectedPatient.id); try { await setDoc(patientRef, { sessions: updatedSessions }, { merge: true }); setImprovementState({ isOpen: false, isLoading: false, originalText: '', improvedText: '', sessionIndex: null, error: null }); } catch (err) { console.error(\"Error updating session note:\", err); setAppError(\"Fehler beim Aktualisieren der Sitzungsnotiz.\"); } };\n    const handleSaveProfile = async (profileData) => { if (!userId) { setAppError(\"Benutzer nicht authentifiziert.\"); return; } const profileDocRef = doc(db, getProfileDocPath()); try { await setDoc(profileDocRef, profileData, { merge: true }); alert(\"Profil erfolgreich gespeichert!\"); } catch (err) { console.error(\"Error saving profile:\", err); setAppError(`Fehler beim Speichern des Profils: ${err.message}`); } };\n    const handleUploadFile = async (file, path) => { if (!userId) throw new Error(\"Benutzer nicht authentifiziert.\"); setIsUploading(true); const storageRef = ref(storage, `users/${userId}/${path}/${file.name}`); try { const snapshot = await uploadBytes(storageRef, file); const downloadURL = await getDownloadURL(snapshot.ref); return downloadURL; } catch (error) { console.error(\"Upload failed\", error); throw error; } finally { setIsUploading(false); } };\n\n    const inputStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-teal-500 focus:border-teal-500 sm:text-sm\";\n    const btnPrimary = \"bg-teal-600 hover:bg-teal-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm flex items-center justify-center transition-colors\";\n    const btnDanger = \"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-3 rounded-md flex items-center transition-colors\";\n    const btnInfo = \"bg-sky-500 hover:bg-sky-600 text-white font-semibold py-1 px-2 text-xs rounded-md flex items-center transition-colors\";\n    const textareaStd = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-teal-500 focus:border-teal-500 sm:text-sm min-h-[150px]\";\n\n    const selectedIndex = useMemo(() => selectedId ? sortedPatients.findIndex(p => p.id === selectedId) : -1, [selectedId, sortedPatients]);\n    const compactHeight = 160;\n    const expandedHeight = 620;\n    const overlap = 120;\n    const visibleHeight = compactHeight - overlap;\n    const totalHeight = (sortedPatients.length * visibleHeight) + overlap + (selectedIndex !== -1 ? (expandedHeight - compactHeight) : 0);\n\n    const Sidebar = ({ currentView, setView }) => {\n        const navItems = [\n            { id: 'dashboard', label: 'Dashboard', icon: <HomeIcon />, type: 'item' }, // *** NEU ***\n            { id: 'profile', label: 'Profil', icon: <SettingsIcon />, type: 'item' },\n            { id: 'kalender', label: 'Kalender', icon: <CalendarIcon />, type: 'item' },\n            { type: 'heading', label: 'Patienten' },\n            { id: 'patients', label: 'Patientenübersicht', icon: <Users />, type: 'item' },\n            { type: 'heading', label: 'Verwaltung' },\n            { id: 'abrechnung', label: 'Abrechnung', icon: <DollarSignIcon />, type: 'item' },\n            { id: 'diagnostik', label: 'Diagnostik', icon: <BeakerIcon />, type: 'item' },\n            { id: 'formulare', label: 'Formulare', icon: <PaperclipIcon />, type: 'item' },\n            { type: 'heading', label: 'Nachschlagewerke' },\n            { id: 'ebm', label: 'EBM', icon: <List />, type: 'item' },\n            { id: 'ebm_templates', label: 'EBM Vorlagen', icon: <ClipboardListIcon />, type: 'item' },\n            { id: 'icd11', label: 'ICD-11', icon: <BookOpen />, type: 'item' },\n            { id: 'methoden', label: 'Behandlungsmethoden', icon: <LayersIcon />, type: 'item' },\n        ];\n\n        return (\n            <aside className=\"w-64 bg-slate-100 border-r border-slate-200 flex flex-col\">\n                <div className=\"p-4 border-b border-slate-200\"><h1 className=\"text-xl font-bold text-teal-700 tracking-tight\">Therapie-Dashboard</h1></div>\n                <nav className=\"flex-1 p-4 space-y-1\">\n                    {navItems.map((item, index) =>\n                        item.type === 'heading' ? (\n                            <h3 key={`heading-${index}`} className=\"px-3 pt-4 pb-1 text-xs font-semibold text-gray-500 uppercase tracking-wider\">{item.label}</h3>\n                        ) : (\n                            <button key={item.id} onClick={() => { setView(item.id); setSelectedPatient(null); }} className={`w-full flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${currentView === item.id ? 'bg-teal-100 text-teal-800' : 'text-slate-700 hover:bg-slate-200'}`}>\n                                {item.icon}\n                                <span>{item.label}</span>\n                            </button>\n                        ))}\n                </nav>\n                <div className=\"p-4 border-t border-slate-200\"><p className=\"text-xs text-slate-500\">UserID: {userId}</p></div>\n            </aside>\n        );\n    };\n\n    const PatientDetailHeader = ({ patient, onDeselect, onEdit }) => {\n        const therapyStartDate = useMemo(() => { if (!patient || !patient.sessions) return \"-\"; const firstSession = patient.sessions.filter(s => s.structuredNotes?.sitzungsnummer === 1).sort((a, b) => new Date(a.date) - new Date(b.date))[0]; return firstSession ? new Date(firstSession.date).toLocaleDateString('de-DE') : '-'; }, [patient]);\n        const conductedHours = useMemo(() => getHighestSessionNumber(patient?.sessions), [patient]);\n        return (<>\n            <div className=\"flex justify-between items-center mb-1\">\n                <h3 className=\"text-2xl font-semibold text-gray-800\">{patient.vorname} {patient.name}</h3>\n                <div className=\"flex items-center space-x-2\">\n                    <button onClick={onEdit} className=\"text-gray-500 hover:text-teal-600 p-1 rounded-full hover:bg-gray-100 transition-colors\" title=\"Stammdaten bearbeiten\">\n                        <Edit3 />\n                    </button>\n                    <button onClick={onDeselect} className=\"text-gray-400 hover:text-gray-600\"><XCircle /></button>\n                </div>\n            </div>\n            <div className=\"mb-4 text-sm text-gray-500 grid grid-cols-2 md:grid-cols-4 gap-x-4 gap-y-1\"> <span><strong className=\"font-semibold\">Kasse:</strong> {patient.krankenkasse || '-'}</span> <span><strong className=\"font-semibold\">Vers.-Nr.:</strong> {patient.versichertennummer || '-'}</span> <span><strong className=\"font-semibold\">Therapiebeginn:</strong> {therapyStartDate}</span> <span><strong className=\"font-semibold\">Stunden:</strong> {conductedHours} / {patient.approvedHours}</span> </div>\n        </>);\n    };\n\n    if (isInitialLoading) {\n        return (\n            <div className=\"flex justify-center items-center h-screen bg-slate-100\">\n                <DotLottieReact\n                    src=\"https://lottie.host/db9305b2-bb1c-47b1-9c19-d2d744a378b1/yrWh6LccRW.json\"\n                    loop\n                    autoplay\n                />\n            </div>\n        );\n    }\n\n    if (!isAuthReady) return <div className=\"flex justify-center items-center h-screen text-xl font-semibold text-gray-600 bg-slate-100\">Authentifizierung wird initialisiert...</div>;\n    if (!userId) { return (<div className=\"min-h-screen bg-slate-100 flex flex-col justify-center items-center p-4\"> <div className=\"bg-white p-8 rounded-lg shadow-md w-full max-w-md border border-gray-200\"> <h1 className=\"text-2xl font-bold text-center text-gray-800 mb-8\">{isLoginView ? \"Login Patientenverwaltung\" : \"Registrierung\"}</h1> {authError && <p className=\"bg-red-100 text-red-700 p-3 rounded-md mb-4 text-sm\">{authError}</p>} <form onSubmit={(e) => { e.preventDefault(); handleAuthAction(!isLoginView); }} className=\"space-y-6\"> <div><label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">E-Mail Adresse</label><input type=\"email\" name=\"email\" id=\"email\" required value={email} onChange={(e) => setEmail(e.target.value)} className={inputStd} /></div> <div><label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">Passwort</label><input type=\"password\" name=\"password\" id=\"password\" required value={password} onChange={(e) => setPassword(e.target.value)} className={inputStd} /></div> <button type=\"submit\" disabled={isAuthLoading} className={`${btnPrimary} w-full py-2.5 text-base ${isAuthLoading ? 'opacity-50 cursor-not-allowed' : ''}`}>{isAuthLoading ? (isLoginView ? \"Anmelden...\" : \"Registrieren...\") : (isLoginView ? \"Anmelden\" : \"Registrieren\")}</button> </form> <button onClick={() => { setIsLoginView(!isLoginView); setAuthError(null); }} className=\"mt-6 text-sm text-teal-600 hover:text-teal-500 text-center w-full\">{isLoginView ? \"Noch kein Konto? Jetzt registrieren.\" : \"Bereits registriert? Zum Login.\"}</button> </div> </div>); }\n\n    return (\n        <div className=\"h-screen w-full bg-slate-50 font-sans flex overflow-hidden\">\n            <Sidebar currentView={mainView} setView={setMainView} />\n            <div className=\"flex-1 flex flex-col\">\n                <header className=\"bg-white border-b border-slate-200\"><div className=\"mx-auto px-6 py-3 flex justify-between items-center\"><h2 className=\"text-xl font-semibold text-gray-800 capitalize\">{mainView.replace(/_/g, ' ')}</h2><button onClick={handleLogout} className=\"text-gray-500 hover:text-red-600 hover:bg-red-50 p-2 rounded-md text-sm flex items-center transition-colors\"><LogOut className=\"mr-2 h-4 w-4\" /> Logout</button></div></header>\n                <main className=\"flex-1 overflow-y-auto p-6 relative\">\n                    <ConfirmationModal isOpen={confirmDeleteState.isOpen} onClose={() => setConfirmDeleteState({ isOpen: false })} onConfirm={confirmDeleteState.onConfirm} title={confirmDeleteState.title} message={confirmDeleteState.message} />\n                    <Modal isOpen={isPatientModalOpen} onClose={() => setIsPatientModalOpen(false)} title={editingPatient ? \"Patient bearbeiten\" : \"Neuen Patienten anlegen\"}><PatientForm patient={editingPatient} onSave={handleSavePatient} onCancel={() => setIsPatientModalOpen(false)} /></Modal>\n                    \n                    {mainView === 'dashboard' && <Dashboard patients={patients} profile={profile} />}\n                    {mainView === 'profile' && (<Profile initialProfile={profile} onSave={handleSaveProfile} onUploadFile={handleUploadFile} isUploading={isUploading} />)}\n                    {mainView === 'abrechnung' && (<Billing unbilledAppointments={unbilledAppointments} isLoading={isLoadingAppointments} onStartBilling={handleStartBilling} onStartManualBilling={() => setIsManualBillingSetupOpen(true)} />)}\n                    \n                    {mainView === 'patients' && (\n                        !selectedPatient ? (\n                            <div>\n                                <div className=\"mb-4 flex justify-between items-center\">\n                                    <h3 className=\"text-2xl font-semibold text-gray-800\">Patientenübersicht</h3>\n                                    <div className=\"flex items-center gap-4\">\n                                        <div className=\"flex items-center gap-1 bg-gray-200 p-1 rounded-lg\">\n                                            <button onClick={() => setViewMode('grid')} className={`p-1.5 rounded-md ${viewMode === 'grid' ? 'bg-white shadow' : 'text-gray-500 hover:bg-white/50'}`} title=\"Rasteransicht\"><LayoutGridIcon /></button>\n                                            <button onClick={() => setViewMode('stack')} className={`p-1.5 rounded-md ${viewMode === 'stack' ? 'bg-white shadow' : 'text-gray-500 hover:bg-white/50'}`} title=\"Stapelansicht\"><LayersIcon /></button>\n                                        </div>\n                                        <button onClick={() => { setEditingPatient(null); setIsPatientModalOpen(true); }} className={btnPrimary}>\n                                            <UserPlus className=\"w-5 h-5 mr-2\" /> Patient hinzufügen\n                                        </button>\n                                    </div>\n                                </div>\n                                {viewMode === 'grid' && (\n                                    <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n                                        {isLoading && <p className=\"col-span-full text-center py-10 text-gray-500\">Lade Patienten...</p>}\n                                        {!isLoading && sortedPatients.map((patient) => (\n                                            <motion.div\n                                                key={patient.id}\n                                                layoutId={patient.id}\n                                                onDoubleClick={() => handlePatientDoubleClick(patient)}\n                                                className=\"bg-white rounded-lg shadow-md cursor-pointer hover:shadow-xl transition-shadow duration-300\"\n                                            >\n                                                <div className=\"p-4 border-b-4 border-teal-500\">\n                                                    <h4 className=\"font-bold text-gray-800 truncate\">{patient.name}, {patient.vorname}</h4>\n                                                    <p className=\"text-sm text-gray-500 font-mono\">{patient.chiffre}</p>\n                                                </div>\n                                                <div className=\"p-4 text-xs text-gray-600\">\n                                                    <p><strong>Diagnose:</strong> {(patient.diagnoses && patient.diagnoses[0]?.split(':')[0]) || 'N/A'}</p>\n                                                    <p><strong>Stunden:</strong> {getHighestSessionNumber(patient.sessions)} / {patient.approvedHours || 'N/A'}</p>\n                                                </div>\n                                            </motion.div>\n                                        ))}\n                                    </div>\n                                )}\n                                {viewMode === 'stack' && (\n                                    <div className=\"w-full max-w-5xl mx-auto flex flex-col items-center pt-8 pb-8\">\n                                        {isLoading && <p className=\"text-center py-10 text-gray-500\">Lade Patienten...</p>}\n                                        <div className=\"w-full relative\" style={{ height: `${totalHeight}px`, transition: 'height 0.4s ease-in-out' }}>\n                                            <AnimatePresence>\n                                                {sortedPatients.map((patient, index) => {\n                                                    const isSelected = selectedId === patient.id;\n                                                    const tabColors = [\"bg-blue-100 text-blue-800 border-blue-200\", \"bg-orange-100 text-orange-800 border-orange-200\", \"bg-teal-100 text-teal-800 border-teal-200\", \"bg-purple-100 text-purple-800 border-purple-200\", \"bg-yellow-100 text-yellow-800 border-yellow-200\"];\n                                                    const tabColor = tabColors[index % tabColors.length];\n                                                    let bottomPos = index * visibleHeight;\n                                                    if (selectedIndex !== -1 && index > selectedIndex) {\n                                                        bottomPos += expandedHeight - compactHeight;\n                                                    }\n                                                    return (\n                                                        <motion.div\n                                                            key={patient.id}\n                                                            layoutId={patient.id}\n                                                            className=\"absolute w-full cursor-pointer\"\n                                                            style={{ height: isSelected ? expandedHeight : compactHeight }}\n                                                            animate={{ bottom: bottomPos, zIndex: isSelected ? 20 : sortedPatients.length - index }}\n                                                            transition={{ type: 'spring', stiffness: 400, damping: 35 }}\n                                                            onClick={() => handlePatientSelectPreview(patient)}\n                                                            onDoubleClick={() => handlePatientDoubleClick(patient)}\n                                                            whileHover={!isSelected ? { y: -10, scale: 1.02 } : {}}\n                                                        >\n                                                            <div className={`relative w-full h-full rounded-lg transition-shadow duration-300 ${isSelected ? 'shadow-2xl' : 'shadow-md hover:shadow-xl'}`}>\n                                                                <div className={`absolute h-10 px-4 flex items-center font-medium rounded-t-lg border-t border-x transition-colors ${isSelected ? 'bg-white' : tabColor}`} style={{ left: `${5 + (index % 6) * 12}%`, top: '-1px' }}>\n                                                                    {patient.name}\n                                                                </div>\n                                                                <div className=\"bg-white rounded-b-lg rounded-tr-lg border w-full h-full pt-10 overflow-hidden\">\n                                                                    {isSelected && selectedPatient ? (\n                                                                        <div className=\"p-6 overflow-y-auto h-full\">\n                                                                            <PatientDetailHeader patient={selectedPatient} onDeselect={() => handlePatientSelectPreview(patient)} onEdit={() => { setEditingPatient(selectedPatient); setIsPatientModalOpen(true); }}/>\n                                                                            <div className=\"border-t pt-4 mt-4\">\n                                                                                <PatientOverviewTab patient={selectedPatient} nextAppointment={nextAppointment} onUpdateHomeworkStatus={handleUpdateHomeworkStatus} onUpdateQuickNote={handleUpdateQuickNote} />\n                                                                            </div>\n                                                                        </div>\n                                                                    ) : (\n                                                                        <div className=\"p-4 h-full\">\n                                                                            <h4 className=\"font-semibold text-lg text-gray-900 pt-2\">{patient.vorname} {patient.name}</h4>\n                                                                            <p className=\"text-gray-500 font-mono\">{patient.chiffre}</p>\n                                                                            <div className=\"mt-2 text-xs text-gray-600\"><p>Sitzungen: {patient.sessions?.length || 0}</p></div>\n                                                                        </div>\n                                                                    )}\n                                                                </div>\n                                                            </div>\n                                                        </motion.div>\n                                                    );\n                                                })}\n                                            </AnimatePresence>\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                        ) : (\n                             <div ref={detailViewRef} className=\"bg-white border border-gray-200 shadow-sm rounded-lg p-6 h-full flex flex-col\">\n                                <PatientDetailHeader patient={selectedPatient} onDeselect={() => setSelectedPatient(null)} onEdit={() => { setEditingPatient(selectedPatient); setIsPatientModalOpen(true); }}/>\n                                <div className=\"border-b border-gray-200 mb-6\"><nav className=\"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto\" aria-label=\"Tabs\">{['Übersicht', 'Diagnosen', 'Abrechnung', 'Krankheitsmodell', 'Diagnostik', 'Assistenz'].map(tab => (<button key={tab} onClick={() => setActiveDetailTab(tab.toLowerCase())} className={`capitalize whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${activeDetailTab === tab.toLowerCase() ? 'border-teal-500 text-teal-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`}>{tab}</button>))}</nav></div>\n\n                                <div className=\"flex-grow overflow-y-auto pr-4 -mr-4\">\n                                    {activeDetailTab === 'übersicht' && ( <PatientOverviewTab patient={selectedPatient} nextAppointment={nextAppointment} onUpdateHomeworkStatus={handleUpdateHomeworkStatus} onUpdateQuickNote={handleUpdateQuickNote} /> )}\n                                    {activeDetailTab === 'diagnosen' && (<div><div className=\"mb-6\"><h4 className=\"text-xl font-semibold text-gray-700 mb-3\">ICD-10 F-Diagnosen</h4><div className=\"mb-3 p-4 bg-gray-50 rounded-md border\"><div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 items-end\"><div><label htmlFor=\"newDiagnosisCode\" className=\"block text-xs font-medium text-gray-700\">Code (z.B. F32.2)</label><input type=\"text\" id=\"newDiagnosisCode\" value={newDiagnosisCode} onChange={(e) => setNewDiagnosisCode(e.target.value.toUpperCase())} placeholder=\"F-Code\" className={`${inputStd} mt-1`} /></div><div><label htmlFor=\"newDiagnosisSicherheit\" className=\"block text-xs font-medium text-gray-700\">Sicherheit</label><select id=\"newDiagnosisSicherheit\" value={newDiagnosisSicherheit} onChange={(e) => setNewDiagnosisSicherheit(e.target.value)} className={`${inputStd} mt-1`}><option value=\"G\">G (Gesichert)</option><option value=\"V\">V (Verdacht auf)</option><option value=\"A\">A (Ausschluss)</option><option value=\"ZN\">ZN (Zustand nach)</option></select></div><div className=\"md:col-span-1\"><label htmlFor=\"newDiagnosisName\" className=\"block text-xs font-medium text-gray-700\">Manuelle Beschreibung (optional)</label><input type=\"text\" id=\"newDiagnosisName\" value={newDiagnosis} onChange={(e) => setNewDiagnosis(e.target.value)} placeholder=\"Eigene Beschreibung\" className={`${inputStd} mt-1`} /></div><button onClick={handleAddDiagnosis} className={`${btnPrimary} bg-green-500 hover:bg-green-600 py-2 px-3 h-10 md:self-end`}><PlusCircleIcon className=\"w-5 h-5 mr-1\" /> Hinzufügen</button></div>{lookedUpDiagnosisName && <p className=\"text-xs text-teal-600 mt-1\">Gefunden: {lookedUpDiagnosisName}</p>}</div><ul className=\"space-y-1 mb-3\">{(selectedPatient.diagnoses || []).map((diagString, index) => (<li key={index} className=\"flex justify-between items-center bg-gray-50 p-2 rounded-md\"><span className=\"text-sm text-gray-700\">{diagString}</span><div className=\"flex items-center space-x-2\"><button onClick={() => showDiagnosisInfo(diagString)} className={`${btnInfo} p-1`} title=\"Info zu dieser Diagnose abrufen\"><FileJson2 className=\"w-4 h-4 mr-1\" /> Info</button><button onClick={() => handleRemoveDiagnosis(diagString)} className={`${btnDanger} p-1 text-xs`}><Trash2 className=\"w-4 h-4\" /></button></div></li>))}{(selectedPatient.diagnoses || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine Diagnosen erfasst.</p>}</ul></div><div className=\"mb-6\"><h4 className=\"text-xl font-semibold text-gray-700 mb-3\">ICD-11 Diagnosen</h4><ul className=\"space-y-1\">{(selectedPatient.diagnoses_icd11 || []).map((diag, index) => (<li key={index} className=\"flex justify-between items-center bg-purple-50 p-2 rounded-md hover:bg-purple-100 cursor-pointer\" onClick={() => fetchIcd11Details(diag)}><span className=\"text-sm text-purple-800\"><strong className=\"font-mono\">{diag.code}</strong> - {diag.title}</span><button onClick={(e) => { e.stopPropagation(); handleRemoveIcd11Diagnosis(diag); }} className=\"text-red-500 hover:text-red-700 p-1 text-xs\" title=\"ICD-11 Diagnose entfernen\"><Trash2 className=\"w-4 h-4\" /></button></li>))}{(selectedPatient.diagnoses_icd11 || []).length === 0 && <p className=\"text-sm text-gray-500\">Keine ICD-11 Diagnosen erfasst.</p>}</ul></div></div>)}\n                                    {activeDetailTab === 'abrechnung' && ( <AbrechnungsUebersicht patient={selectedPatient} availableTests={availableTests} quarterlyAnalysis={quarterlyDiagnostikAnalysis} onEditSession={handleEditSession} onDeleteSession={handleDeleteSession} onAddBillingPeriod={() => setIsAddBillingPeriodModalOpen(true)} onDeleteBillingPeriod={handleDeleteBillingPeriod} /> )}\n                                    {activeDetailTab === 'krankheitsmodell' && (<div className=\"space-y-6\"><div><label htmlFor=\"krankheitsanamnese\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Krankheitsanamnese</label><textarea id=\"krankheitsanamnese\" name=\"krankheitsanamnese\" rows=\"6\" className={textareaStd} value={editableKrankheitsanamnese} onChange={(e) => setEditableKrankheitsanamnese(e.target.value)} onBlur={(e) => handleKrankheitsmodellChange('krankheitsanamnese', e.target.value)} placeholder=\"Hier die Krankheitsanamnese eintragen...\"></textarea></div><div><label htmlFor=\"lebensgeschichte\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Lebensgeschichte / Biographie</label><textarea id=\"lebensgeschichte\" name=\"lebensgeschichte\" rows=\"6\" className={textareaStd} value={editableLebensgeschichte} onChange={(e) => setEditableLebensgeschichte(e.target.value)} onBlur={(e) => handleKrankheitsmodellChange('lebensgeschichte', e.target.value)} placeholder=\"Wichtige Aspekte der Lebensgeschichte...\"></textarea></div><div><label htmlFor=\"problemanalyseMakro\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Problemanalyse auf Makroebene</label><textarea id=\"problemanalyseMakro\" name=\"problemanalyseMakro\" rows=\"6\" className={textareaStd} value={editableProblemanalyseMakro} onChange={(e) => setEditableProblemanalyseMakro(e.target.value)} onBlur={(e) => handleKrankheitsmodellChange('problemanalyseMakro', e.target.value)} placeholder=\"Analyse der übergeordneten Problembereiche...\"></textarea></div><div><label htmlFor=\"therapieplan\" className=\"block text-lg font-semibold text-gray-700 mb-1\">Therapieplan</label><textarea id=\"therapieplan\" name=\"therapieplan\" rows=\"6\" className={textareaStd} value={editableTherapieplan} onChange={(e) => setEditableTherapieplan(e.target.value)} onBlur={(e) => handleKrankheitsmodellChange('therapieplan', e.target.value)} placeholder=\"Therapieziele und -maßnahmen...\"></textarea></div></div>)}\n                                    {activeDetailTab === 'diagnostik' && (\n                                        <div>\n                                            <div className=\"border-b border-gray-200 mb-4\">\n                                                <nav className=\"-mb-px flex space-x-6\" aria-label=\"Diagnostik Sub-Tabs\">\n                                                    <button onClick={() => setActiveDiagnostikSubTab('overview')} className={`whitespace-nowrap pb-2 px-1 border-b-2 font-medium text-sm ${activeDiagnostikSubTab === 'overview' ? 'border-purple-500 text-purple-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`}>Übersicht</button>\n                                                    {availableTests.map(test => ((selectedPatient[`${test.id}Results`]?.filter(t => t.status !== 'pending').length > 0) &&\n                                                        <button key={test.id} onClick={() => setActiveDiagnostikSubTab(test.id)} className={`whitespace-nowrap pb-2 px-1 border-b-2 font-medium text-sm ${activeDiagnostikSubTab === test.id ? 'border-purple-500 text-purple-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`}>{test.id.toUpperCase()}</button>\n                                                    ))}\n                                                </nav>\n                                            </div>\n                                            {activeDiagnostikSubTab === 'overview' && ( <DiagnostikZuordnung patient={selectedPatient} availableTests={availableTests} testCategories={testCategories} diagnostikTemplates={diagnostikTemplates} onCompleteTest={handleCompletePendingTest} onDeleteTest={handleDeleteTest} onUpdateTestGrund={handleUpdateTestGrund} onAddNewTest={handleAddPendingTest}/> )}\n                                            {activeDiagnostikSubTab === 'scl90r' && <SCL90RComponent patient={selectedPatient} onDeleteTest={handleDeleteTest} />}\n                                            {activeDiagnostikSubTab === 'fep2' && <FEP2Component patient={selectedPatient} onDeleteTest={handleDeleteTest} />}\n                                            {activeDiagnostikSubTab === 'bdi2' && <BDI2Component patient={selectedPatient} onDeleteTest={handleDeleteTest} bdiCutoffs={bdiCutoffs} bdiAxisTicks={bdiAxisTicks} />}\n                                            {activeDiagnostikSubTab === 'hscl11' && <HSCL11Component patient={selectedPatient} onDeleteTest={handleDeleteTest} />}\n                                            {activeDiagnostikSubTab === 'gad7' && <GAD7Component patient={selectedPatient} onDeleteTest={handleDeleteTest} />}\n                                            {activeDiagnostikSubTab === 'coreOm' && <CoreOmComponent patient={selectedPatient} onDeleteTest={handleDeleteTest} />}\n                                            {activeDiagnostikSubTab === 'iipc' && <IIPCComponent patient={selectedPatient} onDeleteTest={handleDeleteTest} />}\n                                        </div>\n                                    )}                                        {activeDetailTab === 'assistenz' && (<div><h3 className=\"text-xl font-semibold text-gray-700 mb-4\">Therapeutische Assistenz</h3><button onClick={handleTherapeutischeAssistenzAnfordern} disabled={isLoadingTherapeutischeAssistenz} className={`${btnPrimary} bg-purple-600 hover:bg-purple-700 mb-4 flex items-center`}><WandSparkles className=\"mr-2 h-5 w-5\" />{isLoadingTherapeutischeAssistenz ? \"Analysiere Daten...\" : \"Expertenfeedback anfordern\"}</button>{isLoadingTherapeutischeAssistenz && (<div className=\"text-center py-10\"><div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-700 mx-auto\"></div><p className=\"mt-3 text-gray-600\">Bitte warten, die KI analysiert die Patientendaten...</p></div>)}{assistenzError && (<div className=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4\" role=\"alert\"><p className=\"font-bold\">Fehler bei der Assistenz</p><p>{assistenzError}</p></div>)}{therapeutischeAssistenzOutput && !isLoadingTherapeutischeAssistenz && (<div className=\"mt-4 p-4 bg-gray-50 rounded-md border\"><h4 className=\"text-lg font-semibold text-gray-800 mb-2\">Vorschläge des Expertenteams:</h4><div className=\"whitespace-pre-wrap text-sm text-gray-700 leading-relaxed\">{therapeutischeAssistenzOutput}</div></div>)}</div>)}\n                                </div>\n                            </div>\n                        )\n                    )}\n                    {mainView === 'kalender' && ( <div> <h3 className=\"text-2xl font-semibold text-gray-800 mb-4\">Terminkalender</h3> <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4 relative min-h-[600px]\"> {isCalendarLoading && ( <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-slate-50 z-10\"> <DotLottieReact src=\"https://lottie.host/5a99e4b7-42e6-47ae-9706-1e931f930492/HSS5faWD7S.lottie\" loop autoplay style={{ width: 300, height: 300 }} /> <p className=\"text-gray-500 -mt-8\">Kalender wird geladen...</p> </div> )} <iframe title=\"Google Calendar\" src=\"https://calendar.google.com/calendar/embed?src=julisycomorepsy%40gmail.com&ctz=Europe%2FBerlin\" style={{ border: 0 }} width=\"100%\" height=\"600\" frameBorder=\"0\" scrolling=\"no\" className={`transition-opacity duration-500 ${isCalendarLoading ? 'opacity-0' : 'opacity-100'}`} ></iframe> </div> </div> )}\n                    {mainView === 'formulare' && ( <PtvFormGenerator patients={sortedPatients} therapistProfile={profile} /> )}\n                    {mainView === 'ebm' && (<EBMBrowser />)}\n                    {mainView === 'ebm_templates' && (<EbmTemplates templates={ebmTemplates} ebmData={ebmData} onSave={handleSaveEbmTemplate} onDelete={handleDeleteEbmTemplate} />)}\n\n                    {mainView === 'diagnostik' && (\n                        <DiagnostikHauptseite\n                            availableTests={availableTests}\n                            testCategories={testCategories}\n                            diagnostikTemplates={diagnostikTemplates}\n                            onAddTest={handleOpenZentraleTestModal}\n                            onAddTemplate={handleOpenTemplateModal}\n                            onAddTemplateDefinition={() => { setEditingTemplate(null); setTemplateEditModalOpen(true); }}\n                            onEditTemplateDefinition={(template) => { setEditingTemplate(template); setTemplateEditModalOpen(true); }}\n                            onDeleteTemplateDefinition={handleDeleteDiagnostikTemplate}\n                        />\n                    )}\n\n                    {mainView === 'icd11' && (<ICD11ECTBrowser patients={patients} selectedPatient={selectedPatient} onAssignDiagnosis={handleAssignIcd11Diagnosis} />)}\n                    {mainView === 'methoden' && (<Behandlungsmethoden />)}\n\n                </main>\n            </div>\n            {/* MODALS AND GLOBAL ELEMENTS */}\n            <Modal isOpen={diagnosisInfo.isOpen} onClose={() => setDiagnosisInfo(prev => ({ ...prev, isOpen: false }))} title={`Diagnose-Info: ${diagnosisInfo.code || ''}`} size=\"3xl\">{diagnosisInfo.isLoading && (<p className=\"text-center py-4\">Informationen werden geladen...</p>)}{diagnosisInfo.error && (<p className=\"text-red-600 bg-red-100 p-3 rounded-md\">Fehler: {diagnosisInfo.error}</p>)}{!diagnosisInfo.isLoading && diagnosisInfo.source === 'local' && (<div className=\"text-sm text-gray-700 leading-relaxed p-2 space-y-3\"><h3 className=\"text-lg font-semibold text-teal-700\">{diagnosisInfo.name}<span className=\"text-gray-500 text-base ml-2\">({diagnosisInfo.code})</span></h3>{diagnosisInfo.beschreibung && (<div><strong className=\"font-medium text-gray-800 block mb-1\">Beschreibung:</strong><p className=\"whitespace-pre-wrap\">{diagnosisInfo.beschreibung}</p></div>)}{diagnosisInfo.inkl?.length > 0 && (<div><strong className=\"font-medium text-gray-800 block mb-1\">Inklusive:</strong><ul className=\"list-disc list-inside\">{diagnosisInfo.inkl.map((item, idx) => (<li key={idx}>{item}</li>))}</ul></div>)}{diagnosisInfo.exkl?.length > 0 && (<div><strong className=\"font-medium text-gray-800 block mb-1\">Exklusive:</strong><ul className=\"list-disc list-inside\">{diagnosisInfo.exkl.map((item, idx) => (<li key={idx}>{item}</li>))}</ul></div>)}</div>)}{!diagnosisInfo.isLoading && diagnosisInfo.source === 'api_detail' && (<div className=\"text-sm text-gray-700 leading-relaxed p-2 space-y-4\"><h3 className=\"text-lg font-semibold text-purple-700\">{diagnosisInfo.name}<span className=\"text-gray-500 text-base ml-2 font-mono\">({diagnosisInfo.code})</span></h3>{diagnosisInfo.beschreibung && (<div><strong className=\"font-medium text-gray-800 block mb-1\">Beschreibung (Definition):</strong><p className=\"whitespace-pre-wrap bg-gray-50 p-2 rounded-md\">{diagnosisInfo.beschreibung}</p></div>)}{diagnosisInfo.inclusions?.length > 0 && (<div><strong className=\"font-medium text-gray-800 block mb-1\">Inklusive:</strong><ul className=\"list-disc list-inside pl-2 space-y-1\">{diagnosisInfo.inclusions.map((item, idx) => (<li key={idx}>{item.label['@value']}</li>))}</ul></div>)}{diagnosisInfo.exclusions?.length > 0 && (<div><strong className=\"font-medium text-gray-800 block mb-1\">Exklusive:</strong><ul className=\"list-disc list-inside pl-2 space-y-1\">{diagnosisInfo.exclusions.map((item, idx) => (<li key={idx}>{item.label['@value']}{item.foundationReference && <span className=\"text-xs text-gray-400 ml-2\">({item.foundationReference.split('/').pop()})</span>}</li>))}</ul></div>)}</div>)}</Modal>\n            <Modal isOpen={improvementState.isOpen} onClose={() => setImprovementState({ ...improvementState, isOpen: false })} title=\"Sitzungsdokumentation verbessern\" size=\"5xl\">{improvementState.error && <p className=\"text-red-500 bg-red-100 p-3 rounded-md mb-4\">{improvementState.error}</p>}<div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\"><div><h4 className=\"font-semibold text-lg text-gray-700 mb-2\">Original</h4><pre className=\"text-sm bg-gray-100 p-3 rounded-md whitespace-pre-wrap font-sans h-96 overflow-y-auto border\">{improvementState.originalText}</pre></div><div><h4 className=\"font-semibold text-lg text-gray-700 mb-2\">Vorschlag</h4><pre className=\"text-sm bg-gray-800 text-green-300 font-mono p-3 rounded-md whitespace-pre-wrap h-96 overflow-y-auto\">{improvementState.improvedText}</pre></div></div><div className=\"flex justify-end space-x-4 mt-6\"><button type=\"button\" onClick={() => setImprovementState({ ...improvementState, isOpen: false })} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300\">Abbrechen</button><button onClick={handleAcceptImprovement} className={`${btnPrimary} flex items-center`}><Save className=\"w-4 h-4 mr-2\" /> Original ersetzen</button></div></Modal>\n            {appError && (<div className=\"fixed bottom-4 right-4 p-4 max-w-sm text-sm text-red-700 bg-red-100 border border-red-400 rounded-md shadow-lg z-[100]\">{appError}<button onClick={() => setAppError(null)} className=\"ml-4 mt-2 sm:mt-0 sm:ml-2 px-2 py-1 text-red-900 underline rounded-md hover:bg-red-200 text-xs\">Ok</button></div>)}\n            \n            <ManualBillingSetupModal isOpen={isManualBillingSetupOpen} onClose={() => setIsManualBillingSetupOpen(false)} patients={sortedPatients} onStart={handleStartManualBilling} />\n            <AddBillingPeriodModal isOpen={isAddBillingPeriodModalOpen} onClose={() => setIsAddBillingPeriodModalOpen(false)} onSave={handleSaveBillingPeriod} patient={selectedPatient} />\n\n            <AddTestTemplateModal\n                isOpen={isAddTemplateModalOpen}\n                onClose={() => setIsAddTemplateModalOpen(false)}\n                onSave={handleSaveTestTemplate}\n                template={currentTemplate}\n                patients={sortedPatients}\n                availableTests={availableTests}\n            />\n\n            <AddOrEditTemplateModal\n                isOpen={isTemplateEditModalOpen}\n                onClose={() => setTemplateEditModalOpen(false)}\n                onSave={handleSaveDiagnostikTemplate}\n                availableTests={availableTests}\n                editingTemplate={editingTemplate}\n            />\n\n            {billingModalState.isOpen && (\n                <Modal isOpen={billingModalState.isOpen} onClose={() => setBillingModalState({ isOpen: false, event: null, isEditing: false })} title={billingModalState.isEditing ? \"Sitzung bearbeiten\" : `Termin abrechnen: ${billingModalState.event.summary}`} size=\"4xl\" >\n                    <BillingModal\n                        event={billingModalState.event}\n                        ebmData={ebmData}\n                        onSave={(data) => handleSaveBilling(data, billingModalState.isEditing)}\n                        onClose={() => setBillingModalState({ isOpen: false, event: null, isEditing: false })}\n                        generateGeminiText={generateGeminiText}\n                        isEditing={billingModalState.isEditing}\n                        ebmTemplates={ebmTemplates}\n                    />\n                </Modal>\n            )}\n\n            <ZentraleTestErfassungModal\n                isOpen={isZentraleTestModalOpen}\n                onClose={() => { setIsZentraleTestModalOpen(false); setTestToUpdate(null); }}\n                onSave={handleSaveCompletedTest}\n                onUpdate={handleUpdateTest}\n                testInfo={currentTestToErfassen}\n                testToUpdate={testToUpdate}\n                patients={sortedPatients}\n                activePatient={selectedPatient}\n            />\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}