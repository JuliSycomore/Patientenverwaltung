{"ast":null,"code":"import _objectSpread from\"/Users/julianrogowski/Documents/Visual Code/patientenverwaltung-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/Users/julianrogowski/Documents/Visual Code/patientenverwaltung-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"className\"];import React,{useState,useEffect,useMemo,useRef}from'react';// Icons\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SaveIcon=_ref=>{let{className=\"w-4 h-4\"}=_ref;return/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",className:className,children:[/*#__PURE__*/_jsx(\"path\",{d:\"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"17 21 17 13 7 13 7 21\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"7 3 7 8 15 8\"})]});};const PlusIcon=_ref2=>{let{className=\"w-4 h-4\"}=_ref2;return/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",className:className,children:[/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"5\",x2:\"12\",y2:\"19\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"5\",y1:\"12\",x2:\"19\",y2:\"12\"})]});};const TrashIcon=_ref3=>{let{className=\"w-4 h-4\"}=_ref3;return/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",className:className,children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"3 6 5 6 21 6\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"})]});};const WandSparkles=_ref4=>{let{className=\"w-5 h-5\"}=_ref4;return/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",className:className,children:[/*#__PURE__*/_jsx(\"path\",{d:\"m9.5 2.55 1.294 1.294a1 1 0 0 0 1.414 0L13.5 2.55\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M4.94 4.94 6.22 6.22a1 1 0 0 0 1.41 0l1.29-1.29\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M2.55 9.51 3.84 10.8a1 1 0 0 0 1.41 0l1.3-1.29\"}),/*#__PURE__*/_jsx(\"path\",{d:\"m19.07 4.93-1.29 1.29a1 1 0 0 1-1.41 0l-1.29-1.29\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M21.45 9.51l-1.29 1.29a1 1 0 0 1-1.41 0l-1.3-1.29\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M14.5 12.94a1 1 0 0 0 0 1.41l1.29 1.29\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M10.8 17.78a1 1 0 0 0 0 1.41l1.29 1.29\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M17.78 10.8a1 1 0 0 0 0 1.41l1.29 1.29\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 10.5V4.5\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 10.5C7 11 4 15 4 20\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 10.5c5 .5 8 4.5 8 9.5\"})]});};// Helper component for auto-resizing textareas\nconst AutosizeTextarea=props=>{const textareaRef=useRef(null);const{className}=props,rest=_objectWithoutProperties(props,_excluded);useEffect(()=>{if(textareaRef.current){textareaRef.current.style.height='auto';textareaRef.current.style.height=\"\".concat(textareaRef.current.scrollHeight,\"px\");}},[props.value]);return/*#__PURE__*/_jsx(\"textarea\",_objectSpread({ref:textareaRef,rows:1,className:\"\".concat(className,\" resize-none overflow-hidden\")},rest));};const ParsingLoader=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0 bg-white bg-opacity-80 flex flex-col justify-center items-center z-20 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-8 w-8 text-teal-600\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3 text-gray-700 font-semibold\",children:\"Text wird zugeordnet...\"})]});const PasteTextModal=_ref5=>{let{isOpen,onClose,onSave,isParsing}=_ref5;const[text,setText]=useState('');if(!isOpen)return null;const handleSave=()=>{onSave(text);onClose();};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-[60]\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-xl w-full max-w-2xl\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Sitzungsdoku einf\\xFCgen\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"w-full h-64 p-2 border rounded-md\",value:text,onChange:e=>setText(e.target.value),placeholder:\"F\\xFCgen Sie hier den kompletten Text Ihrer Sitzungsdokumentation ein...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"px-4 py-2 text-sm text-gray-700 bg-gray-200 rounded-md\",children:\"Abbrechen\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,disabled:isParsing||!text,className:\"px-4 py-2 text-sm text-white bg-teal-600 rounded-md disabled:bg-gray-400\",children:isParsing?'Analysiere...':'Text zuordnen'})]})]})});};const riskTextStandard='Auf Nachfrage wurden suizidale Gedanken, Impulse sowie Handlungsabsichten glaubhaft und eindeutig verneint. Die Absprachefähigkeit des Patienten ist gegeben. Es besteht kein Anhalt für eine akute Eigen- oder Fremdgefährdung.';const initialNotesState={thema:'',sitzungsnummer:'',patientenbericht:'',psychotherapeutischesThemaInhalt:'',therapeutischeInterventionen:[''],gesamteindruck:'',risikoabschaetzung:riskTextStandard,hausaufgaben:['']};const autoParseDoku=text=>{const fieldConfig={sitzungsnummer:[\"Sitzungsnummer\"],thema:[\"Thema der Sitzung\",\"Thema\"],patientenbericht:[\"Patientenbericht\",\"Kurzer Patientenbericht\"],psychotherapeutischesThemaInhalt:[\"Psychotherapeutisches Thema und Inhalt der Sitzung\",\"Psychotherapeutisches Thema und Inhalt\"],therapeutischeInterventionen:[\"Therapeutische Interventionen\",\"Durchgeführten psychotherapeutischen Interventionen\"],gesamteindruck:[\"Gesamteindruck\"],risikoabschaetzung:[\"Risikoabschätzung (Suizidalität)\",\"Risikoabschätzung\"],hausaufgaben:[\"Hausaufgaben\"]};const allHeadings=Object.values(fieldConfig).flat();const headingRegex=new RegExp(\"^\\\\s*(\".concat(allHeadings.join('|'),\"):?\"),'i');const parsedNotes={};const lines=text.split('\\n');let currentKey=null;let currentContent=[];lines.forEach(line=>{const match=line.match(headingRegex);if(match){if(currentKey){parsedNotes[currentKey]=currentContent.join('\\n').trim();}const matchedHeading=match[1];currentKey=Object.keys(fieldConfig).find(key=>fieldConfig[key].some(h=>h.toLowerCase()===matchedHeading.toLowerCase()));currentContent=[line.substring(match[0].length).trim()];}else{if(currentKey){currentContent.push(line);}}});if(currentKey){parsedNotes[currentKey]=currentContent.join('\\n').trim();}['therapeutischeInterventionen','hausaufgaben'].forEach(key=>{if(parsedNotes[key]&&typeof parsedNotes[key]==='string'){const content=parsedNotes[key];const lines=content.split('\\n').filter(line=>line.trim()!=='');const listItems=lines.reduce((acc,line)=>{const trimmedLine=line.trim();if(/^[-*•]/.test(trimmedLine)||/^\\d+\\.\\s/.test(trimmedLine)){acc.push(trimmedLine.replace(/^[-*•\\d.]+\\s*/,''));}else if(acc.length>0){acc[acc.length-1]+=' '+trimmedLine;}else{acc.push(trimmedLine);}return acc;},[]);parsedNotes[key]=listItems.length>0?listItems:[''];}});return parsedNotes;};const BillingModal=_ref6=>{let{event,ebmData,onSave,onClose,generateGeminiText,isEditing,ebmTemplates}=_ref6;const[step,setStep]=useState(1);const[ebmEntries,setEbmEntries]=useState([]);const[ebmSearch,setEbmSearch]=useState('');const[selectedEbm,setSelectedEbm]=useState(null);const[anzahl,setAnzahl]=useState(1);const[faktor,setFaktor]=useState(1);const[isParsing,setIsParsing]=useState(false);const[isPasteModalOpen,setIsPasteModalOpen]=useState(false);const[isSessionNumberFromCalendar,setIsSessionNumberFromCalendar]=useState(false);const[notes,setNotes]=useState(initialNotesState);const[isSuicidal,setIsSuicidal]=useState(false);useEffect(()=>{if(event){if(isEditing){var _event$initialNotes;const existingNotes=event.initialNotes||{};if(typeof existingNotes.therapeutischeInterventionen==='string'){existingNotes.therapeutischeInterventionen=existingNotes.therapeutischeInterventionen.split(/[-–\\n]/).map(s=>s.trim()).filter(Boolean);}if(!Array.isArray(existingNotes.therapeutischeInterventionen)||existingNotes.therapeutischeInterventionen.length===0){existingNotes.therapeutischeInterventionen=[''];}if(typeof existingNotes.hausaufgaben==='string'){existingNotes.hausaufgaben=existingNotes.hausaufgaben.split(/[-–\\n1-9.]+/).map(s=>s.trim()).filter(Boolean);}if(!Array.isArray(existingNotes.hausaufgaben)||existingNotes.hausaufgaben.length===0){existingNotes.hausaufgaben=[''];}setNotes(_objectSpread(_objectSpread({},initialNotesState),existingNotes));setEbmEntries(event.initialEbm||[]);if(((_event$initialNotes=event.initialNotes)===null||_event$initialNotes===void 0?void 0:_event$initialNotes.risikoabschaetzung)!==riskTextStandard)setIsSuicidal(true);setIsSessionNumberFromCalendar(false);}else{var _event$summary;let sessionNumberFromSummary='';const tNumberMatch=(_event$summary=event.summary)===null||_event$summary===void 0?void 0:_event$summary.match(/\\sT(\\d+)/i);if(tNumberMatch&&tNumberMatch[1]){sessionNumberFromSummary=tNumberMatch[1];setIsSessionNumberFromCalendar(true);}else{var _event$summary2;const genericMatch=(_event$summary2=event.summary)===null||_event$summary2===void 0?void 0:_event$summary2.match(/[T|S|Sitzung|Therapie]\\s*(\\d+)/i);if(genericMatch&&genericMatch[1]){sessionNumberFromSummary=genericMatch[1];setIsSessionNumberFromCalendar(true);}else{setIsSessionNumberFromCalendar(false);}}const initialSessionNumber=sessionNumberFromSummary||event.sitzungsnummer||'';setNotes(prev=>_objectSpread(_objectSpread({},initialNotesState),{},{sitzungsnummer:initialSessionNumber,thema:\"Sitzung \".concat(initialSessionNumber)}));setEbmEntries([]);setIsSuicidal(false);}}},[event,isEditing]);useEffect(()=>{if(!isParsing)setNotes(prev=>_objectSpread(_objectSpread({},prev),{},{risikoabschaetzung:isSuicidal?prev.risikoabschaetzung:riskTextStandard}));},[isSuicidal,isParsing]);const handleAutoAssign=text=>{setIsParsing(true);try{setTimeout(()=>{const parsedData=autoParseDoku(text);if(Object.keys(parsedData).length===0){alert(\"Die automatische Zuordnung ist fehlgeschlagen. Bitte überprüfen Sie, ob der Text sinnvolle Überschriften enthält.\");setIsParsing(false);return;}if(parsedData.risikoabschaetzung&&parsedData.risikoabschaetzung.toLowerCase()!==riskTextStandard.toLowerCase()){setIsSuicidal(true);}else{setIsSuicidal(false);parsedData.risikoabschaetzung=riskTextStandard;}setNotes(prevNotes=>_objectSpread(_objectSpread({},prevNotes),parsedData));setIsParsing(false);alert(\"Felder wurden erfolgreich zugeordnet!\");},500);}catch(error){console.error(\"Fehler bei der automatischen Zuordnung:\",error);alert(\"Ein unerwarteter Fehler ist aufgetreten. Bitte füllen Sie die Felder manuell aus.\");setIsParsing(false);}};const handleNoteChange=e=>setNotes(prev=>_objectSpread(_objectSpread({},prev),{},{[e.target.name]:e.target.value}));const handleInterventionChange=(e,index)=>{const newInterventions=[...notes.therapeutischeInterventionen];newInterventions[index]=e.target.value;setNotes(prev=>_objectSpread(_objectSpread({},prev),{},{therapeutischeInterventionen:newInterventions}));};const handleAddIntervention=()=>{setNotes(prev=>_objectSpread(_objectSpread({},prev),{},{therapeutischeInterventionen:[...prev.therapeutischeInterventionen,'']}));};const handleDeleteIntervention=index=>{if(notes.therapeutischeInterventionen.length>1){const newInterventions=notes.therapeutischeInterventionen.filter((_,i)=>i!==index);setNotes(prev=>_objectSpread(_objectSpread({},prev),{},{therapeutischeInterventionen:newInterventions}));}};const handleHomeworkChange=(e,index)=>{const newHomeworks=[...notes.hausaufgaben];newHomeworks[index]=e.target.value;setNotes(prev=>_objectSpread(_objectSpread({},prev),{},{hausaufgaben:newHomeworks}));};const handleAddHomework=()=>setNotes(prev=>_objectSpread(_objectSpread({},prev),{},{hausaufgaben:[...prev.hausaufgaben,'']}));const handleDeleteHomework=index=>{if(notes.hausaufgaben.length>1){const newHomeworks=notes.hausaufgaben.filter((_,i)=>i!==index);setNotes(prev=>_objectSpread(_objectSpread({},prev),{},{hausaufgaben:newHomeworks}));}};const searchResults=useMemo(()=>{if(!ebmSearch)return[];return ebmData.filter(item=>item.Nummer.startsWith(ebmSearch)||item.Titel.toLowerCase().includes(ebmSearch.toLowerCase())).slice(0,5);},[ebmSearch,ebmData]);const handleSelectEbm=item=>{setSelectedEbm(item);setEbmSearch(\"\".concat(item.Nummer,\" - \").concat(item.Titel));};const handleAddEbmEntry=()=>{if(selectedEbm){setEbmEntries(p=>[...p,_objectSpread(_objectSpread({},selectedEbm),{},{anzahl,faktor,id:\"ebm_\".concat(Date.now())})]);setSelectedEbm(null);setEbmSearch('');setAnzahl(1);setFaktor(1);}};const handleDeleteEbmEntry=index=>setEbmEntries(p=>p.filter((_,i)=>i!==index));const totalPoints=ebmEntries.reduce((sum,entry)=>sum+(parseInt(entry.Punkte,10)||0)*entry.anzahl*entry.faktor,0);const applyTemplate=template=>{const itemsToAdd=template.items.map(templateItem=>{const fullEbmData=ebmData.find(e=>e.Nummer===templateItem.nummer);if(!fullEbmData)return null;const anzahlFromTemplate=templateItem.anzahl||1;const faktorFromTemplate=templateItem.faktor||1;return _objectSpread(_objectSpread({},fullEbmData),{},{anzahl:anzahlFromTemplate,faktor:faktorFromTemplate,id:\"ebm_\".concat(Date.now(),\"_\").concat(Math.random())});}).filter(Boolean);const newEntries=itemsToAdd.filter(item=>!ebmEntries.some(existing=>existing.Nummer===item.Nummer));setEbmEntries(prev=>[...prev,...newEntries]);};const handleSave=()=>{const m=event.summary.match(/[A-Z][0-9]{6}/);const finalNotes=_objectSpread(_objectSpread({},notes),{},{sitzungsnummer:Number(notes.sitzungsnummer)});onSave({sessionId:event.id,eventId:event.id,eventStart:event.start.dateTime||event.start.date,chiffre:m?m[0]:null,ebmEntries:ebmEntries.map(e=>({nummer:e.Nummer,anzahl:e.anzahl,faktor:e.faktor})),notes:finalNotes},isEditing);};const inputStyle=\"block w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 sm:text-sm\";const textareaStyle=\"\".concat(inputStyle,\" min-h-[40px]\");const accentButton=\"bg-teal-600 text-white font-semibold py-2 px-3 text-sm rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 flex items-center justify-center\";return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PasteTextModal,{isOpen:isPasteModalOpen,onClose:()=>setIsPasteModalOpen(false),onSave:handleAutoAssign,isParsing:isParsing}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center space-x-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center \".concat(step>=1?'text-teal-600':'text-gray-400'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 \".concat(step>=1?'bg-teal-600 border-teal-700 text-white':'bg-gray-200 border-gray-300'),children:\"1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-semibold\",children:\"Leistungen\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-0.5 w-16 \".concat(step>=2?'bg-teal-500':'bg-gray-200')}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center \".concat(step>=2?'text-teal-600':'text-gray-400'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 \".concat(step>=2?'bg-teal-600 border-teal-700 text-white':'bg-gray-200 border-gray-300'),children:\"2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-semibold\",children:\"Dokumentation\"})]})]}),step===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"animate-fade-in space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg bg-white\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-lg text-gray-800 mb-3\",children:\"Leistung hinzuf\\xFCgen\"}),ebmTemplates&&ebmTemplates.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 pb-4 border-b\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-sm text-gray-600 mb-2\",children:\"Vorlagen anwenden\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:ebmTemplates.map(template=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>applyTemplate(template),className:\"bg-sky-100 text-sky-800 text-xs font-semibold px-2.5 py-1 rounded-full hover:bg-sky-200 transition-colors\",children:template.name},template.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"EBM-Ziffer oder Titel suchen...\",value:ebmSearch,onChange:e=>{setEbmSearch(e.target.value);setSelectedEbm(null);},className:inputStyle}),searchResults.length>0&&ebmSearch&&!selectedEbm&&/*#__PURE__*/_jsx(\"ul\",{className:\"absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 shadow-lg max-h-48 overflow-y-auto\",children:searchResults.map(item=>/*#__PURE__*/_jsxs(\"li\",{onClick:()=>handleSelectEbm(item),className:\"px-3 py-2 cursor-pointer hover:bg-teal-50\",children:[item.Nummer,\" - \",item.Titel]},item.Nummer))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-3 mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium text-gray-600\",children:\"Anzahl\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:anzahl,onChange:e=>setAnzahl(Math.max(1,parseInt(e.target.value,10)||1)),min:\"1\",className:\"\".concat(inputStyle,\" text-center\")})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-medium text-gray-600\",children:\"Faktor\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.1\",value:faktor,onChange:e=>setFaktor(parseFloat(e.target.value)||1),min:\"1\",className:\"\".concat(inputStyle,\" text-center\")})]}),/*#__PURE__*/_jsx(\"div\",{className:\"self-end\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleAddEbmEntry,disabled:!selectedEbm,className:\"w-full bg-gray-700 text-white p-2 rounded-md hover:bg-gray-800 disabled:bg-gray-300 flex items-center justify-center\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"w-4 h-4 mr-1\"}),\" Hinzuf\\xFCgen\"]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg bg-white mt-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-lg text-gray-800 mb-3\",children:\"Abzurechnende Leistungen\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[ebmEntries.map((entry,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-gray-50 p-2 rounded-md\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold\",children:[entry.Nummer||entry.nummer,\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600 font-normal\",children:[\"(\",entry.Titel,\")\"]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[\"Anzahl: \",entry.anzahl,\", Faktor: \",entry.faktor]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"mr-4 font-mono text-gray-800\",children:[(parseInt(entry.Punkte,10)*entry.anzahl*entry.faktor).toFixed(0),\" Pkt.\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteEbmEntry(index),className:\"text-red-500 hover:text-red-700 p-1\",children:/*#__PURE__*/_jsx(TrashIcon,{})})]})]},entry.id||index)),ebmEntries.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 text-center py-4\",children:\"Noch keine Leistungen hinzugef\\xFCgt.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right font-bold text-xl mt-4 pt-4 border-t\",children:[\"Gesamt: \",totalPoints.toFixed(0),\" Punkte\"]})]})]})]}),step===2&&/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[isParsing&&/*#__PURE__*/_jsx(ParsingLoader,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"animate-fade-in space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsPasteModalOpen(true),className:\"bg-gray-700 text-white py-1.5 px-3 text-xs rounded-md hover:bg-gray-800 flex items-center font-semibold\",children:[/*#__PURE__*/_jsx(WandSparkles,{className:\"w-4 h-4 mr-1.5\"}),\"Doku einf\\xFCgen & zuordnen\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg bg-white space-y-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-lg text-gray-800\",children:\"Strukturierte Dokumentation\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600\",children:\"Thema der Sitzung\"}),/*#__PURE__*/_jsx(\"input\",{name:\"thema\",value:notes.thema,onChange:handleNoteChange,className:inputStyle})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600\",children:\"Sitzungs-Nr.\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"sitzungsnummer\",value:notes.sitzungsnummer,onChange:handleNoteChange,className:inputStyle}),isSessionNumberFromCalendar&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Aus Kalender \\xFCbernommen.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600\",children:\"Patientenbericht\"}),/*#__PURE__*/_jsx(AutosizeTextarea,{name:\"patientenbericht\",value:notes.patientenbericht,onChange:handleNoteChange,className:textareaStyle})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600\",children:\"Psychotherapeutisches Thema und Inhalt der Sitzung\"}),/*#__PURE__*/_jsx(AutosizeTextarea,{name:\"psychotherapeutischesThemaInhalt\",value:notes.psychotherapeutischesThemaInhalt,onChange:handleNoteChange,className:textareaStyle})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600 mb-1 block\",children:\"Therapeutische Interventionen\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:(notes.therapeutischeInterventionen||['']).map((intervention,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(AutosizeTextarea,{name:\"intervention-\".concat(index),value:intervention,onChange:e=>handleInterventionChange(e,index),className:inputStyle,placeholder:\"Intervention \".concat(index+1)}),notes.therapeutischeInterventionen.length>1&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteIntervention(index),className:\"p-1 text-gray-400 hover:text-red-500 rounded-full flex-shrink-0\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"w-4 h-4\"})})]},index))}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:handleAddIntervention,className:\"mt-2 flex items-center text-sm text-teal-600 hover:text-teal-800 font-semibold\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"w-4 h-4 mr-1\"}),\"Intervention hinzuf\\xFCgen\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600\",children:\"Gesamteindruck\"}),/*#__PURE__*/_jsx(AutosizeTextarea,{name:\"gesamteindruck\",value:notes.gesamteindruck,onChange:handleNoteChange,className:textareaStyle})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600\",children:\"Risikoabsch\\xE4tzung (Suizidalit\\xE4t)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mt-1 mb-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",checked:!isSuicidal,onChange:()=>setIsSuicidal(false),className:\"h-4 w-4 text-teal-600 focus:ring-teal-500\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm\",children:\"Nein\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",checked:isSuicidal,onChange:()=>setIsSuicidal(true),className:\"h-4 w-4 text-teal-600 focus:ring-teal-500\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm\",children:\"Ja, Interventionsbedarf\"})]})]}),/*#__PURE__*/_jsx(AutosizeTextarea,{name:\"risikoabschaetzung\",value:notes.risikoabschaetzung,onChange:handleNoteChange,disabled:!isSuicidal,className:\"\".concat(textareaStyle,\" \").concat(!isSuicidal?'bg-gray-100':'')})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-600 mb-1 block\",children:\"Hausaufgaben\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:(notes.hausaufgaben||['']).map((task,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(AutosizeTextarea,{name:\"hausaufgabe-\".concat(index),value:task,onChange:e=>handleHomeworkChange(e,index),className:inputStyle,placeholder:\"Aufgabe \".concat(index+1)}),notes.hausaufgaben.length>1&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteHomework(index),className:\"p-1 text-gray-400 hover:text-red-500 rounded-full flex-shrink-0\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"w-4 h-4\"})})]},index))}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:handleAddHomework,className:\"mt-2 flex items-center text-sm text-teal-600 hover:text-teal-800 font-semibold\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"w-4 h-4 mr-1\"}),\"Aufgabe hinzuf\\xFCgen\"]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between pt-6 mt-6 border-t\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>step>1?setStep(step-1):onClose(),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300\",children:step===1?'Abbrechen':'Zurück'}),step===1&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setStep(2),className:accentButton,children:\"Weiter\"}),step===2&&/*#__PURE__*/_jsxs(\"button\",{onClick:handleSave,className:\"\".concat(accentButton,\" bg-green-600 hover:bg-green-700\"),children:[/*#__PURE__*/_jsx(SaveIcon,{className:\"w-4 h-4 mr-2\"}),\" Abrechnung speichern\"]})]})]})]});};export default BillingModal;","map":{"version":3,"names":["React","useState","useEffect","useMemo","useRef","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SaveIcon","_ref","className","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","d","points","PlusIcon","_ref2","x1","y1","x2","y2","TrashIcon","_ref3","WandSparkles","_ref4","AutosizeTextarea","props","textareaRef","rest","_objectWithoutProperties","_excluded","current","style","height","concat","scrollHeight","value","_objectSpread","ref","rows","ParsingLoader","cx","cy","r","PasteTextModal","_ref5","isOpen","onClose","onSave","isParsing","text","setText","handleSave","onChange","e","target","placeholder","onClick","disabled","riskTextStandard","initialNotesState","thema","sitzungsnummer","patientenbericht","psychotherapeutischesThemaInhalt","therapeutischeInterventionen","gesamteindruck","risikoabschaetzung","hausaufgaben","autoParseDoku","fieldConfig","allHeadings","Object","values","flat","headingRegex","RegExp","join","parsedNotes","lines","split","currentKey","currentContent","forEach","line","match","trim","matchedHeading","keys","find","key","some","h","toLowerCase","substring","length","push","content","filter","listItems","reduce","acc","trimmedLine","test","replace","BillingModal","_ref6","event","ebmData","generateGeminiText","isEditing","ebmTemplates","step","setStep","ebmEntries","setEbmEntries","ebmSearch","setEbmSearch","selectedEbm","setSelectedEbm","anzahl","setAnzahl","faktor","setFaktor","setIsParsing","isPasteModalOpen","setIsPasteModalOpen","isSessionNumberFromCalendar","setIsSessionNumberFromCalendar","notes","setNotes","isSuicidal","setIsSuicidal","_event$initialNotes","existingNotes","initialNotes","map","s","Boolean","Array","isArray","initialEbm","_event$summary","sessionNumberFromSummary","tNumberMatch","summary","_event$summary2","genericMatch","initialSessionNumber","prev","handleAutoAssign","setTimeout","parsedData","alert","prevNotes","error","console","handleNoteChange","name","handleInterventionChange","index","newInterventions","handleAddIntervention","handleDeleteIntervention","_","i","handleHomeworkChange","newHomeworks","handleAddHomework","handleDeleteHomework","searchResults","item","Nummer","startsWith","Titel","includes","slice","handleSelectEbm","handleAddEbmEntry","p","id","Date","now","handleDeleteEbmEntry","totalPoints","sum","entry","parseInt","Punkte","applyTemplate","template","itemsToAdd","items","templateItem","fullEbmData","nummer","anzahlFromTemplate","faktorFromTemplate","Math","random","newEntries","existing","m","finalNotes","Number","sessionId","eventId","eventStart","start","dateTime","date","chiffre","inputStyle","textareaStyle","accentButton","type","max","min","parseFloat","toFixed","intervention","checked","task"],"sources":["/Users/julianrogowski/Documents/Visual Code/patientenverwaltung-app/src/components/SitzungsAbrechnung.js"],"sourcesContent":["import React, { useState, useEffect, useMemo, useRef } from 'react';\n\n// Icons\nconst SaveIcon = ({ className = \"w-4 h-4\" }) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\" /><polyline points=\"17 21 17 13 7 13 7 21\" /><polyline points=\"7 3 7 8 15 8\" /></svg>;\nconst PlusIcon = ({ className = \"w-4 h-4\" }) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line></svg>;\nconst TrashIcon = ({ className = \"w-4 h-4\" }) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><polyline points=\"3 6 5 6 21 6\"></polyline><path d=\"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"></path></svg>;\nconst WandSparkles = ({ className = \"w-5 h-5\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"m9.5 2.55 1.294 1.294a1 1 0 0 0 1.414 0L13.5 2.55\"/><path d=\"M4.94 4.94 6.22 6.22a1 1 0 0 0 1.41 0l1.29-1.29\"/><path d=\"M2.55 9.51 3.84 10.8a1 1 0 0 0 1.41 0l1.3-1.29\"/><path d=\"m19.07 4.93-1.29 1.29a1 1 0 0 1-1.41 0l-1.29-1.29\"/><path d=\"M21.45 9.51l-1.29 1.29a1 1 0 0 1-1.41 0l-1.3-1.29\"/><path d=\"M14.5 12.94a1 1 0 0 0 0 1.41l1.29 1.29\"/><path d=\"M10.8 17.78a1 1 0 0 0 0 1.41l1.29 1.29\"/><path d=\"M17.78 10.8a1 1 0 0 0 0 1.41l1.29 1.29\"/><path d=\"M12 10.5V4.5\"/><path d=\"M12 10.5C7 11 4 15 4 20\"/><path d=\"M12 10.5c5 .5 8 4.5 8 9.5\"/></svg>);\n\n// Helper component for auto-resizing textareas\nconst AutosizeTextarea = (props) => {\n    const textareaRef = useRef(null);\n    const { className, ...rest } = props;\n\n    useEffect(() => {\n        if (textareaRef.current) {\n            textareaRef.current.style.height = 'auto';\n            textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n        }\n    }, [props.value]);\n\n    return (\n        <textarea\n            ref={textareaRef}\n            rows={1}\n            className={`${className} resize-none overflow-hidden`}\n            {...rest}\n        />\n    );\n};\n\nconst ParsingLoader = () => (\n    <div className=\"absolute inset-0 bg-white bg-opacity-80 flex flex-col justify-center items-center z-20 rounded-lg\">\n        <svg className=\"animate-spin h-8 w-8 text-teal-600\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n        </svg>\n        <p className=\"mt-3 text-gray-700 font-semibold\">Text wird zugeordnet...</p>\n    </div>\n);\n\nconst PasteTextModal = ({ isOpen, onClose, onSave, isParsing }) => {\n    const [text, setText] = useState('');\n    if (!isOpen) return null;\n    const handleSave = () => { onSave(text); onClose(); };\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-[60]\">\n            <div className=\"bg-white p-6 rounded-lg shadow-xl w-full max-w-2xl\">\n                <h3 className=\"text-lg font-semibold mb-4\">Sitzungsdoku einfügen</h3>\n                <textarea className=\"w-full h-64 p-2 border rounded-md\" value={text} onChange={(e) => setText(e.target.value)} placeholder=\"Fügen Sie hier den kompletten Text Ihrer Sitzungsdokumentation ein...\" />\n                <div className=\"flex justify-end space-x-3 mt-4\">\n                    <button onClick={onClose} className=\"px-4 py-2 text-sm text-gray-700 bg-gray-200 rounded-md\">Abbrechen</button>\n                    <button onClick={handleSave} disabled={isParsing || !text} className=\"px-4 py-2 text-sm text-white bg-teal-600 rounded-md disabled:bg-gray-400\">{isParsing ? 'Analysiere...' : 'Text zuordnen'}</button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst riskTextStandard = 'Auf Nachfrage wurden suizidale Gedanken, Impulse sowie Handlungsabsichten glaubhaft und eindeutig verneint. Die Absprachefähigkeit des Patienten ist gegeben. Es besteht kein Anhalt für eine akute Eigen- oder Fremdgefährdung.';\nconst initialNotesState = {\n    thema: '',\n    sitzungsnummer: '',\n    patientenbericht: '',\n    psychotherapeutischesThemaInhalt: '',\n    therapeutischeInterventionen: [''],\n    gesamteindruck: '',\n    risikoabschaetzung: riskTextStandard,\n    hausaufgaben: ['']\n};\n\nconst autoParseDoku = (text) => {\n    const fieldConfig = {\n        sitzungsnummer: [\"Sitzungsnummer\"],\n        thema: [\"Thema der Sitzung\", \"Thema\"],\n        patientenbericht: [\"Patientenbericht\", \"Kurzer Patientenbericht\"],\n        psychotherapeutischesThemaInhalt: [\"Psychotherapeutisches Thema und Inhalt der Sitzung\", \"Psychotherapeutisches Thema und Inhalt\"],\n        therapeutischeInterventionen: [\"Therapeutische Interventionen\", \"Durchgeführten psychotherapeutischen Interventionen\"],\n        gesamteindruck: [\"Gesamteindruck\"],\n        risikoabschaetzung: [\"Risikoabschätzung (Suizidalität)\", \"Risikoabschätzung\"],\n        hausaufgaben: [\"Hausaufgaben\"]\n    };\n\n    const allHeadings = Object.values(fieldConfig).flat();\n    const headingRegex = new RegExp(`^\\\\s*(${allHeadings.join('|')}):?`, 'i');\n\n    const parsedNotes = {};\n    const lines = text.split('\\n');\n    let currentKey = null;\n    let currentContent = [];\n\n    lines.forEach(line => {\n        const match = line.match(headingRegex);\n        \n        if (match) {\n            if (currentKey) {\n                parsedNotes[currentKey] = currentContent.join('\\n').trim();\n            }\n            \n            const matchedHeading = match[1];\n            currentKey = Object.keys(fieldConfig).find(key => \n                fieldConfig[key].some(h => h.toLowerCase() === matchedHeading.toLowerCase())\n            );\n\n            currentContent = [line.substring(match[0].length).trim()];\n        } else {\n            if (currentKey) {\n                currentContent.push(line);\n            }\n        }\n    });\n\n    if (currentKey) {\n        parsedNotes[currentKey] = currentContent.join('\\n').trim();\n    }\n    \n    ['therapeutischeInterventionen', 'hausaufgaben'].forEach(key => {\n        if (parsedNotes[key] && typeof parsedNotes[key] === 'string') {\n            const content = parsedNotes[key];\n            const lines = content.split('\\n').filter(line => line.trim() !== '');\n            \n            const listItems = lines.reduce((acc, line) => {\n                const trimmedLine = line.trim();\n                if (/^[-*•]/.test(trimmedLine) || /^\\d+\\.\\s/.test(trimmedLine)) {\n                    acc.push(trimmedLine.replace(/^[-*•\\d.]+\\s*/, ''));\n                } else if (acc.length > 0) {\n                    acc[acc.length - 1] += ' ' + trimmedLine;\n                } else {\n                    acc.push(trimmedLine);\n                }\n                return acc;\n            }, []);\n\n            parsedNotes[key] = listItems.length > 0 ? listItems : [''];\n        }\n    });\n\n    return parsedNotes;\n};\n\n\nconst BillingModal = ({ event, ebmData, onSave, onClose, generateGeminiText, isEditing, ebmTemplates }) => {\n    const [step, setStep] = useState(1);\n    const [ebmEntries, setEbmEntries] = useState([]);\n    const [ebmSearch, setEbmSearch] = useState('');\n    const [selectedEbm, setSelectedEbm] = useState(null);\n    const [anzahl, setAnzahl] = useState(1);\n    const [faktor, setFaktor] = useState(1);\n    const [isParsing, setIsParsing] = useState(false);\n    const [isPasteModalOpen, setIsPasteModalOpen] = useState(false);\n    const [isSessionNumberFromCalendar, setIsSessionNumberFromCalendar] = useState(false);\n    const [notes, setNotes] = useState(initialNotesState);\n    const [isSuicidal, setIsSuicidal] = useState(false);\n\n    useEffect(() => {\n        if (event) {\n            if (isEditing) {\n                const existingNotes = event.initialNotes || {};\n                \n                if (typeof existingNotes.therapeutischeInterventionen === 'string') {\n                    existingNotes.therapeutischeInterventionen = existingNotes.therapeutischeInterventionen.split(/[-–\\n]/).map(s => s.trim()).filter(Boolean);\n                }\n                if (!Array.isArray(existingNotes.therapeutischeInterventionen) || existingNotes.therapeutischeInterventionen.length === 0) {\n                    existingNotes.therapeutischeInterventionen = [''];\n                }\n\n                if (typeof existingNotes.hausaufgaben === 'string') {\n                    existingNotes.hausaufgaben = existingNotes.hausaufgaben.split(/[-–\\n1-9.]+/).map(s => s.trim()).filter(Boolean);\n                }\n                if (!Array.isArray(existingNotes.hausaufgaben) || existingNotes.hausaufgaben.length === 0) {\n                    existingNotes.hausaufgaben = [''];\n                }\n\n                setNotes({ ...initialNotesState, ...existingNotes });\n                setEbmEntries(event.initialEbm || []);\n                if (event.initialNotes?.risikoabschaetzung !== riskTextStandard) setIsSuicidal(true);\n                setIsSessionNumberFromCalendar(false);\n            } else {\n                let sessionNumberFromSummary = '';\n                const tNumberMatch = event.summary?.match(/\\sT(\\d+)/i);\n                \n                if (tNumberMatch && tNumberMatch[1]) {\n                    sessionNumberFromSummary = tNumberMatch[1];\n                    setIsSessionNumberFromCalendar(true);\n                } else {\n                    const genericMatch = event.summary?.match(/[T|S|Sitzung|Therapie]\\s*(\\d+)/i);\n                    if (genericMatch && genericMatch[1]) {\n                        sessionNumberFromSummary = genericMatch[1];\n                        setIsSessionNumberFromCalendar(true);\n                    } else {\n                        setIsSessionNumberFromCalendar(false);\n                    }\n                }\n                const initialSessionNumber = sessionNumberFromSummary || event.sitzungsnummer || '';\n                setNotes(prev => ({ ...initialNotesState, sitzungsnummer: initialSessionNumber, thema: `Sitzung ${initialSessionNumber}` }));\n                setEbmEntries([]);\n                setIsSuicidal(false);\n            }\n        }\n    }, [event, isEditing]);\n\n    useEffect(() => { \n     if (!isParsing) setNotes(prev => ({ ...prev, risikoabschaetzung: isSuicidal ? prev.risikoabschaetzung : riskTextStandard })); \n    }, [isSuicidal, isParsing]);\n    \n    const handleAutoAssign = (text) => {\n        setIsParsing(true);\n        try {\n            setTimeout(() => {\n                const parsedData = autoParseDoku(text);\n                \n                if (Object.keys(parsedData).length === 0) {\n                    alert(\"Die automatische Zuordnung ist fehlgeschlagen. Bitte überprüfen Sie, ob der Text sinnvolle Überschriften enthält.\");\n                    setIsParsing(false);\n                    return;\n                }\n\n                if (parsedData.risikoabschaetzung && parsedData.risikoabschaetzung.toLowerCase() !== riskTextStandard.toLowerCase()) {\n                    setIsSuicidal(true);\n                } else {\n                    setIsSuicidal(false);\n                    parsedData.risikoabschaetzung = riskTextStandard;\n                }\n                \n                setNotes(prevNotes => ({\n                    ...prevNotes,\n                    ...parsedData\n                }));\n                \n                setIsParsing(false);\n                alert(\"Felder wurden erfolgreich zugeordnet!\");\n\n            }, 500);\n            \n        } catch (error) {\n            console.error(\"Fehler bei der automatischen Zuordnung:\", error);\n            alert(\"Ein unerwarteter Fehler ist aufgetreten. Bitte füllen Sie die Felder manuell aus.\");\n            setIsParsing(false);\n        }\n    };\n\n    const handleNoteChange = (e) => setNotes(prev => ({ ...prev, [e.target.name]: e.target.value }));\n    \n    const handleInterventionChange = (e, index) => {\n        const newInterventions = [...notes.therapeutischeInterventionen];\n        newInterventions[index] = e.target.value;\n        setNotes(prev => ({ ...prev, therapeutischeInterventionen: newInterventions }));\n    };\n    const handleAddIntervention = () => {\n        setNotes(prev => ({ ...prev, therapeutischeInterventionen: [...prev.therapeutischeInterventionen, ''] }));\n    };\n    const handleDeleteIntervention = (index) => {\n        if (notes.therapeutischeInterventionen.length > 1) {\n            const newInterventions = notes.therapeutischeInterventionen.filter((_, i) => i !== index);\n            setNotes(prev => ({ ...prev, therapeutischeInterventionen: newInterventions }));\n        }\n    };\n\n    const handleHomeworkChange = (e, index) => { const newHomeworks = [...notes.hausaufgaben]; newHomeworks[index] = e.target.value; setNotes(prev => ({ ...prev, hausaufgaben: newHomeworks })); };\n    const handleAddHomework = () => setNotes(prev => ({ ...prev, hausaufgaben: [...prev.hausaufgaben, ''] }));\n    const handleDeleteHomework = (index) => { if (notes.hausaufgaben.length > 1) { const newHomeworks = notes.hausaufgaben.filter((_, i) => i !== index); setNotes(prev => ({ ...prev, hausaufgaben: newHomeworks })); } };\n\n    const searchResults = useMemo(() => { if (!ebmSearch) return []; return ebmData.filter(item => item.Nummer.startsWith(ebmSearch) || item.Titel.toLowerCase().includes(ebmSearch.toLowerCase())).slice(0, 5); }, [ebmSearch, ebmData]);\n    const handleSelectEbm = (item) => { setSelectedEbm(item); setEbmSearch(`${item.Nummer} - ${item.Titel}`); };\n    const handleAddEbmEntry = () => { if (selectedEbm) { setEbmEntries(p => [...p, { ...selectedEbm, anzahl, faktor, id: `ebm_${Date.now()}` }]); setSelectedEbm(null); setEbmSearch(''); setAnzahl(1); setFaktor(1); } };\n    const handleDeleteEbmEntry = (index) => setEbmEntries(p => p.filter((_, i) => i !== index));\n    const totalPoints = ebmEntries.reduce((sum, entry) => sum + ((parseInt(entry.Punkte, 10) || 0) * entry.anzahl * entry.faktor), 0);\n    \n    const applyTemplate = (template) => {\n        const itemsToAdd = template.items.map(templateItem => {\n            const fullEbmData = ebmData.find(e => e.Nummer === templateItem.nummer);\n            if (!fullEbmData) return null;\n            const anzahlFromTemplate = templateItem.anzahl || 1;\n            const faktorFromTemplate = templateItem.faktor || 1;\n            return { ...fullEbmData, anzahl: anzahlFromTemplate, faktor: faktorFromTemplate, id: `ebm_${Date.now()}_${Math.random()}` };\n        }).filter(Boolean);\n        const newEntries = itemsToAdd.filter(item => !ebmEntries.some(existing => existing.Nummer === item.Nummer));\n        setEbmEntries(prev => [...prev, ...newEntries]);\n    };\n\n    const handleSave = () => {\n        const m = event.summary.match(/[A-Z][0-9]{6}/);\n        const finalNotes = { ...notes, sitzungsnummer: Number(notes.sitzungsnummer) };\n        onSave({ sessionId: event.id, eventId: event.id, eventStart: event.start.dateTime || event.start.date, chiffre: m ? m[0] : null, ebmEntries: ebmEntries.map(e => ({ nummer: e.Nummer, anzahl: e.anzahl, faktor: e.faktor })), notes: finalNotes }, isEditing);\n    };\n\n    const inputStyle = \"block w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 sm:text-sm\";\n    const textareaStyle = `${inputStyle} min-h-[40px]`;\n    const accentButton = \"bg-teal-600 text-white font-semibold py-2 px-3 text-sm rounded-md shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 flex items-center justify-center\";\n\n    return (\n        <>\n            <PasteTextModal isOpen={isPasteModalOpen} onClose={() => setIsPasteModalOpen(false)} onSave={handleAutoAssign} isParsing={isParsing} />\n            <div className=\"p-1\">\n                <div className=\"flex justify-center items-center space-x-4 mb-6\">\n                    <div className={`flex items-center ${step >= 1 ? 'text-teal-600' : 'text-gray-400'}`}><div className={`w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 ${step >= 1 ? 'bg-teal-600 border-teal-700 text-white' : 'bg-gray-200 border-gray-300'}`}>1</div><span className=\"ml-2 font-semibold\">Leistungen</span></div>\n                    <div className={`h-0.5 w-16 ${step >= 2 ? 'bg-teal-500' : 'bg-gray-200'}`}></div>\n                    <div className={`flex items-center ${step >= 2 ? 'text-teal-600' : 'text-gray-400'}`}><div className={`w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 ${step >= 2 ? 'bg-teal-600 border-teal-700 text-white' : 'bg-gray-200 border-gray-300'}`}>2</div><span className=\"ml-2 font-semibold\">Dokumentation</span></div>\n                </div>\n\n                {step === 1 && (\n                    <div className=\"animate-fade-in space-y-4\">\n                        <div className=\"p-4 border rounded-lg bg-white\">\n                            <h3 className=\"font-semibold text-lg text-gray-800 mb-3\">Leistung hinzufügen</h3>\n                            {ebmTemplates && ebmTemplates.length > 0 && (\n                                <div className=\"mb-4 pb-4 border-b\">\n                                    <h4 className=\"font-semibold text-sm text-gray-600 mb-2\">Vorlagen anwenden</h4>\n                                    <div className=\"flex flex-wrap gap-2\">\n                                        {ebmTemplates.map(template => (\n                                            <button key={template.id} onClick={() => applyTemplate(template)} className=\"bg-sky-100 text-sky-800 text-xs font-semibold px-2.5 py-1 rounded-full hover:bg-sky-200 transition-colors\">{template.name}</button>\n                                        ))}\n                                    </div>\n                                </div>\n                            )}\n                            <div className=\"relative\"><input type=\"text\" placeholder=\"EBM-Ziffer oder Titel suchen...\" value={ebmSearch} onChange={e => { setEbmSearch(e.target.value); setSelectedEbm(null); }} className={inputStyle} />{searchResults.length > 0 && ebmSearch && !selectedEbm && (<ul className=\"absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 shadow-lg max-h-48 overflow-y-auto\">{searchResults.map(item => <li key={item.Nummer} onClick={() => handleSelectEbm(item)} className=\"px-3 py-2 cursor-pointer hover:bg-teal-50\">{item.Nummer} - {item.Titel}</li>)}</ul>)}</div>\n                            <div className=\"grid grid-cols-3 gap-3 mt-3\">\n                                <div><label className=\"text-xs font-medium text-gray-600\">Anzahl</label><input type=\"number\" value={anzahl} onChange={e => setAnzahl(Math.max(1, parseInt(e.target.value, 10) || 1))} min=\"1\" className={`${inputStyle} text-center`} /></div>\n                                <div><label className=\"text-xs font-medium text-gray-600\">Faktor</label><input type=\"number\" step=\"0.1\" value={faktor} onChange={e => setFaktor(parseFloat(e.target.value) || 1)} min=\"1\" className={`${inputStyle} text-center`} /></div>\n                                <div className=\"self-end\"><button onClick={handleAddEbmEntry} disabled={!selectedEbm} className=\"w-full bg-gray-700 text-white p-2 rounded-md hover:bg-gray-800 disabled:bg-gray-300 flex items-center justify-center\"><PlusIcon className=\"w-4 h-4 mr-1\"/> Hinzufügen</button></div>\n                            </div>\n                        </div>\n                        <div className=\"p-4 border rounded-lg bg-white mt-4\">\n                            <h3 className=\"font-semibold text-lg text-gray-800 mb-3\">Abzurechnende Leistungen</h3>\n                            <div className=\"space-y-2\">{ebmEntries.map((entry, index) => (<div key={entry.id || index} className=\"flex justify-between items-center bg-gray-50 p-2 rounded-md\"><div><p className=\"font-semibold\">{entry.Nummer || entry.nummer} <span className=\"text-gray-600 font-normal\">({entry.Titel})</span></p><p className=\"text-xs text-gray-500\">Anzahl: {entry.anzahl}, Faktor: {entry.faktor}</p></div><div className=\"flex items-center\"><span className=\"mr-4 font-mono text-gray-800\">{(parseInt(entry.Punkte, 10) * entry.anzahl * entry.faktor).toFixed(0)} Pkt.</span><button onClick={() => handleDeleteEbmEntry(index)} className=\"text-red-500 hover:text-red-700 p-1\"><TrashIcon /></button></div></div>))}{ebmEntries.length === 0 && <p className=\"text-sm text-gray-500 text-center py-4\">Noch keine Leistungen hinzugefügt.</p>}<div className=\"text-right font-bold text-xl mt-4 pt-4 border-t\">Gesamt: {totalPoints.toFixed(0)} Punkte</div></div>\n                        </div>\n                    </div>\n                )}\n\n                {step === 2 && (\n                    <div className=\"relative\">\n                        {isParsing && <ParsingLoader />}\n                        <div className=\"animate-fade-in space-y-4\">\n                            <div className=\"flex justify-end\"><button onClick={() => setIsPasteModalOpen(true)} className=\"bg-gray-700 text-white py-1.5 px-3 text-xs rounded-md hover:bg-gray-800 flex items-center font-semibold\"><WandSparkles className=\"w-4 h-4 mr-1.5\" />Doku einfügen & zuordnen</button></div>\n                            <div className=\"p-4 border rounded-lg bg-white space-y-3\">\n                                <h3 className=\"font-semibold text-lg text-gray-800\">Strukturierte Dokumentation</h3>\n                                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                                    <div className=\"md:col-span-2\"><label className=\"text-sm font-medium text-gray-600\">Thema der Sitzung</label><input name=\"thema\" value={notes.thema} onChange={handleNoteChange} className={inputStyle} /></div>\n                                    <div>\n                                        <label className=\"text-sm font-medium text-gray-600\">Sitzungs-Nr.</label>\n                                        <input type=\"number\" name=\"sitzungsnummer\" value={notes.sitzungsnummer} onChange={handleNoteChange} className={inputStyle} />\n                                        {isSessionNumberFromCalendar && <p className=\"text-xs text-gray-500 mt-1\">Aus Kalender übernommen.</p>}\n                                    </div>\n                                </div>\n                                <div><label className=\"text-sm font-medium text-gray-600\">Patientenbericht</label><AutosizeTextarea name=\"patientenbericht\" value={notes.patientenbericht} onChange={handleNoteChange} className={textareaStyle} /></div>\n                                <div><label className=\"text-sm font-medium text-gray-600\">Psychotherapeutisches Thema und Inhalt der Sitzung</label><AutosizeTextarea name=\"psychotherapeutischesThemaInhalt\" value={notes.psychotherapeutischesThemaInhalt} onChange={handleNoteChange} className={textareaStyle} /></div>\n                                <div>\n                                    <label className=\"text-sm font-medium text-gray-600 mb-1 block\">Therapeutische Interventionen</label>\n                                    <div className=\"space-y-2\">\n                                        {(notes.therapeutischeInterventionen || ['']).map((intervention, index) => (\n                                            <div key={index} className=\"flex items-center space-x-2\">\n                                                <AutosizeTextarea name={`intervention-${index}`} value={intervention} onChange={(e) => handleInterventionChange(e, index)} className={inputStyle} placeholder={`Intervention ${index + 1}`}/>\n                                                {notes.therapeutischeInterventionen.length > 1 && (\n                                                    <button type=\"button\" onClick={() => handleDeleteIntervention(index)} className=\"p-1 text-gray-400 hover:text-red-500 rounded-full flex-shrink-0\">\n                                                        <TrashIcon className=\"w-4 h-4\" />\n                                                    </button>\n                                                )}\n                                            </div>\n                                        ))}\n                                    </div>\n                                    <button type=\"button\" onClick={handleAddIntervention} className=\"mt-2 flex items-center text-sm text-teal-600 hover:text-teal-800 font-semibold\">\n                                        <PlusIcon className=\"w-4 h-4 mr-1\" />Intervention hinzufügen\n                                    </button>\n                                </div>\n                                <div><label className=\"text-sm font-medium text-gray-600\">Gesamteindruck</label><AutosizeTextarea name=\"gesamteindruck\" value={notes.gesamteindruck} onChange={handleNoteChange} className={textareaStyle} /></div>\n                                <div>\n                                    <label className=\"text-sm font-medium text-gray-600\">Risikoabschätzung (Suizidalität)</label>\n                                    <div className=\"flex items-center space-x-4 mt-1 mb-2\">\n                                        <label className=\"flex items-center\"><input type=\"radio\" checked={!isSuicidal} onChange={() => setIsSuicidal(false)} className=\"h-4 w-4 text-teal-600 focus:ring-teal-500\"/> <span className=\"ml-2 text-sm\">Nein</span></label>\n                                        <label className=\"flex items-center\"><input type=\"radio\" checked={isSuicidal} onChange={() => setIsSuicidal(true)} className=\"h-4 w-4 text-teal-600 focus:ring-teal-500\"/> <span className=\"ml-2 text-sm\">Ja, Interventionsbedarf</span></label>\n                                    </div>\n                                    <AutosizeTextarea name=\"risikoabschaetzung\" value={notes.risikoabschaetzung} onChange={handleNoteChange} disabled={!isSuicidal} className={`${textareaStyle} ${!isSuicidal ? 'bg-gray-100' : ''}`} />\n                                </div>\n                                <div>\n                                    <label className=\"text-sm font-medium text-gray-600 mb-1 block\">Hausaufgaben</label>\n                                    <div className=\"space-y-2\">{(notes.hausaufgaben || ['']).map((task, index) => (<div key={index} className=\"flex items-center space-x-2\"><AutosizeTextarea name={`hausaufgabe-${index}`} value={task} onChange={(e) => handleHomeworkChange(e, index)} className={inputStyle} placeholder={`Aufgabe ${index + 1}`}/>{notes.hausaufgaben.length > 1 && (<button type=\"button\" onClick={() => handleDeleteHomework(index)} className=\"p-1 text-gray-400 hover:text-red-500 rounded-full flex-shrink-0\"><TrashIcon className=\"w-4 h-4\" /></button>)}</div>))}</div>\n                                    <button type=\"button\" onClick={handleAddHomework} className=\"mt-2 flex items-center text-sm text-teal-600 hover:text-teal-800 font-semibold\"><PlusIcon className=\"w-4 h-4 mr-1\" />Aufgabe hinzufügen</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n                \n                <div className=\"flex justify-between pt-6 mt-6 border-t\">\n                    <button onClick={() => step > 1 ? setStep(step - 1) : onClose()} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300\">{step === 1 ? 'Abbrechen' : 'Zurück'}</button>\n                    {step === 1 && <button onClick={() => setStep(2)} className={accentButton}>Weiter</button>}\n                    {step === 2 && <button onClick={handleSave} className={`${accentButton} bg-green-600 hover:bg-green-700`}><SaveIcon className=\"w-4 h-4 mr-2\"/> Abrechnung speichern</button>}\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default BillingModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}