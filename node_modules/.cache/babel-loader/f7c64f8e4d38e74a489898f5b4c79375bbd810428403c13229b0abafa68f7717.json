{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BaseModal=_ref=>{let{isOpen,onClose,title,children}=_ref;if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex justify-center items-center z-[90] p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-xl w-full max-w-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800\",children:title}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-500 hover:text-gray-700\",children:\"\\xD7\"})]}),children]})});};const ManualBillingSetupModal=_ref2=>{let{isOpen,onClose,patients,onStart}=_ref2;const[selectedPatientId,setSelectedPatientId]=useState('');const[sessionDate,setSessionDate]=useState(new Date().toISOString().split('T')[0]);const[sessionNumber,setSessionNumber]=useState('');// NEU\nconst handleStart=()=>{if(!selectedPatientId||!sessionDate){alert(\"Bitte wählen Sie einen Patienten und ein Datum aus.\");return;}// NEU: Sitzungsnummer wird übergeben\nonStart(selectedPatientId,sessionDate,sessionNumber);onClose();};React.useEffect(()=>{if(!isOpen){setSelectedPatientId('');setSessionDate(new Date().toISOString().split('T')[0]);setSessionNumber('');// NEU: Zurücksetzen\n}},[isOpen]);return/*#__PURE__*/_jsxs(BaseModal,{isOpen:isOpen,onClose:onClose,title:\"Sitzung manuell anlegen\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"patient-select\",className:\"block text-sm font-medium text-gray-700\",children:\"Patient/in\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"patient-select\",value:selectedPatientId,onChange:e=>setSelectedPatientId(e.target.value),className:\"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Bitte w\\xE4hlen...\"}),patients.map(p=>/*#__PURE__*/_jsxs(\"option\",{value:p.id,children:[p.name,\", \",p.vorname,\" (\",p.chiffre,\")\"]},p.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"session-date\",className:\"block text-sm font-medium text-gray-700\",children:\"Datum\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"session-date\",value:sessionDate,onChange:e=>setSessionDate(e.target.value),className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"session-number\",className:\"block text-sm font-medium text-gray-700\",children:\"Sitzungs-Nr.\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"session-number\",value:sessionNumber,onChange:e=>setSessionNumber(e.target.value),placeholder:\"z.B. 5\",className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleStart,disabled:!selectedPatientId||!sessionDate,className:\"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 disabled:bg-gray-400\",children:\"Weiter zur Abrechnung\"})})]});};export default ManualBillingSetupModal;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","BaseModal","_ref","isOpen","onClose","title","children","className","onClick","ManualBillingSetupModal","_ref2","patients","onStart","selectedPatientId","setSelectedPatientId","sessionDate","setSessionDate","Date","toISOString","split","sessionNumber","setSessionNumber","handleStart","alert","useEffect","htmlFor","id","value","onChange","e","target","disabled","map","p","name","vorname","chiffre","type","placeholder"],"sources":["/Users/julianrogowski/Documents/Visual Code/patientenverwaltung-app/src/components/ManualBillingSetupModal.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst BaseModal = ({ isOpen, onClose, title, children }) => {\n    if (!isOpen) return null;\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex justify-center items-center z-[90] p-4\">\n            <div className=\"bg-white p-6 rounded-lg shadow-xl w-full max-w-md\">\n                <div className=\"flex justify-between items-center mb-4\">\n                    <h2 className=\"text-xl font-semibold text-gray-800\">{title}</h2>\n                    <button onClick={onClose} className=\"text-gray-500 hover:text-gray-700\">&times;</button>\n                </div>\n                {children}\n            </div>\n        </div>\n    );\n};\n\nconst ManualBillingSetupModal = ({ isOpen, onClose, patients, onStart }) => {\n    const [selectedPatientId, setSelectedPatientId] = useState('');\n    const [sessionDate, setSessionDate] = useState(new Date().toISOString().split('T')[0]);\n    const [sessionNumber, setSessionNumber] = useState(''); // NEU\n\n    const handleStart = () => {\n        if (!selectedPatientId || !sessionDate) {\n            alert(\"Bitte wählen Sie einen Patienten und ein Datum aus.\");\n            return;\n        }\n        // NEU: Sitzungsnummer wird übergeben\n        onStart(selectedPatientId, sessionDate, sessionNumber); \n        onClose();\n    };\n\n    React.useEffect(() => {\n        if (!isOpen) {\n            setSelectedPatientId('');\n            setSessionDate(new Date().toISOString().split('T')[0]);\n            setSessionNumber(''); // NEU: Zurücksetzen\n        }\n    }, [isOpen]);\n\n    return (\n        <BaseModal isOpen={isOpen} onClose={onClose} title=\"Sitzung manuell anlegen\">\n            <div className=\"space-y-4\">\n                <div>\n                    <label htmlFor=\"patient-select\" className=\"block text-sm font-medium text-gray-700\">Patient/in</label>\n                    <select\n                        id=\"patient-select\"\n                        value={selectedPatientId}\n                        onChange={(e) => setSelectedPatientId(e.target.value)}\n                        className=\"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm\"\n                    >\n                        <option value=\"\" disabled>Bitte wählen...</option>\n                        {patients.map(p => (\n                            <option key={p.id} value={p.id}>\n                                {p.name}, {p.vorname} ({p.chiffre})\n                            </option>\n                        ))}\n                    </select>\n                </div>\n                <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                        <label htmlFor=\"session-date\" className=\"block text-sm font-medium text-gray-700\">Datum</label>\n                        <input\n                            type=\"date\"\n                            id=\"session-date\"\n                            value={sessionDate}\n                            onChange={(e) => setSessionDate(e.target.value)}\n                            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm\"\n                        />\n                    </div>\n                     {/* NEU: Feld für Sitzungsnummer */}\n                    <div>\n                        <label htmlFor=\"session-number\" className=\"block text-sm font-medium text-gray-700\">Sitzungs-Nr.</label>\n                        <input\n                            type=\"number\"\n                            id=\"session-number\"\n                            value={sessionNumber}\n                            onChange={(e) => setSessionNumber(e.target.value)}\n                            placeholder=\"z.B. 5\"\n                            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm\"\n                        />\n                    </div>\n                </div>\n            </div>\n            <div className=\"flex justify-end mt-6\">\n                <button\n                    onClick={handleStart}\n                    disabled={!selectedPatientId || !sessionDate}\n                    className=\"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 disabled:bg-gray-400\"\n                >\n                    Weiter zur Abrechnung\n                </button>\n            </div>\n        </BaseModal>\n    );\n};\n\nexport default ManualBillingSetupModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}