{"ast":null,"code":"var _jsxFileName = \"/Users/julianrogowski/Documents/Visual Code/patientenverwaltung-app/src/components/Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useState, useEffect } from 'react';\n\n// Icons\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DollarSignIcon = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"1\",\n    x2: \"12\",\n    y2: \"23\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 4,\n    columnNumber: 233\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 4,\n    columnNumber: 277\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 4,\n  columnNumber: 56\n}, this);\n_c = DollarSignIcon;\nconst UsersIcon = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 228\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"9\",\n    cy: \"7\",\n    r: \"4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 287\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M22 21v-2a4 4 0 0 0-3-3.87\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 324\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16 3.13a4 4 0 0 1 0 7.75\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 368\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 5,\n  columnNumber: 51\n}, this);\n_c2 = UsersIcon;\nconst ClockIcon = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 228\n  }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"12 6 12 12 16 14\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 268\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 6,\n  columnNumber: 51\n}, this);\n_c3 = ClockIcon;\nconst CalendarIcon = ({\n  className = \"w-6 h-6\"\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  className: className,\n  children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n    x: \"3\",\n    y: \"4\",\n    width: \"18\",\n    height: \"18\",\n    rx: \"2\",\n    ry: \"2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 231\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"16\",\n    y1: \"2\",\n    x2: \"16\",\n    y2: \"6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 293\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"8\",\n    y1: \"2\",\n    x2: \"8\",\n    y2: \"6\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 336\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"3\",\n    y1: \"10\",\n    x2: \"21\",\n    y2: \"10\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 377\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 7,\n  columnNumber: 54\n}, this);\n\n// Helper function to get the start of the week (Monday)\n_c4 = CalendarIcon;\nconst getStartOfWeek = date => {\n  const d = new Date(date);\n  const day = d.getDay();\n  const diff = d.getDate() - day + (day === 0 ? -6 : 1); // adjust when day is sunday\n  return new Date(d.setDate(diff));\n};\nconst StatCard = ({\n  title,\n  value,\n  colorClass\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: `p-4 bg-white rounded-lg shadow-sm border-l-4 ${colorClass}`,\n  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-sm font-medium text-gray-500\",\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-2xl font-bold text-gray-800\",\n    children: value\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 18,\n  columnNumber: 5\n}, this);\n_c5 = StatCard;\nconst Dashboard = ({\n  patients,\n  profile\n}) => {\n  _s();\n  const [upcomingAppointments, setUpcomingAppointments] = useState([]);\n\n  // Fetch upcoming appointments\n  useEffect(() => {\n    const fetchAppointments = async () => {\n      try {\n        // This assumes your local server has an endpoint to get upcoming events for the next two days.\n        const response = await fetch('http://localhost:3001/api/calendar/upcoming?days=2');\n        if (!response.ok) throw new Error('Could not fetch appointments');\n        const events = await response.json();\n        const tomorrow = new Date();\n        tomorrow.setDate(tomorrow.getDate() + 1);\n        const tomorrowEvents = events.filter(event => new Date(event.start.dateTime).toDateString() === tomorrow.toDateString());\n        setUpcomingAppointments(tomorrowEvents);\n      } catch (error) {\n        console.error(\"Error fetching upcoming appointments:\", error);\n      }\n    };\n    fetchAppointments();\n  }, []);\n  const dashboardData = useMemo(() => {\n    const data = {\n      revenueToday: 0,\n      revenueWeek: 0,\n      revenueMonth: 0,\n      revenueQuarter: 0,\n      patientProgress: [],\n      totalConductedSessions: 0\n    };\n    const now = new Date();\n    const today = now.toDateString();\n    const startOfWeek = getStartOfWeek(now).toDateString();\n    const currentMonth = now.getMonth();\n    const currentYear = now.getFullYear();\n    const currentQuarter = Math.floor(currentMonth / 3);\n    const punktwert = profile.punktwert || 0.116;\n    patients.forEach(patient => {\n      let conductedSessions = 0;\n      if (patient.sessions && patient.sessions.length > 0) {\n        conductedSessions = Math.max(0, ...patient.sessions.map(s => {\n          var _s$structuredNotes;\n          return ((_s$structuredNotes = s.structuredNotes) === null || _s$structuredNotes === void 0 ? void 0 : _s$structuredNotes.sitzungsnummer) || 0;\n        }));\n        patient.sessions.forEach(session => {\n          const sessionDate = new Date(session.date);\n          const sessionRevenue = (session.ebmEntries || []).reduce((sum, entry) => sum + (entry.punkte || 0), 0) * punktwert;\n          if (sessionDate.getFullYear() === currentYear) {\n            // Monthly Revenue\n            if (sessionDate.getMonth() === currentMonth) {\n              data.revenueMonth += sessionRevenue;\n            }\n            // Weekly Revenue\n            if (getStartOfWeek(sessionDate).toDateString() === startOfWeek) {\n              data.revenueWeek += sessionRevenue;\n            }\n            // Daily Revenue\n            if (sessionDate.toDateString() === today) {\n              data.revenueToday += sessionRevenue;\n            }\n            // Quarterly Revenue\n            if (Math.floor(sessionDate.getMonth() / 3) === currentQuarter) {\n              data.revenueQuarter += sessionRevenue;\n            }\n          }\n        });\n      }\n      data.patientProgress.push({\n        id: patient.id,\n        chiffre: patient.chiffre,\n        conducted: conductedSessions,\n        approved: patient.approvedHours || 0\n      });\n      data.totalConductedSessions += conductedSessions;\n    });\n    return data;\n  }, [patients, profile]);\n  const YEAR_GOAL = 600;\n  const goalPercentage = Math.min(dashboardData.totalConductedSessions / YEAR_GOAL * 100, 100);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-1 space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-gray-800\",\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5\",\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Umsatz Heute\",\n        value: `€ ${dashboardData.revenueToday.toFixed(2)}`,\n        colorClass: \"border-green-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Umsatz Diese Woche\",\n        value: `€ ${dashboardData.revenueWeek.toFixed(2)}`,\n        colorClass: \"border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Umsatz Dieser Monat\",\n        value: `€ ${dashboardData.revenueMonth.toFixed(2)}`,\n        colorClass: \"border-indigo-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"Umsatz Dieses Quartal\",\n        value: `€ ${dashboardData.revenueQuarter.toFixed(2)}`,\n        colorClass: \"border-purple-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2 space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-6 rounded-lg shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-gray-700 mb-3\",\n            children: \"Jahresziel Therapiesitzungen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n              className: \"text-teal-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-sm font-medium mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [dashboardData.totalConductedSessions, \" / \", YEAR_GOAL, \" Stunden\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [goalPercentage.toFixed(0), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full bg-gray-200 rounded-full h-4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-teal-600 h-4 rounded-full\",\n                  style: {\n                    width: `${goalPercentage}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-6 rounded-lg shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-gray-700 mb-4\",\n            children: \"Patienten-Auslastung\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4 max-h-64 overflow-y-auto pr-2\",\n            children: dashboardData.patientProgress.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between mb-1 text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-gray-700\",\n                  children: p.chiffre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 42\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: [p.conducted, \" / \", p.approved]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 42\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 38\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full bg-gray-200 rounded-full h-2.5\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-indigo-600 h-2.5 rounded-full\",\n                  style: {\n                    width: p.approved > 0 ? `${p.conducted / p.approved * 100}%` : '0%'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 42\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 38\n              }, this)]\n            }, p.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 34\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-700 mb-4 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n            className: \"mr-2 text-red-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 96\n          }, this), \"Termine morgen\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: upcomingAppointments.length > 0 ? upcomingAppointments.map(event => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 bg-red-50 border border-red-200 rounded-md\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-semibold text-red-800\",\n              children: event.summary\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 34\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-red-600\",\n              children: [new Date(event.start.dateTime).toLocaleTimeString('de-DE', {\n                hour: '2-digit',\n                minute: '2-digit'\n              }), \" Uhr\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 34\n            }, this)]\n          }, event.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 30\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Keine Termine f\\xFCr morgen gefunden.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 31\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 9\n  }, this);\n};\n_s(Dashboard, \"JM02MtD4/s+xxef/spdKx67VWhY=\");\n_c6 = Dashboard;\nexport default Dashboard;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"DollarSignIcon\");\n$RefreshReg$(_c2, \"UsersIcon\");\n$RefreshReg$(_c3, \"ClockIcon\");\n$RefreshReg$(_c4, \"CalendarIcon\");\n$RefreshReg$(_c5, \"StatCard\");\n$RefreshReg$(_c6, \"Dashboard\");","map":{"version":3,"names":["React","useMemo","useState","useEffect","jsxDEV","_jsxDEV","DollarSignIcon","className","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","x1","y1","x2","y2","fileName","_jsxFileName","lineNumber","columnNumber","d","_c","UsersIcon","cx","cy","r","_c2","ClockIcon","points","_c3","CalendarIcon","x","y","width","height","rx","ry","_c4","getStartOfWeek","date","Date","day","getDay","diff","getDate","setDate","StatCard","title","value","colorClass","_c5","Dashboard","patients","profile","_s","upcomingAppointments","setUpcomingAppointments","fetchAppointments","response","fetch","ok","Error","events","json","tomorrow","tomorrowEvents","filter","event","start","dateTime","toDateString","error","console","dashboardData","data","revenueToday","revenueWeek","revenueMonth","revenueQuarter","patientProgress","totalConductedSessions","now","today","startOfWeek","currentMonth","getMonth","currentYear","getFullYear","currentQuarter","Math","floor","punktwert","forEach","patient","conductedSessions","sessions","length","max","map","s","_s$structuredNotes","structuredNotes","sitzungsnummer","session","sessionDate","sessionRevenue","ebmEntries","reduce","sum","entry","punkte","push","id","chiffre","conducted","approved","approvedHours","YEAR_GOAL","goalPercentage","min","toFixed","style","p","summary","toLocaleTimeString","hour","minute","_c6","$RefreshReg$"],"sources":["/Users/julianrogowski/Documents/Visual Code/patientenverwaltung-app/src/components/Dashboard.js"],"sourcesContent":["import React, { useMemo, useState, useEffect } from 'react';\n\n// Icons\nconst DollarSignIcon = ({ className = \"w-6 h-6\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"23\"></line><path d=\"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\"></path></svg>);\nconst UsersIcon = ({ className = \"w-6 h-6\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><path d=\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\"></path><circle cx=\"9\" cy=\"7\" r=\"4\"></circle><path d=\"M22 21v-2a4 4 0 0 0-3-3.87\"></path><path d=\"M16 3.13a4 4 0 0 1 0 7.75\"></path></svg>);\nconst ClockIcon = ({ className = \"w-6 h-6\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><polyline points=\"12 6 12 12 16 14\"></polyline></svg>);\nconst CalendarIcon = ({ className = \"w-6 h-6\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect><line x1=\"16\" y1=\"2\" x2=\"16\" y2=\"6\"></line><line x1=\"8\" y1=\"2\" x2=\"8\" y2=\"6\"></line><line x1=\"3\" y1=\"10\" x2=\"21\" y2=\"10\"></line></svg>);\n\n// Helper function to get the start of the week (Monday)\nconst getStartOfWeek = (date) => {\n    const d = new Date(date);\n    const day = d.getDay();\n    const diff = d.getDate() - day + (day === 0 ? -6 : 1); // adjust when day is sunday\n    return new Date(d.setDate(diff));\n};\n\nconst StatCard = ({ title, value, colorClass }) => (\n    <div className={`p-4 bg-white rounded-lg shadow-sm border-l-4 ${colorClass}`}>\n        <p className=\"text-sm font-medium text-gray-500\">{title}</p>\n        <p className=\"text-2xl font-bold text-gray-800\">{value}</p>\n    </div>\n);\n\nconst Dashboard = ({ patients, profile }) => {\n    const [upcomingAppointments, setUpcomingAppointments] = useState([]);\n    \n    // Fetch upcoming appointments\n    useEffect(() => {\n        const fetchAppointments = async () => {\n            try {\n                // This assumes your local server has an endpoint to get upcoming events for the next two days.\n                const response = await fetch('http://localhost:3001/api/calendar/upcoming?days=2');\n                if (!response.ok) throw new Error('Could not fetch appointments');\n                const events = await response.json();\n                \n                const tomorrow = new Date();\n                tomorrow.setDate(tomorrow.getDate() + 1);\n\n                const tomorrowEvents = events.filter(event => \n                    new Date(event.start.dateTime).toDateString() === tomorrow.toDateString()\n                );\n                setUpcomingAppointments(tomorrowEvents);\n            } catch (error) {\n                console.error(\"Error fetching upcoming appointments:\", error);\n            }\n        };\n        fetchAppointments();\n    }, []);\n\n    const dashboardData = useMemo(() => {\n        const data = {\n            revenueToday: 0,\n            revenueWeek: 0,\n            revenueMonth: 0,\n            revenueQuarter: 0,\n            patientProgress: [],\n            totalConductedSessions: 0\n        };\n\n        const now = new Date();\n        const today = now.toDateString();\n        const startOfWeek = getStartOfWeek(now).toDateString();\n        const currentMonth = now.getMonth();\n        const currentYear = now.getFullYear();\n        const currentQuarter = Math.floor(currentMonth / 3);\n\n        const punktwert = profile.punktwert || 0.116; \n\n        patients.forEach(patient => {\n            let conductedSessions = 0;\n            if (patient.sessions && patient.sessions.length > 0) {\n                 conductedSessions = Math.max(0, ...patient.sessions.map(s => s.structuredNotes?.sitzungsnummer || 0));\n\n                patient.sessions.forEach(session => {\n                    const sessionDate = new Date(session.date);\n                    const sessionRevenue = (session.ebmEntries || [])\n                        .reduce((sum, entry) => sum + (entry.punkte || 0), 0) * punktwert;\n\n                    if (sessionDate.getFullYear() === currentYear) {\n                        // Monthly Revenue\n                        if (sessionDate.getMonth() === currentMonth) {\n                            data.revenueMonth += sessionRevenue;\n                        }\n                        // Weekly Revenue\n                        if (getStartOfWeek(sessionDate).toDateString() === startOfWeek) {\n                            data.revenueWeek += sessionRevenue;\n                        }\n                        // Daily Revenue\n                        if (sessionDate.toDateString() === today) {\n                            data.revenueToday += sessionRevenue;\n                        }\n                        // Quarterly Revenue\n                        if (Math.floor(sessionDate.getMonth() / 3) === currentQuarter) {\n                            data.revenueQuarter += sessionRevenue;\n                        }\n                    }\n                });\n            }\n             data.patientProgress.push({\n                id: patient.id,\n                chiffre: patient.chiffre,\n                conducted: conductedSessions,\n                approved: patient.approvedHours || 0,\n            });\n            data.totalConductedSessions += conductedSessions;\n        });\n\n        return data;\n    }, [patients, profile]);\n\n    const YEAR_GOAL = 600;\n    const goalPercentage = Math.min((dashboardData.totalConductedSessions / YEAR_GOAL) * 100, 100);\n\n    return (\n        <div className=\"p-1 space-y-6\">\n            <h1 className=\"text-3xl font-bold text-gray-800\">Dashboard</h1>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5\">\n                <StatCard title=\"Umsatz Heute\" value={`€ ${dashboardData.revenueToday.toFixed(2)}`} colorClass=\"border-green-500\" />\n                <StatCard title=\"Umsatz Diese Woche\" value={`€ ${dashboardData.revenueWeek.toFixed(2)}`} colorClass=\"border-blue-500\" />\n                <StatCard title=\"Umsatz Dieser Monat\" value={`€ ${dashboardData.revenueMonth.toFixed(2)}`} colorClass=\"border-indigo-500\" />\n                <StatCard title=\"Umsatz Dieses Quartal\" value={`€ ${dashboardData.revenueQuarter.toFixed(2)}`} colorClass=\"border-purple-500\" />\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                <div className=\"lg:col-span-2 space-y-6\">\n                    <div className=\"bg-white p-6 rounded-lg shadow-sm\">\n                        <h2 className=\"text-lg font-semibold text-gray-700 mb-3\">Jahresziel Therapiesitzungen</h2>\n                        <div className=\"flex items-center gap-4\">\n                            <ClockIcon className=\"text-teal-500\" />\n                            <div className=\"w-full\">\n                                <div className=\"flex justify-between text-sm font-medium mb-1\">\n                                    <span>{dashboardData.totalConductedSessions} / {YEAR_GOAL} Stunden</span>\n                                    <span>{goalPercentage.toFixed(0)}%</span>\n                                </div>\n                                <div className=\"w-full bg-gray-200 rounded-full h-4\">\n                                    <div className=\"bg-teal-600 h-4 rounded-full\" style={{ width: `${goalPercentage}%` }}></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                     <div className=\"bg-white p-6 rounded-lg shadow-sm\">\n                         <h2 className=\"text-lg font-semibold text-gray-700 mb-4\">Patienten-Auslastung</h2>\n                         <div className=\"space-y-4 max-h-64 overflow-y-auto pr-2\">\n                             {dashboardData.patientProgress.map(p => (\n                                 <div key={p.id}>\n                                     <div className=\"flex justify-between mb-1 text-sm\">\n                                         <span className=\"font-medium text-gray-700\">{p.chiffre}</span>\n                                         <span className=\"text-gray-500\">{p.conducted} / {p.approved}</span>\n                                     </div>\n                                     <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n                                         <div className=\"bg-indigo-600 h-2.5 rounded-full\" style={{ width: p.approved > 0 ? `${(p.conducted / p.approved) * 100}%` : '0%' }}></div>\n                                     </div>\n                                 </div>\n                             ))}\n                         </div>\n                    </div>\n                </div>\n\n                <div className=\"bg-white p-6 rounded-lg shadow-sm\">\n                    <h2 className=\"text-lg font-semibold text-gray-700 mb-4 flex items-center\"><CalendarIcon className=\"mr-2 text-red-500\"/>Termine morgen</h2>\n                    <div className=\"space-y-3\">\n                        {upcomingAppointments.length > 0 ? upcomingAppointments.map(event => (\n                             <div key={event.id} className=\"p-3 bg-red-50 border border-red-200 rounded-md\">\n                                 <p className=\"font-semibold text-red-800\">{event.summary}</p>\n                                 <p className=\"text-sm text-red-600\">{new Date(event.start.dateTime).toLocaleTimeString('de-DE', { hour: '2-digit', minute: '2-digit' })} Uhr</p>\n                             </div>\n                         )) : <p className=\"text-sm text-gray-500\">Keine Termine für morgen gefunden.</p>}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}