{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const XCircle=_ref=>{let{className=\"w-6 h-6\"}=_ref;return/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",className:className,children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"15\",y1:\"9\",x2:\"9\",y2:\"15\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"9\",y1:\"9\",x2:\"15\",y2:\"15\"})]});};const AddOrEditTemplateModal=_ref2=>{let{isOpen,onClose,onSave,availableTests,editingTemplate}=_ref2;const[name,setName]=useState('');const[selectedTests,setSelectedTests]=useState([]);useEffect(()=>{if(editingTemplate){setName(editingTemplate.name||'');setSelectedTests(editingTemplate.tests||[]);}else{setName('');setSelectedTests([]);}},[editingTemplate,isOpen]);if(!isOpen)return null;const handleTestToggle=testId=>{setSelectedTests(prev=>prev.includes(testId)?prev.filter(id=>id!==testId):[...prev,testId]);};const handleSubmit=e=>{e.preventDefault();if(!name.trim()){alert(\"Bitte geben Sie einen Namen für die Vorlage ein.\");return;}// Erstelle das Speicherobjekt ohne die ID\nconst saveData={name:name.trim(),tests:selectedTests};// Füge die ID nur hinzu, wenn wir eine bestehende Vorlage bearbeiten\nif(editingTemplate!==null&&editingTemplate!==void 0&&editingTemplate.id){saveData.id=editingTemplate.id;}onSave(saveData);onClose();};const inputStyle=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm\";return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex justify-center items-center z-[99] p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4 flex-shrink-0\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-800\",children:editingTemplate?'Vorlage bearbeiten':'Neue Vorlage erstellen'}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-500 hover:text-gray-700\",children:/*#__PURE__*/_jsx(XCircle,{className:\"w-7 h-7\"})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"flex-grow overflow-y-auto pr-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"template-name\",className:\"block text-sm font-medium text-gray-700\",children:\"Name der Vorlage\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"template-name\",value:name,onChange:e=>setName(e.target.value),required:true,className:inputStyle,placeholder:\"z.B. Eingangsdiagnostik\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Tests ausw\\xE4hlen\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 grid grid-cols-1 sm:grid-cols-2 gap-2 p-3 bg-gray-50 border rounded-md max-h-80 overflow-y-auto\",children:availableTests.map(test=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-3 p-2 rounded-md hover:bg-gray-100\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedTests.includes(test.id),onChange:()=>handleTestToggle(test.id),className:\"h-4 w-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-800\",children:test.name})]},test.id))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-6 mt-4 border-t flex-shrink-0\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200\",children:\"Abbrechen\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700\",children:\"Vorlage speichern\"})]})]})]})});};export default AddOrEditTemplateModal;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","XCircle","_ref","className","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","cx","cy","r","x1","y1","x2","y2","AddOrEditTemplateModal","_ref2","isOpen","onClose","onSave","availableTests","editingTemplate","name","setName","selectedTests","setSelectedTests","tests","handleTestToggle","testId","prev","includes","filter","id","handleSubmit","e","preventDefault","trim","alert","saveData","inputStyle","onClick","onSubmit","htmlFor","type","value","onChange","target","required","placeholder","map","test","checked"],"sources":["/Users/julianrogowski/Documents/Visual Code/patientenverwaltung-app/src/components/AddOrEditTemplateModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst XCircle = ({ className = \"w-6 h-6\" }) => (<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line><line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line></svg>);\n\nconst AddOrEditTemplateModal = ({ isOpen, onClose, onSave, availableTests, editingTemplate }) => {\n    const [name, setName] = useState('');\n    const [selectedTests, setSelectedTests] = useState([]);\n\n    useEffect(() => {\n        if (editingTemplate) {\n            setName(editingTemplate.name || '');\n            setSelectedTests(editingTemplate.tests || []);\n        } else {\n            setName('');\n            setSelectedTests([]);\n        }\n    }, [editingTemplate, isOpen]);\n\n    if (!isOpen) return null;\n\n    const handleTestToggle = (testId) => {\n        setSelectedTests(prev => \n            prev.includes(testId) ? prev.filter(id => id !== testId) : [...prev, testId]\n        );\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (!name.trim()) {\n            alert(\"Bitte geben Sie einen Namen für die Vorlage ein.\");\n            return;\n        }\n        \n        // Erstelle das Speicherobjekt ohne die ID\n        const saveData = {\n            name: name.trim(),\n            tests: selectedTests\n        };\n\n        // Füge die ID nur hinzu, wenn wir eine bestehende Vorlage bearbeiten\n        if (editingTemplate?.id) {\n            saveData.id = editingTemplate.id;\n        }\n\n        onSave(saveData);\n        onClose();\n    };\n\n\n    const inputStyle = \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm\";\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex justify-center items-center z-[99] p-4\">\n            <div className=\"bg-white p-6 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col\">\n                <div className=\"flex justify-between items-center mb-4 flex-shrink-0\">\n                    <h2 className=\"text-2xl font-semibold text-gray-800\">{editingTemplate ? 'Vorlage bearbeiten' : 'Neue Vorlage erstellen'}</h2>\n                    <button onClick={onClose} className=\"text-gray-500 hover:text-gray-700\">\n                        <XCircle className=\"w-7 h-7\" />\n                    </button>\n                </div>\n                <form onSubmit={handleSubmit} className=\"flex-grow overflow-y-auto pr-2\">\n                    <div className=\"space-y-4\">\n                        <div>\n                            <label htmlFor=\"template-name\" className=\"block text-sm font-medium text-gray-700\">Name der Vorlage</label>\n                            <input type=\"text\" id=\"template-name\" value={name} onChange={(e) => setName(e.target.value)} required className={inputStyle} placeholder=\"z.B. Eingangsdiagnostik\" />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-medium text-gray-700\">Tests auswählen</label>\n                            <div className=\"mt-2 grid grid-cols-1 sm:grid-cols-2 gap-2 p-3 bg-gray-50 border rounded-md max-h-80 overflow-y-auto\">\n                                {availableTests.map(test => (\n                                    <label key={test.id} className=\"flex items-center space-x-3 p-2 rounded-md hover:bg-gray-100\">\n                                        <input\n                                            type=\"checkbox\"\n                                            checked={selectedTests.includes(test.id)}\n                                            onChange={() => handleTestToggle(test.id)}\n                                            className=\"h-4 w-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500\"\n                                        />\n                                        <span className=\"text-sm text-gray-800\">{test.name}</span>\n                                    </label>\n                                ))}\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"flex justify-end space-x-3 pt-6 mt-4 border-t flex-shrink-0\">\n                        <button type=\"button\" onClick={onClose} className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200\">Abbrechen</button>\n                        <button type=\"submit\" className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700\">Vorlage speichern</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default AddOrEditTemplateModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}